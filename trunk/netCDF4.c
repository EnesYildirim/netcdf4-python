/* Generated by Cython 0.9.8.1.1 on Thu May 28 10:44:26 2009 */

#define PY_SSIZE_T_CLEAN
#include "Python.h"
#include "structmember.h"
#ifndef PY_LONG_LONG
  #define PY_LONG_LONG LONG_LONG
#endif
#ifndef DL_EXPORT
  #define DL_EXPORT(t) t
#endif
#if PY_VERSION_HEX < 0x02040000
  #define METH_COEXIST 0
#endif
#if PY_VERSION_HEX < 0x02050000
  typedef int Py_ssize_t;
  #define PY_SSIZE_T_MAX INT_MAX
  #define PY_SSIZE_T_MIN INT_MIN
  #define PyInt_FromSsize_t(z) PyInt_FromLong(z)
  #define PyInt_AsSsize_t(o)   PyInt_AsLong(o)
  #define PyNumber_Index(o)    PyNumber_Int(o)
  #define PyIndex_Check(o)     PyNumber_Check(o)
#endif
#if PY_VERSION_HEX < 0x02060000
  #define Py_REFCNT(ob) (((PyObject*)(ob))->ob_refcnt)
  #define Py_TYPE(ob)   (((PyObject*)(ob))->ob_type)
  #define Py_SIZE(ob)   (((PyVarObject*)(ob))->ob_size)
  #define PyVarObject_HEAD_INIT(type, size) \
          PyObject_HEAD_INIT(type) size,
  #define PyType_Modified(t)

  typedef struct {
       void *buf;
       Py_ssize_t len;
       int readonly;
       const char *format;
       int ndim;
       Py_ssize_t *shape;
       Py_ssize_t *strides;
       Py_ssize_t *suboffsets;
       Py_ssize_t itemsize;
       void *internal;
  } Py_buffer;

  #define PyBUF_SIMPLE 0
  #define PyBUF_WRITABLE 0x0001
  #define PyBUF_LOCK 0x0002
  #define PyBUF_FORMAT 0x0004
  #define PyBUF_ND 0x0008
  #define PyBUF_STRIDES (0x0010 | PyBUF_ND)
  #define PyBUF_C_CONTIGUOUS (0x0020 | PyBUF_STRIDES)
  #define PyBUF_F_CONTIGUOUS (0x0040 | PyBUF_STRIDES)
  #define PyBUF_ANY_CONTIGUOUS (0x0080 | PyBUF_STRIDES)
  #define PyBUF_INDIRECT (0x0100 | PyBUF_STRIDES)

#endif
#if PY_MAJOR_VERSION < 3
  #define __Pyx_BUILTIN_MODULE_NAME "__builtin__"
#else
  #define __Pyx_BUILTIN_MODULE_NAME "builtins"
#endif
#if PY_MAJOR_VERSION >= 3
  #define Py_TPFLAGS_CHECKTYPES 0
  #define Py_TPFLAGS_HAVE_INDEX 0
#endif
#if PY_MAJOR_VERSION >= 3
  #define PyBaseString_Type            PyUnicode_Type
  #define PyString_Type                PyBytes_Type
  #define PyInt_Type                   PyLong_Type
  #define PyInt_Check(op)              PyLong_Check(op)
  #define PyInt_CheckExact(op)         PyLong_CheckExact(op)
  #define PyInt_FromString             PyLong_FromString
  #define PyInt_FromUnicode            PyLong_FromUnicode
  #define PyInt_FromLong               PyLong_FromLong
  #define PyInt_FromSize_t             PyLong_FromSize_t
  #define PyInt_FromSsize_t            PyLong_FromSsize_t
  #define PyInt_AsLong                 PyLong_AsLong
  #define PyInt_AS_LONG                PyLong_AS_LONG
  #define PyInt_AsSsize_t              PyLong_AsSsize_t
  #define PyInt_AsUnsignedLongMask     PyLong_AsUnsignedLongMask
  #define PyInt_AsUnsignedLongLongMask PyLong_AsUnsignedLongLongMask
  #define __Pyx_PyNumber_Divide(x,y)         PyNumber_TrueDivide(x,y)
#else
  #define __Pyx_PyNumber_Divide(x,y)         PyNumber_Divide(x,y)
  #define PyBytes_Type                 PyString_Type
#endif
#if PY_MAJOR_VERSION >= 3
  #define PyMethod_New(func, self, klass) PyInstanceMethod_New(func)
#endif
#if !defined(WIN32) && !defined(MS_WINDOWS)
  #ifndef __stdcall
    #define __stdcall
  #endif
  #ifndef __cdecl
    #define __cdecl
  #endif
#else
  #define _USE_MATH_DEFINES
#endif
#ifdef __cplusplus
#define __PYX_EXTERN_C extern "C"
#else
#define __PYX_EXTERN_C extern
#endif
#include <math.h>
#define __PYX_HAVE_API__netCDF4
#include "stdlib.h"
#include "netcdf.h"
#include "numpy/arrayobject.h"


#ifdef __GNUC__
#define INLINE __inline__
#elif _WIN32
#define INLINE __inline
#else
#define INLINE 
#endif

typedef struct {PyObject **p; char *s; long n; char is_unicode; char intern; char is_identifier;} __Pyx_StringTabEntry; /*proto*/



static int __pyx_skip_dispatch = 0;


/* Type Conversion Predeclarations */

#if PY_MAJOR_VERSION < 3
#define __Pyx_PyBytes_FromString PyString_FromString
#define __Pyx_PyBytes_AsString   PyString_AsString
#else
#define __Pyx_PyBytes_FromString PyBytes_FromString
#define __Pyx_PyBytes_AsString   PyBytes_AsString
#endif

#define __Pyx_PyBool_FromLong(b) ((b) ? (Py_INCREF(Py_True), Py_True) : (Py_INCREF(Py_False), Py_False))
static INLINE int __Pyx_PyObject_IsTrue(PyObject* x);
static INLINE PY_LONG_LONG __pyx_PyInt_AsLongLong(PyObject* x);
static INLINE unsigned PY_LONG_LONG __pyx_PyInt_AsUnsignedLongLong(PyObject* x);
static INLINE Py_ssize_t __pyx_PyIndex_AsSsize_t(PyObject* b);

#define __pyx_PyInt_AsLong(x) (PyInt_CheckExact(x) ? PyInt_AS_LONG(x) : PyInt_AsLong(x))
#define __pyx_PyFloat_AsDouble(x) (PyFloat_CheckExact(x) ? PyFloat_AS_DOUBLE(x) : PyFloat_AsDouble(x))

static INLINE unsigned char __pyx_PyInt_unsigned_char(PyObject* x);
static INLINE unsigned short __pyx_PyInt_unsigned_short(PyObject* x);
static INLINE char __pyx_PyInt_char(PyObject* x);
static INLINE short __pyx_PyInt_short(PyObject* x);
static INLINE int __pyx_PyInt_int(PyObject* x);
static INLINE long __pyx_PyInt_long(PyObject* x);
static INLINE signed char __pyx_PyInt_signed_char(PyObject* x);
static INLINE signed short __pyx_PyInt_signed_short(PyObject* x);
static INLINE signed int __pyx_PyInt_signed_int(PyObject* x);
static INLINE signed long __pyx_PyInt_signed_long(PyObject* x);
static INLINE long double __pyx_PyInt_long_double(PyObject* x);
#ifdef __GNUC__
/* Test for GCC > 2.95 */
#if __GNUC__ > 2 ||               (__GNUC__ == 2 && (__GNUC_MINOR__ > 95)) 
#define likely(x)   __builtin_expect(!!(x), 1)
#define unlikely(x) __builtin_expect(!!(x), 0)
#else /* __GNUC__ > 2 ... */
#define likely(x)   (x)
#define unlikely(x) (x)
#endif /* __GNUC__ > 2 ... */
#else /* __GNUC__ */
#define likely(x)   (x)
#define unlikely(x) (x)
#endif /* __GNUC__ */
    
static PyObject *__pyx_m;
static PyObject *__pyx_b;
static PyObject *__pyx_empty_tuple;
static int __pyx_lineno;
static int __pyx_clineno = 0;
static const char * __pyx_cfilenm= __FILE__;
static const char *__pyx_filename;
static const char **__pyx_f;

static char __pyx_mdoc[] = "\nIntroduction\n============\n\nPython interface to the netCDF version 4 library.  U{netCDF version 4 \n<http://www.unidata.ucar.edu/software/netcdf/netcdf-4>} has many features \nnot found in earlier versions of the library and is implemented on top of \nU{HDF5 <http://hdf.ncsa.uiuc.edu/HDF5>}. This module can read and write \nfiles in both the new netCDF 4 and the old netCDF 3 format, and can create \nfiles that are readable by HDF5 clients. The API modelled after \nU{Scientific.IO.NetCDF \n<http://dirac.cnrs-orleans.fr/plone/software/scientificpython/>}, and should be \nfamiliar to users of that module.\n\nMost new features of netCDF 4 are implemented, such as multiple\nunlimited dimensions, groups and zlib data compression.  All the new\nnumeric data types (such as 64 bit and unsigned integer types) are\nimplemented. Compound data types are supported, but variable length\ndata types (vlen, strings) are not, nor are the enum and opaque data\ntypes, mainly because they do not map easily onto any numpy data type. \n\nDownload \n========\n\n - U{Project page <http://code.google.com/p/netcdf4-python/>}.\n - U{Subversion repository <http://code.google.com/p/netcdf4-python/source>}.\n - U{Source tar.gz <http://code.google.com/p/netcdf4-python/downloads/list>}.\n\nRequires \n======== \n\n - numpy array module U{http://numpy.scipy.org}, version 1.2.1 or later.\n - The HDF5 C library version 1.8.2 or higher from U{ftp://ftp.hdfgroup.org/HDF5/current/src}.\n Be sure to build with 'C{--enable-hl --enable-shared}'.\n - The netCDF-4 C library from U{ftp://ftp.unidata.ucar.edu/pub/netcdf}.\n Version 4.0.1 or higher is required.\n Be sure to build with 'C{--enable-netcdf-4 --with-hdf5=$HDF5_DIR --enable-shared}',\n where C{$HDF5_DIR} is the directory where HDF5 was installed.\n To enable U{OPeNDAP<http://opendap.org>} support, build with 'C{--enable-dap}'.\n\n\nInstall\n=======\n\n - install the requisite python modules and C libraries (see above).\n - optionally, set the C{HDF5_DIR} environment variable to point to where HDF5\n is installed. (the libs in C{$HDF5_DIR/lib}, the headers in\n C{$HDF5_DIR/include}).\n - optionally, set the C{NETCDF4_DIR} environment variable to point to\n where the netCDF version 4 library and headers are installed.\n If C{HDF5_DIR} and C{NETCDF4_DIR} are not set, some standard\n locations will be searched.\n - if HDF5 was build with U{szip <http://hdf.ncsa.uiuc.edu/doc_resource/SZIP/>},\n you may also need to set the C{SZIP_DIR} \n environment variable to point to where szip is installed. Note that\n netCDF 4.0 does not yet support szip compression.\n - run 'python setup.py install'\n - run some of the tests in the 'test' directory.\n\nTutorial\n========\n\n1) Creating/Opening/Closing a netCDF file\n-----------------------------------------\n\nTo create a netCDF file from python, you simply call the L{Dataset}\nconstructor. This is also the method used to open an existing netCDF\nfile.  If the file is open for write access (C{w, r+} or C{a}), you may\nwrite any type of data including new dimensions, groups, variables and\nattributes.  netCDF files come in several flavors (C{NETCDF3_CLASSIC,\nNETCDF3_64BIT, NETCDF4_CLASSIC}, and C{NETCDF4}). The first two flavors\nare supported by version 3 of the netCDF library. C{NETCDF4_CLASSIC}\nfiles use the version 4 disk format (HDF5), but do not use any features\nnot found in the version 3 API. They can be read by netCDF 3 clients\nonly if they have been relinked against the netCDF 4 library. They can\nalso be read by HDF5 clients. C{NETCDF4} files use the version 4 disk\nformat (HDF5) and use the new features of the version 4 API.  The\nC{netCDF4} module can read and write files in any of these formats. When\ncreating a new file, the format may be specified using the C{format}\nkeyword in the C{Dataset} constructor.  The default format is\nC{NETCDF4}. To see how a given file is formatted, you can examine the\nC{file_format} L{Dataset} attribute.  Closing the netCDF file is\naccomplished via the L{close<Dataset.close>} method of the L{Dataset}\ninstance.\n\nHere's an example:\n\n>>> from netCDF4 import Dataset\n>>> rootgrp = Dataset('test.nc', 'w', format='NETCDF4')\n>>> print rootgrp.file_format\nNETCDF4\n>>>\n>>> rootgrp.close()\n\nRemote U{OPeNDAP<http://opendap.org>}-hosted datasets can be accessed for\nreading over http if a URL is provided to the L{Dataset} constructor instead of a \nfilename.  However, this requires that the netCDF library be built with\nOPenDAP support, via the C{--enable-dap} configure option (added in\nversion 4.0.1).\n            \n\n2) Groups in a netCDF file\n--------------------------\n\nnetCDF version 4 added support for organizing data in hierarchical\ngroups, which are analagous to directories in a filesystem. Groups serve\nas containers for variables, dimensions and attributes, as well as other\ngroups.  A C{netCDF4.Dataset} defines creates a special group, called\nthe 'root group', which is similar to the root directory in a unix\nfilesystem.  To create L{Group} instances, use the\nL{createGroup<Dataset.createGroup>} method of a L{Dataset} or L{Group}\ninstance. L{createGroup<Dataset.createGroup>} takes a single argument, a\npython string containing the name of the new group. The new L{Group}\ninstances contained within the root group can be accessed by name using\nthe C{groups} dictionary attribute of the L{Dataset} instance.  Only\nC{NETCDF4} formatted files support Groups, if you try to create a Group\nin a netCDF 3 file you will get an error message.\n\n>>> rootgrp = Dataset('test.nc', 'a')\n>>> fcstgrp = rootgrp.createGroup('forecasts')\n>>> analgrp = rootgrp.createGroup('analyses')\n>>> print rootgrp.groups\n{'analyses': <netCDF4._Group object at 0x24a54c30>, \n 'forecasts': <netCDF4._Group object at 0x24a54bd0>}\n>>>\n\nGroups can exist within groups in a L{Dataset}, just as directories\nexist within directories in a unix filesystem. Each L{Group} instance\nhas a C{'groups'} attribute dictionary containing all of the group\ninstances contained within that group. Each L{Group} instance also has a\nC{'path'} attribute that contains a simulated unix directory path to\nthat group. \n\nHere's an example that shows how to navigate all the groups in a\nL{Dataset}. The function C{walktree} is a Python generator that is used\nto walk the directory tree.\n\n>>> fcstgrp1 = fcstgrp.createGroup('model1')\n>>> fcstgrp2 = fcstgrp.createGroup('model2')\n>>> def walktree(top):\n>>>     values = top.groups.values()\n>>>     yield values\n>>>     for value in top.groups.values():\n>>>         for children in walktree(value):\n>>>             yield children\n>>> print rootgrp.path, rootgrp\n>>> for children in walktree(rootgrp):\n>>>      for child in children:\n>>>          print child.path, child\n/ <netCDF4.Dataset object at 0x24a54c00>\n/analyses <netCDF4.Group object at 0x24a54c30>\n/forecasts <netCDF4.Group object at 0x24a54bd0>\n/forecasts/model2 <netCDF4.Group object at 0x24a54cc0>\n/forecasts/model1 <netCDF4.Group object at 0x24a54c60>\n>>>\n\n3) Dimensions in a netCDF file\n------------------------------\n\nnetCDF defines the sizes of all variables in terms of dimensions, so\nbefore any variables can be created the dimensions they use must be\ncreated first. A special case, not often used in practice, is that of a\nscalar variable, which has no dimensions. A dimension is created using\nthe L{createDimension<Dataset.createDimension>} method of a L{Dataset}\nor L{Group} instance. A Python string is used to set the name of the\ndimension, and an integer value is used to set the size. To create an\nunlimited dimension (a dimension that can be appended to), the size\nvalue is set to C{None}. In this example, there both the C{time} and\nC{level} dimensions are unlimited.  Having more than one unlimited\ndimension is a new netCDF 4 feature, in netCDF 3 files there may be only\none, and it must be the first (leftmost) dimension of the variable.\n\n>>> rootgrp.createDimension('level', None)\n>>> rootgrp.createDimension('time', None)\n>>> rootgrp.createDimension('lat', 73)\n>>> rootgrp.createDimension('lon', 144)\n            \n\nAll of the L{Dimension} instances are stored in a python dictionary.\n\n>>> print rootgrp.dimensions\n{'lat': <netCDF4.Dimension object at 0x24a5f7b0>, \n 'time': <netCDF4.Dimension object at 0x24a5f788>, \n 'lon': <netCDF4.Dimension object at 0x24a5f7d8>, \n 'level': <netCDF4.Dimension object at 0x24a5f760>}\n>>>\n\nCalling the python C{len} function with a L{Dimension} instance returns\nthe current size of that dimension. The\nL{isunlimited<Dimension.isunlimited>} method of a L{Dimension} instance\ncan be used to determine if the dimensions is unlimited, or appendable.\n\n>>> for dimname, dimobj in rootgrp.dimensions.iteritems():\n>>>    print dimname, len(dimobj), dimobj.isunlimited()\nlat 73 False\ntime 0 True\nlon 144 False\nlevel 0 True\n>>>\n\nL{Dimension} names can be changed using the\nL{renameDimension<Dataset.renameDimension>} method of a L{Dataset} or\nL{Group} instance.\n            \n4) Variables in a netCDF file\n-----------------------------\n\nnetCDF variables behave much like python multidimensional array objects\nsupplied by the U{numpy module <http://numpy.scipy.org>}. However,\nunlike numpy arrays, netCDF4 variables can be appended to along one or\nmore 'unlimited' dimensions. To create a netCDF variable, use the\nL{createVariable<Dataset.createVariable>} method of a L{Dataset} or\nL{Group} instance. The L{createVariable<Dataset.createVariable>} method\nhas two mandatory arguments, the variable name (a Python string), and\nthe variable datatype. The variable's dimensions are given by a tuple\ncontaining the dimension names (defined previously with\nL{createDimension<Dataset.createDimension>}). To create a scalar\nvariable, simply leave out the dimensions keyword. The variable\nprimitive datatypes correspond to the dtype attribute of a numpy array. \nYou can specify the datatype as a numpy dtype object, or anything that\ncan be converted to a numpy dtype object.  Valid datatype specifiers\ninclude: C{'f4'} (32-bit floating point), C{'f8'} (64-bit floating\npoint), C{'i4'} (32-bit signed integer), C{'i2'} (16-bit signed\ninteger), C{'i8'} (64-bit singed integer), C{'i1'} (8-bit signed\ninteger), C{'u1'} (8-bit unsigned integer), C{'u2'} (16-bit unsigned\ninteger), C{'u4'} (32-bit unsigned integer), C{'u8'} (64-bit unsigned\ninteger), or C{'S1'} (single-character string).  The old Numeric\nsingle-character typecodes (C{'f'},C{'d'},C{'h'},\nC{'s'},C{'b'},C{'B'},C{'c'},C{'i'},C{'l'}), corresponding to\n(C{'f4'},C{'f8'},C{'i2'},C{'i2'},C{'i1'},C{'i1'},C{'S1'},C{'i4'},C{'i4'}),\nwill also work. The unsigned integer types and the 64-bit integer type\ncan only be used if the file format is C{NETCDF4}.\n\nThe dimensions themselves are usually also defined as variables, called\ncoordinate variables. The L{createVariable<Dataset.createVariable>}\nmethod returns an instance of the L{Variable} class whose methods can be\nused later to access and set variable data and attributes.\n\n>>> times = rootgrp.createVariable('time','f8',('time',))\n>>> levels = rootgrp.createVariable('level','i4',('level',))\n>>> latitudes = rootgrp.createVariable('latitude','f4',('lat',))\n>>> longitudes = rootgrp.createVariable('longitude','f4',('lon',))\n>>> # two dimensions unlimited.\n>>> temp = rootgrp.createVariable('temp','f4',('time','level','lat','lon',))\n\nAll of the variables in the L{Dataset} or L{Group} are stored in a\nPython dictionary, in the same way as the dimensions:\n\n>>> print rootgrp.variables\n{'temp': <netCDF4.Variable object at 0x24a61068>,\n 'level': <netCDF4.Variable object at 0.35f0f80>, \n 'longitude': <netCDF4.Variable object at 0x24a61030>,\n 'pressure': <netCDF4.Variable object at 0x24a610a0>, \n 'time': <netCDF4.Variable object at 02x45f0.4.58>, \n 'latitude': <netCDF4.Variable object at 0.3f0fb8>}\n>>>\n\nL{Variable} names can be changed using the\nL{renameVariable<Dataset.renameVariable>} method of a L{Dataset}\ninstance.\n            \n\n5) Attributes in a netCDF file\n------------------------------\n\nThere are two types of attributes in a netCDF file, global and variable. \nGlobal attributes provide information about a group, or the entire\ndataset, as a whole. L{Variable} attributes provide information about\none of the variables in a group. Global attributes are set by assigning\nvalues to L{Dataset} or L{Group} instance variables. L{Variable}\nattributes are set by assigning values to L{Variable} instances\nvariables. Attributes can be strings, numbers or sequences. Returning to\nour example,\n\n>>> import time\n>>> rootgrp.description = 'bogus example script'\n>>> rootgrp.history = 'Created ' + time.ctime(time.time())\n>>> rootgrp.source = 'netCDF4 python module tutorial'\n>>> latitudes.units = 'degrees north'\n>>> longitudes.units = 'degrees east'\n>>> pressure.units = 'hPa'\n>>> temp.units = 'K'\n>>> times.units = 'hours since 0001-01-01 00:00:00.0'\n>>> times.calendar = 'gregorian'\n\nThe L{ncattrs<Dataset.ncattrs>} method of a L{Dataset}, L{Group} or\nL{Variable} instance can be used to retrieve the names of all the netCDF\nattributes. This method is provided as a convenience, since using the\nbuilt-in C{dir} Python function will return a bunch of private methods\nand attributes that cannot (or should not) be modified by the user.\n\n>>> for name in rootgrp.ncattrs():\n>>>     print 'Global attr', name, '=', getattr(rootgrp,name)\nGlobal attr description = bogus example script\nGlobal attr history = Created Mon Nov  7 10.30:56 2005\nGlobal attr source = netCDF4 python module tutorial\n\nThe C{__dict__} attribute of a L{Dataset}, L{Group} or L{Variable} \ninstance provides all the netCDF attribute name/value pairs in a python \ndictionary:\n\n>>> print rootgrp.__dict__\n{'source': 'netCDF4 python module tutorial',\n'description': 'bogus example script',\n'history': 'Created Mon Nov  7 10.30:56 2005'}\n\nAttributes can be deleted from a netCDF L{Dataset}, L{Group} or\nL{Variable} using the python C{del} statement (i.e. C{del grp.foo}\nremoves the attribute C{foo} the the group C{grp}).\n\n6) Writing data to and retrieving data from a netCDF variable\n-------------------------------------------------------------\n\nNow that you have a netCDF L{Variable} instance, how do you put data\ninto it? You can just treat it like an array and assign data to a slice.\n\n>>> import numpy \n>>> lats =  numpy.arange(-90,91,2.5)\n>>> lons =  numpy.arange(-180,180,2.5)\n>>> latitudes[:] = lats\n>>> longitudes[:] = lons\n>>> print 'latitudes =\\n',latitudes[:]\nlatitudes =\n[-90.  -87.5 -85.  -82.5 -80.  -77.5 -75.  -72.5 -70.  -67.5 -65.  -62.5\n -60.  -57.5 -55.  -52.5 -50.  -47.5 -45.  -42.5 -40.  -37.5 -35.  -32.5\n -30.  -27.5 -25.  -22.5 -20.  -17.5 -15.  -12.5 -10.   -7.5  -5.   -2.5\n   0.    2.5   5.    7.5  10.   12.5  15.   17.5  20.   22.5  25.   27.5\n  30.   32.5  35.   37.5  40.   42.5  45.   47.5  50.   52.5  55.   57.5\n  60.   62.5  65.   67.5  70.   72.5  75.   77.5  80.   82.5  85.   87.5\n  90. ]\n>>>\n\nUnlike NumPy's array objects, netCDF L{Variable} \nobjects with unlimited dimensions will grow along those dimensions if you \nassign data outside the currently defined range of indices.\n\n>>> # append along two unlimited dimensions by assigning to slice.\n>>> nlats = len(rootgrp.dimensions['lat'])\n>>> nlons = len(rootgrp.dimensions['lon'])\n>>> print 'temp shape before adding data = ',temp.shape\ntemp shape before adding data =  (0, 0, 73, 144)\n>>>\n>>> from numpy.random import uniform\n>>> temp[0:5,0:10,:,:] = uniform(size=(5,10,nlats,nlons))\n>>> print 'temp shape after adding data = ',temp.shape\ntemp shape after adding data =  (5, 10, 73, 144)\n>>>\n>>> # levels have grown, but no values yet assigned.\n>>> print 'levels shape after adding pressure data = ',levels.shape\nlevels shape after adding pressure data =  (10,)\n>>>\n\nNote that the size of the levels variable grows when data is appended\nalong the C{level} dimension of the variable C{temp}, even though no\ndata has yet been assigned to levels.\n\n>>> # now, assign data to levels dimension variable.\n>>> levels[:] =  [1000.,850.,700.,500.,300.,250.,200.,150.,100.,50.]\n\nHowever, that there are some differences between NumPy and netCDF \nvariable slicing rules. Slices behave as usual, being specified as a \nC{start:stop:step} triplet. Using a scalar integer index C{i} takes the ith \nelement and reduces the rank of the output array by one. Boolean array and\ninteger sequence indexing behaves differently for netCDF variables\nthan for numpy arrays.  Only 1-d boolean arrays and integer sequences are\nallowed, and these indices work independently along each dimension (similar\nto the way vector subscripts work in fortran).  This means that\n\n>>> temp[0, 0, [0,1,2,3], [0,1,2,3]]\n\nreturns an array of shape (4,4) when slicing a netCDF variable, but for a\nnumpy array it returns an array of shape (4,).  \nSimilarly, a netCDF variable of shape C{(2,3,4,5)} indexed\nwith C{[0, array([True, False, True]), array([False, True, True, True]), :]}\nwould return a C{(2, 3, 5)} array. In NumPy, this would raise an error since\nit would be equivalent to C{[0, [0,1], [1,2,3], :]}. While this behaviour can\ncause some confusion for those used to NumPy's 'fancy indexing' rules, it\nprovides a very powerful way to extract data from multidimensional netCDF\nvariables by using logical operations on the dimension arrays to create slices.\n\nFor example, \n\n>>> tempdat = temp[10:20:2, [1,3,6], lats>0, lons>0]\n\nwill extract time indices 10,12,14,16 and 18, pressure levels\n850, 500 and 200 hPa, all Northern Hemisphere latitudes and Eastern\nHemisphere longitudes, resulting in a numpy array of shape  (5, 3, 36, 71).\n\n>>> print 'shape of fancy temp slice = ',tempdat.shape\nshape of fancy temp slice =  (5, 3, 36, 71)\n>>>\n\nTime coordinate values pose a special challenge to netCDF users.  Most\nmetadata standards (such as CF and COARDS) specify that time should be\nmeasure relative to a fixed date using a certain calendar, with units\nspecified like C{hours since YY:MM:DD hh-mm-ss}.  These units can be\nawkward to deal with, without a utility to convert the values to and\nfrom calendar dates.  The functione called L{num2date} and L{date2num} are\nprovided with this package to do just that.  Here's an example of how they\ncan be used:\n\n>>> # fill in times.\n>>> from datetime import datetime, timedelta\n>>> from netCDF4 import num2date, date2num\n>>> dates = [datetime(2001,3,1)+n*timedelta(hours=12) for n in range(temp.shape[0])]\n>>> times[:] = date2num(dates,units=times.units,calendar=times.calendar)\n>>> print 'time values (in units %s): ' % times.units+'\\n',times[:]\ntime values (in units hours since January 1, 0001): \n[ 17533056.  17533068.  17533080.  17533092.  17533104.]\n>>>\n>>> dates = num2date(times[:],units=times.units,calendar=times.calendar)\n>>> print 'dates corresponding to time values:\\n',dates\ndates corresponding to time values:\n[2001-03-01 00:00:00 2001-03-01 12:00:00 2001-03-02 00:00:00\n 2001-03-02 12:00:00 2001-03-03 00:00:00]\n>>>\n\nL{num2date} converts numeric values of time in the specified C{units}\nand C{calendar} to datetime objects, and L{date2num} does the reverse.\nAll the calendars currently defined in the U{CF metadata convention \n<http://cf-pcmdi.llnl.gov/documents/cf-conventions/>} are supported.\nA function called L{date2index} is also provided which returns the indices\nof a netCDF time variable corresponding to a sequence of datetime instances.\n\n\n7) Reading data from a multi-file netCDF dataset.\n-------------------------------------------------\n\nIf you want to read data from a variable that spans multiple netCDF files,\nyou can use the L{MFDataset} class to read the data as if it were \ncontained in a single file. Instead of using a single filename to create\na L{Dataset} instance, create a L{MFDataset} instance with either a list\nof filenames, or a string with a wildcard (which is then converted to\na sorted list of files using the python glob module).\nVariables in the list of files that share the same unlimited \ndimension are aggregated together, and can be sliced across multiple\nfiles.  To illustrate this, let's first create a bunch of netCDF files with\nthe same variable (with the same unlimited dimension).  The files\nmust in be in C{NETCDF3_64BIT}, C{NETCDF3_CLASSIC} or \nC{NETCDF4_CLASSIC format} (C{NETCDF4} formatted multi-file\ndatasets are not supported).\n\n>>> for nfile in range(10):\n>>>     f = Dataset('mftest'+repr(nfile)+'.nc','w',format='NETCDF4_CLASSIC')\n>>>     f.createDimension('x',None)\n>>>     x = f.createVariable('x','i',('x',))\n>>>     x[0:10] = numpy.arange(nfile*10,10*(nfile+1))\n>>>     f.close()\n\nNow read all the files back in at once with L{MFDataset}\n\n>>> from netCDF4 import MFDataset\n>>> f = MFDataset('mftest*nc')\n>>> print f.variables['x'][:]\n[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24\n 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49\n 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74\n 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99]\n>>>\n\nNote that MFDataset can only be used to read, not write, multi-file\ndatasets. \n\n8) Efficient compression of netCDF variables\n--------------------------------------------\n\nData stored in netCDF 4 L{Variable} objects can be compressed and\ndecompressed on the fly. The parameters for the compression are\ndetermined by the C{zlib}, C{complevel} and C{shuffle} keyword arguments\nto the L{createVariable<Dataset.createVariable>} method. To turn on\ncompression, set C{zlib=True}.  The C{complevel} keyword regulates the\nspeed and efficiency of the compression (1 being fastest, but lowest\ncompression ratio, 9 being slowest but best compression ratio). The\ndefault value of C{complevel} is 6. Setting C{shuffle=False} will turn\noff the HDF5 shuffle filter, which de-interlaces a block of data before\ncompression by reordering the bytes.  The shuffle filter can\nsignificantly improve compression ratios, and is on by default.  Setting\nC{fletcher32} keyword argument to\nL{createVariable<Dataset.createVariable>} to C{True} (it's C{False} by\ndefault) enables the Fletcher32 checksum algorithm for error detection.\nIt's also possible to set the HDF5 chunking parameters and endian-ness\nof the binary data stored in the HDF5 file with the C{chunksizes}\nand C{endian} keyword arguments to\nL{createVariable<Dataset.createVariable>}.  These keyword arguments only\nare relevant for C{NETCDF4} and C{NETCDF4_CLASSIC} files (where the\nunderlying file format is HDF5) and are silently ignored if the file\nformat is C{NETCDF3_CLASSIC} or C{NETCDF3_64BIT},\n\nIf your data only has a certain number of digits of precision (say for\nexample, it is temperature data that was measured with a precision of\n0.1 degrees), you can dramatically improve zlib compression by\nquantizing (or truncating) the data using the C{least_significant_digit}\nkeyword argument to L{createVariable<Dataset.createVariable>}. The least\nsignificant digit is the power of ten of the smallest decimal place in\nthe data that is a reliable value. For example if the data has a\nprecision of 0.1, then setting C{least_significant_digit=1} will cause\ndata the data to be quantized using {numpy.around(scale*data)/scale}, where\nscale = 2**bits, and bits is determined so that a precision of 0.1 is\nretained (in this case bits=4).  Effectively, this makes the compression\n'lossy' instead of 'lossless', that is some precision in the data is\nsacrificed for the sake of disk space.\n\nIn our example, try replacing the line\n\n>>> temp = rootgrp.createVariable('temp','f4',('time','level','lat','lon',))\n\nwith\n\n>>> temp = dataset.createVariable('temp','f4',('time','level','lat','lon',),zlib=True)\n\nand then\n\n>>> temp = dataset.createVariable('temp','f4',('time','level','lat','lon',),zlib=True,least_significant_digit=3)\n\nand see how much smaller the resulting files are.\n\n9) Beyond homogenous arrays of a fixed type - compound data types\n-----------------------------------------------------------------\n\nCompound data types map directly to numpy structured (a.k.a 'record'\narrays).  Structured arrays are akin to C structs, or derived types\nin Fortran. They allow for the construction of table-like structures\ncomposed of combinations of other data types, including other \ncompound types. Compound types might be useful for representing multiple\nparameter values at each point on a grid, or at each time and space\nlocation for scattered (point) data. You can then access all the\ninformation for a point by reading one variable, instead of reading\ndifferent parameters from different variables.  Compound data types\nare created from the corresponding numpy data type using the \nL{createCompoundType<Dataset.createCompoundType>} method of a L{Dataset} or L{Group} instance.\nSince there is no native complex data type in netcdf, compound types are handy\nfor storing numpy complex arrays.  Here's an example:\n\n>>> f = Dataset('complex.nc','w')\n>>> size = 3 # length of 1-d complex array\n>>> # create sample complex data.\n>>> datac = numpy.exp(1j*(1.+numpy.linspace(0, numpy.pi, size)))\n>>> # create complex128 compound data type.\n>>> complex128 = numpy.dtype([('real',numpy.float64),('imag',numpy.float64)])\n>>> complex128_t = f.createCompoundType(complex128,'complex128')\n>>> # create a variable with this data type, write some data to it.\n>>> f.createDimension('phony_dim',None)\n>>> v = f.createVariable('phony_var',complex128_t,'phony_dim')\n>>> data = numpy.empty(size,complex128)\n>>> data['real'] = datac.real; data['imag'] = datac.imag\n>>> v[:] = data\n>>> # close and reopen the file, check the contents.\n>>> f.close(); f = Dataset('complex.nc')\n>>> v = f.variables['phony_var']\n>>> datain = v[:] # read in all the data into a numpy structured array\n>>> # create an empty numpy complex array\n>>> datac2 = numpy.empty(datain.shape,numpy.complex128)\n>>> # .. fill it with contents of structured array.\n>>> datac2.real = datain['real']; datac2.imag = datain['imag']\n>>> print datac.dtype,datac\ncomplex128 [ 0.54030231+0.84147098j -0.84147098+0.54030231j  -0.54030231-0.84147098j]\n>>>\n>>> print datac2.dtype,datac2\ncomplex128 [ 0.54030231+0.84147098j -0.84147098+0.54030231j  -0.54030231-0.84147098j]\n>>>\n\nCompound types can be nested, but you must create the 'inner'\nones first. Here's a more complex example that usesa nested compound type to\nrepresent meteorological observations at stations:\n\n>>> # compound type example.\n>>> from netCDF4 import chartostring, stringtoarr\n>>> f = Dataset('compound_example.nc','w') # create a new dataset.\n>>> # create an unlimited  dimension call 'station'\n>>> f.createDimension('station',None)\n>>> # define a compound data type (can contain arrays, or nested compound types).\n>>> NUMCHARS = 80 # number of characters to use in fixed-length strings.\n>>> winddtype = numpy.dtype([('speed','f4'),('direction','i4')])\n>>> statdtype = numpy.dtype([('latitude', 'f4'), ('longitude', 'f4'),\n...                          ('surface_wind',winddtype),\n...                          ('temp_sounding','f4',10),('press_sounding','i4',10),\n...                          ('location_name','S1',NUMCHARS)])\n>>> # use this data type definitions to create a compound data types\n>>> # called using the createCompoundType Dataset method.\n>>> # create a compound type for vector wind which will be nested inside\n>>> # the station data type. This must be done first!\n>>> wind_data_t = f.createCompoundType(winddtype,'wind_data')\n>>> # now that wind_data_t is defined, create the station data type.\n>>> station_data_t = f.createCompoundType(statdtype,'station_data')\n>>> # create nested compound data types to hold the units variable attribute.\n>>> winddtype_units = numpy.dtype([('speed','S1',NUMCHARS),('direction','S1',NUMCHARS)])\n>>> statdtype_units = numpy.dtype([('latitude', 'S1',NUMCHARS), ('longitude', 'S1',NUMCHARS),\n...                                ('surface_wind',winddtype_units),\n...                                ('temp_sounding','S1',NUMCHARS),\n...                                ('location_name','S1',NUMCHARS),\n...                                ('press_sounding','S1',NUMCHARS)])\n>>> # create the wind_data_units type first, since it will nested inside\n>>> # the station_data_units data type.\n>>> wind_data_units_t = f.createCompoundType(winddtype_units,'wind_data_units')\n>>> station_data_units_t =\n... f.createCompoundType(statdtype_units,'station_data_units')\n>>> # create a variable of of type 'station_data_t'\n>>> statdat = f.createVariable('station_obs', station_data_t, ('station',))\n>>> # create a numpy structured array, assign data to it.\n>>> data = numpy.empty(1,station_data_t)\n>>> data['latitude'] = 40.\n>>> data['longitude'] = -105.\n>>> data['surface_wind']['speed'] = 12.5\n>>> data['surface_wind']['direction'] = 270\n>>> data['temp_sounding'] = (280.3,272.,270.,269.,266.,258.,254.1,250.,245.5,240.)\n>>> data['press_sounding'] = range(800,300,-50)\n>>> # variable-length string datatypes are not supported, so\n>>> # to store strings in a compound data type, each string must be \n>>> # stored as fixed-size (in this case 80) array of characters.\n>>> data['location_name'] = stringtoarr('Boulder, Colorado, USA',NUMCHARS)\n>>> # assign structured array to variable slice.\n>>> statdat[0] = data\n>>> # or just assign a tuple of values to variable slice\n>>> # (will automatically be converted to a structured array).\n>>> statdat[1] = (40.78,-73.99,(-12.5,90),\n...              (290.2,282.5,279.,277.9,276.,266.,264.1,260.,255.5,243.),\n...              range(900,400,-50),stringtoarr('New York, New York, USA',NUMCHARS))\n\nAttributes cannot be assigned directly to compound type members,\nHowever, a compound data type can be created to hold an attribute for\neach member. In this example we have created the compound types\nC{wind_data_units_t} and C{station_data_units_t} to hold the units \nattribute for each member of the nested compound type C{station_data_t}.\nNow we can fill a numpy array with strings describing the units, then\nassign that array to the C{units} attribute of the station data variable.\nNote again that since there is no fixed-length string type in netCDF,\nwe have to use arrays of characters to represent strings.\n\n>>> windunits = numpy.empty(1,winddtype_units)\n>>> stationobs_units = numpy.empty(1,statdtype_units)\n>>> windunits['speed'] = stringtoarr('m/s',NUMCHARS)\n>>> windunits['direction'] = stringtoarr('degrees',NUMCHARS)\n>>> stationobs_units['latitude'] = stringtoarr('degrees north',NUMCHARS)\n>>> stationobs_units['longitude'] = stringtoarr('degrees west',NUMCHARS)\n>>> stationobs_units['surface_wind'] = windunits\n>>> stationobs_units['location_name'] = stringtoarr('None', NUMCHARS)\n>>> stationobs_units['temp_sounding'] = stringtoarr('Kelvin',NUMCHARS)\n>>> stationobs_units['press_sounding'] = stringtoarr('hPa',NUMCHARS)\n>>> statdat.units = stationobs_units\n\nNow let's close the file, reopen it, and see what's in there.\nThe command line utility C{ncdump} can also be used to get a \nquick look at the contents of the file.\n\n>>> # close and reopen the file.\n>>> f.close(); f = Dataset('compound_example.nc')\n>>> statdat = f.variables['station_obs']\n>>> # print out data in variable.\n>>> # (also, try 'ncdump compound_example.nc' on the command line\n>>> #  to see what's in the file)\n>>> print 'data in a variable of compound type:'\n>>> print '----'\n>>> for data in statdat[:]:\n>>>     for name in statdat.dtype.names:\n>>>         if data[name].dtype.kind == 'S': # a string\n>>>             # convert array of characters back to a string for display.\n>>>             print name,': value =',chartostring(data[name]),\n...             ': units=',chartostring(statdat.units[name])\n>>>         elif data[name].dtype.kind == 'V': # a nested compound type\n>>>             print name,data[name].dtype.names,': value=',data[name],': units=',\n...             tuple([''.join(u.tolist()) for u in statdat.units[name]])\n>>>         else: # a numeric type.\n>>>             print name,': value=',data[name],': units=',chartostring(statdat.units[name])\n>>>     print '----'\ndata in a variable of compound type:\n----\nlatitude : value= 40.0 : units= degrees north\nlongitude : value= -105.0 : units= degrees west\nsurface_wind ('speed', 'direction') : value= (12.5, 270) : units= ('m/s', 'degrees')\ntemp_sounding : value= [280.3 272. 270. 269. 266. 258. 254.1 250.245.5 240.] : units= Kelvin\npress_sounding : value= [800 750 700 650 600 550 500 450 400 350] : units= hPa\nlocation_name : value = Boulder, Colorado, USA : units= None\n----\nlatitude : value= 40.78 : units= degrees north\nlongitude : value= -73.99 : units= degrees west\nsurface_wind ('speed', 'direction') : value= (-12.5, 90) : units= ('m/s','degrees')\ntemp_sounding : value= [290.2 282.5 279. 277.9 276. 266. 264.1 260. 255.5 243.] : units= Kelvin\npress_sounding : value= [900 850 800 750 700 650 600 550 500 450] : units= hPa\nlocation_name : value = New York, New York, USA : units= None\n----\n>>>\n>>> f.close()\n\nAll of the code in this tutorial is available in C{examples/tutorial.py},\nUnit tests are in the C{test} directory.\n\n@contact: Jeffrey Whitaker <jeffrey.s.whitaker@noaa.gov>\n\n@copyright: 2008 by Jeffrey Whitaker.\n\n@license: Permission to use, copy, modify, and distribute this software and\nits documentation for any purpose and without fee is hereby granted,\nprovided that the above copyright notice appear in all copies and that\nboth the copyright notice and this permission notice appear in\nsupporting documentation.\nTHE AUTHOR DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE,\nINCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO\nEVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, INDIRECT OR\nCONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF\nUSE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.";

static INLINE void __Pyx_RaiseArgtupleTooLong(Py_ssize_t num_expected, Py_ssize_t num_found); /*proto*/

static int __Pyx_SplitKeywords(PyObject **kwds, char *kwd_list[],     PyObject **kwds2, char rqd_kwds[]); /*proto*/

static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed, char *name, int exact); /*proto*/

static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list); /*proto*/

static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name); /*proto*/

static INLINE PyObject *__Pyx_GetItemInt(PyObject *o, Py_ssize_t i, int is_unsigned) {
    PyObject *r;
    if (PyList_CheckExact(o) && 0 <= i && i < PyList_GET_SIZE(o)) {
        r = PyList_GET_ITEM(o, i);
        Py_INCREF(r);
    }
    else if (PyTuple_CheckExact(o) && 0 <= i && i < PyTuple_GET_SIZE(o)) {
        r = PyTuple_GET_ITEM(o, i);
        Py_INCREF(r);
    }
    else if (Py_TYPE(o)->tp_as_sequence && Py_TYPE(o)->tp_as_sequence->sq_item && (likely(i >= 0) || !is_unsigned))
        r = PySequence_GetItem(o, i);
    else {
        PyObject *j = (likely(i >= 0) || !is_unsigned) ? PyInt_FromLong(i) : PyLong_FromUnsignedLongLong((sizeof(unsigned long long) > sizeof(Py_ssize_t) ? (1ULL << (sizeof(Py_ssize_t)*8)) : 0) + i);
        if (!j)
            return 0;
        r = PyObject_GetItem(o, j);
        Py_DECREF(j);
    }
    return r;
}

static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb); /*proto*/

static PyObject *__Pyx_UnpackItem(PyObject *, Py_ssize_t index); /*proto*/
static int __Pyx_EndUnpack(PyObject *); /*proto*/

static PyObject *__Pyx_CreateClass(PyObject *bases, PyObject *dict, PyObject *name, char *modname); /*proto*/

static INLINE PyObject* __Pyx_PyObject_Append(PyObject* L, PyObject* x) {
    if (likely(PyList_CheckExact(L))) {
        if (PyList_Append(L, x) < 0) return NULL;
        Py_INCREF(Py_None);
        return Py_None; // this is just to have an accurate signature
    }
    else {
        return PyObject_CallMethod(L, "append", "(O)", x);
    }
}

static int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type); /*proto*/

static int __Pyx_GetException(PyObject **type, PyObject **value, PyObject **tb); /*proto*/

static int __Pyx_Print(PyObject *, int); /*proto*/
#if PY_MAJOR_VERSION >= 3
static PyObject* __pyx_print = 0;
static PyObject* __pyx_print_kwargs = 0;
#endif

static INLINE int __Pyx_SetItemInt(PyObject *o, Py_ssize_t i, PyObject *v, int is_unsigned) {
    int r;
    if (PyList_CheckExact(o) && 0 <= i && i < PyList_GET_SIZE(o)) {
        Py_DECREF(PyList_GET_ITEM(o, i));
        Py_INCREF(v);
        PyList_SET_ITEM(o, i, v);
        return 1;
    }
    else if (Py_TYPE(o)->tp_as_sequence && Py_TYPE(o)->tp_as_sequence->sq_ass_item && (likely(i >= 0) || !is_unsigned))
        r = PySequence_SetItem(o, i, v);
    else {
        PyObject *j = (likely(i >= 0) || !is_unsigned) ? PyInt_FromLong(i) : PyLong_FromUnsignedLongLong((sizeof(unsigned long long) > sizeof(Py_ssize_t) ? (1ULL << (sizeof(Py_ssize_t)*8)) : 0) + i);
        if (!j)
            return -1;
        r = PyObject_SetItem(o, j, v);
        Py_DECREF(j);
    }
    return r;
}

static PyTypeObject *__Pyx_ImportType(char *module_name, char *class_name, long size);  /*proto*/

static PyObject *__Pyx_ImportModule(char *name); /*proto*/

static void __Pyx_AddTraceback(const char *funcname); /*proto*/

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t); /*proto*/

/* Type declarations */

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1519
 * 
 * 
 * cdef class Dimension:             # <<<<<<<<<<<<<<
 *     """
 * Dimension(self, group, name, size=None)
 */

struct __pyx_obj_7netCDF4_Dimension {
  PyObject_HEAD
  int _dimid;
  int _grpid;
  PyObject *_file_format;
};

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1030
 * 
 * 
 * cdef class Dataset:             # <<<<<<<<<<<<<<
 *     """
 * Dataset(self, filename, mode="r", clobber=True, format='NETCDF4')
 */

struct __pyx_obj_7netCDF4_Dataset {
  PyObject_HEAD
  int _grpid;
  PyObject *groups;
  PyObject *dimensions;
  PyObject *variables;
  PyObject *file_format;
  PyObject *path;
  PyObject *parent;
  PyObject *maskanscale;
  PyObject *_cmptypes;
};

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1453
 *             return _get_att(self, NC_GLOBAL, name)
 * 
 * cdef class Group(Dataset):             # <<<<<<<<<<<<<<
 *     """
 * Group(self, parent, name)
 */

struct __pyx_obj_7netCDF4_Group {
  struct __pyx_obj_7netCDF4_Dataset __pyx_base;
};

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1613
 *                 return False
 * 
 * cdef class Variable:             # <<<<<<<<<<<<<<
 *     """
 * Variable(self, group, name, datatype, dimensions=(), zlib=False, complevel=6, shuffle=True, fletcher32=False, contiguous=False, chunksizes=None, endian='native', least_significant_digit=None,fill_value=None)
 */

struct __pyx_obj_7netCDF4_Variable {
  PyObject_HEAD
  int _varid;
  int _grpid;
  int _nunlimdim;
  PyObject *_grp;
  PyObject *ndim;
  PyObject *dtype;
  PyObject *maskandscale;
};

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2360
 * # Compound datatype support.
 * 
 * cdef class CompoundType:             # <<<<<<<<<<<<<<
 *     """
 * A L{CompoundType} instance is used to describe a compound data type.
 */

struct __pyx_obj_7netCDF4_CompoundType {
  PyObject_HEAD
  nc_type _nc_type;
  PyObject *dtype;
  PyObject *name;
};
/* Module declarations from numpy */

/* Module declarations from netCDF4 */

static PyTypeObject *__pyx_ptype_7netCDF4_ndarray = 0;
static PyTypeObject *__pyx_ptype_7netCDF4_Dataset = 0;
static PyTypeObject *__pyx_ptype_7netCDF4_Group = 0;
static PyTypeObject *__pyx_ptype_7netCDF4_Dimension = 0;
static PyTypeObject *__pyx_ptype_7netCDF4_Variable = 0;
static PyTypeObject *__pyx_ptype_7netCDF4_CompoundType = 0;
static PyObject *__pyx_k_33;
static PyObject *__pyx_k_48;
static PyObject *__pyx_k_50;
static PyObject *__pyx_k_51;
static PyObject *__pyx_k_52;
static PyObject *__pyx_k_53;
static PyObject *__pyx_k_55;
static PyObject *__pyx_k_56;
static PyObject *__pyx_k_57;
static PyObject *__pyx_k_58;
static PyObject *__pyx_k_63;
static PyObject *__pyx_k_64;
static PyObject *__pyx_f_7netCDF4__get_att_names(int, int); /*proto*/
static PyObject *__pyx_f_7netCDF4__get_att(PyObject *, int, PyObject *); /*proto*/
static PyObject *__pyx_f_7netCDF4__get_format(int); /*proto*/
static PyObject *__pyx_f_7netCDF4__set_att(PyObject *, int, PyObject *, PyObject *); /*proto*/
static PyObject *__pyx_f_7netCDF4__get_dims(PyObject *); /*proto*/
static PyObject *__pyx_f_7netCDF4__get_grps(PyObject *); /*proto*/
static PyObject *__pyx_f_7netCDF4__get_vars(PyObject *); /*proto*/
static PyObject *__pyx_f_7netCDF4__def_compound(PyObject *, PyObject *, PyObject *); /*proto*/
static PyObject *__pyx_f_7netCDF4__find_cmptype(PyObject *, PyObject *); /*proto*/
static PyObject *__pyx_f_7netCDF4__read_compound(PyObject *, nc_type); /*proto*/


/* Implementation of netCDF4 */
static char __pyx_k_1[] = "find current sizes of all variable dimensions";
static char __pyx_k_2[] = "get variables's dimension names";
static char __pyx_k_5[] = "0.8.1";
static char __pyx_k_6[] = ".";
static char __pyx_k_7[] = "1";
static char __pyx_k_8[] = "requires numpy version 1.0rc1 or later";
static char __pyx_k_21[] = "\000";
static char __pyx_k_62[] = "\nMFDataset(self, files, check=False, exclude=[])\n\nClass for reading multi-file netCDF Datasets, making variables\nspanning multiple files appear as if they were in one file.\n\nDatasets must be in C{NETCDF4_CLASSIC, NETCDF3_CLASSIC or NETCDF3_64BIT}\nformat (C{NETCDF4} Datasets won't work).\n\nAdapted from U{pycdf <http://pysclint.sourceforge.net/pycdf>} by Andre Gosselin.\n\nExample usage:\n\n>>> import numpy\n>>> # create a series of netCDF files with a variable sharing\n>>> # the same unlimited dimension.\n>>> for nfile in range(10):\n>>>     f = Dataset('mftest'+repr(nfile)+'.nc','w')\n>>>     f.createDimension('x',None)\n>>>     x = f.createVariable('x','i',('x',))\n>>>     x[0:10] = numpy.arange(nfile*10,10*(nfile+1))\n>>>     f.close()\n>>> # now read all those files in at once, in one Dataset.\n>>> f = MFDataset('mftest*nc')\n>>> print f.variables['x'][:]\n[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24\n 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49\n 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74\n 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99]\n    ";
static PyObject *__pyx_int_6;
static PyObject *__pyx_int_0;
static PyObject *__pyx_int_1;
static PyObject *__pyx_int_neg_1;
static char __pyx_k___init__[] = "__init__";
static PyObject *__pyx_kp___init__;
static char __pyx_k_close[] = "close";
static PyObject *__pyx_kp_close;
static char __pyx_k_sync[] = "sync";
static PyObject *__pyx_kp_sync;
static char __pyx_k__redef[] = "_redef";
static PyObject *__pyx_kp__redef;
static char __pyx_k__enddef[] = "_enddef";
static PyObject *__pyx_kp__enddef;
static char __pyx_k_set_fill_on[] = "set_fill_on";
static PyObject *__pyx_kp_set_fill_on;
static char __pyx_k_set_fill_off[] = "set_fill_off";
static PyObject *__pyx_kp_set_fill_off;
static char __pyx_k_createDimension[] = "createDimension";
static PyObject *__pyx_kp_createDimension;
static char __pyx_k_renameDimension[] = "renameDimension";
static PyObject *__pyx_kp_renameDimension;
static char __pyx_k_createCompoundType[] = "createCompoundType";
static PyObject *__pyx_kp_createCompoundType;
static char __pyx_k_createVariable[] = "createVariable";
static PyObject *__pyx_kp_createVariable;
static char __pyx_k_renameVariable[] = "renameVariable";
static PyObject *__pyx_kp_renameVariable;
static char __pyx_k_createGroup[] = "createGroup";
static PyObject *__pyx_kp_createGroup;
static char __pyx_k_ncattrs[] = "ncattrs";
static PyObject *__pyx_kp_ncattrs;
static char __pyx_k___delattr__[] = "__delattr__";
static PyObject *__pyx_kp___delattr__;
static char __pyx_k___setattr__[] = "__setattr__";
static PyObject *__pyx_kp___setattr__;
static char __pyx_k___getattr__[] = "__getattr__";
static PyObject *__pyx_kp___getattr__;
static char __pyx_k___len__[] = "__len__";
static PyObject *__pyx_kp___len__;
static char __pyx_k_isunlimited[] = "isunlimited";
static PyObject *__pyx_kp_isunlimited;
static char __pyx_k_group[] = "group";
static PyObject *__pyx_kp_group;
static char __pyx_k_filters[] = "filters";
static PyObject *__pyx_kp_filters;
static char __pyx_k_endian[] = "endian";
static PyObject *__pyx_kp_endian;
static char __pyx_k_chunking[] = "chunking";
static PyObject *__pyx_kp_chunking;
static char __pyx_k___getitem__[] = "__getitem__";
static PyObject *__pyx_kp___getitem__;
static char __pyx_k___setitem__[] = "__setitem__";
static PyObject *__pyx_kp___setitem__;
static char __pyx_k_assignValue[] = "assignValue";
static PyObject *__pyx_kp_assignValue;
static char __pyx_k_getValue[] = "getValue";
static PyObject *__pyx_kp_getValue;
static char __pyx_k_3[] = "set_auto_maskandscale";
static PyObject *__pyx_kp_3;
static char __pyx_k__put[] = "_put";
static PyObject *__pyx_kp__put;
static char __pyx_k__get[] = "_get";
static PyObject *__pyx_kp__get;
static char __pyx_k_4[] = "netCDF4_utils";
static PyObject *__pyx_kp_4;
static char __pyx_k__StartCountStride[] = "_StartCountStride";
static PyObject *__pyx_kp__StartCountStride;
static char __pyx_k__quantize[] = "_quantize";
static PyObject *__pyx_kp__quantize;
static char __pyx_k__find_dim[] = "_find_dim";
static PyObject *__pyx_kp__find_dim;
static char __pyx_k__out_array_shape[] = "_out_array_shape";
static PyObject *__pyx_kp__out_array_shape;
static char __pyx_k__sortbylist[] = "_sortbylist";
static PyObject *__pyx_kp__sortbylist;
static char __pyx_k___version__[] = "__version__";
static PyObject *__pyx_kp___version__;
static char __pyx_k_os[] = "os";
static PyObject *__pyx_kp_os;
static char __pyx_k_netcdftime[] = "netcdftime";
static PyObject *__pyx_kp_netcdftime;
static char __pyx_k_numpy[] = "numpy";
static PyObject *__pyx_kp_numpy;
static char __pyx_k_glob[] = "glob";
static PyObject *__pyx_kp_glob;
static char __pyx_k_ma[] = "ma";
static PyObject *__pyx_kp_ma;
static char __pyx_k__npversion[] = "_npversion";
static PyObject *__pyx_kp__npversion;
static char __pyx_k_split[] = "split";
static PyObject *__pyx_kp_split;
static char __pyx_k_ImportError[] = "ImportError";
static PyObject *__pyx_kp_ImportError;
static char __pyx_k_9[] = "S1";
static PyObject *__pyx_kp_9;
static char __pyx_k_10[] = "i1";
static PyObject *__pyx_kp_10;
static char __pyx_k_11[] = "u1";
static PyObject *__pyx_kp_11;
static char __pyx_k_12[] = "i2";
static PyObject *__pyx_kp_12;
static char __pyx_k_13[] = "u2";
static PyObject *__pyx_kp_13;
static char __pyx_k_14[] = "i4";
static PyObject *__pyx_kp_14;
static char __pyx_k_15[] = "u4";
static PyObject *__pyx_kp_15;
static char __pyx_k_16[] = "i8";
static PyObject *__pyx_kp_16;
static char __pyx_k_17[] = "u8";
static PyObject *__pyx_kp_17;
static char __pyx_k_18[] = "f4";
static PyObject *__pyx_kp_18;
static char __pyx_k_19[] = "f8";
static PyObject *__pyx_kp_19;
static char __pyx_k__nptonctype[] = "_nptonctype";
static PyObject *__pyx_kp__nptonctype;
static char __pyx_k_20[] = "S1";
static PyObject *__pyx_kp_20;
static char __pyx_k_22[] = "i1";
static PyObject *__pyx_kp_22;
static char __pyx_k_23[] = "u1";
static PyObject *__pyx_kp_23;
static char __pyx_k_24[] = "i2";
static PyObject *__pyx_kp_24;
static char __pyx_k_25[] = "u2";
static PyObject *__pyx_kp_25;
static char __pyx_k_26[] = "i4";
static PyObject *__pyx_kp_26;
static char __pyx_k_27[] = "u4";
static PyObject *__pyx_kp_27;
static char __pyx_k_28[] = "i8";
static PyObject *__pyx_kp_28;
static char __pyx_k_29[] = "u8";
static PyObject *__pyx_kp_29;
static char __pyx_k_30[] = "f4";
static PyObject *__pyx_kp_30;
static char __pyx_k_31[] = "f8";
static PyObject *__pyx_kp_31;
static char __pyx_k__default_fillvals[] = "_default_fillvals";
static PyObject *__pyx_kp__default_fillvals;
static char __pyx_k__nctonptype[] = "_nctonptype";
static PyObject *__pyx_kp__nctonptype;
static char __pyx_k__key[] = "_key";
static PyObject *__pyx_kp__key;
static char __pyx_k__value[] = "_value";
static PyObject *__pyx_kp__value;
static char __pyx_k_iteritems[] = "iteritems";
static PyObject *__pyx_kp_iteritems;
static char __pyx_k_keys[] = "keys";
static PyObject *__pyx_kp_keys;
static char __pyx_k__supportedtypes[] = "_supportedtypes";
static PyObject *__pyx_kp__supportedtypes;
static char __pyx_k_32[] = "NETCDF4";
static PyObject *__pyx_kp_32;
static char __pyx_k_34[] = "_grpid";
static PyObject *__pyx_kp_34;
static char __pyx_k_35[] = "_grp";
static PyObject *__pyx_kp_35;
static char __pyx_k_36[] = "_varid";
static PyObject *__pyx_kp_36;
static char __pyx_k_37[] = "groups";
static PyObject *__pyx_kp_37;
static char __pyx_k_38[] = "dimensions";
static PyObject *__pyx_kp_38;
static char __pyx_k_39[] = "variables";
static PyObject *__pyx_kp_39;
static char __pyx_k_40[] = "dtype";
static PyObject *__pyx_kp_40;
static char __pyx_k_41[] = "file_format";
static PyObject *__pyx_kp_41;
static char __pyx_k_42[] = "_nunlimdim";
static PyObject *__pyx_kp_42;
static char __pyx_k_43[] = "path";
static PyObject *__pyx_kp_43;
static char __pyx_k_44[] = "parent";
static PyObject *__pyx_kp_44;
static char __pyx_k_45[] = "ndim";
static PyObject *__pyx_kp_45;
static char __pyx_k_46[] = "maskandscale";
static PyObject *__pyx_kp_46;
static char __pyx_k__private_atts[] = "_private_atts";
static PyObject *__pyx_kp__private_atts;
static char __pyx_k_47[] = "r";
static PyObject *__pyx_kp_47;
static char __pyx_k_49[] = "NETCDF4";
static PyObject *__pyx_kp_49;
static char __pyx_k_54[] = "native";
static PyObject *__pyx_kp_54;
static char __pyx_k_59[] = "native";
static PyObject *__pyx_kp_59;
static char __pyx_k_60[] = "standard";
static PyObject *__pyx_kp_60;
static char __pyx_k_61[] = "standard";
static PyObject *__pyx_kp_61;
static char __pyx_k_MFDataset[] = "MFDataset";
static PyObject *__pyx_kp_MFDataset;
static char __pyx_k___getattribute__[] = "__getattribute__";
static PyObject *__pyx_kp___getattribute__;
static char __pyx_k__Dimension[] = "_Dimension";
static PyObject *__pyx_kp__Dimension;
static char __pyx_k_object[] = "object";
static PyObject *__pyx_kp_object;
static char __pyx_k__Variable[] = "_Variable";
static PyObject *__pyx_kp__Variable;
static char __pyx_k_typecode[] = "typecode";
static PyObject *__pyx_kp_typecode;
static char __pyx_k__shape[] = "_shape";
static PyObject *__pyx_kp__shape;
static char __pyx_k_RuntimeError[] = "RuntimeError";
static PyObject *__pyx_kp_RuntimeError;
static char __pyx_k_append[] = "append";
static PyObject *__pyx_kp_append;
static char __pyx_k__grpid[] = "_grpid";
static PyObject *__pyx_kp__grpid;
static char __pyx_k_AttributeError[] = "AttributeError";
static PyObject *__pyx_kp_AttributeError;
static char __pyx_k_empty[] = "empty";
static PyObject *__pyx_kp_empty;
static char __pyx_k_65[] = "S1";
static PyObject *__pyx_kp_65;
static char __pyx_k_tostring[] = "tostring";
static PyObject *__pyx_kp_tostring;
static char __pyx_k_replace[] = "replace";
static PyObject *__pyx_kp_replace;
static char __pyx_k_KeyError[] = "KeyError";
static PyObject *__pyx_kp_KeyError;
static char __pyx_k_shape[] = "shape";
static PyObject *__pyx_kp_shape;
static char __pyx_k_item[] = "item";
static PyObject *__pyx_kp_item;
static char __pyx_k_69[] = "NETCDF4";
static PyObject *__pyx_kp_69;
static char __pyx_k_71[] = "NETCDF4_CLASSIC";
static PyObject *__pyx_kp_71;
static char __pyx_k_73[] = "NETCDF3_64BIT";
static PyObject *__pyx_kp_73;
static char __pyx_k_75[] = "NETCDF3_CLASSIC";
static PyObject *__pyx_kp_75;
static char __pyx_k_ValueError[] = "ValueError";
static PyObject *__pyx_kp_ValueError;
static char __pyx_k_78[] = "NETCDF4";
static PyObject *__pyx_kp_78;
static char __pyx_k_79[] = "NETCDF4_CLASSIC";
static PyObject *__pyx_kp_79;
static char __pyx_k_80[] = "NETCDF3_64BIT";
static PyObject *__pyx_kp_80;
static char __pyx_k_81[] = "NETCDF3_CLASSIC";
static PyObject *__pyx_kp_81;
static char __pyx_k_array[] = "array";
static PyObject *__pyx_kp_array;
static char __pyx_k_dtype[] = "dtype";
static PyObject *__pyx_kp_dtype;
static char __pyx_k_str[] = "str";
static PyObject *__pyx_kp_str;
static char __pyx_k_82[] = "i8";
static PyObject *__pyx_kp_82;
static char __pyx_k_83[] = "i8";
static PyObject *__pyx_kp_83;
static char __pyx_k_startswith[] = "startswith";
static PyObject *__pyx_kp_startswith;
static char __pyx_k_84[] = "NETCDF3";
static PyObject *__pyx_kp_84;
static char __pyx_k_astype[] = "astype";
static PyObject *__pyx_kp_astype;
static char __pyx_k_85[] = "i4";
static PyObject *__pyx_kp_85;
static char __pyx_k_char[] = "char";
static PyObject *__pyx_kp_char;
static char __pyx_k_86[] = "S";
static PyObject *__pyx_kp_86;
static char __pyx_k_kind[] = "kind";
static PyObject *__pyx_kp_kind;
static char __pyx_k_87[] = "V";
static PyObject *__pyx_kp_87;
static char __pyx_k_TypeError[] = "TypeError";
static PyObject *__pyx_kp_TypeError;
static char __pyx_k_file_format[] = "file_format";
static PyObject *__pyx_kp_file_format;
static char __pyx_k_89[] = "NETCDF4";
static PyObject *__pyx_kp_89;
static char __pyx_k_id[] = "id";
static PyObject *__pyx_kp_id;
static char __pyx_k_90[] = "NETCDF4";
static PyObject *__pyx_kp_90;
static char __pyx_k_dimensions[] = "dimensions";
static PyObject *__pyx_kp_dimensions;
static char __pyx_k__dimid[] = "_dimid";
static PyObject *__pyx_kp__dimid;
static char __pyx_k_parent[] = "parent";
static PyObject *__pyx_kp_parent;
static char __pyx_k_92[] = "w";
static PyObject *__pyx_kp_92;
static char __pyx_k__set_default_format[] = "_set_default_format";
static PyObject *__pyx_kp__set_default_format;
static char __pyx_k_format[] = "format";
static PyObject *__pyx_kp_format;
static char __pyx_k_93[] = "r";
static PyObject *__pyx_kp_93;
static char __pyx_k_95[] = "a";
static PyObject *__pyx_kp_95;
static char __pyx_k_96[] = "as";
static PyObject *__pyx_kp_96;
static char __pyx_k_98[] = "ws";
static PyObject *__pyx_kp_98;
static char __pyx_k_101[] = "NETCDF4";
static PyObject *__pyx_kp_101;
static char __pyx_k_size[] = "size";
static PyObject *__pyx_kp_size;
static char __pyx_k_102[] = "NETCDF4";
static PyObject *__pyx_kp_102;
static char __pyx_k_103[] = "NETCDF4";
static PyObject *__pyx_kp_103;
static char __pyx_k_pop[] = "pop";
static PyObject *__pyx_kp_pop;
static char __pyx_k_zlib[] = "zlib";
static PyObject *__pyx_kp_zlib;
static char __pyx_k_complevel[] = "complevel";
static PyObject *__pyx_kp_complevel;
static char __pyx_k_shuffle[] = "shuffle";
static PyObject *__pyx_kp_shuffle;
static char __pyx_k_104[] = "fletcher32";
static PyObject *__pyx_kp_104;
static char __pyx_k_contiguous[] = "contiguous";
static PyObject *__pyx_kp_contiguous;
static char __pyx_k_chunksizes[] = "chunksizes";
static PyObject *__pyx_kp_chunksizes;
static char __pyx_k_105[] = "least_significant_digit";
static PyObject *__pyx_kp_105;
static char __pyx_k_fill_value[] = "fill_value";
static PyObject *__pyx_kp_fill_value;
static char __pyx_k_107[] = "NETCDF4";
static PyObject *__pyx_kp_107;
static char __pyx_k__varid[] = "_varid";
static PyObject *__pyx_kp__varid;
static char __pyx_k_108[] = "NETCDF4";
static PyObject *__pyx_kp_108;
static char __pyx_k_109[] = "NETCDF4";
static PyObject *__pyx_kp_109;
static char __pyx_k_110[] = "NETCDF4";
static PyObject *__pyx_kp_110;
static char __pyx_k_112[] = "NETCDF4";
static PyObject *__pyx_kp_112;
static char __pyx_k_113[] = "NETCDF4";
static PyObject *__pyx_kp_113;
static char __pyx_k_endswith[] = "endswith";
static PyObject *__pyx_kp_endswith;
static char __pyx_k_114[] = "__";
static PyObject *__pyx_kp_114;
static char __pyx_k___dict__[] = "__dict__";
static PyObject *__pyx_kp___dict__;
static char __pyx_k_116[] = "__";
static PyObject *__pyx_kp_116;
static char __pyx_k_117[] = "__";
static PyObject *__pyx_kp_117;
static char __pyx_k_118[] = "__dict__";
static PyObject *__pyx_kp_118;
static char __pyx_k_zip[] = "zip";
static PyObject *__pyx_kp_zip;
static char __pyx_k_has_key[] = "has_key";
static PyObject *__pyx_kp_has_key;
static char __pyx_k_119[] = "id";
static PyObject *__pyx_kp_119;
static char __pyx_k_120[] = "id";
static PyObject *__pyx_kp_120;
static char __pyx_k_path[] = "path";
static PyObject *__pyx_kp_path;
static char __pyx_k_join[] = "join";
static PyObject *__pyx_kp_join;
static char __pyx_k_IOError[] = "IOError";
static PyObject *__pyx_kp_IOError;
static char __pyx_k_122[] = "id";
static PyObject *__pyx_kp_122;
static char __pyx_k_123[] = "id";
static PyObject *__pyx_kp_123;
static char __pyx_k_124[] = "NETCDF4";
static PyObject *__pyx_kp_124;
static char __pyx_k_125[] = "NETCDF4";
static PyObject *__pyx_kp_125;
static char __pyx_k_126[] = "NETCDF4";
static PyObject *__pyx_kp_126;
static char __pyx_k__nc_type[] = "_nc_type";
static PyObject *__pyx_kp__nc_type;
static char __pyx_k_129[] = "id";
static PyObject *__pyx_kp_129;
static char __pyx_k_130[] = "id";
static PyObject *__pyx_kp_130;
static char __pyx_k_132[] = "NETCDF4";
static PyObject *__pyx_kp_132;
static char __pyx_k_133[] = "NETCDF4";
static PyObject *__pyx_kp_133;
static char __pyx_k_134[] = "NETCDF4";
static PyObject *__pyx_kp_134;
static char __pyx_k_135[] = "NETCDF4_CLASSIC";
static PyObject *__pyx_kp_135;
static char __pyx_k_136[] = "NETCDF4";
static PyObject *__pyx_kp_136;
static char __pyx_k_137[] = "NETCDF4";
static PyObject *__pyx_kp_137;
static char __pyx_k_139[] = "NETCDF4";
static PyObject *__pyx_kp_139;
static char __pyx_k_141[] = "NETCDF4";
static PyObject *__pyx_kp_141;
static char __pyx_k_142[] = "little";
static PyObject *__pyx_kp_142;
static char __pyx_k_143[] = "big";
static PyObject *__pyx_kp_143;
static char __pyx_k_144[] = "native";
static PyObject *__pyx_kp_144;
static char __pyx_k_146[] = "NETCDF4";
static PyObject *__pyx_kp_146;
static char __pyx_k_bool[] = "bool";
static PyObject *__pyx_kp_bool;
static char __pyx_k_147[] = "NETCDF4";
static PyObject *__pyx_kp_147;
static char __pyx_k_148[] = "_FillValue";
static PyObject *__pyx_kp_148;
static char __pyx_k_149[] = "NETCDF4";
static PyObject *__pyx_kp_149;
static char __pyx_k_152[] = "zlib";
static PyObject *__pyx_kp_152;
static char __pyx_k_153[] = "shuffle";
static PyObject *__pyx_kp_153;
static char __pyx_k_154[] = "complevel";
static PyObject *__pyx_kp_154;
static char __pyx_k_155[] = "fletcher32";
static PyObject *__pyx_kp_155;
static char __pyx_k_156[] = "NETCDF4_CLASSIC";
static PyObject *__pyx_kp_156;
static char __pyx_k_157[] = "NETCDF4";
static PyObject *__pyx_kp_157;
static char __pyx_k_158[] = "zlib";
static PyObject *__pyx_kp_158;
static char __pyx_k_159[] = "complevel";
static PyObject *__pyx_kp_159;
static char __pyx_k_160[] = "shuffle";
static PyObject *__pyx_kp_160;
static char __pyx_k_161[] = "fletcher32";
static PyObject *__pyx_kp_161;
static char __pyx_k_162[] = "NETCDF4_CLASSIC";
static PyObject *__pyx_kp_162;
static char __pyx_k_163[] = "NETCDF4";
static PyObject *__pyx_kp_163;
static char __pyx_k_164[] = "little";
static PyObject *__pyx_kp_164;
static char __pyx_k_165[] = "big";
static PyObject *__pyx_kp_165;
static char __pyx_k_166[] = "native";
static PyObject *__pyx_kp_166;
static char __pyx_k_167[] = "NETCDF4_CLASSIC";
static PyObject *__pyx_kp_167;
static char __pyx_k_168[] = "NETCDF4";
static PyObject *__pyx_kp_168;
static char __pyx_k_169[] = "contiguous";
static PyObject *__pyx_kp_169;
static char __pyx_k_170[] = "NETCDF4";
static PyObject *__pyx_kp_170;
static char __pyx_k_171[] = "NETCDF4";
static PyObject *__pyx_kp_171;
static char __pyx_k_173[] = "_FillValue";
static PyObject *__pyx_kp_173;
static char __pyx_k_174[] = "NETCDF4";
static PyObject *__pyx_kp_174;
static char __pyx_k_175[] = "NETCDF4";
static PyObject *__pyx_kp_175;
static char __pyx_k_176[] = "__";
static PyObject *__pyx_kp_176;
static char __pyx_k_178[] = "__";
static PyObject *__pyx_kp_178;
static char __pyx_k_179[] = "__";
static PyObject *__pyx_kp_179;
static char __pyx_k_180[] = "__dict__";
static PyObject *__pyx_kp_180;
static char __pyx_k_ndim[] = "ndim";
static PyObject *__pyx_kp_ndim;
static char __pyx_k_enumerate[] = "enumerate";
static PyObject *__pyx_kp_enumerate;
static char __pyx_k_ravel[] = "ravel";
static PyObject *__pyx_kp_ravel;
static char __pyx_k_reshape[] = "reshape";
static PyObject *__pyx_kp_reshape;
static char __pyx_k_squeeze[] = "squeeze";
static PyObject *__pyx_kp_squeeze;
static char __pyx_k_zeros[] = "zeros";
static PyObject *__pyx_kp_zeros;
static char __pyx_k_181[] = "missing_value";
static PyObject *__pyx_kp_181;
static char __pyx_k_missing_value[] = "missing_value";
static PyObject *__pyx_kp_missing_value;
static char __pyx_k_any[] = "any";
static PyObject *__pyx_kp_any;
static char __pyx_k_182[] = "_FillValue";
static PyObject *__pyx_kp_182;
static char __pyx_k__FillValue[] = "_FillValue";
static PyObject *__pyx_kp__FillValue;
static char __pyx_k_masked_array[] = "masked_array";
static PyObject *__pyx_kp_masked_array;
static char __pyx_k_mask[] = "mask";
static PyObject *__pyx_kp_mask;
static char __pyx_k_183[] = "scale_factor";
static PyObject *__pyx_kp_183;
static char __pyx_k_184[] = "add_offset";
static PyObject *__pyx_kp_184;
static char __pyx_k_scale_factor[] = "scale_factor";
static PyObject *__pyx_kp_scale_factor;
static char __pyx_k_add_offset[] = "add_offset";
static PyObject *__pyx_kp_add_offset;
static char __pyx_k_ndarray[] = "ndarray";
static PyObject *__pyx_kp_ndarray;
static char __pyx_k_datashape[] = "datashape";
static PyObject *__pyx_kp_datashape;
static char __pyx_k_tile[] = "tile";
static PyObject *__pyx_kp_tile;
static char __pyx_k_185[] = "least_significant_digit";
static PyObject *__pyx_kp_185;
static char __pyx_k_186[] = "mask";
static PyObject *__pyx_kp_186;
static char __pyx_k_187[] = "missing_value";
static PyObject *__pyx_kp_187;
static char __pyx_k_188[] = "_FillValue";
static PyObject *__pyx_kp_188;
static char __pyx_k_filled[] = "filled";
static PyObject *__pyx_kp_filled;
static char __pyx_k_189[] = "scale_factor";
static PyObject *__pyx_kp_189;
static char __pyx_k_190[] = "add_offset";
static PyObject *__pyx_kp_190;
static char __pyx_k_IndexError[] = "IndexError";
static PyObject *__pyx_kp_IndexError;
static char __pyx_k_copy[] = "copy";
static PyObject *__pyx_kp_copy;
static char __pyx_k_sum[] = "sum";
static PyObject *__pyx_kp_sum;
static char __pyx_k_194[] = "typeid";
static PyObject *__pyx_kp_194;
static char __pyx_k_195[] = "typeid";
static PyObject *__pyx_kp_195;
static char __pyx_k__cmptypes[] = "_cmptypes";
static PyObject *__pyx_kp__cmptypes;
static char __pyx_k_itemsize[] = "itemsize";
static PyObject *__pyx_kp_itemsize;
static char __pyx_k_fields[] = "fields";
static PyObject *__pyx_kp_fields;
static char __pyx_k_values[] = "values";
static PyObject *__pyx_kp_values;
static char __pyx_k_sort[] = "sort";
static PyObject *__pyx_kp_sort;
static char __pyx_k_196[] = "V";
static PyObject *__pyx_kp_196;
static char __pyx_k_subdtype[] = "subdtype";
static PyObject *__pyx_kp_subdtype;
static char __pyx_k_198[] = "V";
static PyObject *__pyx_kp_198;
static char __pyx_k_203[] = "names";
static PyObject *__pyx_kp_203;
static char __pyx_k_204[] = "formats";
static PyObject *__pyx_kp_204;
static char __pyx_k_205[] = "offsets";
static PyObject *__pyx_kp_205;
static char __pyx_k_typeid[] = "typeid";
static PyObject *__pyx_kp_typeid;
static char __pyx_k_206[] = "S1";
static PyObject *__pyx_kp_206;
static char __pyx_k_207[] = "S1";
static PyObject *__pyx_kp_207;
static char __pyx_k_208[] = "S";
static PyObject *__pyx_kp_208;
static char __pyx_k_range[] = "range";
static PyObject *__pyx_kp_range;
static char __pyx_k_utime[] = "utime";
static PyObject *__pyx_kp_utime;
static char __pyx_k_calendar[] = "calendar";
static PyObject *__pyx_kp_calendar;
static char __pyx_k_209[] = "date2num";
static PyObject *__pyx_kp_209;
static char __pyx_k_210[] = "num2date";
static PyObject *__pyx_kp_210;
static char __pyx_k_211[] = "date2index";
static PyObject *__pyx_kp_211;
static char __pyx_k_all[] = "all";
static PyObject *__pyx_kp_all;
static char __pyx_k_units[] = "units";
static PyObject *__pyx_kp_units;
static char __pyx_k_sorted[] = "sorted";
static PyObject *__pyx_kp_sorted;
static char __pyx_k_items[] = "items";
static PyObject *__pyx_kp_items;
static char __pyx_k_variables[] = "variables";
static PyObject *__pyx_kp_variables;
static char __pyx_k__cdf[] = "_cdf";
static PyObject *__pyx_kp__cdf;
static char __pyx_k__files[] = "_files";
static PyObject *__pyx_kp__files;
static char __pyx_k__cdfVLen[] = "_cdfVLen";
static PyObject *__pyx_kp__cdfVLen;
static char __pyx_k__cdfTLen[] = "_cdfTLen";
static PyObject *__pyx_kp__cdfTLen;
static char __pyx_k__cdfRecVar[] = "_cdfRecVar";
static PyObject *__pyx_kp__cdfRecVar;
static char __pyx_k__dims[] = "_dims";
static PyObject *__pyx_kp__dims;
static char __pyx_k__vars[] = "_vars";
static PyObject *__pyx_kp__vars;
static char __pyx_k__file_format[] = "_file_format";
static PyObject *__pyx_kp__file_format;
static char __pyx_k_220[] = "NETCDF4";
static PyObject *__pyx_kp_220;
static char __pyx_k_222[] = "variables";
static PyObject *__pyx_kp_222;
static char __pyx_k_223[] = "dimensions";
static PyObject *__pyx_kp_223;
static char __pyx_k_224[] = "file_format";
static PyObject *__pyx_kp_224;
static char __pyx_k_225[] = "dimensions";
static PyObject *__pyx_kp_225;
static char __pyx_k_226[] = "variables";
static PyObject *__pyx_kp_226;
static char __pyx_k_227[] = "file_format";
static PyObject *__pyx_kp_227;
static char __pyx_k_dimlens[] = "dimlens";
static PyObject *__pyx_kp_dimlens;
static char __pyx_k_dimtotlen[] = "dimtotlen";
static PyObject *__pyx_kp_dimtotlen;
static char __pyx_k__dset[] = "_dset";
static PyObject *__pyx_kp__dset;
static char __pyx_k__mastervar[] = "_mastervar";
static PyObject *__pyx_kp__mastervar;
static char __pyx_k__recVar[] = "_recVar";
static PyObject *__pyx_kp__recVar;
static char __pyx_k__recdimname[] = "_recdimname";
static PyObject *__pyx_kp__recdimname;
static char __pyx_k__recLen[] = "_recLen";
static PyObject *__pyx_kp__recLen;
static char __pyx_k_228[] = "shape";
static PyObject *__pyx_kp_228;
static char __pyx_k_229[] = "ndim";
static PyObject *__pyx_kp_229;
static char __pyx_k_extend[] = "extend";
static PyObject *__pyx_kp_extend;
static char __pyx_k_concatenate[] = "concatenate";
static PyObject *__pyx_kp_concatenate;
static PyObject *__pyx_kp_5;
static PyObject *__pyx_kp_6;
static PyObject *__pyx_kp_7;
static PyObject *__pyx_kp_8;
static PyObject *__pyx_kp_21;
static PyObject *__pyx_kp_62;
static PyObject *__pyx_builtin_ImportError;
static PyObject *__pyx_builtin_object;
static PyObject *__pyx_builtin_RuntimeError;
static PyObject *__pyx_builtin_AttributeError;
static PyObject *__pyx_builtin_KeyError;
static PyObject *__pyx_builtin_ValueError;
static PyObject *__pyx_builtin_TypeError;
static PyObject *__pyx_builtin_zip;
static PyObject *__pyx_builtin_IOError;
static PyObject *__pyx_builtin_bool;
static PyObject *__pyx_builtin_enumerate;
static PyObject *__pyx_builtin_IndexError;
static PyObject *__pyx_builtin_sum;
static PyObject *__pyx_builtin_range;
static PyObject *__pyx_builtin_sorted;
static PyObject *__pyx_kp_66;
static PyObject *__pyx_kp_67;
static PyObject *__pyx_kp_68;
static char __pyx_k_66[] = "\000";
static char __pyx_k_67[] = "";
static char __pyx_k_68[] = "attribute %s has unsupported datatype";
static PyObject *__pyx_kp_70;
static PyObject *__pyx_kp_72;
static PyObject *__pyx_kp_74;
static PyObject *__pyx_kp_76;
static PyObject *__pyx_kp_77;
static char __pyx_k_70[] = "Switching to netCDF-4 format";
static char __pyx_k_72[] = "Switching to netCDF-4 format (with NC_CLASSIC_MODEL)";
static char __pyx_k_74[] = "Switching to 64-bit offset format";
static char __pyx_k_76[] = "Switching to netCDF classic format";
static char __pyx_k_77[] = "format must be 'NETCDF4', 'NETCDF4_CLASSIC', 'NETCDF3_64BIT', or 'NETCDF3_CLASSIC', got '%s'";
static PyObject *__pyx_kp_88;
static char __pyx_k_88[] = "illegal data type for attribute, must be one of %s, got %s";
static PyObject *__pyx_kp_91;
static char __pyx_k_91[] = "WARNING: variable '%s' has unsupported datatype, skipping ..";
static PyObject *__pyx_kp_94;
static PyObject *__pyx_kp_97;
static PyObject *__pyx_kp_99;
static PyObject *__pyx_kp_100;
static char __pyx_k_94[] = "r+";
static char __pyx_k_97[] = "r+s";
static char __pyx_k_99[] = "mode must be 'w', 'r', 'a' or 'r+', got '%s'";
static char __pyx_k_100[] = "/";
static PyObject *__pyx_kp_106;
static char __pyx_k_106[] = "%s not a valid variable name";
static PyObject *__pyx_kp_111;
static char __pyx_k_111[] = "'%s' is one of the reserved attributes %s, cannot delete";
static PyObject *__pyx_kp_115;
static char __pyx_k_115[] = "'%s' is one of the reserved attributes %s, cannot rebind";
static PyObject *__pyx_kp_121;
static char __pyx_k_121[] = "cannot close a L{Group} (only applies to Dataset)";
static PyObject *__pyx_kp_127;
static PyObject *__pyx_kp_128;
static PyObject *__pyx_kp_131;
static PyObject *__pyx_kp_138;
static PyObject *__pyx_kp_140;
static PyObject *__pyx_kp_145;
static char __pyx_k_127[] = "";
static char __pyx_k_128[] = "illegal primitive data type, must be one of %s, got %s";
static char __pyx_k_131[] = "dimension %s not defined in group %s or any group in it's family tree";
static char __pyx_k_138[] = "cannot specify chunksizes for a contiguous dataset";
static char __pyx_k_140[] = "chunksizes must be a sequence with the same length as dimensions";
static char __pyx_k_145[] = "'endian' keyword argument must be 'little','big' or 'native', got '%s'";
static PyObject *__pyx_kp_150;
static char __pyx_k_150[] = "shape cannot be altered";
static PyObject *__pyx_kp_151;
static char __pyx_k_151[] = "dimensions cannot be altered";
static PyObject *__pyx_kp_172;
static char __pyx_k_172[] = "'%s' is one of the reserved attributes %s, cannot delete";
static PyObject *__pyx_kp_177;
static char __pyx_k_177[] = "'%s' is one of the reserved attributes %s, cannot rebind";
static PyObject *__pyx_kp_191;
static char __pyx_k_191[] = "to assign values to a non-scalar variable, use a slice";
static PyObject *__pyx_kp_192;
static char __pyx_k_192[] = "to retrieve values from a non-scalar variable, use slicing";
static PyObject *__pyx_kp_193;
static char __pyx_k_193[] = "size of data array does not conform to slice";
static PyObject *__pyx_kp_197;
static PyObject *__pyx_kp_199;
static char __pyx_k_197[] = "Unsupported compound type element";
static char __pyx_k_199[] = "Unsupported compound type element";
static PyObject *__pyx_kp_200;
static PyObject *__pyx_kp_201;
static char __pyx_k_200[] = "cannot find compound type in this group or parent groups";
static char __pyx_k_201[] = "cannot find compound type in this group or parent groups";
static PyObject *__pyx_kp_202;
static char __pyx_k_202[] = "compound field of an unsupported data type";
static PyObject *__pyx_kp_212;
static PyObject *__pyx_kp_213;
static PyObject *__pyx_kp_214;
static PyObject *__pyx_kp_215;
static PyObject *__pyx_kp_216;
static PyObject *__pyx_kp_217;
static PyObject *__pyx_kp_218;
static PyObject *__pyx_kp_219;
static PyObject *__pyx_kp_221;
static char __pyx_k_212[] = "master dataset %s does not have an unlimited dimension";
static char __pyx_k_213[] = "master dataset %s does not have any record variable";
static char __pyx_k_214[] = "record variable %s not defined in %s";
static char __pyx_k_215[] = "variable %s is not a record var inside %s";
static char __pyx_k_216[] = "variable %s : dimensions mismatch between master %s (%s) and extension %s (%s)";
static char __pyx_k_217[] = "variable %s : rank mismatch between master %s (%s) and extension %s (%s)";
static char __pyx_k_218[] = "variable %s : shape mismatch between master %s (%s) and extension %s (%s)";
static char __pyx_k_219[] = "variable %s : data type mismatch between master %s (%s) and extension %s (%s)";
static char __pyx_k_221[] = "MFNetCDF4 only works with NETCDF3_CLASSIC, NETCDF3_64BIT and NETCDF4_CLASSIC formatted files, not NETCDF4";
static PyObject *__pyx_kp_230;
static char __pyx_k_230[] = "negative strides not allowed when slicing MFVariable Variable instance";

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":758
 * # internal C functions.
 * 
 * cdef _get_att_names(int grpid, int varid):             # <<<<<<<<<<<<<<
 *     # Private function to get all the attribute names in a group
 *     cdef int ierr, numatts, n
 */

static  PyObject *__pyx_f_7netCDF4__get_att_names(int __pyx_v_grpid, int __pyx_v_varid) {
  int __pyx_v_ierr;
  int __pyx_v_numatts;
  int __pyx_v_n;
  char __pyx_v_namstring[(NC_MAX_NAME + 1)];
  PyObject *__pyx_v_attslist;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  __pyx_v_attslist = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":762
 *     cdef int ierr, numatts, n
 *     cdef char namstring[NC_MAX_NAME+1]
 *     if varid == NC_GLOBAL:             # <<<<<<<<<<<<<<
 *         ierr = nc_inq_natts(grpid, &numatts)
 *     else:
 */
  __pyx_1 = (__pyx_v_varid == NC_GLOBAL);
  if (__pyx_1) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":763
 *     cdef char namstring[NC_MAX_NAME+1]
 *     if varid == NC_GLOBAL:
 *         ierr = nc_inq_natts(grpid, &numatts)             # <<<<<<<<<<<<<<
 *     else:
 *         ierr = nc_inq_varnatts(grpid, varid, &numatts)
 */
    __pyx_v_ierr = nc_inq_natts(__pyx_v_grpid, (&__pyx_v_numatts));
    goto __pyx_L3;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":765
 *         ierr = nc_inq_natts(grpid, &numatts)
 *     else:
 *         ierr = nc_inq_varnatts(grpid, varid, &numatts)             # <<<<<<<<<<<<<<
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_inq_varnatts(__pyx_v_grpid, __pyx_v_varid, (&__pyx_v_numatts));
  }
  __pyx_L3:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":766
 *     else:
 *         ierr = nc_inq_varnatts(grpid, varid, &numatts)
 *     if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *         raise RuntimeError(nc_strerror(ierr))
 *     attslist = []
 */
  __pyx_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_1) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":767
 *         ierr = nc_inq_varnatts(grpid, varid, &numatts)
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *     attslist = []
 *     for n from 0 <= n < numatts:
 */
    __pyx_2 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 767; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 767; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 767; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 767; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":768
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 *     attslist = []             # <<<<<<<<<<<<<<
 *     for n from 0 <= n < numatts:
 *         ierr = nc_inq_attname(grpid, varid, n, namstring)
 */
  __pyx_3 = PyList_New(0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 768; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_attslist);
  __pyx_v_attslist = ((PyObject *)__pyx_3);
  __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":769
 *         raise RuntimeError(nc_strerror(ierr))
 *     attslist = []
 *     for n from 0 <= n < numatts:             # <<<<<<<<<<<<<<
 *         ierr = nc_inq_attname(grpid, varid, n, namstring)
 *         if ierr != NC_NOERR:
 */
  for (__pyx_v_n = 0; __pyx_v_n < __pyx_v_numatts; __pyx_v_n++) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":770
 *     attslist = []
 *     for n from 0 <= n < numatts:
 *         ierr = nc_inq_attname(grpid, varid, n, namstring)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_inq_attname(__pyx_v_grpid, __pyx_v_varid, __pyx_v_n, __pyx_v_namstring);

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":771
 *     for n from 0 <= n < numatts:
 *         ierr = nc_inq_attname(grpid, varid, n, namstring)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         attslist.append(namstring)
 */
    __pyx_1 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_1) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":772
 *         ierr = nc_inq_attname(grpid, varid, n, namstring)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         attslist.append(namstring)
 *     return attslist
 */
      __pyx_2 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 772; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 772; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
      __pyx_2 = 0;
      __pyx_2 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 772; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
      __Pyx_Raise(__pyx_2, 0, 0);
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 772; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L7;
    }
    __pyx_L7:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":773
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         attslist.append(namstring)             # <<<<<<<<<<<<<<
 *     return attslist
 * 
 */
    __pyx_3 = __Pyx_PyBytes_FromString(__pyx_v_namstring); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 773; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = __Pyx_PyObject_Append(__pyx_v_attslist, __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 773; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":774
 *             raise RuntimeError(nc_strerror(ierr))
 *         attslist.append(namstring)
 *     return attslist             # <<<<<<<<<<<<<<
 * 
 * cdef _get_att(grp, int varid, name):
 */
  Py_INCREF(__pyx_v_attslist);
  __pyx_r = __pyx_v_attslist;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4._get_att_names");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_attslist);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":776
 *     return attslist
 * 
 * cdef _get_att(grp, int varid, name):             # <<<<<<<<<<<<<<
 *     # Private function to get an attribute value given its name
 *     cdef int ierr, n
 */

static  PyObject *__pyx_f_7netCDF4__get_att(PyObject *__pyx_v_grp, int __pyx_v_varid, PyObject *__pyx_v_name) {
  int __pyx_v_ierr;
  size_t __pyx_v_att_len;
  char *__pyx_v_attname;
  nc_type __pyx_v_att_type;
  PyArrayObject *__pyx_v_value_arr;
  PyObject *__pyx_v_pstring;
  PyObject *__pyx_v_type_att;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  int __pyx_3;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  PyObject *__pyx_7 = 0;
  PyObject *__pyx_8 = 0;
  PyObject *__pyx_9 = 0;
  PyObject *__pyx_10 = 0;
  __pyx_v_value_arr = ((PyArrayObject *)Py_None); Py_INCREF(Py_None);
  __pyx_v_pstring = Py_None; Py_INCREF(Py_None);
  __pyx_v_type_att = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":783
 *     cdef nc_type att_type
 *     cdef ndarray value_arr
 *     attname = PyString_AsString(name)             # <<<<<<<<<<<<<<
 *     ierr = nc_inq_att(grp._grpid, varid, attname, &att_type, &att_len)
 *     if ierr != NC_NOERR:
 */
  __pyx_v_attname = PyString_AsString(__pyx_v_name);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":784
 *     cdef ndarray value_arr
 *     attname = PyString_AsString(name)
 *     ierr = nc_inq_att(grp._grpid, varid, attname, &att_type, &att_len)             # <<<<<<<<<<<<<<
 *     if ierr != NC_NOERR:
 *         raise AttributeError(nc_strerror(ierr))
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__grpid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 784; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __pyx_PyInt_int(__pyx_1); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 784; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_ierr = nc_inq_att(__pyx_2, __pyx_v_varid, __pyx_v_attname, (&__pyx_v_att_type), (&__pyx_v_att_len));

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":785
 *     attname = PyString_AsString(name)
 *     ierr = nc_inq_att(grp._grpid, varid, attname, &att_type, &att_len)
 *     if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *         raise AttributeError(nc_strerror(ierr))
 *     # attribute is a character or string ...
 */
  __pyx_3 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_3) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":786
 *     ierr = nc_inq_att(grp._grpid, varid, attname, &att_type, &att_len)
 *     if ierr != NC_NOERR:
 *         raise AttributeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *     # attribute is a character or string ...
 *     if att_type == NC_CHAR or att_type == NC_STRING:
 */
    __pyx_1 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 786; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 786; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_Call(__pyx_builtin_AttributeError, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 786; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 786; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":788
 *         raise AttributeError(nc_strerror(ierr))
 *     # attribute is a character or string ...
 *     if att_type == NC_CHAR or att_type == NC_STRING:             # <<<<<<<<<<<<<<
 *         value_arr = numpy.empty(att_len,'S1')
 *         ierr = nc_get_att_text(grp._grpid, varid, attname, <char *>value_arr.data)
 */
  __pyx_3 = (__pyx_v_att_type == NC_CHAR);
  if (!__pyx_3) {
    __pyx_3 = (__pyx_v_att_type == NC_STRING);
  }
  if (__pyx_3) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":789
 *     # attribute is a character or string ...
 *     if att_type == NC_CHAR or att_type == NC_STRING:
 *         value_arr = numpy.empty(att_len,'S1')             # <<<<<<<<<<<<<<
 *         ierr = nc_get_att_text(grp._grpid, varid, attname, <char *>value_arr.data)
 *         if ierr != NC_NOERR:
 */
    __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 789; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = PyObject_GetAttr(__pyx_4, __pyx_kp_empty); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 789; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_4 = PyInt_FromLong(__pyx_v_att_len); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 789; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_5 = PyTuple_New(2); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 789; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_4);
    Py_INCREF(__pyx_kp_65);
    PyTuple_SET_ITEM(__pyx_5, 1, __pyx_kp_65);
    __pyx_4 = 0;
    __pyx_4 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_5), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 789; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(((PyObject *)__pyx_5)); __pyx_5 = 0;
    if (!(__Pyx_TypeTest(__pyx_4, __pyx_ptype_7netCDF4_ndarray))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 789; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_v_value_arr));
    __pyx_v_value_arr = ((PyArrayObject *)__pyx_4);
    __pyx_4 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":790
 *     if att_type == NC_CHAR or att_type == NC_STRING:
 *         value_arr = numpy.empty(att_len,'S1')
 *         ierr = nc_get_att_text(grp._grpid, varid, attname, <char *>value_arr.data)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise AttributeError(nc_strerror(ierr))
 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__grpid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 790; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = __pyx_PyInt_int(__pyx_1); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 790; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_v_ierr = nc_get_att_text(__pyx_2, __pyx_v_varid, __pyx_v_attname, ((char *)__pyx_v_value_arr->data));

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":791
 *         value_arr = numpy.empty(att_len,'S1')
 *         ierr = nc_get_att_text(grp._grpid, varid, attname, <char *>value_arr.data)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise AttributeError(nc_strerror(ierr))
 *         pstring = value_arr.tostring()
 */
    __pyx_3 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_3) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":792
 *         ierr = nc_get_att_text(grp._grpid, varid, attname, <char *>value_arr.data)
 *         if ierr != NC_NOERR:
 *             raise AttributeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         pstring = value_arr.tostring()
 *         # remove NULL characters from python string
 */
      __pyx_5 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 792; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 792; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_4, 0, __pyx_5);
      __pyx_5 = 0;
      __pyx_1 = PyObject_Call(__pyx_builtin_AttributeError, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 792; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
      __Pyx_Raise(__pyx_1, 0, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 792; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L5;
    }
    __pyx_L5:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":793
 *         if ierr != NC_NOERR:
 *             raise AttributeError(nc_strerror(ierr))
 *         pstring = value_arr.tostring()             # <<<<<<<<<<<<<<
 *         # remove NULL characters from python string
 *         return pstring.replace('\x00','')
 */
    __pyx_5 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_kp_tostring); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 793; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyObject_Call(__pyx_5, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 793; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_v_pstring);
    __pyx_v_pstring = __pyx_4;
    __pyx_4 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":795
 *         pstring = value_arr.tostring()
 *         # remove NULL characters from python string
 *         return pstring.replace('\x00','')             # <<<<<<<<<<<<<<
 *     else:
 *     # a regular numeric or compound type.
 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_pstring, __pyx_kp_replace); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 795; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_5 = PyTuple_New(2); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 795; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_kp_66);
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_kp_66);
    Py_INCREF(__pyx_kp_67);
    PyTuple_SET_ITEM(__pyx_5, 1, __pyx_kp_67);
    __pyx_4 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_5), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 795; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(((PyObject *)__pyx_5)); __pyx_5 = 0;
    __pyx_r = __pyx_4;
    __pyx_4 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":798
 *     else:
 *     # a regular numeric or compound type.
 *         if att_type == NC_LONG:             # <<<<<<<<<<<<<<
 *             att_type = NC_INT
 *         try:
 */
    __pyx_3 = (__pyx_v_att_type == NC_LONG);
    if (__pyx_3) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":799
 *     # a regular numeric or compound type.
 *         if att_type == NC_LONG:
 *             att_type = NC_INT             # <<<<<<<<<<<<<<
 *         try:
 *             type_att = _nctonptype[att_type] # see if it is a primitive type
 */
      __pyx_v_att_type = NC_INT;
      goto __pyx_L6;
    }
    __pyx_L6:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":800
 *         if att_type == NC_LONG:
 *             att_type = NC_INT
 *         try:             # <<<<<<<<<<<<<<
 *             type_att = _nctonptype[att_type] # see if it is a primitive type
 *         except KeyError:
 */
    /*try:*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":801
 *             att_type = NC_INT
 *         try:
 *             type_att = _nctonptype[att_type] # see if it is a primitive type             # <<<<<<<<<<<<<<
 *         except KeyError:
 *             # check if it's a compound
 */
      __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp__nctonptype); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 801; __pyx_clineno = __LINE__; goto __pyx_L7_error;}
      __pyx_5 = __Pyx_GetItemInt(__pyx_1, __pyx_v_att_type, 0); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 801; __pyx_clineno = __LINE__; goto __pyx_L7_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_v_type_att);
      __pyx_v_type_att = __pyx_5;
      __pyx_5 = 0;
    }
    goto __pyx_L8;
    __pyx_L7_error:;
    Py_XDECREF(__pyx_4); __pyx_4 = 0;
    Py_XDECREF(__pyx_1); __pyx_1 = 0;
    Py_XDECREF(__pyx_5); __pyx_5 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":802
 *         try:
 *             type_att = _nctonptype[att_type] # see if it is a primitive type
 *         except KeyError:             # <<<<<<<<<<<<<<
 *             # check if it's a compound
 *             try:
 */
    __pyx_2 = PyErr_ExceptionMatches(__pyx_builtin_KeyError);
    if (__pyx_2) {
      __Pyx_AddTraceback("netCDF4._get_att");
      if (__Pyx_GetException(&__pyx_4, &__pyx_1, &__pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 802; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":804
 *         except KeyError:
 *             # check if it's a compound
 *             try:             # <<<<<<<<<<<<<<
 *                 type_att = _read_compound(grp, att_type)
 *             except:
 */
      /*try:*/ {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":805
 *             # check if it's a compound
 *             try:
 *                 type_att = _read_compound(grp, att_type)             # <<<<<<<<<<<<<<
 *             except:
 *                 raise KeyError('attribute %s has unsupported datatype' % attname)
 */
        __pyx_6 = __pyx_f_7netCDF4__read_compound(__pyx_v_grp, __pyx_v_att_type); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 805; __pyx_clineno = __LINE__; goto __pyx_L9_error;}
        Py_DECREF(__pyx_v_type_att);
        __pyx_v_type_att = __pyx_6;
        __pyx_6 = 0;
      }
      goto __pyx_L10;
      __pyx_L9_error:;
      Py_XDECREF(__pyx_6); __pyx_6 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":806
 *             try:
 *                 type_att = _read_compound(grp, att_type)
 *             except:             # <<<<<<<<<<<<<<
 *                 raise KeyError('attribute %s has unsupported datatype' % attname)
 *         value_arr = numpy.empty(att_len,type_att)
 */
      /*except:*/ {
        __Pyx_AddTraceback("netCDF4._get_att");
        if (__Pyx_GetException(&__pyx_6, &__pyx_7, &__pyx_8) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 806; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":807
 *                 type_att = _read_compound(grp, att_type)
 *             except:
 *                 raise KeyError('attribute %s has unsupported datatype' % attname)             # <<<<<<<<<<<<<<
 *         value_arr = numpy.empty(att_len,type_att)
 *         ierr = nc_get_att(grp._grpid, varid, attname, value_arr.data)
 */
        __pyx_9 = __Pyx_PyBytes_FromString(__pyx_v_attname); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 807; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_10 = PyNumber_Remainder(__pyx_kp_68, __pyx_9); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 807; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_9); __pyx_9 = 0;
        __pyx_9 = PyTuple_New(1); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 807; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        PyTuple_SET_ITEM(__pyx_9, 0, __pyx_10);
        __pyx_10 = 0;
        __pyx_10 = PyObject_Call(__pyx_builtin_KeyError, ((PyObject *)__pyx_9), NULL); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 807; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(((PyObject *)__pyx_9)); __pyx_9 = 0;
        __Pyx_Raise(__pyx_10, 0, 0);
        Py_DECREF(__pyx_10); __pyx_10 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 807; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        Py_DECREF(__pyx_7); __pyx_7 = 0;
        Py_DECREF(__pyx_8); __pyx_8 = 0;
        goto __pyx_L10;
      }
      __pyx_L10:;
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      goto __pyx_L8;
    }
    goto __pyx_L1_error;
    __pyx_L8:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":808
 *             except:
 *                 raise KeyError('attribute %s has unsupported datatype' % attname)
 *         value_arr = numpy.empty(att_len,type_att)             # <<<<<<<<<<<<<<
 *         ierr = nc_get_att(grp._grpid, varid, attname, value_arr.data)
 *         if ierr != NC_NOERR:
 */
    __pyx_9 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 808; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_10 = PyObject_GetAttr(__pyx_9, __pyx_kp_empty); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 808; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_9); __pyx_9 = 0;
    __pyx_6 = PyInt_FromLong(__pyx_v_att_len); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 808; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_7 = PyTuple_New(2); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 808; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_7, 0, __pyx_6);
    Py_INCREF(__pyx_v_type_att);
    PyTuple_SET_ITEM(__pyx_7, 1, __pyx_v_type_att);
    __pyx_6 = 0;
    __pyx_8 = PyObject_Call(__pyx_10, ((PyObject *)__pyx_7), NULL); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 808; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_10); __pyx_10 = 0;
    Py_DECREF(((PyObject *)__pyx_7)); __pyx_7 = 0;
    if (!(__Pyx_TypeTest(__pyx_8, __pyx_ptype_7netCDF4_ndarray))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 808; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_v_value_arr));
    __pyx_v_value_arr = ((PyArrayObject *)__pyx_8);
    __pyx_8 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":809
 *                 raise KeyError('attribute %s has unsupported datatype' % attname)
 *         value_arr = numpy.empty(att_len,type_att)
 *         ierr = nc_get_att(grp._grpid, varid, attname, value_arr.data)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise AttributeError(nc_strerror(ierr))
 */
    __pyx_4 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__grpid); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 809; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = __pyx_PyInt_int(__pyx_4); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 809; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_v_ierr = nc_get_att(__pyx_2, __pyx_v_varid, __pyx_v_attname, __pyx_v_value_arr->data);

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":810
 *         value_arr = numpy.empty(att_len,type_att)
 *         ierr = nc_get_att(grp._grpid, varid, attname, value_arr.data)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise AttributeError(nc_strerror(ierr))
 *         if value_arr.shape == ():
 */
    __pyx_3 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_3) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":811
 *         ierr = nc_get_att(grp._grpid, varid, attname, value_arr.data)
 *         if ierr != NC_NOERR:
 *             raise AttributeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         if value_arr.shape == ():
 *             # return a scalar for a scalar array
 */
      __pyx_1 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 811; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_5 = PyTuple_New(1); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 811; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_5, 0, __pyx_1);
      __pyx_1 = 0;
      __pyx_9 = PyObject_Call(__pyx_builtin_AttributeError, ((PyObject *)__pyx_5), NULL); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 811; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_5)); __pyx_5 = 0;
      __Pyx_Raise(__pyx_9, 0, 0);
      Py_DECREF(__pyx_9); __pyx_9 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 811; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L11;
    }
    __pyx_L11:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":812
 *         if ierr != NC_NOERR:
 *             raise AttributeError(nc_strerror(ierr))
 *         if value_arr.shape == ():             # <<<<<<<<<<<<<<
 *             # return a scalar for a scalar array
 *             return value_arr.item()
 */
    __pyx_6 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_kp_shape); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 812; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_10 = PyObject_RichCompare(__pyx_6, ((PyObject *)__pyx_empty_tuple), Py_EQ); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 812; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_10); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 812; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_10); __pyx_10 = 0;
    if (__pyx_3) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":814
 *         if value_arr.shape == ():
 *             # return a scalar for a scalar array
 *             return value_arr.item()             # <<<<<<<<<<<<<<
 *         elif att_len == 1:
 *             # return a scalar for a single element array
 */
      __pyx_7 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_kp_item); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 814; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_8 = PyObject_Call(__pyx_7, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 814; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_7); __pyx_7 = 0;
      __pyx_r = __pyx_8;
      __pyx_8 = 0;
      goto __pyx_L0;
      goto __pyx_L12;
    }

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":815
 *             # return a scalar for a scalar array
 *             return value_arr.item()
 *         elif att_len == 1:             # <<<<<<<<<<<<<<
 *             # return a scalar for a single element array
 *             return value_arr[0]
 */
    __pyx_3 = (__pyx_v_att_len == 1);
    if (__pyx_3) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":817
 *         elif att_len == 1:
 *             # return a scalar for a single element array
 *             return value_arr[0]             # <<<<<<<<<<<<<<
 *         else:
 *             return value_arr
 */
      __pyx_4 = __Pyx_GetItemInt(((PyObject *)__pyx_v_value_arr), 0, 0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 817; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_r = __pyx_4;
      __pyx_4 = 0;
      goto __pyx_L0;
      goto __pyx_L12;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":819
 *             return value_arr[0]
 *         else:
 *             return value_arr             # <<<<<<<<<<<<<<
 * 
 * def _set_default_format(object format='NETCDF4',object verbose=False):
 */
      Py_INCREF(((PyObject *)__pyx_v_value_arr));
      __pyx_r = ((PyObject *)__pyx_v_value_arr);
      goto __pyx_L0;
    }
    __pyx_L12:;
  }
  __pyx_L4:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  Py_XDECREF(__pyx_7);
  Py_XDECREF(__pyx_8);
  Py_XDECREF(__pyx_9);
  Py_XDECREF(__pyx_10);
  __Pyx_AddTraceback("netCDF4._get_att");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_value_arr);
  Py_DECREF(__pyx_v_pstring);
  Py_DECREF(__pyx_v_type_att);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":821
 *             return value_arr
 * 
 * def _set_default_format(object format='NETCDF4',object verbose=False):             # <<<<<<<<<<<<<<
 *     # Private function to set the netCDF file format
 *     if format == 'NETCDF4':
 */

static PyObject *__pyx_pf_7netCDF4__set_default_format(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_pf_7netCDF4__set_default_format(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_format = 0;
  PyObject *__pyx_v_verbose = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  static char *__pyx_argnames[] = {"format","verbose",0};
  __pyx_self = __pyx_self;
  __pyx_v_format = __pyx_kp_32;
  __pyx_v_verbose = __pyx_k_33;
  if (likely(!__pyx_kwds) && likely(0 <= PyTuple_GET_SIZE(__pyx_args)) && likely(PyTuple_GET_SIZE(__pyx_args) <= 2)) {
    if (PyTuple_GET_SIZE(__pyx_args) > 0) {
      __pyx_v_format = PyTuple_GET_ITEM(__pyx_args, 0);
      if (PyTuple_GET_SIZE(__pyx_args) > 1) {
        __pyx_v_verbose = PyTuple_GET_ITEM(__pyx_args, 1);
      }
    }
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "|OO", __pyx_argnames, &__pyx_v_format, &__pyx_v_verbose))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 821; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4._set_default_format");
  return NULL;
  __pyx_L4:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":823
 * def _set_default_format(object format='NETCDF4',object verbose=False):
 *     # Private function to set the netCDF file format
 *     if format == 'NETCDF4':             # <<<<<<<<<<<<<<
 *         if verbose:
 *             print "Switching to netCDF-4 format"
 */
  __pyx_1 = PyObject_RichCompare(__pyx_v_format, __pyx_kp_69, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 823; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 823; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":824
 *     # Private function to set the netCDF file format
 *     if format == 'NETCDF4':
 *         if verbose:             # <<<<<<<<<<<<<<
 *             print "Switching to netCDF-4 format"
 *         nc_set_default_format(NC_FORMAT_NETCDF4, NULL)
 */
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_v_verbose); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 824; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_2) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":825
 *     if format == 'NETCDF4':
 *         if verbose:
 *             print "Switching to netCDF-4 format"             # <<<<<<<<<<<<<<
 *         nc_set_default_format(NC_FORMAT_NETCDF4, NULL)
 *     elif format == 'NETCDF4_CLASSIC':
 */
      __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 825; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_kp_70);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_kp_70);
      if (__Pyx_Print(((PyObject *)__pyx_1), 1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 825; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
      goto __pyx_L6;
    }
    __pyx_L6:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":826
 *         if verbose:
 *             print "Switching to netCDF-4 format"
 *         nc_set_default_format(NC_FORMAT_NETCDF4, NULL)             # <<<<<<<<<<<<<<
 *     elif format == 'NETCDF4_CLASSIC':
 *         if verbose:
 */
    nc_set_default_format(NC_FORMAT_NETCDF4, NULL);
    goto __pyx_L5;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":827
 *             print "Switching to netCDF-4 format"
 *         nc_set_default_format(NC_FORMAT_NETCDF4, NULL)
 *     elif format == 'NETCDF4_CLASSIC':             # <<<<<<<<<<<<<<
 *         if verbose:
 *             print "Switching to netCDF-4 format (with NC_CLASSIC_MODEL)"
 */
  __pyx_1 = PyObject_RichCompare(__pyx_v_format, __pyx_kp_71, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 827; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 827; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":828
 *         nc_set_default_format(NC_FORMAT_NETCDF4, NULL)
 *     elif format == 'NETCDF4_CLASSIC':
 *         if verbose:             # <<<<<<<<<<<<<<
 *             print "Switching to netCDF-4 format (with NC_CLASSIC_MODEL)"
 *         nc_set_default_format(NC_FORMAT_NETCDF4_CLASSIC, NULL)
 */
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_v_verbose); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 828; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_2) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":829
 *     elif format == 'NETCDF4_CLASSIC':
 *         if verbose:
 *             print "Switching to netCDF-4 format (with NC_CLASSIC_MODEL)"             # <<<<<<<<<<<<<<
 *         nc_set_default_format(NC_FORMAT_NETCDF4_CLASSIC, NULL)
 *     elif format == 'NETCDF3_64BIT':
 */
      __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 829; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_kp_72);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_kp_72);
      if (__Pyx_Print(((PyObject *)__pyx_1), 1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 829; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
      goto __pyx_L7;
    }
    __pyx_L7:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":830
 *         if verbose:
 *             print "Switching to netCDF-4 format (with NC_CLASSIC_MODEL)"
 *         nc_set_default_format(NC_FORMAT_NETCDF4_CLASSIC, NULL)             # <<<<<<<<<<<<<<
 *     elif format == 'NETCDF3_64BIT':
 *         if verbose:
 */
    nc_set_default_format(NC_FORMAT_NETCDF4_CLASSIC, NULL);
    goto __pyx_L5;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":831
 *             print "Switching to netCDF-4 format (with NC_CLASSIC_MODEL)"
 *         nc_set_default_format(NC_FORMAT_NETCDF4_CLASSIC, NULL)
 *     elif format == 'NETCDF3_64BIT':             # <<<<<<<<<<<<<<
 *         if verbose:
 *             print "Switching to 64-bit offset format"
 */
  __pyx_1 = PyObject_RichCompare(__pyx_v_format, __pyx_kp_73, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 831; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 831; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":832
 *         nc_set_default_format(NC_FORMAT_NETCDF4_CLASSIC, NULL)
 *     elif format == 'NETCDF3_64BIT':
 *         if verbose:             # <<<<<<<<<<<<<<
 *             print "Switching to 64-bit offset format"
 *         nc_set_default_format(NC_FORMAT_64BIT, NULL)
 */
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_v_verbose); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 832; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_2) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":833
 *     elif format == 'NETCDF3_64BIT':
 *         if verbose:
 *             print "Switching to 64-bit offset format"             # <<<<<<<<<<<<<<
 *         nc_set_default_format(NC_FORMAT_64BIT, NULL)
 *     elif format == 'NETCDF3_CLASSIC':
 */
      __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 833; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_kp_74);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_kp_74);
      if (__Pyx_Print(((PyObject *)__pyx_1), 1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 833; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
      goto __pyx_L8;
    }
    __pyx_L8:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":834
 *         if verbose:
 *             print "Switching to 64-bit offset format"
 *         nc_set_default_format(NC_FORMAT_64BIT, NULL)             # <<<<<<<<<<<<<<
 *     elif format == 'NETCDF3_CLASSIC':
 *         if verbose:
 */
    nc_set_default_format(NC_FORMAT_64BIT, NULL);
    goto __pyx_L5;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":835
 *             print "Switching to 64-bit offset format"
 *         nc_set_default_format(NC_FORMAT_64BIT, NULL)
 *     elif format == 'NETCDF3_CLASSIC':             # <<<<<<<<<<<<<<
 *         if verbose:
 *             print "Switching to netCDF classic format"
 */
  __pyx_1 = PyObject_RichCompare(__pyx_v_format, __pyx_kp_75, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 835; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 835; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":836
 *         nc_set_default_format(NC_FORMAT_64BIT, NULL)
 *     elif format == 'NETCDF3_CLASSIC':
 *         if verbose:             # <<<<<<<<<<<<<<
 *             print "Switching to netCDF classic format"
 *         nc_set_default_format(NC_FORMAT_CLASSIC, NULL)
 */
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_v_verbose); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 836; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_2) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":837
 *     elif format == 'NETCDF3_CLASSIC':
 *         if verbose:
 *             print "Switching to netCDF classic format"             # <<<<<<<<<<<<<<
 *         nc_set_default_format(NC_FORMAT_CLASSIC, NULL)
 *     else:
 */
      __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 837; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_kp_76);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_kp_76);
      if (__Pyx_Print(((PyObject *)__pyx_1), 1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 837; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
      goto __pyx_L9;
    }
    __pyx_L9:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":838
 *         if verbose:
 *             print "Switching to netCDF classic format"
 *         nc_set_default_format(NC_FORMAT_CLASSIC, NULL)             # <<<<<<<<<<<<<<
 *     else:
 *         raise ValueError, "format must be 'NETCDF4', 'NETCDF4_CLASSIC', 'NETCDF3_64BIT', or 'NETCDF3_CLASSIC', got '%s'" % format
 */
    nc_set_default_format(NC_FORMAT_CLASSIC, NULL);
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":840
 *         nc_set_default_format(NC_FORMAT_CLASSIC, NULL)
 *     else:
 *         raise ValueError, "format must be 'NETCDF4', 'NETCDF4_CLASSIC', 'NETCDF3_64BIT', or 'NETCDF3_CLASSIC', got '%s'" % format             # <<<<<<<<<<<<<<
 * 
 * cdef _get_format(int grpid):
 */
    __pyx_1 = PyNumber_Remainder(__pyx_kp_77, __pyx_v_format); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 840; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_Raise(__pyx_builtin_ValueError, __pyx_1, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 840; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  __pyx_L5:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("netCDF4._set_default_format");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":842
 *         raise ValueError, "format must be 'NETCDF4', 'NETCDF4_CLASSIC', 'NETCDF3_64BIT', or 'NETCDF3_CLASSIC', got '%s'" % format
 * 
 * cdef _get_format(int grpid):             # <<<<<<<<<<<<<<
 *     # Private function to get the netCDF file format
 *     cdef int ierr, formatp
 */

static  PyObject *__pyx_f_7netCDF4__get_format(int __pyx_v_grpid) {
  int __pyx_v_ierr;
  int __pyx_v_formatp;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":845
 *     # Private function to get the netCDF file format
 *     cdef int ierr, formatp
 *     ierr = nc_inq_format(grpid, &formatp)             # <<<<<<<<<<<<<<
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_format(__pyx_v_grpid, (&__pyx_v_formatp));

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":846
 *     cdef int ierr, formatp
 *     ierr = nc_inq_format(grpid, &formatp)
 *     if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *         raise RuntimeError(nc_strerror(ierr))
 *     if formatp == NC_FORMAT_NETCDF4:
 */
  __pyx_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_1) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":847
 *     ierr = nc_inq_format(grpid, &formatp)
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *     if formatp == NC_FORMAT_NETCDF4:
 *         return 'NETCDF4'
 */
    __pyx_2 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 847; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 847; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 847; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 847; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":848
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 *     if formatp == NC_FORMAT_NETCDF4:             # <<<<<<<<<<<<<<
 *         return 'NETCDF4'
 *     elif formatp == NC_FORMAT_NETCDF4_CLASSIC:
 */
  switch (__pyx_v_formatp) {
    case NC_FORMAT_NETCDF4:

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":849
 *         raise RuntimeError(nc_strerror(ierr))
 *     if formatp == NC_FORMAT_NETCDF4:
 *         return 'NETCDF4'             # <<<<<<<<<<<<<<
 *     elif formatp == NC_FORMAT_NETCDF4_CLASSIC:
 *         return 'NETCDF4_CLASSIC'
 */
    Py_INCREF(__pyx_kp_78);
    __pyx_r = __pyx_kp_78;
    goto __pyx_L0;
    break;
    case NC_FORMAT_NETCDF4_CLASSIC:

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":851
 *         return 'NETCDF4'
 *     elif formatp == NC_FORMAT_NETCDF4_CLASSIC:
 *         return 'NETCDF4_CLASSIC'             # <<<<<<<<<<<<<<
 *     elif formatp == NC_FORMAT_64BIT:
 *         return 'NETCDF3_64BIT'
 */
    Py_INCREF(__pyx_kp_79);
    __pyx_r = __pyx_kp_79;
    goto __pyx_L0;
    break;
    case NC_FORMAT_64BIT:

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":853
 *         return 'NETCDF4_CLASSIC'
 *     elif formatp == NC_FORMAT_64BIT:
 *         return 'NETCDF3_64BIT'             # <<<<<<<<<<<<<<
 *     elif formatp == NC_FORMAT_CLASSIC:
 *         return 'NETCDF3_CLASSIC'
 */
    Py_INCREF(__pyx_kp_80);
    __pyx_r = __pyx_kp_80;
    goto __pyx_L0;
    break;
    case NC_FORMAT_CLASSIC:

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":855
 *         return 'NETCDF3_64BIT'
 *     elif formatp == NC_FORMAT_CLASSIC:
 *         return 'NETCDF3_CLASSIC'             # <<<<<<<<<<<<<<
 * 
 * cdef _set_att(grp, int varid, name, value):
 */
    Py_INCREF(__pyx_kp_81);
    __pyx_r = __pyx_kp_81;
    goto __pyx_L0;
    break;
  }

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4._get_format");
  __pyx_r = 0;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":857
 *         return 'NETCDF3_CLASSIC'
 * 
 * cdef _set_att(grp, int varid, name, value):             # <<<<<<<<<<<<<<
 *     # Private function to set an attribute name/value pair
 *     cdef int i, ierr, lenarr, n
 */

static  PyObject *__pyx_f_7netCDF4__set_att(PyObject *__pyx_v_grp, int __pyx_v_varid, PyObject *__pyx_v_name, PyObject *__pyx_v_value) {
  int __pyx_v_ierr;
  int __pyx_v_lenarr;
  char *__pyx_v_attname;
  char *__pyx_v_datstring;
  PyArrayObject *__pyx_v_value_arr;
  PyObject *__pyx_v_dats;
  PyObject *__pyx_v_xtype;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  int __pyx_5;
  Py_ssize_t __pyx_6 = 0;
  nc_type __pyx_7;
  __pyx_v_value_arr = ((PyArrayObject *)Py_None); Py_INCREF(Py_None);
  __pyx_v_dats = Py_None; Py_INCREF(Py_None);
  __pyx_v_xtype = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":862
 *     cdef char *attname, *datstring
 *     cdef ndarray value_arr
 *     attname = PyString_AsString(name)             # <<<<<<<<<<<<<<
 *     # put attribute value into a numpy array.
 *     value_arr = numpy.array(value)
 */
  __pyx_v_attname = PyString_AsString(__pyx_v_name);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":864
 *     attname = PyString_AsString(name)
 *     # put attribute value into a numpy array.
 *     value_arr = numpy.array(value)             # <<<<<<<<<<<<<<
 *     # if array is 64 bit integers or
 *     # if 64-bit datatype not supported, cast to 32 bit integers.
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 864; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_kp_array); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 864; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 864; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_value);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_value);
  __pyx_3 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 864; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  if (!(__Pyx_TypeTest(__pyx_3, __pyx_ptype_7netCDF4_ndarray))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 864; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_v_value_arr));
  __pyx_v_value_arr = ((PyArrayObject *)__pyx_3);
  __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":867
 *     # if array is 64 bit integers or
 *     # if 64-bit datatype not supported, cast to 32 bit integers.
 *     if value_arr.dtype.str[1:] == 'i8' and ('i8' not in _supportedtypes or\             # <<<<<<<<<<<<<<
 *        _get_format(grp._grpid).startswith('NETCDF3')):
 *         value_arr = value_arr.astype('i4')
 */
  __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_kp_dtype); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 867; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyObject_GetAttr(__pyx_1, __pyx_kp_str); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 867; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PySequence_GetSlice(__pyx_3, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 867; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = PyObject_RichCompare(__pyx_1, __pyx_kp_82, Py_EQ); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 867; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 867; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_4) {
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_kp__supportedtypes); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 867; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = (!PySequence_Contains(__pyx_3, __pyx_kp_83)); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 867; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_2 = __Pyx_PyBool_FromLong(__pyx_4); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 867; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 867; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (!__pyx_4) {
      Py_DECREF(__pyx_2); __pyx_2 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":868
 *     # if 64-bit datatype not supported, cast to 32 bit integers.
 *     if value_arr.dtype.str[1:] == 'i8' and ('i8' not in _supportedtypes or\
 *        _get_format(grp._grpid).startswith('NETCDF3')):             # <<<<<<<<<<<<<<
 *         value_arr = value_arr.astype('i4')
 *     # if array contains strings, write a text attribute.
 */
      __pyx_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__grpid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 868; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_5 = __pyx_PyInt_int(__pyx_1); if (unlikely((__pyx_5 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 868; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = __pyx_f_7netCDF4__get_format(__pyx_5); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 868; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_1 = PyObject_GetAttr(__pyx_3, __pyx_kp_startswith); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 868; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 868; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_kp_84);
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_kp_84);
      __pyx_2 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 868; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    }
  }
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 867; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":869
 *     if value_arr.dtype.str[1:] == 'i8' and ('i8' not in _supportedtypes or\
 *        _get_format(grp._grpid).startswith('NETCDF3')):
 *         value_arr = value_arr.astype('i4')             # <<<<<<<<<<<<<<
 *     # if array contains strings, write a text attribute.
 *     if value_arr.dtype.char == 'S':
 */
    __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_kp_astype); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 869; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 869; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_kp_85);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_kp_85);
    __pyx_2 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 869; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    if (!(__Pyx_TypeTest(__pyx_2, __pyx_ptype_7netCDF4_ndarray))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 869; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_v_value_arr));
    __pyx_v_value_arr = ((PyArrayObject *)__pyx_2);
    __pyx_2 = 0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":871
 *         value_arr = value_arr.astype('i4')
 *     # if array contains strings, write a text attribute.
 *     if value_arr.dtype.char == 'S':             # <<<<<<<<<<<<<<
 *         dats = value_arr.tostring()
 *         datstring = PyString_AsString(dats)
 */
  __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_kp_dtype); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 871; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyObject_GetAttr(__pyx_1, __pyx_kp_char); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 871; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_2 = PyObject_RichCompare(__pyx_3, __pyx_kp_86, Py_EQ); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 871; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 871; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":872
 *     # if array contains strings, write a text attribute.
 *     if value_arr.dtype.char == 'S':
 *         dats = value_arr.tostring()             # <<<<<<<<<<<<<<
 *         datstring = PyString_AsString(dats)
 *         lenarr = len(dats)
 */
    __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_kp_tostring); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 872; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 872; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_v_dats);
    __pyx_v_dats = __pyx_3;
    __pyx_3 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":873
 *     if value_arr.dtype.char == 'S':
 *         dats = value_arr.tostring()
 *         datstring = PyString_AsString(dats)             # <<<<<<<<<<<<<<
 *         lenarr = len(dats)
 *         ierr = nc_put_att_text(grp._grpid, varid, attname, lenarr, datstring)
 */
    __pyx_v_datstring = PyString_AsString(__pyx_v_dats);

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":874
 *         dats = value_arr.tostring()
 *         datstring = PyString_AsString(dats)
 *         lenarr = len(dats)             # <<<<<<<<<<<<<<
 *         ierr = nc_put_att_text(grp._grpid, varid, attname, lenarr, datstring)
 *         if ierr != NC_NOERR:
 */
    __pyx_6 = PyObject_Length(__pyx_v_dats); if (unlikely(__pyx_6 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 874; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_v_lenarr = __pyx_6;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":875
 *         datstring = PyString_AsString(dats)
 *         lenarr = len(dats)
 *         ierr = nc_put_att_text(grp._grpid, varid, attname, lenarr, datstring)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise AttributeError(nc_strerror(ierr))
 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__grpid); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 875; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_5 = __pyx_PyInt_int(__pyx_2); if (unlikely((__pyx_5 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 875; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_v_ierr = nc_put_att_text(__pyx_5, __pyx_v_varid, __pyx_v_attname, __pyx_v_lenarr, __pyx_v_datstring);

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":876
 *         lenarr = len(dats)
 *         ierr = nc_put_att_text(grp._grpid, varid, attname, lenarr, datstring)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise AttributeError(nc_strerror(ierr))
 *     # a 'regular' array type ('f4','i4','f8' etc)
 */
    __pyx_4 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_4) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":877
 *         ierr = nc_put_att_text(grp._grpid, varid, attname, lenarr, datstring)
 *         if ierr != NC_NOERR:
 *             raise AttributeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *     # a 'regular' array type ('f4','i4','f8' etc)
 *     else:
 */
      __pyx_1 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 877; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 877; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
      __pyx_1 = 0;
      __pyx_2 = PyObject_Call(__pyx_builtin_AttributeError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 877; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
      __Pyx_Raise(__pyx_2, 0, 0);
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 877; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L5;
    }
    __pyx_L5:;
    goto __pyx_L4;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":880
 *     # a 'regular' array type ('f4','i4','f8' etc)
 *     else:
 *         if value_arr.dtype.kind == 'V': # compound attribute.             # <<<<<<<<<<<<<<
 *             xtype = _find_cmptype(grp,value_arr.dtype)
 *         elif value_arr.dtype.str[1:] not in _supportedtypes:
 */
    __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_kp_dtype); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 880; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyObject_GetAttr(__pyx_1, __pyx_kp_kind); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 880; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_2 = PyObject_RichCompare(__pyx_3, __pyx_kp_87, Py_EQ); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 880; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 880; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (__pyx_4) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":881
 *     else:
 *         if value_arr.dtype.kind == 'V': # compound attribute.
 *             xtype = _find_cmptype(grp,value_arr.dtype)             # <<<<<<<<<<<<<<
 *         elif value_arr.dtype.str[1:] not in _supportedtypes:
 *             raise TypeError, 'illegal data type for attribute, must be one of %s, got %s' % (_supportedtypes, value_arr.dtype.str[1:])
 */
      __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_kp_dtype); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 881; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = __pyx_f_7netCDF4__find_cmptype(__pyx_v_grp, __pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 881; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_v_xtype);
      __pyx_v_xtype = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L6;
    }

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":882
 *         if value_arr.dtype.kind == 'V': # compound attribute.
 *             xtype = _find_cmptype(grp,value_arr.dtype)
 *         elif value_arr.dtype.str[1:] not in _supportedtypes:             # <<<<<<<<<<<<<<
 *             raise TypeError, 'illegal data type for attribute, must be one of %s, got %s' % (_supportedtypes, value_arr.dtype.str[1:])
 *         else:
 */
    __pyx_2 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_kp_dtype); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 882; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_kp_str); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 882; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_3 = PySequence_GetSlice(__pyx_1, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 882; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_kp__supportedtypes); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 882; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = (!PySequence_Contains(__pyx_2, __pyx_3)); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 882; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (__pyx_4) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":883
 *             xtype = _find_cmptype(grp,value_arr.dtype)
 *         elif value_arr.dtype.str[1:] not in _supportedtypes:
 *             raise TypeError, 'illegal data type for attribute, must be one of %s, got %s' % (_supportedtypes, value_arr.dtype.str[1:])             # <<<<<<<<<<<<<<
 *         else:
 *             xtype = _nptonctype[value_arr.dtype.str[1:]]
 */
      __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp__supportedtypes); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 883; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_kp_dtype); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 883; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_2 = PyObject_GetAttr(__pyx_3, __pyx_kp_str); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 883; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_3 = PySequence_GetSlice(__pyx_2, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 883; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_2 = PyTuple_New(2); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 883; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
      PyTuple_SET_ITEM(__pyx_2, 1, __pyx_3);
      __pyx_1 = 0;
      __pyx_3 = 0;
      __pyx_1 = PyNumber_Remainder(__pyx_kp_88, ((PyObject *)__pyx_2)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 883; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
      __Pyx_Raise(__pyx_builtin_TypeError, __pyx_1, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 883; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L6;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":885
 *             raise TypeError, 'illegal data type for attribute, must be one of %s, got %s' % (_supportedtypes, value_arr.dtype.str[1:])
 *         else:
 *             xtype = _nptonctype[value_arr.dtype.str[1:]]             # <<<<<<<<<<<<<<
 *         lenarr = PyArray_SIZE(value_arr)
 *         ierr = nc_put_att(grp._grpid, varid, attname, xtype, lenarr, value_arr.data)
 */
      __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_kp__nptonctype); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 885; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_2 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_kp_dtype); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 885; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_kp_str); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 885; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_2 = PySequence_GetSlice(__pyx_1, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 885; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_1 = PyObject_GetItem(__pyx_3, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 885; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_v_xtype);
      __pyx_v_xtype = __pyx_1;
      __pyx_1 = 0;
    }
    __pyx_L6:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":886
 *         else:
 *             xtype = _nptonctype[value_arr.dtype.str[1:]]
 *         lenarr = PyArray_SIZE(value_arr)             # <<<<<<<<<<<<<<
 *         ierr = nc_put_att(grp._grpid, varid, attname, xtype, lenarr, value_arr.data)
 *         if ierr != NC_NOERR:
 */
    __pyx_v_lenarr = PyArray_SIZE(__pyx_v_value_arr);

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":887
 *             xtype = _nptonctype[value_arr.dtype.str[1:]]
 *         lenarr = PyArray_SIZE(value_arr)
 *         ierr = nc_put_att(grp._grpid, varid, attname, xtype, lenarr, value_arr.data)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise AttributeError(nc_strerror(ierr))
 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__grpid); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 887; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_5 = __pyx_PyInt_int(__pyx_3); if (unlikely((__pyx_5 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 887; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_7 = __pyx_PyInt_int(__pyx_v_xtype); if (unlikely((__pyx_7 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 887; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_v_ierr = nc_put_att(__pyx_5, __pyx_v_varid, __pyx_v_attname, __pyx_7, __pyx_v_lenarr, __pyx_v_value_arr->data);

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":888
 *         lenarr = PyArray_SIZE(value_arr)
 *         ierr = nc_put_att(grp._grpid, varid, attname, xtype, lenarr, value_arr.data)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise AttributeError(nc_strerror(ierr))
 * 
 */
    __pyx_4 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_4) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":889
 *         ierr = nc_put_att(grp._grpid, varid, attname, xtype, lenarr, value_arr.data)
 *         if ierr != NC_NOERR:
 *             raise AttributeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 * 
 * cdef _get_dims(group):
 */
      __pyx_2 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 889; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 889; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
      __pyx_2 = 0;
      __pyx_3 = PyObject_Call(__pyx_builtin_AttributeError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 889; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
      __Pyx_Raise(__pyx_3, 0, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 889; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L7;
    }
    __pyx_L7:;
  }
  __pyx_L4:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4._set_att");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_value_arr);
  Py_DECREF(__pyx_v_dats);
  Py_DECREF(__pyx_v_xtype);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":891
 *             raise AttributeError(nc_strerror(ierr))
 * 
 * cdef _get_dims(group):             # <<<<<<<<<<<<<<
 *     # Private function to create L{Dimension} instances for all the
 *     # dimensions in a L{Group} or Dataset
 */

static  PyObject *__pyx_f_7netCDF4__get_dims(PyObject *__pyx_v_group) {
  int __pyx_v_ierr;
  int __pyx_v_numdims;
  int __pyx_v_n;
  int __pyx_v_dimids[NC_MAX_DIMS];
  char __pyx_v_namstring[(NC_MAX_NAME + 1)];
  PyObject *__pyx_v_dimensions;
  PyObject *__pyx_v_name;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  int __pyx_3;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  __pyx_v_dimensions = Py_None; Py_INCREF(Py_None);
  __pyx_v_name = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":898
 *     cdef char namstring[NC_MAX_NAME+1]
 *     # get number of dimensions in this Group.
 *     ierr = nc_inq_ndims(group._grpid, &numdims)             # <<<<<<<<<<<<<<
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_group, __pyx_kp__grpid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 898; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __pyx_PyInt_int(__pyx_1); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 898; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_ierr = nc_inq_ndims(__pyx_2, (&__pyx_v_numdims));

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":899
 *     # get number of dimensions in this Group.
 *     ierr = nc_inq_ndims(group._grpid, &numdims)
 *     if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *         raise RuntimeError(nc_strerror(ierr))
 *     # create empty dictionary for dimensions.
 */
  __pyx_3 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_3) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":900
 *     ierr = nc_inq_ndims(group._grpid, &numdims)
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *     # create empty dictionary for dimensions.
 *     dimensions = {}
 */
    __pyx_1 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 900; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 900; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 900; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 900; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":902
 *         raise RuntimeError(nc_strerror(ierr))
 *     # create empty dictionary for dimensions.
 *     dimensions = {}             # <<<<<<<<<<<<<<
 *     if numdims > 0:
 *         if group.file_format == 'NETCDF4':
 */
  __pyx_4 = PyDict_New(); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 902; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_dimensions);
  __pyx_v_dimensions = ((PyObject *)__pyx_4);
  __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":903
 *     # create empty dictionary for dimensions.
 *     dimensions = {}
 *     if numdims > 0:             # <<<<<<<<<<<<<<
 *         if group.file_format == 'NETCDF4':
 *             ierr = nc_inq_dimids(group._grpid, &numdims, dimids, 0)
 */
  __pyx_3 = (__pyx_v_numdims > 0);
  if (__pyx_3) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":904
 *     dimensions = {}
 *     if numdims > 0:
 *         if group.file_format == 'NETCDF4':             # <<<<<<<<<<<<<<
 *             ierr = nc_inq_dimids(group._grpid, &numdims, dimids, 0)
 *             if ierr != NC_NOERR:
 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_group, __pyx_kp_file_format); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 904; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyObject_RichCompare(__pyx_1, __pyx_kp_89, Py_EQ); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 904; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_4); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 904; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    if (__pyx_3) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":905
 *     if numdims > 0:
 *         if group.file_format == 'NETCDF4':
 *             ierr = nc_inq_dimids(group._grpid, &numdims, dimids, 0)             # <<<<<<<<<<<<<<
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_1 = PyObject_GetAttr(__pyx_v_group, __pyx_kp__grpid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 905; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_2 = __pyx_PyInt_int(__pyx_1); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 905; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_v_ierr = nc_inq_dimids(__pyx_2, (&__pyx_v_numdims), __pyx_v_dimids, 0);

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":906
 *         if group.file_format == 'NETCDF4':
 *             ierr = nc_inq_dimids(group._grpid, &numdims, dimids, 0)
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                 raise RuntimeError(nc_strerror(ierr))
 *         else:
 */
      __pyx_3 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_3) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":907
 *             ierr = nc_inq_dimids(group._grpid, &numdims, dimids, 0)
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         else:
 *             for n from 0 <= n < numdims:
 */
        __pyx_4 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 907; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 907; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        PyTuple_SET_ITEM(__pyx_1, 0, __pyx_4);
        __pyx_4 = 0;
        __pyx_4 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 907; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
        __Pyx_Raise(__pyx_4, 0, 0);
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 907; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        goto __pyx_L6;
      }
      __pyx_L6:;
      goto __pyx_L5;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":909
 *                 raise RuntimeError(nc_strerror(ierr))
 *         else:
 *             for n from 0 <= n < numdims:             # <<<<<<<<<<<<<<
 *                 dimids[n] = n
 *         for n from 0 <= n < numdims:
 */
      for (__pyx_v_n = 0; __pyx_v_n < __pyx_v_numdims; __pyx_v_n++) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":910
 *         else:
 *             for n from 0 <= n < numdims:
 *                 dimids[n] = n             # <<<<<<<<<<<<<<
 *         for n from 0 <= n < numdims:
 *             ierr = nc_inq_dimname(group._grpid, dimids[n], namstring)
 */
        (__pyx_v_dimids[__pyx_v_n]) = __pyx_v_n;
      }
    }
    __pyx_L5:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":911
 *             for n from 0 <= n < numdims:
 *                 dimids[n] = n
 *         for n from 0 <= n < numdims:             # <<<<<<<<<<<<<<
 *             ierr = nc_inq_dimname(group._grpid, dimids[n], namstring)
 *             if ierr != NC_NOERR:
 */
    for (__pyx_v_n = 0; __pyx_v_n < __pyx_v_numdims; __pyx_v_n++) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":912
 *                 dimids[n] = n
 *         for n from 0 <= n < numdims:
 *             ierr = nc_inq_dimname(group._grpid, dimids[n], namstring)             # <<<<<<<<<<<<<<
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_1 = PyObject_GetAttr(__pyx_v_group, __pyx_kp__grpid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 912; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_2 = __pyx_PyInt_int(__pyx_1); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 912; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_v_ierr = nc_inq_dimname(__pyx_2, (__pyx_v_dimids[__pyx_v_n]), __pyx_v_namstring);

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":913
 *         for n from 0 <= n < numdims:
 *             ierr = nc_inq_dimname(group._grpid, dimids[n], namstring)
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                 raise RuntimeError(nc_strerror(ierr))
 *             name = namstring
 */
      __pyx_3 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_3) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":914
 *             ierr = nc_inq_dimname(group._grpid, dimids[n], namstring)
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *             name = namstring
 *             dimensions[name] = Dimension(group, name, id=dimids[n])
 */
        __pyx_4 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 914; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 914; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        PyTuple_SET_ITEM(__pyx_1, 0, __pyx_4);
        __pyx_4 = 0;
        __pyx_4 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 914; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
        __Pyx_Raise(__pyx_4, 0, 0);
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 914; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        goto __pyx_L11;
      }
      __pyx_L11:;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":915
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 *             name = namstring             # <<<<<<<<<<<<<<
 *             dimensions[name] = Dimension(group, name, id=dimids[n])
 *     return dimensions
 */
      __pyx_1 = __Pyx_PyBytes_FromString(__pyx_v_namstring); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 915; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_name);
      __pyx_v_name = __pyx_1;
      __pyx_1 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":916
 *                 raise RuntimeError(nc_strerror(ierr))
 *             name = namstring
 *             dimensions[name] = Dimension(group, name, id=dimids[n])             # <<<<<<<<<<<<<<
 *     return dimensions
 * 
 */
      __pyx_4 = PyTuple_New(2); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 916; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_v_group);
      PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_group);
      Py_INCREF(__pyx_v_name);
      PyTuple_SET_ITEM(__pyx_4, 1, __pyx_v_name);
      __pyx_1 = PyDict_New(); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 916; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_5 = PyInt_FromLong((__pyx_v_dimids[__pyx_v_n])); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 916; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (PyDict_SetItem(__pyx_1, __pyx_kp_id, __pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 916; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __pyx_5 = PyEval_CallObjectWithKeywords(((PyObject*)__pyx_ptype_7netCDF4_Dimension), ((PyObject *)__pyx_4), ((PyObject *)__pyx_1)); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 916; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
      Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
      if (PyObject_SetItem(__pyx_v_dimensions, __pyx_v_name, __pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 916; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
    }
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":917
 *             name = namstring
 *             dimensions[name] = Dimension(group, name, id=dimids[n])
 *     return dimensions             # <<<<<<<<<<<<<<
 * 
 * cdef _get_grps(group):
 */
  Py_INCREF(__pyx_v_dimensions);
  __pyx_r = __pyx_v_dimensions;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("netCDF4._get_dims");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_dimensions);
  Py_DECREF(__pyx_v_name);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":919
 *     return dimensions
 * 
 * cdef _get_grps(group):             # <<<<<<<<<<<<<<
 *     # Private function to create L{Group} instances for all the
 *     # groups in a L{Group} or Dataset
 */

static  PyObject *__pyx_f_7netCDF4__get_grps(PyObject *__pyx_v_group) {
  int __pyx_v_ierr;
  int __pyx_v_numgrps;
  int __pyx_v_n;
  int *__pyx_v_grpids;
  char __pyx_v_namstring[(NC_MAX_NAME + 1)];
  PyObject *__pyx_v_groups;
  PyObject *__pyx_v_name;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  int __pyx_3;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  __pyx_v_groups = Py_None; Py_INCREF(Py_None);
  __pyx_v_name = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":926
 *     cdef char namstring[NC_MAX_NAME+1]
 *     # get number of groups in this Group.
 *     ierr = nc_inq_grps(group._grpid, &numgrps, NULL)             # <<<<<<<<<<<<<<
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_group, __pyx_kp__grpid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 926; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __pyx_PyInt_int(__pyx_1); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 926; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_ierr = nc_inq_grps(__pyx_2, (&__pyx_v_numgrps), NULL);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":927
 *     # get number of groups in this Group.
 *     ierr = nc_inq_grps(group._grpid, &numgrps, NULL)
 *     if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *         raise RuntimeError(nc_strerror(ierr))
 *     # create dictionary containing L{Group} instances for groups in this group
 */
  __pyx_3 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_3) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":928
 *     ierr = nc_inq_grps(group._grpid, &numgrps, NULL)
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *     # create dictionary containing L{Group} instances for groups in this group
 *     groups = {}
 */
    __pyx_1 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 928; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 928; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 928; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 928; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":930
 *         raise RuntimeError(nc_strerror(ierr))
 *     # create dictionary containing L{Group} instances for groups in this group
 *     groups = {}             # <<<<<<<<<<<<<<
 *     if numgrps > 0:
 *         grpids = <int *>malloc(sizeof(int) * numgrps)
 */
  __pyx_4 = PyDict_New(); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 930; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_groups);
  __pyx_v_groups = ((PyObject *)__pyx_4);
  __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":931
 *     # create dictionary containing L{Group} instances for groups in this group
 *     groups = {}
 *     if numgrps > 0:             # <<<<<<<<<<<<<<
 *         grpids = <int *>malloc(sizeof(int) * numgrps)
 *         ierr = nc_inq_grps(group._grpid, NULL, grpids)
 */
  __pyx_3 = (__pyx_v_numgrps > 0);
  if (__pyx_3) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":932
 *     groups = {}
 *     if numgrps > 0:
 *         grpids = <int *>malloc(sizeof(int) * numgrps)             # <<<<<<<<<<<<<<
 *         ierr = nc_inq_grps(group._grpid, NULL, grpids)
 *         if ierr != NC_NOERR:
 */
    __pyx_v_grpids = ((int *)malloc(((sizeof(int)) * __pyx_v_numgrps)));

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":933
 *     if numgrps > 0:
 *         grpids = <int *>malloc(sizeof(int) * numgrps)
 *         ierr = nc_inq_grps(group._grpid, NULL, grpids)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_group, __pyx_kp__grpid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 933; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = __pyx_PyInt_int(__pyx_1); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 933; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_v_ierr = nc_inq_grps(__pyx_2, NULL, __pyx_v_grpids);

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":934
 *         grpids = <int *>malloc(sizeof(int) * numgrps)
 *         ierr = nc_inq_grps(group._grpid, NULL, grpids)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         for n from 0 <= n < numgrps:
 */
    __pyx_3 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_3) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":935
 *         ierr = nc_inq_grps(group._grpid, NULL, grpids)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         for n from 0 <= n < numgrps:
 *              ierr = nc_inq_grpname(grpids[n], namstring)
 */
      __pyx_4 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 935; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 935; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_4);
      __pyx_4 = 0;
      __pyx_4 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 935; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
      __Pyx_Raise(__pyx_4, 0, 0);
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 935; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L5;
    }
    __pyx_L5:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":936
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         for n from 0 <= n < numgrps:             # <<<<<<<<<<<<<<
 *              ierr = nc_inq_grpname(grpids[n], namstring)
 *              if ierr != NC_NOERR:
 */
    for (__pyx_v_n = 0; __pyx_v_n < __pyx_v_numgrps; __pyx_v_n++) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":937
 *             raise RuntimeError(nc_strerror(ierr))
 *         for n from 0 <= n < numgrps:
 *              ierr = nc_inq_grpname(grpids[n], namstring)             # <<<<<<<<<<<<<<
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_v_ierr = nc_inq_grpname((__pyx_v_grpids[__pyx_v_n]), __pyx_v_namstring);

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":938
 *         for n from 0 <= n < numgrps:
 *              ierr = nc_inq_grpname(grpids[n], namstring)
 *              if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                  raise RuntimeError(nc_strerror(ierr))
 *              name = namstring
 */
      __pyx_3 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_3) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":939
 *              ierr = nc_inq_grpname(grpids[n], namstring)
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *              name = namstring
 *              groups[name] = Group(group, name, id=grpids[n])
 */
        __pyx_1 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 939; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 939; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
        __pyx_1 = 0;
        __pyx_1 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 939; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
        __Pyx_Raise(__pyx_1, 0, 0);
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 939; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        goto __pyx_L8;
      }
      __pyx_L8:;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":940
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 *              name = namstring             # <<<<<<<<<<<<<<
 *              groups[name] = Group(group, name, id=grpids[n])
 *         free(grpids)
 */
      __pyx_4 = __Pyx_PyBytes_FromString(__pyx_v_namstring); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 940; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_name);
      __pyx_v_name = __pyx_4;
      __pyx_4 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":941
 *                  raise RuntimeError(nc_strerror(ierr))
 *              name = namstring
 *              groups[name] = Group(group, name, id=grpids[n])             # <<<<<<<<<<<<<<
 *         free(grpids)
 *     return groups
 */
      __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 941; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_v_group);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_group);
      Py_INCREF(__pyx_v_name);
      PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_name);
      __pyx_4 = PyDict_New(); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 941; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_5 = PyInt_FromLong((__pyx_v_grpids[__pyx_v_n])); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 941; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (PyDict_SetItem(__pyx_4, __pyx_kp_id, __pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 941; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __pyx_5 = PyEval_CallObjectWithKeywords(((PyObject*)__pyx_ptype_7netCDF4_Group), ((PyObject *)__pyx_1), ((PyObject *)__pyx_4)); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 941; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
      Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
      if (PyObject_SetItem(__pyx_v_groups, __pyx_v_name, __pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 941; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
    }

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":942
 *              name = namstring
 *              groups[name] = Group(group, name, id=grpids[n])
 *         free(grpids)             # <<<<<<<<<<<<<<
 *     return groups
 * 
 */
    free(__pyx_v_grpids);
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":943
 *              groups[name] = Group(group, name, id=grpids[n])
 *         free(grpids)
 *     return groups             # <<<<<<<<<<<<<<
 * 
 * cdef _get_vars(group):
 */
  Py_INCREF(__pyx_v_groups);
  __pyx_r = __pyx_v_groups;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("netCDF4._get_grps");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_groups);
  Py_DECREF(__pyx_v_name);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":945
 *     return groups
 * 
 * cdef _get_vars(group):             # <<<<<<<<<<<<<<
 *     # Private function to create L{Variable} instances for all the
 *     # variables in a L{Group} or Dataset
 */

static  PyObject *__pyx_f_7netCDF4__get_vars(PyObject *__pyx_v_group) {
  int __pyx_v_ierr;
  int __pyx_v_numvars;
  int __pyx_v_n;
  int __pyx_v_nn;
  int __pyx_v_numdims;
  int __pyx_v_varid;
  int __pyx_v_classp;
  int *__pyx_v_varids;
  int __pyx_v_dimids[NC_MAX_DIMS];
  nc_type __pyx_v_xtype;
  char __pyx_v_namstring[(NC_MAX_NAME + 1)];
  char __pyx_v_namstring_cmp[(NC_MAX_NAME + 1)];
  PyObject *__pyx_v_variables;
  PyObject *__pyx_v_name;
  PyObject *__pyx_v_datatype;
  PyObject *__pyx_v_dimensions;
  PyObject *__pyx_v_grp;
  PyObject *__pyx_v_found;
  PyObject *__pyx_v_key;
  PyObject *__pyx_v_value;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  int __pyx_3;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  PyObject *__pyx_7 = 0;
  int __pyx_8;
  Py_ssize_t __pyx_9 = 0;
  __pyx_v_variables = Py_None; Py_INCREF(Py_None);
  __pyx_v_name = Py_None; Py_INCREF(Py_None);
  __pyx_v_datatype = Py_None; Py_INCREF(Py_None);
  __pyx_v_dimensions = Py_None; Py_INCREF(Py_None);
  __pyx_v_grp = Py_None; Py_INCREF(Py_None);
  __pyx_v_found = Py_None; Py_INCREF(Py_None);
  __pyx_v_key = Py_None; Py_INCREF(Py_None);
  __pyx_v_value = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":954
 *     cdef char namstring[NC_MAX_NAME+1], namstring_cmp[NC_MAX_NAME+1]
 *     # get number of variables in this Group.
 *     ierr = nc_inq_nvars(group._grpid, &numvars)             # <<<<<<<<<<<<<<
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_group, __pyx_kp__grpid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 954; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __pyx_PyInt_int(__pyx_1); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 954; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_ierr = nc_inq_nvars(__pyx_2, (&__pyx_v_numvars));

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":955
 *     # get number of variables in this Group.
 *     ierr = nc_inq_nvars(group._grpid, &numvars)
 *     if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *         raise RuntimeError(nc_strerror(ierr))
 *     # create empty dictionary for variables.
 */
  __pyx_3 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_3) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":956
 *     ierr = nc_inq_nvars(group._grpid, &numvars)
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *     # create empty dictionary for variables.
 *     variables = {}
 */
    __pyx_1 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 956; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 956; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 956; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 956; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":958
 *         raise RuntimeError(nc_strerror(ierr))
 *     # create empty dictionary for variables.
 *     variables = {}             # <<<<<<<<<<<<<<
 *     if numvars > 0:
 *         # get variable ids.
 */
  __pyx_4 = PyDict_New(); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 958; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_variables);
  __pyx_v_variables = ((PyObject *)__pyx_4);
  __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":959
 *     # create empty dictionary for variables.
 *     variables = {}
 *     if numvars > 0:             # <<<<<<<<<<<<<<
 *         # get variable ids.
 *         varids = <int *>malloc(sizeof(int) * numvars)
 */
  __pyx_3 = (__pyx_v_numvars > 0);
  if (__pyx_3) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":961
 *     if numvars > 0:
 *         # get variable ids.
 *         varids = <int *>malloc(sizeof(int) * numvars)             # <<<<<<<<<<<<<<
 *         if group.file_format == 'NETCDF4':
 *             ierr = nc_inq_varids(group._grpid, &numvars, varids)
 */
    __pyx_v_varids = ((int *)malloc(((sizeof(int)) * __pyx_v_numvars)));

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":962
 *         # get variable ids.
 *         varids = <int *>malloc(sizeof(int) * numvars)
 *         if group.file_format == 'NETCDF4':             # <<<<<<<<<<<<<<
 *             ierr = nc_inq_varids(group._grpid, &numvars, varids)
 *             if ierr != NC_NOERR:
 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_group, __pyx_kp_file_format); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 962; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyObject_RichCompare(__pyx_1, __pyx_kp_90, Py_EQ); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 962; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_4); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 962; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    if (__pyx_3) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":963
 *         varids = <int *>malloc(sizeof(int) * numvars)
 *         if group.file_format == 'NETCDF4':
 *             ierr = nc_inq_varids(group._grpid, &numvars, varids)             # <<<<<<<<<<<<<<
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_1 = PyObject_GetAttr(__pyx_v_group, __pyx_kp__grpid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 963; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_2 = __pyx_PyInt_int(__pyx_1); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 963; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_v_ierr = nc_inq_varids(__pyx_2, (&__pyx_v_numvars), __pyx_v_varids);

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":964
 *         if group.file_format == 'NETCDF4':
 *             ierr = nc_inq_varids(group._grpid, &numvars, varids)
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                 raise RuntimeError(nc_strerror(ierr))
 *         else:
 */
      __pyx_3 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_3) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":965
 *             ierr = nc_inq_varids(group._grpid, &numvars, varids)
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         else:
 *             for n from 0 <= n < numvars:
 */
        __pyx_4 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 965; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 965; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        PyTuple_SET_ITEM(__pyx_1, 0, __pyx_4);
        __pyx_4 = 0;
        __pyx_4 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 965; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
        __Pyx_Raise(__pyx_4, 0, 0);
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 965; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        goto __pyx_L6;
      }
      __pyx_L6:;
      goto __pyx_L5;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":967
 *                 raise RuntimeError(nc_strerror(ierr))
 *         else:
 *             for n from 0 <= n < numvars:             # <<<<<<<<<<<<<<
 *                 varids[n] = n
 *         # loop over variables.
 */
      for (__pyx_v_n = 0; __pyx_v_n < __pyx_v_numvars; __pyx_v_n++) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":968
 *         else:
 *             for n from 0 <= n < numvars:
 *                 varids[n] = n             # <<<<<<<<<<<<<<
 *         # loop over variables.
 *         for n from 0 <= n < numvars:
 */
        (__pyx_v_varids[__pyx_v_n]) = __pyx_v_n;
      }
    }
    __pyx_L5:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":970
 *                 varids[n] = n
 *         # loop over variables.
 *         for n from 0 <= n < numvars:             # <<<<<<<<<<<<<<
 *              varid = varids[n]
 *              # get variable name.
 */
    for (__pyx_v_n = 0; __pyx_v_n < __pyx_v_numvars; __pyx_v_n++) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":971
 *         # loop over variables.
 *         for n from 0 <= n < numvars:
 *              varid = varids[n]             # <<<<<<<<<<<<<<
 *              # get variable name.
 *              ierr = nc_inq_varname(group._grpid, varid, namstring)
 */
      __pyx_v_varid = (__pyx_v_varids[__pyx_v_n]);

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":973
 *              varid = varids[n]
 *              # get variable name.
 *              ierr = nc_inq_varname(group._grpid, varid, namstring)             # <<<<<<<<<<<<<<
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_1 = PyObject_GetAttr(__pyx_v_group, __pyx_kp__grpid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 973; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_2 = __pyx_PyInt_int(__pyx_1); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 973; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_v_ierr = nc_inq_varname(__pyx_2, __pyx_v_varid, __pyx_v_namstring);

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":974
 *              # get variable name.
 *              ierr = nc_inq_varname(group._grpid, varid, namstring)
 *              if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                  raise RuntimeError(nc_strerror(ierr))
 *              name = namstring
 */
      __pyx_3 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_3) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":975
 *              ierr = nc_inq_varname(group._grpid, varid, namstring)
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *              name = namstring
 *              if ierr != NC_NOERR:
 */
        __pyx_4 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 975; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 975; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        PyTuple_SET_ITEM(__pyx_1, 0, __pyx_4);
        __pyx_4 = 0;
        __pyx_4 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 975; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
        __Pyx_Raise(__pyx_4, 0, 0);
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 975; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        goto __pyx_L11;
      }
      __pyx_L11:;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":976
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 *              name = namstring             # <<<<<<<<<<<<<<
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_1 = __Pyx_PyBytes_FromString(__pyx_v_namstring); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 976; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_name);
      __pyx_v_name = __pyx_1;
      __pyx_1 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":977
 *                  raise RuntimeError(nc_strerror(ierr))
 *              name = namstring
 *              if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                  raise RuntimeError(nc_strerror(ierr))
 *              # get variable type.
 */
      __pyx_3 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_3) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":978
 *              name = namstring
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *              # get variable type.
 *              ierr = nc_inq_vartype(group._grpid, varid, &xtype)
 */
        __pyx_4 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 978; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 978; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        PyTuple_SET_ITEM(__pyx_1, 0, __pyx_4);
        __pyx_4 = 0;
        __pyx_4 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 978; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
        __Pyx_Raise(__pyx_4, 0, 0);
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 978; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        goto __pyx_L12;
      }
      __pyx_L12:;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":980
 *                  raise RuntimeError(nc_strerror(ierr))
 *              # get variable type.
 *              ierr = nc_inq_vartype(group._grpid, varid, &xtype)             # <<<<<<<<<<<<<<
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_1 = PyObject_GetAttr(__pyx_v_group, __pyx_kp__grpid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 980; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_2 = __pyx_PyInt_int(__pyx_1); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 980; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_v_ierr = nc_inq_vartype(__pyx_2, __pyx_v_varid, (&__pyx_v_xtype));

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":981
 *              # get variable type.
 *              ierr = nc_inq_vartype(group._grpid, varid, &xtype)
 *              if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                  raise RuntimeError(nc_strerror(ierr))
 *              # check to see if it is a supported user-defined type.
 */
      __pyx_3 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_3) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":982
 *              ierr = nc_inq_vartype(group._grpid, varid, &xtype)
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *              # check to see if it is a supported user-defined type.
 *              try:
 */
        __pyx_4 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 982; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 982; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        PyTuple_SET_ITEM(__pyx_1, 0, __pyx_4);
        __pyx_4 = 0;
        __pyx_4 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 982; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
        __Pyx_Raise(__pyx_4, 0, 0);
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 982; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        goto __pyx_L13;
      }
      __pyx_L13:;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":984
 *                  raise RuntimeError(nc_strerror(ierr))
 *              # check to see if it is a supported user-defined type.
 *              try:             # <<<<<<<<<<<<<<
 *                   datatype = _nctonptype[xtype]
 *              except KeyError:
 */
      /*try:*/ {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":985
 *              # check to see if it is a supported user-defined type.
 *              try:
 *                   datatype = _nctonptype[xtype]             # <<<<<<<<<<<<<<
 *              except KeyError:
 *                  ierr = nc_inq_user_type(group._grpid, xtype, namstring_cmp,
 */
        __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp__nctonptype); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 985; __pyx_clineno = __LINE__; goto __pyx_L14_error;}
        __pyx_4 = __Pyx_GetItemInt(__pyx_1, __pyx_v_xtype, 0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 985; __pyx_clineno = __LINE__; goto __pyx_L14_error;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        Py_DECREF(__pyx_v_datatype);
        __pyx_v_datatype = __pyx_4;
        __pyx_4 = 0;
      }
      goto __pyx_L15;
      __pyx_L14_error:;
      Py_XDECREF(__pyx_1); __pyx_1 = 0;
      Py_XDECREF(__pyx_4); __pyx_4 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":986
 *              try:
 *                   datatype = _nctonptype[xtype]
 *              except KeyError:             # <<<<<<<<<<<<<<
 *                  ierr = nc_inq_user_type(group._grpid, xtype, namstring_cmp,
 *                                          NULL, NULL, NULL, &classp)
 */
      __pyx_2 = PyErr_ExceptionMatches(__pyx_builtin_KeyError);
      if (__pyx_2) {
        __Pyx_AddTraceback("netCDF4._get_vars");
        if (__Pyx_GetException(&__pyx_1, &__pyx_4, &__pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 986; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":987
 *                   datatype = _nctonptype[xtype]
 *              except KeyError:
 *                  ierr = nc_inq_user_type(group._grpid, xtype, namstring_cmp,             # <<<<<<<<<<<<<<
 *                                          NULL, NULL, NULL, &classp)
 *                  if classp == NC_COMPOUND: # a compound type
 */
        __pyx_6 = PyObject_GetAttr(__pyx_v_group, __pyx_kp__grpid); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 987; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_2 = __pyx_PyInt_int(__pyx_6); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 987; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":988
 *              except KeyError:
 *                  ierr = nc_inq_user_type(group._grpid, xtype, namstring_cmp,
 *                                          NULL, NULL, NULL, &classp)             # <<<<<<<<<<<<<<
 *                  if classp == NC_COMPOUND: # a compound type
 *                      # create CompoundType instance describing this compound type.
 */
        __pyx_v_ierr = nc_inq_user_type(__pyx_2, __pyx_v_xtype, __pyx_v_namstring_cmp, NULL, NULL, NULL, (&__pyx_v_classp));

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":989
 *                  ierr = nc_inq_user_type(group._grpid, xtype, namstring_cmp,
 *                                          NULL, NULL, NULL, &classp)
 *                  if classp == NC_COMPOUND: # a compound type             # <<<<<<<<<<<<<<
 *                      # create CompoundType instance describing this compound type.
 *                      datatype = _read_compound(group, xtype)
 */
        __pyx_3 = (__pyx_v_classp == NC_COMPOUND);
        if (__pyx_3) {

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":991
 *                  if classp == NC_COMPOUND: # a compound type
 *                      # create CompoundType instance describing this compound type.
 *                      datatype = _read_compound(group, xtype)             # <<<<<<<<<<<<<<
 *                  else:
 *                      print "WARNING: variable '%s' has unsupported datatype, skipping .." % name
 */
          __pyx_6 = __pyx_f_7netCDF4__read_compound(__pyx_v_group, __pyx_v_xtype); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 991; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_v_datatype);
          __pyx_v_datatype = __pyx_6;
          __pyx_6 = 0;
          goto __pyx_L16;
        }
        /*else*/ {

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":993
 *                      datatype = _read_compound(group, xtype)
 *                  else:
 *                      print "WARNING: variable '%s' has unsupported datatype, skipping .." % name             # <<<<<<<<<<<<<<
 *                      continue
 *              # get number of dimensions.
 */
          __pyx_6 = PyNumber_Remainder(__pyx_kp_91, __pyx_v_name); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 993; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_7 = PyTuple_New(1); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 993; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          PyTuple_SET_ITEM(__pyx_7, 0, __pyx_6);
          __pyx_6 = 0;
          if (__Pyx_Print(((PyObject *)__pyx_7), 1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 993; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(((PyObject *)__pyx_7)); __pyx_7 = 0;

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":994
 *                  else:
 *                      print "WARNING: variable '%s' has unsupported datatype, skipping .." % name
 *                      continue             # <<<<<<<<<<<<<<
 *              # get number of dimensions.
 *              ierr = nc_inq_varndims(group._grpid, varid, &numdims)
 */
          goto __pyx_L9;
        }
        __pyx_L16:;
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        Py_DECREF(__pyx_5); __pyx_5 = 0;
        goto __pyx_L15;
      }
      goto __pyx_L1_error;
      __pyx_L15:;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":996
 *                      continue
 *              # get number of dimensions.
 *              ierr = nc_inq_varndims(group._grpid, varid, &numdims)             # <<<<<<<<<<<<<<
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_6 = PyObject_GetAttr(__pyx_v_group, __pyx_kp__grpid); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 996; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_2 = __pyx_PyInt_int(__pyx_6); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 996; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_v_ierr = nc_inq_varndims(__pyx_2, __pyx_v_varid, (&__pyx_v_numdims));

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":997
 *              # get number of dimensions.
 *              ierr = nc_inq_varndims(group._grpid, varid, &numdims)
 *              if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                  raise RuntimeError(nc_strerror(ierr))
 *              # get dimension ids.
 */
      __pyx_3 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_3) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":998
 *              ierr = nc_inq_varndims(group._grpid, varid, &numdims)
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *              # get dimension ids.
 *              ierr = nc_inq_vardimid(group._grpid, varid, dimids)
 */
        __pyx_7 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 998; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 998; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        PyTuple_SET_ITEM(__pyx_1, 0, __pyx_7);
        __pyx_7 = 0;
        __pyx_4 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 998; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
        __Pyx_Raise(__pyx_4, 0, 0);
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 998; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        goto __pyx_L17;
      }
      __pyx_L17:;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1000
 *                  raise RuntimeError(nc_strerror(ierr))
 *              # get dimension ids.
 *              ierr = nc_inq_vardimid(group._grpid, varid, dimids)             # <<<<<<<<<<<<<<
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_5 = PyObject_GetAttr(__pyx_v_group, __pyx_kp__grpid); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1000; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_2 = __pyx_PyInt_int(__pyx_5); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1000; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __pyx_v_ierr = nc_inq_vardimid(__pyx_2, __pyx_v_varid, __pyx_v_dimids);

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1001
 *              # get dimension ids.
 *              ierr = nc_inq_vardimid(group._grpid, varid, dimids)
 *              if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                  raise RuntimeError(nc_strerror(ierr))
 *              # loop over dimensions, retrieve names.
 */
      __pyx_3 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_3) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1002
 *              ierr = nc_inq_vardimid(group._grpid, varid, dimids)
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *              # loop over dimensions, retrieve names.
 *              # if not found in current group, look in parents.
 */
        __pyx_6 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1002; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_7 = PyTuple_New(1); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1002; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        PyTuple_SET_ITEM(__pyx_7, 0, __pyx_6);
        __pyx_6 = 0;
        __pyx_1 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_7), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1002; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(((PyObject *)__pyx_7)); __pyx_7 = 0;
        __Pyx_Raise(__pyx_1, 0, 0);
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1002; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        goto __pyx_L18;
      }
      __pyx_L18:;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1008
 *              # and so does it's parent - can a variable in grp1
 *              # use the 'foo' dimension from the parent?
 *              dimensions = []             # <<<<<<<<<<<<<<
 *              for nn from 0 <= nn < numdims:
 *                  grp = group
 */
      __pyx_4 = PyList_New(0); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1008; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_dimensions);
      __pyx_v_dimensions = ((PyObject *)__pyx_4);
      __pyx_4 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1009
 *              # use the 'foo' dimension from the parent?
 *              dimensions = []
 *              for nn from 0 <= nn < numdims:             # <<<<<<<<<<<<<<
 *                  grp = group
 *                  found = False
 */
      for (__pyx_v_nn = 0; __pyx_v_nn < __pyx_v_numdims; __pyx_v_nn++) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1010
 *              dimensions = []
 *              for nn from 0 <= nn < numdims:
 *                  grp = group             # <<<<<<<<<<<<<<
 *                  found = False
 *                  while not found:
 */
        Py_INCREF(__pyx_v_group);
        Py_DECREF(__pyx_v_grp);
        __pyx_v_grp = __pyx_v_group;

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1011
 *              for nn from 0 <= nn < numdims:
 *                  grp = group
 *                  found = False             # <<<<<<<<<<<<<<
 *                  while not found:
 *                      for key, value in grp.dimensions.iteritems():
 */
        __pyx_5 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1011; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_v_found);
        __pyx_v_found = __pyx_5;
        __pyx_5 = 0;

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1012
 *                  grp = group
 *                  found = False
 *                  while not found:             # <<<<<<<<<<<<<<
 *                      for key, value in grp.dimensions.iteritems():
 *                          if value._dimid == dimids[nn]:
 */
        while (1) {
          __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_v_found); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1012; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_8 = (!__pyx_3);
          if (!__pyx_8) break;

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1013
 *                  found = False
 *                  while not found:
 *                      for key, value in grp.dimensions.iteritems():             # <<<<<<<<<<<<<<
 *                          if value._dimid == dimids[nn]:
 *                              dimensions.append(key)
 */
          __pyx_6 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp_dimensions); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1013; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_7 = PyObject_GetAttr(__pyx_6, __pyx_kp_iteritems); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1013; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_6); __pyx_6 = 0;
          __pyx_1 = PyObject_Call(__pyx_7, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1013; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_7); __pyx_7 = 0;
          if (PyList_CheckExact(__pyx_1) || PyTuple_CheckExact(__pyx_1)) {
            __pyx_9 = 0; __pyx_4 = __pyx_1; Py_INCREF(__pyx_4);
          } else {
            __pyx_9 = -1; __pyx_4 = PyObject_GetIter(__pyx_1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1013; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          }
          Py_DECREF(__pyx_1); __pyx_1 = 0;
          for (;;) {
            if (likely(PyList_CheckExact(__pyx_4))) {
              if (__pyx_9 >= PyList_GET_SIZE(__pyx_4)) break;
              __pyx_5 = PyList_GET_ITEM(__pyx_4, __pyx_9); Py_INCREF(__pyx_5); __pyx_9++;
            } else if (likely(PyTuple_CheckExact(__pyx_4))) {
              if (__pyx_9 >= PyTuple_GET_SIZE(__pyx_4)) break;
              __pyx_5 = PyTuple_GET_ITEM(__pyx_4, __pyx_9); Py_INCREF(__pyx_5); __pyx_9++;
            } else {
              __pyx_5 = PyIter_Next(__pyx_4);
              if (!__pyx_5) {
                if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1013; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
                break;
              }
            }
            if (PyTuple_CheckExact(__pyx_5) && PyTuple_GET_SIZE(__pyx_5) == 2) {
              PyObject* tuple = __pyx_5;
              __pyx_7 = PyTuple_GET_ITEM(tuple, 0);
              Py_INCREF(__pyx_7);
              Py_DECREF(__pyx_v_key);
              __pyx_v_key = __pyx_7;
              __pyx_7 = 0;
              __pyx_1 = PyTuple_GET_ITEM(tuple, 1);
              Py_INCREF(__pyx_1);
              Py_DECREF(__pyx_v_value);
              __pyx_v_value = __pyx_1;
              __pyx_1 = 0;
              Py_DECREF(__pyx_5); __pyx_5 = 0;
            }
            else {
              __pyx_6 = PyObject_GetIter(__pyx_5); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1013; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
              Py_DECREF(__pyx_5); __pyx_5 = 0;
              __pyx_7 = __Pyx_UnpackItem(__pyx_6, 0); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1013; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
              Py_DECREF(__pyx_v_key);
              __pyx_v_key = __pyx_7;
              __pyx_7 = 0;
              __pyx_1 = __Pyx_UnpackItem(__pyx_6, 1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1013; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
              Py_DECREF(__pyx_v_value);
              __pyx_v_value = __pyx_1;
              __pyx_1 = 0;
              if (__Pyx_EndUnpack(__pyx_6) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1013; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
              Py_DECREF(__pyx_6); __pyx_6 = 0;
            }

            /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1014
 *                  while not found:
 *                      for key, value in grp.dimensions.iteritems():
 *                          if value._dimid == dimids[nn]:             # <<<<<<<<<<<<<<
 *                              dimensions.append(key)
 *                              found = True
 */
            __pyx_7 = PyObject_GetAttr(__pyx_v_value, __pyx_kp__dimid); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1014; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            __pyx_1 = PyInt_FromLong((__pyx_v_dimids[__pyx_v_nn])); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1014; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            __pyx_5 = PyObject_RichCompare(__pyx_7, __pyx_1, Py_EQ); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1014; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_DECREF(__pyx_7); __pyx_7 = 0;
            Py_DECREF(__pyx_1); __pyx_1 = 0;
            __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_5); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1014; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_DECREF(__pyx_5); __pyx_5 = 0;
            if (__pyx_3) {

              /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1015
 *                      for key, value in grp.dimensions.iteritems():
 *                          if value._dimid == dimids[nn]:
 *                              dimensions.append(key)             # <<<<<<<<<<<<<<
 *                              found = True
 *                              break
 */
              __pyx_6 = __Pyx_PyObject_Append(__pyx_v_dimensions, __pyx_v_key); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1015; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
              Py_DECREF(__pyx_6); __pyx_6 = 0;

              /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1016
 *                          if value._dimid == dimids[nn]:
 *                              dimensions.append(key)
 *                              found = True             # <<<<<<<<<<<<<<
 *                              break
 *                      grp = grp.parent
 */
              __pyx_7 = __Pyx_PyBool_FromLong(1); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1016; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
              Py_DECREF(__pyx_v_found);
              __pyx_v_found = __pyx_7;
              __pyx_7 = 0;

              /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1017
 *                              dimensions.append(key)
 *                              found = True
 *                              break             # <<<<<<<<<<<<<<
 *                      grp = grp.parent
 *              # create new variable instance.
 */
              goto __pyx_L24;
              goto __pyx_L25;
            }
            __pyx_L25:;
          }
          __pyx_L24:;
          Py_DECREF(__pyx_4); __pyx_4 = 0;

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1018
 *                              found = True
 *                              break
 *                      grp = grp.parent             # <<<<<<<<<<<<<<
 *              # create new variable instance.
 *              variables[name] = Variable(group, name, datatype, dimensions, id=varid)
 */
          __pyx_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp_parent); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1018; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_v_grp);
          __pyx_v_grp = __pyx_1;
          __pyx_1 = 0;
        }
      }

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1020
 *                      grp = grp.parent
 *              # create new variable instance.
 *              variables[name] = Variable(group, name, datatype, dimensions, id=varid)             # <<<<<<<<<<<<<<
 *         free(varids) # free pointer holding variable ids.
 *     return variables
 */
      __pyx_5 = PyTuple_New(4); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1020; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_v_group);
      PyTuple_SET_ITEM(__pyx_5, 0, __pyx_v_group);
      Py_INCREF(__pyx_v_name);
      PyTuple_SET_ITEM(__pyx_5, 1, __pyx_v_name);
      Py_INCREF(__pyx_v_datatype);
      PyTuple_SET_ITEM(__pyx_5, 2, __pyx_v_datatype);
      Py_INCREF(__pyx_v_dimensions);
      PyTuple_SET_ITEM(__pyx_5, 3, __pyx_v_dimensions);
      __pyx_6 = PyDict_New(); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1020; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_7 = PyInt_FromLong(__pyx_v_varid); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1020; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (PyDict_SetItem(__pyx_6, __pyx_kp_id, __pyx_7) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1020; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_7); __pyx_7 = 0;
      __pyx_4 = PyEval_CallObjectWithKeywords(((PyObject*)__pyx_ptype_7netCDF4_Variable), ((PyObject *)__pyx_5), ((PyObject *)__pyx_6)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1020; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_5)); __pyx_5 = 0;
      Py_DECREF(((PyObject *)__pyx_6)); __pyx_6 = 0;
      if (PyObject_SetItem(__pyx_v_variables, __pyx_v_name, __pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1020; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __pyx_L9:;
    }

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1021
 *              # create new variable instance.
 *              variables[name] = Variable(group, name, datatype, dimensions, id=varid)
 *         free(varids) # free pointer holding variable ids.             # <<<<<<<<<<<<<<
 *     return variables
 * 
 */
    free(__pyx_v_varids);
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1022
 *              variables[name] = Variable(group, name, datatype, dimensions, id=varid)
 *         free(varids) # free pointer holding variable ids.
 *     return variables             # <<<<<<<<<<<<<<
 * 
 * # these are class attributes that
 */
  Py_INCREF(__pyx_v_variables);
  __pyx_r = __pyx_v_variables;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  Py_XDECREF(__pyx_7);
  __Pyx_AddTraceback("netCDF4._get_vars");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_variables);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_datatype);
  Py_DECREF(__pyx_v_dimensions);
  Py_DECREF(__pyx_v_grp);
  Py_DECREF(__pyx_v_found);
  Py_DECREF(__pyx_v_key);
  Py_DECREF(__pyx_v_value);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1115
 *     maskanscale, _cmptypes
 * 
 *     def __init__(self, filename, mode='r', clobber=True, format='NETCDF4', **kwargs):             # <<<<<<<<<<<<<<
 *         cdef int grpid, ierr, numgrps, numdims, numvars
 *         cdef char *path
 */

static int __pyx_pf_7netCDF4_7Dataset___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_7netCDF4_7Dataset___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_filename = 0;
  PyObject *__pyx_v_mode = 0;
  PyObject *__pyx_v_clobber = 0;
  PyObject *__pyx_v_format = 0;
  PyObject *__pyx_v_kwargs = 0;
  int __pyx_v_grpid;
  int __pyx_v_ierr;
  char *__pyx_v_path;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {"filename","mode","clobber","format",0};
  __pyx_v_mode = __pyx_kp_47;
  __pyx_v_clobber = __pyx_k_48;
  __pyx_v_format = __pyx_kp_49;
  if (unlikely(PyTuple_GET_SIZE(__pyx_args) > 4)) {
    __Pyx_RaiseArgtupleTooLong(4, PyTuple_GET_SIZE(__pyx_args));
    return -1;
  }
  if (unlikely(__Pyx_SplitKeywords(&__pyx_kwds, __pyx_argnames, &__pyx_v_kwargs, 0) < 0)) return -1;
  if (likely(!__pyx_kwds) && likely(1 <= PyTuple_GET_SIZE(__pyx_args)) && likely(PyTuple_GET_SIZE(__pyx_args) <= 4)) {
    __pyx_v_filename = PyTuple_GET_ITEM(__pyx_args, 0);
    if (PyTuple_GET_SIZE(__pyx_args) > 1) {
      __pyx_v_mode = PyTuple_GET_ITEM(__pyx_args, 1);
      if (PyTuple_GET_SIZE(__pyx_args) > 2) {
        __pyx_v_clobber = PyTuple_GET_ITEM(__pyx_args, 2);
        if (PyTuple_GET_SIZE(__pyx_args) > 3) {
          __pyx_v_format = PyTuple_GET_ITEM(__pyx_args, 3);
        }
      }
    }
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|OOO", __pyx_argnames, &__pyx_v_filename, &__pyx_v_mode, &__pyx_v_clobber, &__pyx_v_format))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1115; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  Py_XDECREF(__pyx_kwds);
  Py_DECREF(__pyx_v_kwargs);
  __Pyx_AddTraceback("netCDF4.Dataset.__init__");
  return -1;
  __pyx_L4:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1119
 *         cdef char *path
 *         cdef char namstring[NC_MAX_NAME+1]
 *         path = PyString_AsString(filename)             # <<<<<<<<<<<<<<
 *         if mode == 'w':
 *             _set_default_format(format=format)
 */
  __pyx_v_path = PyString_AsString(__pyx_v_filename);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1120
 *         cdef char namstring[NC_MAX_NAME+1]
 *         path = PyString_AsString(filename)
 *         if mode == 'w':             # <<<<<<<<<<<<<<
 *             _set_default_format(format=format)
 *             if clobber:
 */
  __pyx_1 = PyObject_RichCompare(__pyx_v_mode, __pyx_kp_92, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1120; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1120; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1121
 *         path = PyString_AsString(filename)
 *         if mode == 'w':
 *             _set_default_format(format=format)             # <<<<<<<<<<<<<<
 *             if clobber:
 *                 ierr = nc_create(path, NC_CLOBBER, &grpid)
 */
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp__set_default_format); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1121; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyDict_New(); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1121; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (PyDict_SetItem(__pyx_3, __pyx_kp_format, __pyx_v_format) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1121; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyEval_CallObjectWithKeywords(__pyx_1, ((PyObject *)__pyx_empty_tuple), ((PyObject *)__pyx_3)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1121; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1122
 *         if mode == 'w':
 *             _set_default_format(format=format)
 *             if clobber:             # <<<<<<<<<<<<<<
 *                 ierr = nc_create(path, NC_CLOBBER, &grpid)
 *             else:
 */
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_v_clobber); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1122; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_2) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1123
 *             _set_default_format(format=format)
 *             if clobber:
 *                 ierr = nc_create(path, NC_CLOBBER, &grpid)             # <<<<<<<<<<<<<<
 *             else:
 *                 ierr = nc_create(path, NC_NOCLOBBER, &grpid)
 */
      __pyx_v_ierr = nc_create(__pyx_v_path, NC_CLOBBER, (&__pyx_v_grpid));
      goto __pyx_L6;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1125
 *                 ierr = nc_create(path, NC_CLOBBER, &grpid)
 *             else:
 *                 ierr = nc_create(path, NC_NOCLOBBER, &grpid)             # <<<<<<<<<<<<<<
 *             # initialize group dict.
 *         elif mode == 'r':
 */
      __pyx_v_ierr = nc_create(__pyx_v_path, NC_NOCLOBBER, (&__pyx_v_grpid));
    }
    __pyx_L6:;
    goto __pyx_L5;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1127
 *                 ierr = nc_create(path, NC_NOCLOBBER, &grpid)
 *             # initialize group dict.
 *         elif mode == 'r':             # <<<<<<<<<<<<<<
 *             ierr = nc_open(path, NC_NOWRITE, &grpid)
 *         elif mode == 'r+' or mode == 'a':
 */
  __pyx_1 = PyObject_RichCompare(__pyx_v_mode, __pyx_kp_93, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1127; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1127; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1128
 *             # initialize group dict.
 *         elif mode == 'r':
 *             ierr = nc_open(path, NC_NOWRITE, &grpid)             # <<<<<<<<<<<<<<
 *         elif mode == 'r+' or mode == 'a':
 *             ierr = nc_open(path, NC_WRITE, &grpid)
 */
    __pyx_v_ierr = nc_open(__pyx_v_path, NC_NOWRITE, (&__pyx_v_grpid));
    goto __pyx_L5;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1129
 *         elif mode == 'r':
 *             ierr = nc_open(path, NC_NOWRITE, &grpid)
 *         elif mode == 'r+' or mode == 'a':             # <<<<<<<<<<<<<<
 *             ierr = nc_open(path, NC_WRITE, &grpid)
 *         elif mode == 'as' or mode == 'r+s':
 */
  __pyx_3 = PyObject_RichCompare(__pyx_v_mode, __pyx_kp_94, Py_EQ); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1129; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1129; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_2) {
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_3 = PyObject_RichCompare(__pyx_v_mode, __pyx_kp_95, Py_EQ); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1129; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1129; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (__pyx_2) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1130
 *             ierr = nc_open(path, NC_NOWRITE, &grpid)
 *         elif mode == 'r+' or mode == 'a':
 *             ierr = nc_open(path, NC_WRITE, &grpid)             # <<<<<<<<<<<<<<
 *         elif mode == 'as' or mode == 'r+s':
 *             ierr = nc_open(path, NC_SHARE, &grpid)
 */
    __pyx_v_ierr = nc_open(__pyx_v_path, NC_WRITE, (&__pyx_v_grpid));
    goto __pyx_L5;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1131
 *         elif mode == 'r+' or mode == 'a':
 *             ierr = nc_open(path, NC_WRITE, &grpid)
 *         elif mode == 'as' or mode == 'r+s':             # <<<<<<<<<<<<<<
 *             ierr = nc_open(path, NC_SHARE, &grpid)
 *         elif mode == 'ws':
 */
  __pyx_4 = PyObject_RichCompare(__pyx_v_mode, __pyx_kp_96, Py_EQ); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1131; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_4); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1131; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_2) {
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_4 = PyObject_RichCompare(__pyx_v_mode, __pyx_kp_97, Py_EQ); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1131; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_4); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1131; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (__pyx_2) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1132
 *             ierr = nc_open(path, NC_WRITE, &grpid)
 *         elif mode == 'as' or mode == 'r+s':
 *             ierr = nc_open(path, NC_SHARE, &grpid)             # <<<<<<<<<<<<<<
 *         elif mode == 'ws':
 *             if clobber:
 */
    __pyx_v_ierr = nc_open(__pyx_v_path, NC_SHARE, (&__pyx_v_grpid));
    goto __pyx_L5;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1133
 *         elif mode == 'as' or mode == 'r+s':
 *             ierr = nc_open(path, NC_SHARE, &grpid)
 *         elif mode == 'ws':             # <<<<<<<<<<<<<<
 *             if clobber:
 *                 ierr = nc_create(path, NC_SHARE | NC_CLOBBER, &grpid)
 */
  __pyx_1 = PyObject_RichCompare(__pyx_v_mode, __pyx_kp_98, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1134
 *             ierr = nc_open(path, NC_SHARE, &grpid)
 *         elif mode == 'ws':
 *             if clobber:             # <<<<<<<<<<<<<<
 *                 ierr = nc_create(path, NC_SHARE | NC_CLOBBER, &grpid)
 *             else:
 */
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_v_clobber); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1134; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_2) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1135
 *         elif mode == 'ws':
 *             if clobber:
 *                 ierr = nc_create(path, NC_SHARE | NC_CLOBBER, &grpid)             # <<<<<<<<<<<<<<
 *             else:
 *                 ierr = nc_create(path, NC_SHARE | NC_NOCLOBBER, &grpid)
 */
      __pyx_v_ierr = nc_create(__pyx_v_path, (NC_SHARE | NC_CLOBBER), (&__pyx_v_grpid));
      goto __pyx_L7;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1137
 *                 ierr = nc_create(path, NC_SHARE | NC_CLOBBER, &grpid)
 *             else:
 *                 ierr = nc_create(path, NC_SHARE | NC_NOCLOBBER, &grpid)             # <<<<<<<<<<<<<<
 *         else:
 *             raise ValueError("mode must be 'w', 'r', 'a' or 'r+', got '%s'" % mode)
 */
      __pyx_v_ierr = nc_create(__pyx_v_path, (NC_SHARE | NC_NOCLOBBER), (&__pyx_v_grpid));
    }
    __pyx_L7:;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1139
 *                 ierr = nc_create(path, NC_SHARE | NC_NOCLOBBER, &grpid)
 *         else:
 *             raise ValueError("mode must be 'w', 'r', 'a' or 'r+', got '%s'" % mode)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_3 = PyNumber_Remainder(__pyx_kp_99, __pyx_v_mode); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1139; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1139; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_1 = PyObject_Call(__pyx_builtin_ValueError, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1139; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1139; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  __pyx_L5:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1140
 *         else:
 *             raise ValueError("mode must be 'w', 'r', 'a' or 'r+', got '%s'" % mode)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         # file format attribute.
 */
  __pyx_2 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_2) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1141
 *             raise ValueError("mode must be 'w', 'r', 'a' or 'r+', got '%s'" % mode)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         # file format attribute.
 *         self.file_format = _get_format(grpid)
 */
    __pyx_3 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1141; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1141; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_1 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1141; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1141; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L8;
  }
  __pyx_L8:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1143
 *             raise RuntimeError(nc_strerror(ierr))
 *         # file format attribute.
 *         self.file_format = _get_format(grpid)             # <<<<<<<<<<<<<<
 *         self._grpid = grpid
 *         self.path = '/'
 */
  __pyx_3 = __pyx_f_7netCDF4__get_format(__pyx_v_grpid); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1143; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->file_format);
  ((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->file_format = __pyx_3;
  __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1144
 *         # file format attribute.
 *         self.file_format = _get_format(grpid)
 *         self._grpid = grpid             # <<<<<<<<<<<<<<
 *         self.path = '/'
 *         self.parent = None
 */
  ((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->_grpid = __pyx_v_grpid;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1145
 *         self.file_format = _get_format(grpid)
 *         self._grpid = grpid
 *         self.path = '/'             # <<<<<<<<<<<<<<
 *         self.parent = None
 *         self._cmptypes = [] # initialize list to hold compound type info
 */
  Py_INCREF(__pyx_kp_100);
  Py_DECREF(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->path);
  ((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->path = __pyx_kp_100;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1146
 *         self._grpid = grpid
 *         self.path = '/'
 *         self.parent = None             # <<<<<<<<<<<<<<
 *         self._cmptypes = [] # initialize list to hold compound type info
 *         # get dimensions in the root group.
 */
  Py_INCREF(Py_None);
  Py_DECREF(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->parent);
  ((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->parent = Py_None;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1147
 *         self.path = '/'
 *         self.parent = None
 *         self._cmptypes = [] # initialize list to hold compound type info             # <<<<<<<<<<<<<<
 *         # get dimensions in the root group.
 *         self.dimensions = _get_dims(self)
 */
  __pyx_4 = PyList_New(0); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1147; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->_cmptypes);
  ((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->_cmptypes = ((PyObject *)__pyx_4);
  __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1149
 *         self._cmptypes = [] # initialize list to hold compound type info
 *         # get dimensions in the root group.
 *         self.dimensions = _get_dims(self)             # <<<<<<<<<<<<<<
 *         # get variables in the root Group.
 *         self.variables = _get_vars(self)
 */
  __pyx_1 = __pyx_f_7netCDF4__get_dims(__pyx_v_self); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1149; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->dimensions);
  ((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->dimensions = __pyx_1;
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1151
 *         self.dimensions = _get_dims(self)
 *         # get variables in the root Group.
 *         self.variables = _get_vars(self)             # <<<<<<<<<<<<<<
 *         # get groups in the root Group.
 *         if self.file_format == 'NETCDF4':
 */
  __pyx_3 = __pyx_f_7netCDF4__get_vars(__pyx_v_self); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1151; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->variables);
  ((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->variables = __pyx_3;
  __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1153
 *         self.variables = _get_vars(self)
 *         # get groups in the root Group.
 *         if self.file_format == 'NETCDF4':             # <<<<<<<<<<<<<<
 *             self.groups = _get_grps(self)
 *         else:
 */
  __pyx_4 = PyObject_RichCompare(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->file_format, __pyx_kp_101, Py_EQ); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1153; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_4); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1153; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (__pyx_2) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1154
 *         # get groups in the root Group.
 *         if self.file_format == 'NETCDF4':
 *             self.groups = _get_grps(self)             # <<<<<<<<<<<<<<
 *         else:
 *             self.groups = {}
 */
    __pyx_1 = __pyx_f_7netCDF4__get_grps(__pyx_v_self); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1154; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->groups);
    ((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->groups = __pyx_1;
    __pyx_1 = 0;
    goto __pyx_L9;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1156
 *             self.groups = _get_grps(self)
 *         else:
 *             self.groups = {}             # <<<<<<<<<<<<<<
 * 
 *     def close(self):
 */
    __pyx_3 = PyDict_New(); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1156; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->groups);
    ((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->groups = ((PyObject *)__pyx_3);
    __pyx_3 = 0;
  }
  __pyx_L9:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("netCDF4.Dataset.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_kwargs);
  Py_XDECREF(__pyx_kwds);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1158
 *             self.groups = {}
 * 
 *     def close(self):             # <<<<<<<<<<<<<<
 *         """
 * close(self)
 */

static PyObject *__pyx_pf_7netCDF4_7Dataset_close(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF4_7Dataset_close[] = "\nclose(self)\n\nClose the Dataset.";
static PyObject *__pyx_pf_7netCDF4_7Dataset_close(PyObject *__pyx_v_self, PyObject *unused) {
  int __pyx_v_ierr;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1164
 * Close the Dataset."""
 *         cdef int ierr
 *         ierr = nc_close(self._grpid)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_close(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->_grpid);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1165
 *         cdef int ierr
 *         ierr = nc_close(self._grpid)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 */
  __pyx_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_1) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1166
 *         ierr = nc_close(self._grpid)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 * 
 *     def sync(self):
 */
    __pyx_2 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1166; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1166; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1166; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1166; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.Dataset.close");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1168
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 *     def sync(self):             # <<<<<<<<<<<<<<
 *         """
 * sync(self)
 */

static PyObject *__pyx_pf_7netCDF4_7Dataset_sync(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF4_7Dataset_sync[] = "\nsync(self)\n\nWrites all buffered data in the L{Dataset} to the disk file.";
static PyObject *__pyx_pf_7netCDF4_7Dataset_sync(PyObject *__pyx_v_self, PyObject *unused) {
  int __pyx_v_ierr;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1174
 * Writes all buffered data in the L{Dataset} to the disk file."""
 *         cdef int ierr
 *         ierr = nc_sync(self._grpid)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_sync(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->_grpid);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1175
 *         cdef int ierr
 *         ierr = nc_sync(self._grpid)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 */
  __pyx_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_1) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1176
 *         ierr = nc_sync(self._grpid)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 * 
 *     def _redef(self):
 */
    __pyx_2 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1176; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1176; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1176; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1176; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.Dataset.sync");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1178
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 *     def _redef(self):             # <<<<<<<<<<<<<<
 *         cdef int ierr
 *         ierr = nc_redef(self._grpid)
 */

static PyObject *__pyx_pf_7netCDF4_7Dataset__redef(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static PyObject *__pyx_pf_7netCDF4_7Dataset__redef(PyObject *__pyx_v_self, PyObject *unused) {
  int __pyx_v_ierr;
  PyObject *__pyx_r;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1180
 *     def _redef(self):
 *         cdef int ierr
 *         ierr = nc_redef(self._grpid)             # <<<<<<<<<<<<<<
 * 
 *     def _enddef(self):
 */
  __pyx_v_ierr = nc_redef(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->_grpid);

  __pyx_r = Py_None; Py_INCREF(Py_None);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1182
 *         ierr = nc_redef(self._grpid)
 * 
 *     def _enddef(self):             # <<<<<<<<<<<<<<
 *         cdef int ierr
 *         ierr = nc_enddef(self._grpid)
 */

static PyObject *__pyx_pf_7netCDF4_7Dataset__enddef(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static PyObject *__pyx_pf_7netCDF4_7Dataset__enddef(PyObject *__pyx_v_self, PyObject *unused) {
  int __pyx_v_ierr;
  PyObject *__pyx_r;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1184
 *     def _enddef(self):
 *         cdef int ierr
 *         ierr = nc_enddef(self._grpid)             # <<<<<<<<<<<<<<
 * 
 *     def set_fill_on(self):
 */
  __pyx_v_ierr = nc_enddef(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->_grpid);

  __pyx_r = Py_None; Py_INCREF(Py_None);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1186
 *         ierr = nc_enddef(self._grpid)
 * 
 *     def set_fill_on(self):             # <<<<<<<<<<<<<<
 *         """
 * set_fill_on(self)
 */

static PyObject *__pyx_pf_7netCDF4_7Dataset_set_fill_on(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF4_7Dataset_set_fill_on[] = "\nset_fill_on(self)\n\nSets the fill mode for a L{Dataset} open for writing to C{on}.\n\nThis causes data to be pre-filled with fill values. The fill values can be \ncontrolled by the variable's C{_Fill_Value} attribute, but is usually \nsufficient to the use the netCDF default C{_Fill_Value} (defined \nseparately for each variable type). The default behavior of the netCDF \nlibrary correspongs to C{set_fill_on}.  Data which are equal to the \nC{_Fill_Value} indicate that the variable was created, but never written \nto.";
static PyObject *__pyx_pf_7netCDF4_7Dataset_set_fill_on(PyObject *__pyx_v_self, PyObject *unused) {
  int __pyx_v_ierr;
  int __pyx_v_oldmode;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1200
 * to."""
 *         cdef int ierr, oldmode
 *         ierr = nc_set_fill (self._grpid, NC_FILL, &oldmode)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_set_fill(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->_grpid, NC_FILL, (&__pyx_v_oldmode));

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1201
 *         cdef int ierr, oldmode
 *         ierr = nc_set_fill (self._grpid, NC_FILL, &oldmode)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 */
  __pyx_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_1) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1202
 *         ierr = nc_set_fill (self._grpid, NC_FILL, &oldmode)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 * 
 *     def set_fill_off(self):
 */
    __pyx_2 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1202; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1202; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1202; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1202; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.Dataset.set_fill_on");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1204
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 *     def set_fill_off(self):             # <<<<<<<<<<<<<<
 *         """
 * set_fill_off(self)
 */

static PyObject *__pyx_pf_7netCDF4_7Dataset_set_fill_off(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF4_7Dataset_set_fill_off[] = "\nset_fill_off(self)\n\nSets the fill mode for a L{Dataset} open for writing to C{off}. \n\nThis will prevent the data from being pre-filled with fill values, which \nmay result in some performance improvements. However, you must then make \nsure the data is actually written before being read.";
static PyObject *__pyx_pf_7netCDF4_7Dataset_set_fill_off(PyObject *__pyx_v_self, PyObject *unused) {
  int __pyx_v_ierr;
  int __pyx_v_oldmode;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1214
 * sure the data is actually written before being read."""
 *         cdef int ierr, oldmode
 *         ierr = nc_set_fill (self._grpid, NC_NOFILL, &oldmode)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_set_fill(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->_grpid, NC_NOFILL, (&__pyx_v_oldmode));

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1215
 *         cdef int ierr, oldmode
 *         ierr = nc_set_fill (self._grpid, NC_NOFILL, &oldmode)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 */
  __pyx_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_1) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1216
 *         ierr = nc_set_fill (self._grpid, NC_NOFILL, &oldmode)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 * 
 *     def createDimension(self, dimname, size=None):
 */
    __pyx_2 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1216; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1216; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1216; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1216; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.Dataset.set_fill_off");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1218
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 *     def createDimension(self, dimname, size=None):             # <<<<<<<<<<<<<<
 *         """
 * createDimension(self, dimname, size=None)
 */

static PyObject *__pyx_pf_7netCDF4_7Dataset_createDimension(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF4_7Dataset_createDimension[] = "\ncreateDimension(self, dimname, size=None)\n\nCreates a new dimension with the given C{dimname} and C{size}. \n\nC{size} must be a positive integer or C{None}, which stands for \n\"unlimited\" (default is C{None}). The return value is the L{Dimension} \nclass instance describing the new dimension.  To determine the current \nmaximum size of the dimension, use the C{len} function on the L{Dimension} \ninstance. To determine if a dimension is 'unlimited', use the \nC{isunlimited()} method of the L{Dimension} instance.";
static PyObject *__pyx_pf_7netCDF4_7Dataset_createDimension(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_dimname = 0;
  PyObject *__pyx_v_size = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"dimname","size",0};
  __pyx_v_size = Py_None;
  if (likely(!__pyx_kwds) && likely(1 <= PyTuple_GET_SIZE(__pyx_args)) && likely(PyTuple_GET_SIZE(__pyx_args) <= 2)) {
    __pyx_v_dimname = PyTuple_GET_ITEM(__pyx_args, 0);
    if (PyTuple_GET_SIZE(__pyx_args) > 1) {
      __pyx_v_size = PyTuple_GET_ITEM(__pyx_args, 1);
    }
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_dimname, &__pyx_v_size))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1218; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4.Dataset.createDimension");
  return NULL;
  __pyx_L4:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1230
 * instance. To determine if a dimension is 'unlimited', use the
 * C{isunlimited()} method of the L{Dimension} instance."""
 *         self.dimensions[dimname] = Dimension(self, dimname, size=size)             # <<<<<<<<<<<<<<
 *         return self.dimensions[dimname]
 * 
 */
  __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1230; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_self);
  Py_INCREF(__pyx_v_dimname);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_dimname);
  __pyx_2 = PyDict_New(); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1230; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_size, __pyx_v_size) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1230; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyEval_CallObjectWithKeywords(((PyObject*)__pyx_ptype_7netCDF4_Dimension), ((PyObject *)__pyx_1), ((PyObject *)__pyx_2)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1230; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
  if (PyObject_SetItem(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->dimensions, __pyx_v_dimname, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1230; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1231
 * C{isunlimited()} method of the L{Dimension} instance."""
 *         self.dimensions[dimname] = Dimension(self, dimname, size=size)
 *         return self.dimensions[dimname]             # <<<<<<<<<<<<<<
 * 
 *     def renameDimension(self, oldname, newname):
 */
  __pyx_1 = PyObject_GetItem(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->dimensions, __pyx_v_dimname); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1231; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.Dataset.createDimension");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1233
 *         return self.dimensions[dimname]
 * 
 *     def renameDimension(self, oldname, newname):             # <<<<<<<<<<<<<<
 *         """
 * renameDimension(self, oldname, newname)
 */

static PyObject *__pyx_pf_7netCDF4_7Dataset_renameDimension(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF4_7Dataset_renameDimension[] = "\nrenameDimension(self, oldname, newname)\n\nrename a L{Dimension} named C{oldname} to C{newname}.";
static PyObject *__pyx_pf_7netCDF4_7Dataset_renameDimension(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_oldname = 0;
  PyObject *__pyx_v_newname = 0;
  char *__pyx_v_namstring;
  PyObject *__pyx_v_dim;
  PyObject *__pyx_v_ierr;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"oldname","newname",0};
  if (likely(!__pyx_kwds) && likely(PyTuple_GET_SIZE(__pyx_args) == 2)) {
    __pyx_v_oldname = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_newname = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_oldname, &__pyx_v_newname))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1233; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4.Dataset.renameDimension");
  return NULL;
  __pyx_L4:;
  __pyx_v_dim = Py_None; Py_INCREF(Py_None);
  __pyx_v_ierr = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1239
 * rename a L{Dimension} named C{oldname} to C{newname}."""
 *         cdef char *namstring
 *         dim = self.dimensions[oldname]             # <<<<<<<<<<<<<<
 *         namstring = PyString_AsString(newname)
 *         if self.file_format != 'NETCDF4': self._redef()
 */
  __pyx_1 = PyObject_GetItem(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->dimensions, __pyx_v_oldname); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1239; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_dim);
  __pyx_v_dim = __pyx_1;
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1240
 *         cdef char *namstring
 *         dim = self.dimensions[oldname]
 *         namstring = PyString_AsString(newname)             # <<<<<<<<<<<<<<
 *         if self.file_format != 'NETCDF4': self._redef()
 *         ierr = nc_rename_dim(self._grpid, dim._dimid, namstring)
 */
  __pyx_v_namstring = PyString_AsString(__pyx_v_newname);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1241
 *         dim = self.dimensions[oldname]
 *         namstring = PyString_AsString(newname)
 *         if self.file_format != 'NETCDF4': self._redef()             # <<<<<<<<<<<<<<
 *         ierr = nc_rename_dim(self._grpid, dim._dimid, namstring)
 *         if self.file_format != 'NETCDF4': self._enddef()
 */
  __pyx_1 = PyObject_RichCompare(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->file_format, __pyx_kp_102, Py_NE); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1241; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1241; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {
    __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__redef); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1241; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1241; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1242
 *         namstring = PyString_AsString(newname)
 *         if self.file_format != 'NETCDF4': self._redef()
 *         ierr = nc_rename_dim(self._grpid, dim._dimid, namstring)             # <<<<<<<<<<<<<<
 *         if self.file_format != 'NETCDF4': self._enddef()
 *         if ierr != NC_NOERR:
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_dim, __pyx_kp__dimid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1242; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = __pyx_PyInt_int(__pyx_1); if (unlikely((__pyx_4 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1242; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyInt_FromLong(nc_rename_dim(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->_grpid, __pyx_4, __pyx_v_namstring)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1242; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_ierr);
  __pyx_v_ierr = __pyx_3;
  __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1243
 *         if self.file_format != 'NETCDF4': self._redef()
 *         ierr = nc_rename_dim(self._grpid, dim._dimid, namstring)
 *         if self.file_format != 'NETCDF4': self._enddef()             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_1 = PyObject_RichCompare(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->file_format, __pyx_kp_103, Py_NE); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1243; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1243; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {
    __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__enddef); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1243; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1243; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1244
 *         ierr = nc_rename_dim(self._grpid, dim._dimid, namstring)
 *         if self.file_format != 'NETCDF4': self._enddef()
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         # remove old key from dimensions dict.
 */
  __pyx_3 = PyInt_FromLong(NC_NOERR); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1244; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyObject_RichCompare(__pyx_v_ierr, __pyx_3, Py_NE); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1244; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1244; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1245
 *         if self.file_format != 'NETCDF4': self._enddef()
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         # remove old key from dimensions dict.
 *         self.dimensions.pop(oldname)
 */
    __pyx_4 = __pyx_PyInt_int(__pyx_v_ierr); if (unlikely((__pyx_4 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1245; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_4)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1245; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1245; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1245; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1245; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L7;
  }
  __pyx_L7:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1247
 *             raise RuntimeError(nc_strerror(ierr))
 *         # remove old key from dimensions dict.
 *         self.dimensions.pop(oldname)             # <<<<<<<<<<<<<<
 *         # add new key.
 *         self.dimensions[newname] = dim
 */
  __pyx_1 = PyObject_GetAttr(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->dimensions, __pyx_kp_pop); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1247; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1247; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_oldname);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_oldname);
  __pyx_5 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1247; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1249
 *         self.dimensions.pop(oldname)
 *         # add new key.
 *         self.dimensions[newname] = dim             # <<<<<<<<<<<<<<
 *         # Variable.dimensions is determined by a method that
 *         # looks in the file, so no need to manually update.
 */
  if (PyObject_SetItem(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->dimensions, __pyx_v_newname, __pyx_v_dim) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1249; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("netCDF4.Dataset.renameDimension");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_dim);
  Py_DECREF(__pyx_v_ierr);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1253
 *         # looks in the file, so no need to manually update.
 * 
 *     def createCompoundType(self, datatype, datatype_name):             # <<<<<<<<<<<<<<
 *         """
 * createCompoundType(self, datatype, datatype_name)
 */

static PyObject *__pyx_pf_7netCDF4_7Dataset_createCompoundType(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF4_7Dataset_createCompoundType[] = "\ncreateCompoundType(self, datatype, datatype_name)\n\nCreates a new compound data type named C{datatype_name} from the numpy\ndtype object C{datatype}.\n\n@attention: If the new compound data type contains other compound data types\n(i.e. it is a 'nested' compound type, where not all of the elements\nare homogenous numeric data types), then the 'inner' compound types B{must} be\ncreated first.\n\nThe return value is the L{CompoundType} class instance describing the new\ndatatype.";
static PyObject *__pyx_pf_7netCDF4_7Dataset_createCompoundType(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_datatype = 0;
  PyObject *__pyx_v_datatype_name = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {"datatype","datatype_name",0};
  if (likely(!__pyx_kwds) && likely(PyTuple_GET_SIZE(__pyx_args) == 2)) {
    __pyx_v_datatype = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_datatype_name = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_datatype, &__pyx_v_datatype_name))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1253; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4.Dataset.createCompoundType");
  return NULL;
  __pyx_L4:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1267
 * The return value is the L{CompoundType} class instance describing the new
 * datatype."""
 *         return CompoundType(self, datatype, datatype_name)             # <<<<<<<<<<<<<<
 * 
 *     def createVariable(self, varname, datatype, dimensions=(), zlib=False, complevel=6, shuffle=True, fletcher32=False, contiguous=False, chunksizes=None, endian='native', least_significant_digit=None, fill_value=None):
 */
  __pyx_1 = PyTuple_New(3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_self);
  Py_INCREF(__pyx_v_datatype);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_datatype);
  Py_INCREF(__pyx_v_datatype_name);
  PyTuple_SET_ITEM(__pyx_1, 2, __pyx_v_datatype_name);
  __pyx_2 = PyObject_Call(((PyObject*)__pyx_ptype_7netCDF4_CompoundType), ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("netCDF4.Dataset.createCompoundType");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1269
 *         return CompoundType(self, datatype, datatype_name)
 * 
 *     def createVariable(self, varname, datatype, dimensions=(), zlib=False, complevel=6, shuffle=True, fletcher32=False, contiguous=False, chunksizes=None, endian='native', least_significant_digit=None, fill_value=None):             # <<<<<<<<<<<<<<
 *         """
 * createVariable(self, varname, datatype, dimensions=(), zlib=False, complevel=6, shuffle=True, fletcher32=False, contiguous=False, chunksizes=None, endian='native', least_significant_digit=None, fill_value=None)
 */

static PyObject *__pyx_pf_7netCDF4_7Dataset_createVariable(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF4_7Dataset_createVariable[] = "\n""createVariable(self, varname, datatype, dimensions=(), zlib=False, complevel=6, shuffle=True, fletcher32=False, contiguous=False, chunksizes=None, endian='native', least_significant_digit=None, fill_value=None)\n""\n""Creates a new variable with the given C{varname}, C{datatype}, and \n""C{dimensions}. If dimensions are not given, the variable is assumed to be \n""a scalar.\n""\n""The C{datatype} can be a numpy datatype object, or a string that describes \n""a numpy dtype object (like the C{dtype.str} attribue of a numpy array). \n""Supported specifiers include: C{'S1' or 'c' (NC_CHAR), 'i1' or 'b' or 'B' \n""(NC_BYTE), 'u1' (NC_UBYTE), 'i2' or 'h' or 's' (NC_SHORT), 'u2' \n""(NC_USHORT), 'i4' or 'i' or 'l' (NC_INT), 'u4' (NC_UINT), 'i8' (NC_INT64), \n""'u8' (NC_UINT64), 'f4' or 'f' (NC_FLOAT), 'f8' or 'd' (NC_DOUBLE)}.\n""\n""Data from netCDF variables is presented to python as numpy arrays with\n""the corresponding data type. \n""\n""C{dimensions} must be a tuple containing dimension names (strings) that \n""have been defined previously using C{createDimension}. The default value \n""is an empty tuple, which means the variable is a scalar.\n""\n""If the optional keyword C{zlib} is C{True}, the data will be compressed in \n""the netCDF file using gzip compression (default C{False}).\n""\n""The optional keyword C{complevel} is an integer between 1 and 9 describing \n""the level of compression desired (default 6). Ignored if C{zlib=False}.\n""\n""If the optional keyword C{shuffle} is C{True}, the HDF5 shuffle filter \n""will be applied before compressing the data (default C{True}).  This \n""significantly improves compression. Default is C{True}. Ignored if\n""C{zlib=False}.\n""\n""If the optional keyword C{fletcher32} is C{True}, the Fletcher32 HDF5 \n""checksum algorithm is activated to detect errors. Default C{False}.\n""\n""If the optional keyword C{contiguous} is C{True}, the variable data is \n""stored contiguously on disk.  Default C{False}. Setting to C{True} for\n""a variable with an unlimited dimension will trigger an error.\n""\n""The optional keyword C{chunksizes} can be used to manually specify the\n""HDF5 chunksizes for each dimension of the variable. A detailed\n""discussion of HDF chunking and I/O performance is available U{here\n""<http://www.hdfgroup.org/HDF5/doc/H5.user/Chunking.html>}. \n""Basically, you want the chunk size for each dimension to match as\n""closely as possible the size of the data block that users will read\n""from the file.  C{chunksizes} cannot be set if C{contiguous=True}.\n""\n""The optional keyword C{endian} can be used to control whether the\n""data is stored in little or big endian format on disk. Possible\n""values are C{little, big} or C{native} (default). The library\n""will automatically handle endian conversions when the data is read,\n""but if the data is always going to be read on a computer with the\n""opposite format as the one used to create the file, there may be\n""some performance advantage to be gained by setting the endian-ness.\n""\n""The C{zlib, complevel, shuffle, fletcher32, contiguous, chunksizes} and C{endian}\n""keywords are silently ignored for netCDF 3 files that do not use HDF5.\n""\n""The optional keyword C{fill_value} can be used to override the default \n""netCDF C{_FillValue} (the value that the variable gets filled with before \n""any data is written to it).  If fill_value is set to C{False}, then\n""the variable is not pre-filled.\n""\n""If the optional keyword parameter C{least_significant_digit} is\n""specified, variable data will be truncated (quantized). In conjunction\n""with C{zlib=True} this produces 'lossy', but significantly more\n""efficient compression. For example, if C{least_significant_digit=1},\n""data will be quantized using C{numpy.around(scale*data)/scale}, where\n""scale = 2**bits, and bits is determined so that a precision of 0.1 is\n""retained (in this case bits=4). From\n""U{http://www.cdc.noaa.gov/cdc/conventions/cdc_netcdf_standard.shtml}:\n""\"least_significant_digit -- power of ten of the smallest decimal place\n""in unpacked data that is a reliable value.\" Default is C{None}, or no\n""quantization, or 'lossless' compression.\n""\n""The return value is the L{Variable} class instance describing the new \n""variable.\n""\n""A list of names corresponding to netCDF variable attributes can be \n""obtained with the L{Variable} method C{ncattrs()}. A dictionary\n""containing all the netCDF attribute name/value pairs is provided by\n""the C{__dict__} attribute of a L{Variable} instance.\n""\n""L{Variable} instances behave much like array objects. Data can be\n""assigned to or retrieved from a variable with indexing and slicing\n""operations on the L{Variable} instance. A L{Variable} instance has five\n""standard attributes: C{dimensions, dtype, shape, ndim} and\n""C{least_significant_digit}. Application programs should never modify\n""these attributes. The C{dimensions} attribute is a tuple containing the\n""names of the dimensions associated with this variable. The C{dtype}\n""attribute is a string describing the variable's data type (C{i4, f8,\n""S1,} etc). The C{shape} attribute is a tuple describing the current\n""sizes of all the variable's dimensions. The C{least_significant_digit}\n""attributes describes the power of ten of the smallest decimal place in\n""the data the contains a reliable value.  assigned to the L{Variable}\n""instance. If C{None}, the data is not truncated. The C{ndim} attribute\n""is the number of variable dimensions.";
static PyObject *__pyx_pf_7netCDF4_7Dataset_createVariable(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_varname = 0;
  PyObject *__pyx_v_datatype = 0;
  PyObject *__pyx_v_dimensions = 0;
  PyObject *__pyx_v_zlib = 0;
  PyObject *__pyx_v_complevel = 0;
  PyObject *__pyx_v_shuffle = 0;
  PyObject *__pyx_v_fletcher32 = 0;
  PyObject *__pyx_v_contiguous = 0;
  PyObject *__pyx_v_chunksizes = 0;
  PyObject *__pyx_v_endian = 0;
  PyObject *__pyx_v_least_significant_digit = 0;
  PyObject *__pyx_v_fill_value = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"varname","datatype","dimensions","zlib","complevel","shuffle","fletcher32","contiguous","chunksizes","endian","least_significant_digit","fill_value",0};
  __pyx_v_dimensions = ((PyObject *)__pyx_empty_tuple);
  __pyx_v_zlib = __pyx_k_50;
  __pyx_v_complevel = __pyx_int_6;
  __pyx_v_shuffle = __pyx_k_51;
  __pyx_v_fletcher32 = __pyx_k_52;
  __pyx_v_contiguous = __pyx_k_53;
  __pyx_v_chunksizes = Py_None;
  __pyx_v_endian = __pyx_kp_54;
  __pyx_v_least_significant_digit = Py_None;
  __pyx_v_fill_value = Py_None;
  if (likely(!__pyx_kwds) && likely(2 <= PyTuple_GET_SIZE(__pyx_args)) && likely(PyTuple_GET_SIZE(__pyx_args) <= 12)) {
    __pyx_v_varname = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_datatype = PyTuple_GET_ITEM(__pyx_args, 1);
    if (PyTuple_GET_SIZE(__pyx_args) > 2) {
      __pyx_v_dimensions = PyTuple_GET_ITEM(__pyx_args, 2);
      if (PyTuple_GET_SIZE(__pyx_args) > 3) {
        __pyx_v_zlib = PyTuple_GET_ITEM(__pyx_args, 3);
        if (PyTuple_GET_SIZE(__pyx_args) > 4) {
          __pyx_v_complevel = PyTuple_GET_ITEM(__pyx_args, 4);
          if (PyTuple_GET_SIZE(__pyx_args) > 5) {
            __pyx_v_shuffle = PyTuple_GET_ITEM(__pyx_args, 5);
            if (PyTuple_GET_SIZE(__pyx_args) > 6) {
              __pyx_v_fletcher32 = PyTuple_GET_ITEM(__pyx_args, 6);
              if (PyTuple_GET_SIZE(__pyx_args) > 7) {
                __pyx_v_contiguous = PyTuple_GET_ITEM(__pyx_args, 7);
                if (PyTuple_GET_SIZE(__pyx_args) > 8) {
                  __pyx_v_chunksizes = PyTuple_GET_ITEM(__pyx_args, 8);
                  if (PyTuple_GET_SIZE(__pyx_args) > 9) {
                    __pyx_v_endian = PyTuple_GET_ITEM(__pyx_args, 9);
                    if (PyTuple_GET_SIZE(__pyx_args) > 10) {
                      __pyx_v_least_significant_digit = PyTuple_GET_ITEM(__pyx_args, 10);
                      if (PyTuple_GET_SIZE(__pyx_args) > 11) {
                        __pyx_v_fill_value = PyTuple_GET_ITEM(__pyx_args, 11);
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO|OOOOOOOOOO", __pyx_argnames, &__pyx_v_varname, &__pyx_v_datatype, &__pyx_v_dimensions, &__pyx_v_zlib, &__pyx_v_complevel, &__pyx_v_shuffle, &__pyx_v_fletcher32, &__pyx_v_contiguous, &__pyx_v_chunksizes, &__pyx_v_endian, &__pyx_v_least_significant_digit, &__pyx_v_fill_value))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1269; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4.Dataset.createVariable");
  return NULL;
  __pyx_L4:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1367
 * instance. If C{None}, the data is not truncated. The C{ndim} attribute
 * is the number of variable dimensions."""
 *         self.variables[varname] = Variable(self, varname, datatype,             # <<<<<<<<<<<<<<
 *         dimensions=dimensions, zlib=zlib, complevel=complevel, shuffle=shuffle, fletcher32=fletcher32, contiguous=contiguous, chunksizes=chunksizes, endian=endian, least_significant_digit=least_significant_digit, fill_value=fill_value)
 *         return self.variables[varname]
 */
  __pyx_1 = PyTuple_New(3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_self);
  Py_INCREF(__pyx_v_varname);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_varname);
  Py_INCREF(__pyx_v_datatype);
  PyTuple_SET_ITEM(__pyx_1, 2, __pyx_v_datatype);
  __pyx_2 = PyDict_New(); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1368
 * is the number of variable dimensions."""
 *         self.variables[varname] = Variable(self, varname, datatype,
 *         dimensions=dimensions, zlib=zlib, complevel=complevel, shuffle=shuffle, fletcher32=fletcher32, contiguous=contiguous, chunksizes=chunksizes, endian=endian, least_significant_digit=least_significant_digit, fill_value=fill_value)             # <<<<<<<<<<<<<<
 *         return self.variables[varname]
 * 
 */
  if (PyDict_SetItem(__pyx_2, __pyx_kp_dimensions, __pyx_v_dimensions) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_zlib, __pyx_v_zlib) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_complevel, __pyx_v_complevel) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_shuffle, __pyx_v_shuffle) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_104, __pyx_v_fletcher32) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_contiguous, __pyx_v_contiguous) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_chunksizes, __pyx_v_chunksizes) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_endian, __pyx_v_endian) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_105, __pyx_v_least_significant_digit) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_fill_value, __pyx_v_fill_value) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyEval_CallObjectWithKeywords(((PyObject*)__pyx_ptype_7netCDF4_Variable), ((PyObject *)__pyx_1), ((PyObject *)__pyx_2)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1367
 * instance. If C{None}, the data is not truncated. The C{ndim} attribute
 * is the number of variable dimensions."""
 *         self.variables[varname] = Variable(self, varname, datatype,             # <<<<<<<<<<<<<<
 *         dimensions=dimensions, zlib=zlib, complevel=complevel, shuffle=shuffle, fletcher32=fletcher32, contiguous=contiguous, chunksizes=chunksizes, endian=endian, least_significant_digit=least_significant_digit, fill_value=fill_value)
 *         return self.variables[varname]
 */
  if (PyObject_SetItem(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->variables, __pyx_v_varname, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1369
 *         self.variables[varname] = Variable(self, varname, datatype,
 *         dimensions=dimensions, zlib=zlib, complevel=complevel, shuffle=shuffle, fletcher32=fletcher32, contiguous=contiguous, chunksizes=chunksizes, endian=endian, least_significant_digit=least_significant_digit, fill_value=fill_value)
 *         return self.variables[varname]             # <<<<<<<<<<<<<<
 * 
 *     def renameVariable(self, oldname, newname):
 */
  __pyx_1 = PyObject_GetItem(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->variables, __pyx_v_varname); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1369; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.Dataset.createVariable");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1371
 *         return self.variables[varname]
 * 
 *     def renameVariable(self, oldname, newname):             # <<<<<<<<<<<<<<
 *         """
 * renameVariable(self, oldname, newname)
 */

static PyObject *__pyx_pf_7netCDF4_7Dataset_renameVariable(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF4_7Dataset_renameVariable[] = "\nrenameVariable(self, oldname, newname)\n\nrename a L{Variable} named C{oldname} to C{newname}";
static PyObject *__pyx_pf_7netCDF4_7Dataset_renameVariable(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_oldname = 0;
  PyObject *__pyx_v_newname = 0;
  char *__pyx_v_namstring;
  PyObject *__pyx_v_var;
  PyObject *__pyx_v_ierr;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  int __pyx_7;
  static char *__pyx_argnames[] = {"oldname","newname",0};
  if (likely(!__pyx_kwds) && likely(PyTuple_GET_SIZE(__pyx_args) == 2)) {
    __pyx_v_oldname = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_newname = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_oldname, &__pyx_v_newname))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1371; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4.Dataset.renameVariable");
  return NULL;
  __pyx_L4:;
  __pyx_v_var = Py_None; Py_INCREF(Py_None);
  __pyx_v_ierr = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1377
 * rename a L{Variable} named C{oldname} to C{newname}"""
 *         cdef char *namstring
 *         try:             # <<<<<<<<<<<<<<
 *             var = self.variables[oldname]
 *         except KeyError:
 */
  /*try:*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1378
 *         cdef char *namstring
 *         try:
 *             var = self.variables[oldname]             # <<<<<<<<<<<<<<
 *         except KeyError:
 *             raise KeyError('%s not a valid variable name' % oldname)
 */
    __pyx_1 = PyObject_GetItem(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->variables, __pyx_v_oldname); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1378; __pyx_clineno = __LINE__; goto __pyx_L5_error;}
    Py_DECREF(__pyx_v_var);
    __pyx_v_var = __pyx_1;
    __pyx_1 = 0;
  }
  goto __pyx_L6;
  __pyx_L5_error:;
  Py_XDECREF(__pyx_1); __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1379
 *         try:
 *             var = self.variables[oldname]
 *         except KeyError:             # <<<<<<<<<<<<<<
 *             raise KeyError('%s not a valid variable name' % oldname)
 *         namstring = PyString_AsString(newname)
 */
  __pyx_2 = PyErr_ExceptionMatches(__pyx_builtin_KeyError);
  if (__pyx_2) {
    __Pyx_AddTraceback("netCDF4.renameVariable");
    if (__Pyx_GetException(&__pyx_1, &__pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1379; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1380
 *             var = self.variables[oldname]
 *         except KeyError:
 *             raise KeyError('%s not a valid variable name' % oldname)             # <<<<<<<<<<<<<<
 *         namstring = PyString_AsString(newname)
 *         if self.file_format != 'NETCDF4': self._redef()
 */
    __pyx_5 = PyNumber_Remainder(__pyx_kp_106, __pyx_v_oldname); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_6 = PyTuple_New(1); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_6, 0, __pyx_5);
    __pyx_5 = 0;
    __pyx_5 = PyObject_Call(__pyx_builtin_KeyError, ((PyObject *)__pyx_6), NULL); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_6)); __pyx_6 = 0;
    __Pyx_Raise(__pyx_5, 0, 0);
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    goto __pyx_L6;
  }
  goto __pyx_L1_error;
  __pyx_L6:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1381
 *         except KeyError:
 *             raise KeyError('%s not a valid variable name' % oldname)
 *         namstring = PyString_AsString(newname)             # <<<<<<<<<<<<<<
 *         if self.file_format != 'NETCDF4': self._redef()
 *         ierr = nc_rename_var(self._grpid, var._varid, namstring)
 */
  __pyx_v_namstring = PyString_AsString(__pyx_v_newname);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1382
 *             raise KeyError('%s not a valid variable name' % oldname)
 *         namstring = PyString_AsString(newname)
 *         if self.file_format != 'NETCDF4': self._redef()             # <<<<<<<<<<<<<<
 *         ierr = nc_rename_var(self._grpid, var._varid, namstring)
 *         if self.file_format != 'NETCDF4': self._enddef()
 */
  __pyx_6 = PyObject_RichCompare(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->file_format, __pyx_kp_107, Py_NE); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1382; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_7 = __Pyx_PyObject_IsTrue(__pyx_6); if (unlikely(__pyx_7 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1382; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  if (__pyx_7) {
    __pyx_5 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__redef); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1382; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = PyObject_Call(__pyx_5, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1382; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    goto __pyx_L7;
  }
  __pyx_L7:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1383
 *         namstring = PyString_AsString(newname)
 *         if self.file_format != 'NETCDF4': self._redef()
 *         ierr = nc_rename_var(self._grpid, var._varid, namstring)             # <<<<<<<<<<<<<<
 *         if self.file_format != 'NETCDF4': self._enddef()
 *         if ierr != NC_NOERR:
 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_var, __pyx_kp__varid); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1383; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __pyx_PyInt_int(__pyx_3); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1383; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_4 = PyInt_FromLong(nc_rename_var(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->_grpid, __pyx_2, __pyx_v_namstring)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1383; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_ierr);
  __pyx_v_ierr = __pyx_4;
  __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1384
 *         if self.file_format != 'NETCDF4': self._redef()
 *         ierr = nc_rename_var(self._grpid, var._varid, namstring)
 *         if self.file_format != 'NETCDF4': self._enddef()             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_6 = PyObject_RichCompare(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->file_format, __pyx_kp_108, Py_NE); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_7 = __Pyx_PyObject_IsTrue(__pyx_6); if (unlikely(__pyx_7 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  if (__pyx_7) {
    __pyx_5 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__enddef); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = PyObject_Call(__pyx_5, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    goto __pyx_L8;
  }
  __pyx_L8:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1385
 *         ierr = nc_rename_var(self._grpid, var._varid, namstring)
 *         if self.file_format != 'NETCDF4': self._enddef()
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         # remove old key from dimensions dict.
 */
  __pyx_3 = PyInt_FromLong(NC_NOERR); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1385; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = PyObject_RichCompare(__pyx_v_ierr, __pyx_3, Py_NE); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1385; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_7 = __Pyx_PyObject_IsTrue(__pyx_4); if (unlikely(__pyx_7 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1385; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (__pyx_7) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1386
 *         if self.file_format != 'NETCDF4': self._enddef()
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         # remove old key from dimensions dict.
 *         self.variables.pop(oldname)
 */
    __pyx_2 = __pyx_PyInt_int(__pyx_v_ierr); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1386; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_6 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_2)); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1386; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_5 = PyTuple_New(1); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1386; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_6);
    __pyx_6 = 0;
    __pyx_1 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_5), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1386; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_5)); __pyx_5 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1386; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L9;
  }
  __pyx_L9:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1388
 *             raise RuntimeError(nc_strerror(ierr))
 *         # remove old key from dimensions dict.
 *         self.variables.pop(oldname)             # <<<<<<<<<<<<<<
 *         # add new key.
 *         self.variables[newname] = var
 */
  __pyx_3 = PyObject_GetAttr(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->variables, __pyx_kp_pop); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1388; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1388; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_oldname);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_oldname);
  __pyx_6 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1388; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
  Py_DECREF(__pyx_6); __pyx_6 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1390
 *         self.variables.pop(oldname)
 *         # add new key.
 *         self.variables[newname] = var             # <<<<<<<<<<<<<<
 * 
 *     def createGroup(self, groupname):
 */
  if (PyObject_SetItem(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->variables, __pyx_v_newname, __pyx_v_var) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1390; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("netCDF4.Dataset.renameVariable");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_var);
  Py_DECREF(__pyx_v_ierr);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1392
 *         self.variables[newname] = var
 * 
 *     def createGroup(self, groupname):             # <<<<<<<<<<<<<<
 *         """
 * createGroup(self, groupname)
 */

static PyObject *__pyx_pf_7netCDF4_7Dataset_createGroup(PyObject *__pyx_v_self, PyObject *__pyx_v_groupname); /*proto*/
static char __pyx_doc_7netCDF4_7Dataset_createGroup[] = "\ncreateGroup(self, groupname)\n\nCreates a new L{Group} with the given C{groupname}.\n\nThe return value is a L{Group} class instance describing the new group.";
static PyObject *__pyx_pf_7netCDF4_7Dataset_createGroup(PyObject *__pyx_v_self, PyObject *__pyx_v_groupname) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1399
 * 
 * The return value is a L{Group} class instance describing the new group."""
 *         self.groups[groupname] = Group(self, groupname)             # <<<<<<<<<<<<<<
 *         return self.groups[groupname]
 * 
 */
  __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1399; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_self);
  Py_INCREF(__pyx_v_groupname);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_groupname);
  __pyx_2 = PyObject_Call(((PyObject*)__pyx_ptype_7netCDF4_Group), ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1399; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  if (PyObject_SetItem(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->groups, __pyx_v_groupname, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1399; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1400
 * The return value is a L{Group} class instance describing the new group."""
 *         self.groups[groupname] = Group(self, groupname)
 *         return self.groups[groupname]             # <<<<<<<<<<<<<<
 * 
 *     def ncattrs(self):
 */
  __pyx_1 = PyObject_GetItem(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->groups, __pyx_v_groupname); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1400; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("netCDF4.Dataset.createGroup");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1402
 *         return self.groups[groupname]
 * 
 *     def ncattrs(self):             # <<<<<<<<<<<<<<
 *         """
 * ncattrs(self)
 */

static PyObject *__pyx_pf_7netCDF4_7Dataset_ncattrs(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF4_7Dataset_ncattrs[] = "\nncattrs(self)\n\nreturn netCDF global attribute names for this L{Dataset} or L{Group} in a list.";
static PyObject *__pyx_pf_7netCDF4_7Dataset_ncattrs(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1407
 * 
 * return netCDF global attribute names for this L{Dataset} or L{Group} in a list."""
 *         return _get_att_names(self._grpid, NC_GLOBAL)             # <<<<<<<<<<<<<<
 * 
 *     def __delattr__(self,name):
 */
  __pyx_1 = __pyx_f_7netCDF4__get_att_names(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->_grpid, NC_GLOBAL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1407; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("netCDF4.Dataset.ncattrs");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1409
 *         return _get_att_names(self._grpid, NC_GLOBAL)
 * 
 *     def __delattr__(self,name):             # <<<<<<<<<<<<<<
 *         cdef char *attname
 *         # if it's a netCDF attribute, remove it
 */

static int __pyx_pf_7netCDF4_7Dataset___delattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
static int __pyx_pf_7netCDF4_7Dataset___delattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
  char *__pyx_v_attname;
  PyObject *__pyx_v_ierr;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  __pyx_v_ierr = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1412
 *         cdef char *attname
 *         # if it's a netCDF attribute, remove it
 *         if name not in _private_atts:             # <<<<<<<<<<<<<<
 *             attname = PyString_AsString(name)
 *             if self.file_format != 'NETCDF4': self._redef()
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp__private_atts); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1412; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = (!PySequence_Contains(__pyx_1, __pyx_v_name)); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1412; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1413
 *         # if it's a netCDF attribute, remove it
 *         if name not in _private_atts:
 *             attname = PyString_AsString(name)             # <<<<<<<<<<<<<<
 *             if self.file_format != 'NETCDF4': self._redef()
 *             ierr = nc_del_att(self._grpid, NC_GLOBAL, attname)
 */
    __pyx_v_attname = PyString_AsString(__pyx_v_name);

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1414
 *         if name not in _private_atts:
 *             attname = PyString_AsString(name)
 *             if self.file_format != 'NETCDF4': self._redef()             # <<<<<<<<<<<<<<
 *             ierr = nc_del_att(self._grpid, NC_GLOBAL, attname)
 *             if self.file_format != 'NETCDF4': self._enddef()
 */
    __pyx_1 = PyObject_RichCompare(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->file_format, __pyx_kp_109, Py_NE); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1414; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1414; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_2) {
      __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__redef); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1414; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1414; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      goto __pyx_L6;
    }
    __pyx_L6:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1415
 *             attname = PyString_AsString(name)
 *             if self.file_format != 'NETCDF4': self._redef()
 *             ierr = nc_del_att(self._grpid, NC_GLOBAL, attname)             # <<<<<<<<<<<<<<
 *             if self.file_format != 'NETCDF4': self._enddef()
 *             if ierr != NC_NOERR:
 */
    __pyx_1 = PyInt_FromLong(nc_del_att(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->_grpid, NC_GLOBAL, __pyx_v_attname)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1415; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_ierr);
    __pyx_v_ierr = __pyx_1;
    __pyx_1 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1416
 *             if self.file_format != 'NETCDF4': self._redef()
 *             ierr = nc_del_att(self._grpid, NC_GLOBAL, attname)
 *             if self.file_format != 'NETCDF4': self._enddef()             # <<<<<<<<<<<<<<
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_3 = PyObject_RichCompare(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->file_format, __pyx_kp_110, Py_NE); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1416; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1416; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (__pyx_2) {
      __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__enddef); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1416; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1416; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      goto __pyx_L7;
    }
    __pyx_L7:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1417
 *             ierr = nc_del_att(self._grpid, NC_GLOBAL, attname)
 *             if self.file_format != 'NETCDF4': self._enddef()
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                 raise RuntimeError(nc_strerror(ierr))
 *         else:
 */
    __pyx_1 = PyInt_FromLong(NC_NOERR); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1417; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyObject_RichCompare(__pyx_v_ierr, __pyx_1, Py_NE); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1417; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1417; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (__pyx_2) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1418
 *             if self.file_format != 'NETCDF4': self._enddef()
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         else:
 *             raise AttributeError, "'%s' is one of the reserved attributes %s, cannot delete" % (name, tuple(_private_atts))
 */
      __pyx_4 = __pyx_PyInt_int(__pyx_v_ierr); if (unlikely((__pyx_4 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1418; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_1 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_4)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1418; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1418; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
      __pyx_1 = 0;
      __pyx_1 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1418; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
      __Pyx_Raise(__pyx_1, 0, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1418; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L8;
    }
    __pyx_L8:;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1420
 *                 raise RuntimeError(nc_strerror(ierr))
 *         else:
 *             raise AttributeError, "'%s' is one of the reserved attributes %s, cannot delete" % (name, tuple(_private_atts))             # <<<<<<<<<<<<<<
 * 
 *     def __setattr__(self,name,value):
 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_kp__private_atts); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1420; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1420; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_Call(((PyObject*)&PyTuple_Type), ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1420; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
    __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1420; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_name);
    PyTuple_SET_ITEM(__pyx_1, 1, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyNumber_Remainder(__pyx_kp_111, ((PyObject *)__pyx_1)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1420; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
    __Pyx_Raise(__pyx_builtin_AttributeError, __pyx_3, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1420; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  __pyx_L5:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.Dataset.__delattr__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_ierr);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1422
 *             raise AttributeError, "'%s' is one of the reserved attributes %s, cannot delete" % (name, tuple(_private_atts))
 * 
 *     def __setattr__(self,name,value):             # <<<<<<<<<<<<<<
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 */

static int __pyx_pf_7netCDF4_7Dataset___setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF4_7Dataset___setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_value) {
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  int __pyx_5;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1425
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 *         if name not in _private_atts:             # <<<<<<<<<<<<<<
 *             if self.file_format != 'NETCDF4': self._redef()
 *             _set_att(self, NC_GLOBAL, name, value)
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp__private_atts); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1425; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = (!PySequence_Contains(__pyx_1, __pyx_v_name)); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1425; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1426
 *         # level and not in the netCDF file.
 *         if name not in _private_atts:
 *             if self.file_format != 'NETCDF4': self._redef()             # <<<<<<<<<<<<<<
 *             _set_att(self, NC_GLOBAL, name, value)
 *             if self.file_format != 'NETCDF4': self._enddef()
 */
    __pyx_1 = PyObject_RichCompare(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->file_format, __pyx_kp_112, Py_NE); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_2) {
      __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__redef); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      goto __pyx_L6;
    }
    __pyx_L6:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1427
 *         if name not in _private_atts:
 *             if self.file_format != 'NETCDF4': self._redef()
 *             _set_att(self, NC_GLOBAL, name, value)             # <<<<<<<<<<<<<<
 *             if self.file_format != 'NETCDF4': self._enddef()
 *         elif not name.endswith('__'):
 */
    __pyx_1 = __pyx_f_7netCDF4__set_att(__pyx_v_self, NC_GLOBAL, __pyx_v_name, __pyx_v_value); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1427; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1428
 *             if self.file_format != 'NETCDF4': self._redef()
 *             _set_att(self, NC_GLOBAL, name, value)
 *             if self.file_format != 'NETCDF4': self._enddef()             # <<<<<<<<<<<<<<
 *         elif not name.endswith('__'):
 *             if hasattr(self,name):
 */
    __pyx_3 = PyObject_RichCompare(((struct __pyx_obj_7netCDF4_Dataset *)__pyx_v_self)->file_format, __pyx_kp_113, Py_NE); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1428; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1428; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (__pyx_2) {
      __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__enddef); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1428; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1428; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      goto __pyx_L7;
    }
    __pyx_L7:;
    goto __pyx_L5;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1429
 *             _set_att(self, NC_GLOBAL, name, value)
 *             if self.file_format != 'NETCDF4': self._enddef()
 *         elif not name.endswith('__'):             # <<<<<<<<<<<<<<
 *             if hasattr(self,name):
 *                 raise AttributeError("'%s' is one of the reserved attributes %s, cannot rebind" % (name, tuple(_private_atts)))
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_name, __pyx_kp_endswith); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1429; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1429; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_kp_114);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_kp_114);
  __pyx_4 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1429; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_4); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1429; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_5 = (!__pyx_2);
  if (__pyx_5) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1430
 *             if self.file_format != 'NETCDF4': self._enddef()
 *         elif not name.endswith('__'):
 *             if hasattr(self,name):             # <<<<<<<<<<<<<<
 *                 raise AttributeError("'%s' is one of the reserved attributes %s, cannot rebind" % (name, tuple(_private_atts)))
 *             else:
 */
    __pyx_2 = PyObject_HasAttr(__pyx_v_self, __pyx_v_name); if (unlikely(__pyx_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1430; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_2) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1431
 *         elif not name.endswith('__'):
 *             if hasattr(self,name):
 *                 raise AttributeError("'%s' is one of the reserved attributes %s, cannot rebind" % (name, tuple(_private_atts)))             # <<<<<<<<<<<<<<
 *             else:
 *                 self.__dict__[name]=value
 */
      __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp__private_atts); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
      __pyx_1 = 0;
      __pyx_4 = PyObject_Call(((PyObject*)&PyTuple_Type), ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
      __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_v_name);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_name);
      PyTuple_SET_ITEM(__pyx_1, 1, __pyx_4);
      __pyx_4 = 0;
      __pyx_3 = PyNumber_Remainder(__pyx_kp_115, ((PyObject *)__pyx_1)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
      __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
      __pyx_3 = 0;
      __pyx_1 = PyObject_Call(__pyx_builtin_AttributeError, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
      __Pyx_Raise(__pyx_1, 0, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L8;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1433
 *                 raise AttributeError("'%s' is one of the reserved attributes %s, cannot rebind" % (name, tuple(_private_atts)))
 *             else:
 *                 self.__dict__[name]=value             # <<<<<<<<<<<<<<
 * 
 *     def __getattr__(self,name):
 */
      __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_kp___dict__); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1433; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (PyObject_SetItem(__pyx_3, __pyx_v_name, __pyx_v_value) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1433; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
    __pyx_L8:;
    goto __pyx_L5;
  }
  __pyx_L5:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("netCDF4.Dataset.__setattr__");
  __pyx_r = -1;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1435
 *                 self.__dict__[name]=value
 * 
 *     def __getattr__(self,name):             # <<<<<<<<<<<<<<
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 */

static PyObject *__pyx_pf_7netCDF4_7Dataset___getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
static PyObject *__pyx_pf_7netCDF4_7Dataset___getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
  PyObject *__pyx_v_names;
  PyObject *__pyx_v_values;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  Py_ssize_t __pyx_5 = 0;
  Py_INCREF(__pyx_v_name);
  __pyx_v_names = Py_None; Py_INCREF(Py_None);
  __pyx_v_values = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1438
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 *         if name.startswith('__') and name.endswith('__'):             # <<<<<<<<<<<<<<
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__':
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_name, __pyx_kp_startswith); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1438; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1438; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_kp_116);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_kp_116);
  __pyx_1 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1438; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1438; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_4) {
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_2 = PyObject_GetAttr(__pyx_v_name, __pyx_kp_endswith); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1438; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1438; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_kp_117);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_kp_117);
    __pyx_1 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1438; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
  }
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1438; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1440
 *         if name.startswith('__') and name.endswith('__'):
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__':             # <<<<<<<<<<<<<<
 *                 names = self.ncattrs()
 *                 values = []
 */
    __pyx_2 = PyObject_RichCompare(__pyx_v_name, __pyx_kp_118, Py_EQ); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1440; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1440; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (__pyx_4) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1441
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__':
 *                 names = self.ncattrs()             # <<<<<<<<<<<<<<
 *                 values = []
 *                 for name in names:
 */
      __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_ncattrs); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_1 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_v_names);
      __pyx_v_names = __pyx_1;
      __pyx_1 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1442
 *             if name == '__dict__':
 *                 names = self.ncattrs()
 *                 values = []             # <<<<<<<<<<<<<<
 *                 for name in names:
 *                     values.append(_get_att(self, NC_GLOBAL, name))
 */
      __pyx_2 = PyList_New(0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1442; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_values);
      __pyx_v_values = ((PyObject *)__pyx_2);
      __pyx_2 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1443
 *                 names = self.ncattrs()
 *                 values = []
 *                 for name in names:             # <<<<<<<<<<<<<<
 *                     values.append(_get_att(self, NC_GLOBAL, name))
 *                 return dict(zip(names,values))
 */
      if (PyList_CheckExact(__pyx_v_names) || PyTuple_CheckExact(__pyx_v_names)) {
        __pyx_5 = 0; __pyx_3 = __pyx_v_names; Py_INCREF(__pyx_3);
      } else {
        __pyx_5 = -1; __pyx_3 = PyObject_GetIter(__pyx_v_names); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1443; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      }
      for (;;) {
        if (likely(PyList_CheckExact(__pyx_3))) {
          if (__pyx_5 >= PyList_GET_SIZE(__pyx_3)) break;
          __pyx_1 = PyList_GET_ITEM(__pyx_3, __pyx_5); Py_INCREF(__pyx_1); __pyx_5++;
        } else if (likely(PyTuple_CheckExact(__pyx_3))) {
          if (__pyx_5 >= PyTuple_GET_SIZE(__pyx_3)) break;
          __pyx_1 = PyTuple_GET_ITEM(__pyx_3, __pyx_5); Py_INCREF(__pyx_1); __pyx_5++;
        } else {
          __pyx_1 = PyIter_Next(__pyx_3);
          if (!__pyx_1) {
            if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1443; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            break;
          }
        }
        Py_DECREF(__pyx_v_name);
        __pyx_v_name = __pyx_1;
        __pyx_1 = 0;

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1444
 *                 values = []
 *                 for name in names:
 *                     values.append(_get_att(self, NC_GLOBAL, name))             # <<<<<<<<<<<<<<
 *                 return dict(zip(names,values))
 *             else:
 */
        __pyx_2 = __pyx_f_7netCDF4__get_att(__pyx_v_self, NC_GLOBAL, __pyx_v_name); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1444; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_1 = __Pyx_PyObject_Append(__pyx_v_values, __pyx_2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1444; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        Py_DECREF(__pyx_1); __pyx_1 = 0;
      }
      Py_DECREF(__pyx_3); __pyx_3 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1445
 *                 for name in names:
 *                     values.append(_get_att(self, NC_GLOBAL, name))
 *                 return dict(zip(names,values))             # <<<<<<<<<<<<<<
 *             else:
 *                 raise AttributeError
 */
      __pyx_2 = PyTuple_New(2); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1445; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_v_names);
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_names);
      Py_INCREF(__pyx_v_values);
      PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_values);
      __pyx_1 = PyObject_Call(__pyx_builtin_zip, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1445; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
      __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1445; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
      __pyx_1 = 0;
      __pyx_2 = PyObject_Call(((PyObject*)&PyDict_Type), ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1445; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
      __pyx_r = __pyx_2;
      __pyx_2 = 0;
      goto __pyx_L0;
      goto __pyx_L6;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1447
 *                 return dict(zip(names,values))
 *             else:
 *                 raise AttributeError             # <<<<<<<<<<<<<<
 *         elif name in _private_atts:
 *             return self.__dict__[name]
 */
      __Pyx_Raise(__pyx_builtin_AttributeError, 0, 0);
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1447; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    }
    __pyx_L6:;
    goto __pyx_L5;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1448
 *             else:
 *                 raise AttributeError
 *         elif name in _private_atts:             # <<<<<<<<<<<<<<
 *             return self.__dict__[name]
 *         else:
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp__private_atts); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = (PySequence_Contains(__pyx_1, __pyx_v_name)); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1449
 *                 raise AttributeError
 *         elif name in _private_atts:
 *             return self.__dict__[name]             # <<<<<<<<<<<<<<
 *         else:
 *             return _get_att(self, NC_GLOBAL, name)
 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_kp___dict__); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1449; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = PyObject_GetItem(__pyx_3, __pyx_v_name); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1449; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1451
 *             return self.__dict__[name]
 *         else:
 *             return _get_att(self, NC_GLOBAL, name)             # <<<<<<<<<<<<<<
 * 
 * cdef class Group(Dataset):
 */
    __pyx_1 = __pyx_f_7netCDF4__get_att(__pyx_v_self, NC_GLOBAL, __pyx_v_name); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1451; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_r = __pyx_1;
    __pyx_1 = 0;
    goto __pyx_L0;
  }
  __pyx_L5:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.Dataset.__getattr__");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_names);
  Py_DECREF(__pyx_v_values);
  Py_DECREF(__pyx_v_name);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1481
 * variables are available to a L{Group} instance (except the C{close}
 * method)."""
 *     def __init__(self, parent, name, **kwargs):             # <<<<<<<<<<<<<<
 *         cdef int ierr, n, numgrps, numdims, numvars
 *         cdef char *groupname
 */

static int __pyx_pf_7netCDF4_5Group___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_7netCDF4_5Group___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_parent = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_kwargs = 0;
  int __pyx_v_ierr;
  int __pyx_v_numgrps;
  char *__pyx_v_groupname;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  int __pyx_5;
  static char *__pyx_argnames[] = {"parent","name",0};
  if (unlikely(PyTuple_GET_SIZE(__pyx_args) > 2)) {
    __Pyx_RaiseArgtupleTooLong(2, PyTuple_GET_SIZE(__pyx_args));
    return -1;
  }
  if (unlikely(__Pyx_SplitKeywords(&__pyx_kwds, __pyx_argnames, &__pyx_v_kwargs, 0) < 0)) return -1;
  if (likely(!__pyx_kwds) && likely(PyTuple_GET_SIZE(__pyx_args) == 2)) {
    __pyx_v_parent = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_name = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_parent, &__pyx_v_name))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1481; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  Py_XDECREF(__pyx_kwds);
  Py_DECREF(__pyx_v_kwargs);
  __Pyx_AddTraceback("netCDF4.Group.__init__");
  return -1;
  __pyx_L4:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1485
 *         cdef char *groupname
 *         cdef char namstring[NC_MAX_NAME+1]
 *         groupname = PyString_AsString(name)             # <<<<<<<<<<<<<<
 *         if kwargs.has_key('id'):
 *             self._grpid = kwargs['id']
 */
  __pyx_v_groupname = PyString_AsString(__pyx_v_name);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1486
 *         cdef char namstring[NC_MAX_NAME+1]
 *         groupname = PyString_AsString(name)
 *         if kwargs.has_key('id'):             # <<<<<<<<<<<<<<
 *             self._grpid = kwargs['id']
 *         else:
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_kwargs, __pyx_kp_has_key); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1486; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1486; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_kp_119);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_kp_119);
  __pyx_3 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1486; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1486; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1487
 *         groupname = PyString_AsString(name)
 *         if kwargs.has_key('id'):
 *             self._grpid = kwargs['id']             # <<<<<<<<<<<<<<
 *         else:
 *             ierr = nc_def_grp(parent._grpid, groupname, &self._grpid)
 */
    __pyx_1 = PyObject_GetItem(__pyx_v_kwargs, __pyx_kp_120); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1487; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_5 = __pyx_PyInt_int(__pyx_1); if (unlikely((__pyx_5 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1487; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7netCDF4_Group *)__pyx_v_self)->__pyx_base._grpid = __pyx_5;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1489
 *             self._grpid = kwargs['id']
 *         else:
 *             ierr = nc_def_grp(parent._grpid, groupname, &self._grpid)             # <<<<<<<<<<<<<<
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_parent, __pyx_kp__grpid); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1489; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_5 = __pyx_PyInt_int(__pyx_2); if (unlikely((__pyx_5 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1489; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_v_ierr = nc_def_grp(__pyx_5, __pyx_v_groupname, (&((struct __pyx_obj_7netCDF4_Group *)__pyx_v_self)->__pyx_base._grpid));

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1490
 *         else:
 *             ierr = nc_def_grp(parent._grpid, groupname, &self._grpid)
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                 raise RuntimeError(nc_strerror(ierr))
 *         # set file_format attribute.
 */
    __pyx_4 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_4) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1491
 *             ierr = nc_def_grp(parent._grpid, groupname, &self._grpid)
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         # set file_format attribute.
 *         self.file_format = _get_format(self._grpid)
 */
      __pyx_3 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_3);
      __pyx_3 = 0;
      __pyx_2 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
      __Pyx_Raise(__pyx_2, 0, 0);
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L6;
    }
    __pyx_L6:;
  }
  __pyx_L5:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1493
 *                 raise RuntimeError(nc_strerror(ierr))
 *         # set file_format attribute.
 *         self.file_format = _get_format(self._grpid)             # <<<<<<<<<<<<<<
 *         # get number of groups in this group.
 *         ierr = nc_inq_grps(self._grpid, &numgrps, NULL)
 */
  __pyx_3 = __pyx_f_7netCDF4__get_format(((struct __pyx_obj_7netCDF4_Group *)__pyx_v_self)->__pyx_base._grpid); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1493; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((struct __pyx_obj_7netCDF4_Group *)__pyx_v_self)->__pyx_base.file_format);
  ((struct __pyx_obj_7netCDF4_Group *)__pyx_v_self)->__pyx_base.file_format = __pyx_3;
  __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1495
 *         self.file_format = _get_format(self._grpid)
 *         # get number of groups in this group.
 *         ierr = nc_inq_grps(self._grpid, &numgrps, NULL)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_grps(((struct __pyx_obj_7netCDF4_Group *)__pyx_v_self)->__pyx_base._grpid, (&__pyx_v_numgrps), NULL);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1496
 *         # get number of groups in this group.
 *         ierr = nc_inq_grps(self._grpid, &numgrps, NULL)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         # full path to Group.
 */
  __pyx_4 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1497
 *         ierr = nc_inq_grps(self._grpid, &numgrps, NULL)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         # full path to Group.
 *         self.path = os.path.join(parent.path, name)
 */
    __pyx_1 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1497; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1497; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_3 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1497; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1497; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L7;
  }
  __pyx_L7:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1499
 *             raise RuntimeError(nc_strerror(ierr))
 *         # full path to Group.
 *         self.path = os.path.join(parent.path, name)             # <<<<<<<<<<<<<<
 *         # parent group.
 *         self.parent = parent
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp_os); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1499; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_kp_path); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1499; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_kp_join); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1499; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_v_parent, __pyx_kp_path); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1499; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyTuple_New(2); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1499; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
  Py_INCREF(__pyx_v_name);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_name);
  __pyx_1 = 0;
  __pyx_1 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1499; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
  Py_DECREF(((struct __pyx_obj_7netCDF4_Group *)__pyx_v_self)->__pyx_base.path);
  ((struct __pyx_obj_7netCDF4_Group *)__pyx_v_self)->__pyx_base.path = __pyx_1;
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1501
 *         self.path = os.path.join(parent.path, name)
 *         # parent group.
 *         self.parent = parent             # <<<<<<<<<<<<<<
 *         self._cmptypes = [] # initialize list to hold compound type info
 *         # get dimensions in this Group.
 */
  Py_INCREF(__pyx_v_parent);
  Py_DECREF(((struct __pyx_obj_7netCDF4_Group *)__pyx_v_self)->__pyx_base.parent);
  ((struct __pyx_obj_7netCDF4_Group *)__pyx_v_self)->__pyx_base.parent = __pyx_v_parent;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1502
 *         # parent group.
 *         self.parent = parent
 *         self._cmptypes = [] # initialize list to hold compound type info             # <<<<<<<<<<<<<<
 *         # get dimensions in this Group.
 *         self.dimensions = _get_dims(self)
 */
  __pyx_3 = PyList_New(0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1502; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((struct __pyx_obj_7netCDF4_Group *)__pyx_v_self)->__pyx_base._cmptypes);
  ((struct __pyx_obj_7netCDF4_Group *)__pyx_v_self)->__pyx_base._cmptypes = ((PyObject *)__pyx_3);
  __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1504
 *         self._cmptypes = [] # initialize list to hold compound type info
 *         # get dimensions in this Group.
 *         self.dimensions = _get_dims(self)             # <<<<<<<<<<<<<<
 *         # get variables in this Group.
 *         self.variables = _get_vars(self)
 */
  __pyx_2 = __pyx_f_7netCDF4__get_dims(__pyx_v_self); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1504; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((struct __pyx_obj_7netCDF4_Group *)__pyx_v_self)->__pyx_base.dimensions);
  ((struct __pyx_obj_7netCDF4_Group *)__pyx_v_self)->__pyx_base.dimensions = __pyx_2;
  __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1506
 *         self.dimensions = _get_dims(self)
 *         # get variables in this Group.
 *         self.variables = _get_vars(self)             # <<<<<<<<<<<<<<
 *         # get groups in this Group.
 *         self.groups = _get_grps(self)
 */
  __pyx_1 = __pyx_f_7netCDF4__get_vars(__pyx_v_self); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1506; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((struct __pyx_obj_7netCDF4_Group *)__pyx_v_self)->__pyx_base.variables);
  ((struct __pyx_obj_7netCDF4_Group *)__pyx_v_self)->__pyx_base.variables = __pyx_1;
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1508
 *         self.variables = _get_vars(self)
 *         # get groups in this Group.
 *         self.groups = _get_grps(self)             # <<<<<<<<<<<<<<
 * 
 *     def close(self):
 */
  __pyx_3 = __pyx_f_7netCDF4__get_grps(__pyx_v_self); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1508; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((struct __pyx_obj_7netCDF4_Group *)__pyx_v_self)->__pyx_base.groups);
  ((struct __pyx_obj_7netCDF4_Group *)__pyx_v_self)->__pyx_base.groups = __pyx_3;
  __pyx_3 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.Group.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_kwargs);
  Py_XDECREF(__pyx_kwds);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1510
 *         self.groups = _get_grps(self)
 * 
 *     def close(self):             # <<<<<<<<<<<<<<
 *         """
 * close(self)
 */

static PyObject *__pyx_pf_7netCDF4_5Group_close(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF4_5Group_close[] = "\nclose(self)\n\noverrides L{Dataset} close method which does not apply to L{Group} \ninstances, raises IOError.";
static PyObject *__pyx_pf_7netCDF4_5Group_close(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1516
 * overrides L{Dataset} close method which does not apply to L{Group}
 * instances, raises IOError."""
 *         raise IOError('cannot close a L{Group} (only applies to Dataset)')             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1516; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_kp_121);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_kp_121);
  __pyx_2 = PyObject_Call(__pyx_builtin_IOError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1516; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __Pyx_Raise(__pyx_2, 0, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1516; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("netCDF4.Group.close");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1551
 *     cdef public _file_format
 * 
 *     def __init__(self, grp, name, size=None, **kwargs):             # <<<<<<<<<<<<<<
 *         cdef int ierr
 *         cdef char *dimname
 */

static int __pyx_pf_7netCDF4_9Dimension___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_7netCDF4_9Dimension___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_grp = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_size = 0;
  PyObject *__pyx_v_kwargs = 0;
  int __pyx_v_ierr;
  char *__pyx_v_dimname;
  size_t __pyx_v_lendim;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  int __pyx_5;
  size_t __pyx_6;
  static char *__pyx_argnames[] = {"grp","name","size",0};
  __pyx_v_size = Py_None;
  if (unlikely(PyTuple_GET_SIZE(__pyx_args) > 3)) {
    __Pyx_RaiseArgtupleTooLong(3, PyTuple_GET_SIZE(__pyx_args));
    return -1;
  }
  if (unlikely(__Pyx_SplitKeywords(&__pyx_kwds, __pyx_argnames, &__pyx_v_kwargs, 0) < 0)) return -1;
  if (likely(!__pyx_kwds) && likely(2 <= PyTuple_GET_SIZE(__pyx_args)) && likely(PyTuple_GET_SIZE(__pyx_args) <= 3)) {
    __pyx_v_grp = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_name = PyTuple_GET_ITEM(__pyx_args, 1);
    if (PyTuple_GET_SIZE(__pyx_args) > 2) {
      __pyx_v_size = PyTuple_GET_ITEM(__pyx_args, 2);
    }
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO|O", __pyx_argnames, &__pyx_v_grp, &__pyx_v_name, &__pyx_v_size))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1551; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  Py_XDECREF(__pyx_kwds);
  Py_DECREF(__pyx_v_kwargs);
  __Pyx_AddTraceback("netCDF4.Dimension.__init__");
  return -1;
  __pyx_L4:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1555
 *         cdef char *dimname
 *         cdef size_t lendim
 *         self._grpid = grp._grpid             # <<<<<<<<<<<<<<
 *         self._file_format = grp.file_format
 *         if kwargs.has_key('id'):
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__grpid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1555; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __pyx_PyInt_int(__pyx_1); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1555; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  ((struct __pyx_obj_7netCDF4_Dimension *)__pyx_v_self)->_grpid = __pyx_2;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1556
 *         cdef size_t lendim
 *         self._grpid = grp._grpid
 *         self._file_format = grp.file_format             # <<<<<<<<<<<<<<
 *         if kwargs.has_key('id'):
 *             self._dimid = kwargs['id']
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp_file_format); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1556; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((struct __pyx_obj_7netCDF4_Dimension *)__pyx_v_self)->_file_format);
  ((struct __pyx_obj_7netCDF4_Dimension *)__pyx_v_self)->_file_format = __pyx_1;
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1557
 *         self._grpid = grp._grpid
 *         self._file_format = grp.file_format
 *         if kwargs.has_key('id'):             # <<<<<<<<<<<<<<
 *             self._dimid = kwargs['id']
 *         else:
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_kwargs, __pyx_kp_has_key); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1557; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1557; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_kp_122);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_kp_122);
  __pyx_4 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1557; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
  __pyx_5 = __Pyx_PyObject_IsTrue(__pyx_4); if (unlikely(__pyx_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1557; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (__pyx_5) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1558
 *         self._file_format = grp.file_format
 *         if kwargs.has_key('id'):
 *             self._dimid = kwargs['id']             # <<<<<<<<<<<<<<
 *         else:
 *             dimname = PyString_AsString(name)
 */
    __pyx_1 = PyObject_GetItem(__pyx_v_kwargs, __pyx_kp_123); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1558; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = __pyx_PyInt_int(__pyx_1); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1558; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7netCDF4_Dimension *)__pyx_v_self)->_dimid = __pyx_2;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1560
 *             self._dimid = kwargs['id']
 *         else:
 *             dimname = PyString_AsString(name)             # <<<<<<<<<<<<<<
 *             if size is not None:
 *                 lendim = size
 */
    __pyx_v_dimname = PyString_AsString(__pyx_v_name);

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1561
 *         else:
 *             dimname = PyString_AsString(name)
 *             if size is not None:             # <<<<<<<<<<<<<<
 *                 lendim = size
 *             else:
 */
    __pyx_5 = (__pyx_v_size != Py_None);
    if (__pyx_5) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1562
 *             dimname = PyString_AsString(name)
 *             if size is not None:
 *                 lendim = size             # <<<<<<<<<<<<<<
 *             else:
 *                 lendim = NC_UNLIMITED
 */
      __pyx_6 = __pyx_PyInt_long(__pyx_v_size); if (unlikely((__pyx_6 == (long)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1562; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_v_lendim = __pyx_6;
      goto __pyx_L6;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1564
 *                 lendim = size
 *             else:
 *                 lendim = NC_UNLIMITED             # <<<<<<<<<<<<<<
 *             if grp.file_format != 'NETCDF4': grp._redef()
 *             ierr = nc_def_dim(self._grpid, dimname, lendim, &self._dimid)
 */
      __pyx_v_lendim = NC_UNLIMITED;
    }
    __pyx_L6:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1565
 *             else:
 *                 lendim = NC_UNLIMITED
 *             if grp.file_format != 'NETCDF4': grp._redef()             # <<<<<<<<<<<<<<
 *             ierr = nc_def_dim(self._grpid, dimname, lendim, &self._dimid)
 *             if grp.file_format != 'NETCDF4': grp._enddef()
 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp_file_format); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1565; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyObject_RichCompare(__pyx_3, __pyx_kp_124, Py_NE); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1565; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = __Pyx_PyObject_IsTrue(__pyx_4); if (unlikely(__pyx_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1565; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    if (__pyx_5) {
      __pyx_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__redef); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1565; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1565; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      goto __pyx_L7;
    }
    __pyx_L7:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1566
 *                 lendim = NC_UNLIMITED
 *             if grp.file_format != 'NETCDF4': grp._redef()
 *             ierr = nc_def_dim(self._grpid, dimname, lendim, &self._dimid)             # <<<<<<<<<<<<<<
 *             if grp.file_format != 'NETCDF4': grp._enddef()
 *             if ierr != NC_NOERR:
 */
    __pyx_v_ierr = nc_def_dim(((struct __pyx_obj_7netCDF4_Dimension *)__pyx_v_self)->_grpid, __pyx_v_dimname, __pyx_v_lendim, (&((struct __pyx_obj_7netCDF4_Dimension *)__pyx_v_self)->_dimid));

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1567
 *             if grp.file_format != 'NETCDF4': grp._redef()
 *             ierr = nc_def_dim(self._grpid, dimname, lendim, &self._dimid)
 *             if grp.file_format != 'NETCDF4': grp._enddef()             # <<<<<<<<<<<<<<
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_4 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp_file_format); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1567; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = PyObject_RichCompare(__pyx_4, __pyx_kp_125, Py_NE); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1567; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_5 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1567; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_5) {
      __pyx_3 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__enddef); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1567; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_4 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1567; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      goto __pyx_L8;
    }
    __pyx_L8:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1568
 *             ierr = nc_def_dim(self._grpid, dimname, lendim, &self._dimid)
 *             if grp.file_format != 'NETCDF4': grp._enddef()
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                 raise RuntimeError(nc_strerror(ierr))
 * 
 */
    __pyx_5 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_5) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1569
 *             if grp.file_format != 'NETCDF4': grp._enddef()
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 * 
 *     def __len__(self):
 */
      __pyx_1 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1569; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1569; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
      __pyx_1 = 0;
      __pyx_4 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1569; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
      __Pyx_Raise(__pyx_4, 0, 0);
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1569; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L9;
    }
    __pyx_L9:;
  }
  __pyx_L5:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("netCDF4.Dimension.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_kwargs);
  Py_XDECREF(__pyx_kwds);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1571
 *                 raise RuntimeError(nc_strerror(ierr))
 * 
 *     def __len__(self):             # <<<<<<<<<<<<<<
 *         # len(L{Dimension} instance) returns current size of dimension
 *         cdef int ierr
 */

static Py_ssize_t __pyx_pf_7netCDF4_9Dimension___len__(PyObject *__pyx_v_self); /*proto*/
static Py_ssize_t __pyx_pf_7netCDF4_9Dimension___len__(PyObject *__pyx_v_self) {
  int __pyx_v_ierr;
  size_t __pyx_v_lengthp;
  Py_ssize_t __pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1575
 *         cdef int ierr
 *         cdef size_t lengthp
 *         ierr = nc_inq_dimlen(self._grpid, self._dimid, &lengthp)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_dimlen(((struct __pyx_obj_7netCDF4_Dimension *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Dimension *)__pyx_v_self)->_dimid, (&__pyx_v_lengthp));

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1576
 *         cdef size_t lengthp
 *         ierr = nc_inq_dimlen(self._grpid, self._dimid, &lengthp)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         return lengthp
 */
  __pyx_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_1) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1577
 *         ierr = nc_inq_dimlen(self._grpid, self._dimid, &lengthp)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         return lengthp
 * 
 */
    __pyx_2 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1577; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1577; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1577; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1577; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1578
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         return lengthp             # <<<<<<<<<<<<<<
 * 
 *     def isunlimited(self):
 */
  __pyx_r = __pyx_v_lengthp;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.Dimension.__len__");
  __pyx_r = -1;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1580
 *         return lengthp
 * 
 *     def isunlimited(self):             # <<<<<<<<<<<<<<
 *         """
 * isunlimited(self)
 */

static PyObject *__pyx_pf_7netCDF4_9Dimension_isunlimited(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF4_9Dimension_isunlimited[] = "\nisunlimited(self)\n\nreturns C{True} if the L{Dimension} instance is unlimited, C{False} otherwise.";
static PyObject *__pyx_pf_7netCDF4_9Dimension_isunlimited(PyObject *__pyx_v_self, PyObject *unused) {
  int __pyx_v_ierr;
  int __pyx_v_n;
  int __pyx_v_numunlimdims;
  int __pyx_v_ndims;
  int __pyx_v_nvars;
  int __pyx_v_ngatts;
  int __pyx_v_xdimid;
  int __pyx_v_unlimdimids[NC_MAX_DIMS];
  PyObject *__pyx_v_dimid;
  PyObject *__pyx_v_unlimdim_ids;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  __pyx_v_dimid = Py_None; Py_INCREF(Py_None);
  __pyx_v_unlimdim_ids = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1587
 *         cdef int ierr, n, numunlimdims, ndims, nvars, ngatts, xdimid
 *         cdef int unlimdimids[NC_MAX_DIMS]
 *         if self._file_format == 'NETCDF4':             # <<<<<<<<<<<<<<
 *             ierr = nc_inq_unlimdims(self._grpid, &numunlimdims, NULL)
 *             if ierr != NC_NOERR:
 */
  __pyx_1 = PyObject_RichCompare(((struct __pyx_obj_7netCDF4_Dimension *)__pyx_v_self)->_file_format, __pyx_kp_126, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1587; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1587; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1588
 *         cdef int unlimdimids[NC_MAX_DIMS]
 *         if self._file_format == 'NETCDF4':
 *             ierr = nc_inq_unlimdims(self._grpid, &numunlimdims, NULL)             # <<<<<<<<<<<<<<
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_inq_unlimdims(((struct __pyx_obj_7netCDF4_Dimension *)__pyx_v_self)->_grpid, (&__pyx_v_numunlimdims), NULL);

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1589
 *         if self._file_format == 'NETCDF4':
 *             ierr = nc_inq_unlimdims(self._grpid, &numunlimdims, NULL)
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                 raise RuntimeError(nc_strerror(ierr))
 *             if numunlimdims == 0:
 */
    __pyx_2 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_2) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1590
 *             ierr = nc_inq_unlimdims(self._grpid, &numunlimdims, NULL)
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *             if numunlimdims == 0:
 *                 return False
 */
      __pyx_1 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1590; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1590; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
      __pyx_1 = 0;
      __pyx_1 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1590; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
      __Pyx_Raise(__pyx_1, 0, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1590; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L6;
    }
    __pyx_L6:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1591
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 *             if numunlimdims == 0:             # <<<<<<<<<<<<<<
 *                 return False
 *             else:
 */
    __pyx_2 = (__pyx_v_numunlimdims == 0);
    if (__pyx_2) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1592
 *                 raise RuntimeError(nc_strerror(ierr))
 *             if numunlimdims == 0:
 *                 return False             # <<<<<<<<<<<<<<
 *             else:
 *                 dimid = self._dimid
 */
      __pyx_3 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1592; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_r = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L0;
      goto __pyx_L7;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1594
 *                 return False
 *             else:
 *                 dimid = self._dimid             # <<<<<<<<<<<<<<
 *                 ierr = nc_inq_unlimdims(self._grpid, &numunlimdims, unlimdimids)
 *                 if ierr != NC_NOERR:
 */
      __pyx_1 = PyInt_FromLong(((struct __pyx_obj_7netCDF4_Dimension *)__pyx_v_self)->_dimid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1594; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_dimid);
      __pyx_v_dimid = __pyx_1;
      __pyx_1 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1595
 *             else:
 *                 dimid = self._dimid
 *                 ierr = nc_inq_unlimdims(self._grpid, &numunlimdims, unlimdimids)             # <<<<<<<<<<<<<<
 *                 if ierr != NC_NOERR:
 *                     raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_v_ierr = nc_inq_unlimdims(((struct __pyx_obj_7netCDF4_Dimension *)__pyx_v_self)->_grpid, (&__pyx_v_numunlimdims), __pyx_v_unlimdimids);

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1596
 *                 dimid = self._dimid
 *                 ierr = nc_inq_unlimdims(self._grpid, &numunlimdims, unlimdimids)
 *                 if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                     raise RuntimeError(nc_strerror(ierr))
 *                 unlimdim_ids = []
 */
      __pyx_2 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_2) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1597
 *                 ierr = nc_inq_unlimdims(self._grpid, &numunlimdims, unlimdimids)
 *                 if ierr != NC_NOERR:
 *                     raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *                 unlimdim_ids = []
 *                 for n from 0 <= n < numunlimdims:
 */
        __pyx_3 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1597; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1597; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        PyTuple_SET_ITEM(__pyx_1, 0, __pyx_3);
        __pyx_3 = 0;
        __pyx_3 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1597; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
        __Pyx_Raise(__pyx_3, 0, 0);
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1597; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        goto __pyx_L8;
      }
      __pyx_L8:;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1598
 *                 if ierr != NC_NOERR:
 *                     raise RuntimeError(nc_strerror(ierr))
 *                 unlimdim_ids = []             # <<<<<<<<<<<<<<
 *                 for n from 0 <= n < numunlimdims:
 *                     unlimdim_ids.append(unlimdimids[n])
 */
      __pyx_1 = PyList_New(0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1598; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_unlimdim_ids);
      __pyx_v_unlimdim_ids = ((PyObject *)__pyx_1);
      __pyx_1 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1599
 *                     raise RuntimeError(nc_strerror(ierr))
 *                 unlimdim_ids = []
 *                 for n from 0 <= n < numunlimdims:             # <<<<<<<<<<<<<<
 *                     unlimdim_ids.append(unlimdimids[n])
 *                 if dimid in unlimdim_ids:
 */
      for (__pyx_v_n = 0; __pyx_v_n < __pyx_v_numunlimdims; __pyx_v_n++) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1600
 *                 unlimdim_ids = []
 *                 for n from 0 <= n < numunlimdims:
 *                     unlimdim_ids.append(unlimdimids[n])             # <<<<<<<<<<<<<<
 *                 if dimid in unlimdim_ids:
 *                     return True
 */
        __pyx_3 = PyInt_FromLong((__pyx_v_unlimdimids[__pyx_v_n])); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1600; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_1 = __Pyx_PyObject_Append(__pyx_v_unlimdim_ids, __pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1600; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        Py_DECREF(__pyx_1); __pyx_1 = 0;
      }

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1601
 *                 for n from 0 <= n < numunlimdims:
 *                     unlimdim_ids.append(unlimdimids[n])
 *                 if dimid in unlimdim_ids:             # <<<<<<<<<<<<<<
 *                     return True
 *                 else:
 */
      __pyx_2 = (PySequence_Contains(__pyx_v_unlimdim_ids, __pyx_v_dimid)); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1601; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (__pyx_2) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1602
 *                     unlimdim_ids.append(unlimdimids[n])
 *                 if dimid in unlimdim_ids:
 *                     return True             # <<<<<<<<<<<<<<
 *                 else:
 *                     return False
 */
        __pyx_3 = __Pyx_PyBool_FromLong(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1602; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_r = __pyx_3;
        __pyx_3 = 0;
        goto __pyx_L0;
        goto __pyx_L11;
      }
      /*else*/ {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1604
 *                     return True
 *                 else:
 *                     return False             # <<<<<<<<<<<<<<
 *         else: # if not NETCDF4, there is only one unlimited dimension.
 *             # nc_inq_unlimdims only works for NETCDF4.
 */
        __pyx_1 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1604; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_r = __pyx_1;
        __pyx_1 = 0;
        goto __pyx_L0;
      }
      __pyx_L11:;
    }
    __pyx_L7:;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1607
 *         else: # if not NETCDF4, there is only one unlimited dimension.
 *             # nc_inq_unlimdims only works for NETCDF4.
 *             ierr = nc_inq(self._grpid, &ndims, &nvars, &ngatts, &xdimid)             # <<<<<<<<<<<<<<
 *             if self._dimid == xdimid:
 *                 return True
 */
    __pyx_v_ierr = nc_inq(((struct __pyx_obj_7netCDF4_Dimension *)__pyx_v_self)->_grpid, (&__pyx_v_ndims), (&__pyx_v_nvars), (&__pyx_v_ngatts), (&__pyx_v_xdimid));

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1608
 *             # nc_inq_unlimdims only works for NETCDF4.
 *             ierr = nc_inq(self._grpid, &ndims, &nvars, &ngatts, &xdimid)
 *             if self._dimid == xdimid:             # <<<<<<<<<<<<<<
 *                 return True
 *             else:
 */
    __pyx_2 = (((struct __pyx_obj_7netCDF4_Dimension *)__pyx_v_self)->_dimid == __pyx_v_xdimid);
    if (__pyx_2) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1609
 *             ierr = nc_inq(self._grpid, &ndims, &nvars, &ngatts, &xdimid)
 *             if self._dimid == xdimid:
 *                 return True             # <<<<<<<<<<<<<<
 *             else:
 *                 return False
 */
      __pyx_3 = __Pyx_PyBool_FromLong(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1609; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_r = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L0;
      goto __pyx_L12;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1611
 *                 return True
 *             else:
 *                 return False             # <<<<<<<<<<<<<<
 * 
 * cdef class Variable:
 */
      __pyx_1 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1611; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_r = __pyx_1;
      __pyx_1 = 0;
      goto __pyx_L0;
    }
    __pyx_L12:;
  }
  __pyx_L5:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.Dimension.isunlimited");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_dimid);
  Py_DECREF(__pyx_v_unlimdim_ids);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1734
 *     cdef public ndim, dtype, maskandscale
 * 
 *     def __init__(self, grp, name, datatype, dimensions=(), zlib=False,             # <<<<<<<<<<<<<<
 *             complevel=6, shuffle=True, fletcher32=False, contiguous=False,
 *             chunksizes=None, endian='native', least_significant_digit=None,
 */

static int __pyx_pf_7netCDF4_8Variable___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_7netCDF4_8Variable___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_grp = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_datatype = 0;
  PyObject *__pyx_v_dimensions = 0;
  PyObject *__pyx_v_zlib = 0;
  PyObject *__pyx_v_complevel = 0;
  PyObject *__pyx_v_shuffle = 0;
  PyObject *__pyx_v_fletcher32 = 0;
  PyObject *__pyx_v_contiguous = 0;
  PyObject *__pyx_v_chunksizes = 0;
  PyObject *__pyx_v_endian = 0;
  PyObject *__pyx_v_least_significant_digit = 0;
  PyObject *__pyx_v_fill_value = 0;
  PyObject *__pyx_v_kwargs = 0;
  int __pyx_v_ierr;
  int __pyx_v_ndims;
  int __pyx_v_icontiguous;
  int __pyx_v_ideflate_level;
  int __pyx_v_numdims;
  char *__pyx_v_varname;
  nc_type __pyx_v_xtype;
  int __pyx_v_dimids[NC_MAX_DIMS];
  int *__pyx_v_chunksizesp;
  PyObject *__pyx_v_n;
  PyObject *__pyx_v_dimname;
  PyObject *__pyx_v_dim;
  PyObject *__pyx_v_fillval;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  int __pyx_5;
  PyObject *__pyx_6 = 0;
  nc_type __pyx_7;
  Py_ssize_t __pyx_8 = 0;
  long __pyx_9;
  int __pyx_10;
  Py_ssize_t __pyx_11 = 0;
  static char *__pyx_argnames[] = {"grp","name","datatype","dimensions","zlib","complevel","shuffle","fletcher32","contiguous","chunksizes","endian","least_significant_digit","fill_value",0};
  __pyx_v_dimensions = ((PyObject *)__pyx_empty_tuple);
  __pyx_v_zlib = __pyx_k_55;
  __pyx_v_complevel = __pyx_int_6;
  __pyx_v_shuffle = __pyx_k_56;
  __pyx_v_fletcher32 = __pyx_k_57;
  __pyx_v_contiguous = __pyx_k_58;
  __pyx_v_chunksizes = Py_None;
  __pyx_v_endian = __pyx_kp_59;
  __pyx_v_least_significant_digit = Py_None;
  __pyx_v_fill_value = Py_None;
  if (unlikely(PyTuple_GET_SIZE(__pyx_args) > 13)) {
    __Pyx_RaiseArgtupleTooLong(13, PyTuple_GET_SIZE(__pyx_args));
    return -1;
  }
  if (unlikely(__Pyx_SplitKeywords(&__pyx_kwds, __pyx_argnames, &__pyx_v_kwargs, 0) < 0)) return -1;
  if (likely(!__pyx_kwds) && likely(3 <= PyTuple_GET_SIZE(__pyx_args)) && likely(PyTuple_GET_SIZE(__pyx_args) <= 13)) {
    __pyx_v_grp = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_name = PyTuple_GET_ITEM(__pyx_args, 1);
    __pyx_v_datatype = PyTuple_GET_ITEM(__pyx_args, 2);
    if (PyTuple_GET_SIZE(__pyx_args) > 3) {
      __pyx_v_dimensions = PyTuple_GET_ITEM(__pyx_args, 3);
      if (PyTuple_GET_SIZE(__pyx_args) > 4) {
        __pyx_v_zlib = PyTuple_GET_ITEM(__pyx_args, 4);
        if (PyTuple_GET_SIZE(__pyx_args) > 5) {
          __pyx_v_complevel = PyTuple_GET_ITEM(__pyx_args, 5);
          if (PyTuple_GET_SIZE(__pyx_args) > 6) {
            __pyx_v_shuffle = PyTuple_GET_ITEM(__pyx_args, 6);
            if (PyTuple_GET_SIZE(__pyx_args) > 7) {
              __pyx_v_fletcher32 = PyTuple_GET_ITEM(__pyx_args, 7);
              if (PyTuple_GET_SIZE(__pyx_args) > 8) {
                __pyx_v_contiguous = PyTuple_GET_ITEM(__pyx_args, 8);
                if (PyTuple_GET_SIZE(__pyx_args) > 9) {
                  __pyx_v_chunksizes = PyTuple_GET_ITEM(__pyx_args, 9);
                  if (PyTuple_GET_SIZE(__pyx_args) > 10) {
                    __pyx_v_endian = PyTuple_GET_ITEM(__pyx_args, 10);
                    if (PyTuple_GET_SIZE(__pyx_args) > 11) {
                      __pyx_v_least_significant_digit = PyTuple_GET_ITEM(__pyx_args, 11);
                      if (PyTuple_GET_SIZE(__pyx_args) > 12) {
                        __pyx_v_fill_value = PyTuple_GET_ITEM(__pyx_args, 12);
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOO|OOOOOOOOOO", __pyx_argnames, &__pyx_v_grp, &__pyx_v_name, &__pyx_v_datatype, &__pyx_v_dimensions, &__pyx_v_zlib, &__pyx_v_complevel, &__pyx_v_shuffle, &__pyx_v_fletcher32, &__pyx_v_contiguous, &__pyx_v_chunksizes, &__pyx_v_endian, &__pyx_v_least_significant_digit, &__pyx_v_fill_value))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1734; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  Py_XDECREF(__pyx_kwds);
  Py_DECREF(__pyx_v_kwargs);
  __Pyx_AddTraceback("netCDF4.Variable.__init__");
  return -1;
  __pyx_L4:;
  Py_INCREF(__pyx_v_datatype);
  Py_INCREF(__pyx_v_dimensions);
  __pyx_v_n = Py_None; Py_INCREF(Py_None);
  __pyx_v_dimname = Py_None; Py_INCREF(Py_None);
  __pyx_v_dim = Py_None; Py_INCREF(Py_None);
  __pyx_v_fillval = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1746
 *         # this prevents a common error that occurs when
 *         # dimensions = ('lat') instead of ('lat',)
 *         if type(dimensions) == type(''):             # <<<<<<<<<<<<<<
 *             dimensions = dimensions,
 *         self._grpid = grp._grpid
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1746; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_dimensions);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_dimensions);
  __pyx_2 = PyObject_Call(((PyObject*)&PyType_Type), ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1746; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1746; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_kp_127);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_kp_127);
  __pyx_3 = PyObject_Call(((PyObject*)&PyType_Type), ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1746; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __pyx_1 = PyObject_RichCompare(__pyx_2, __pyx_3, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1746; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1746; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1747
 *         # dimensions = ('lat') instead of ('lat',)
 *         if type(dimensions) == type(''):
 *             dimensions = dimensions,             # <<<<<<<<<<<<<<
 *         self._grpid = grp._grpid
 *         self._grp = grp
 */
    __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1747; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_dimensions);
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_dimensions);
    Py_DECREF(__pyx_v_dimensions);
    __pyx_v_dimensions = ((PyObject *)__pyx_2);
    __pyx_2 = 0;
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1748
 *         if type(dimensions) == type(''):
 *             dimensions = dimensions,
 *         self._grpid = grp._grpid             # <<<<<<<<<<<<<<
 *         self._grp = grp
 *         # convert to a real numpy datatype object if necessary.
 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__grpid); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1748; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_5 = __pyx_PyInt_int(__pyx_3); if (unlikely((__pyx_5 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1748; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid = __pyx_5;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1749
 *             dimensions = dimensions,
 *         self._grpid = grp._grpid
 *         self._grp = grp             # <<<<<<<<<<<<<<
 *         # convert to a real numpy datatype object if necessary.
 *         if not isinstance(datatype, CompoundType) and \
 */
  Py_INCREF(__pyx_v_grp);
  Py_DECREF(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp);
  ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp = __pyx_v_grp;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1751
 *         self._grp = grp
 *         # convert to a real numpy datatype object if necessary.
 *         if not isinstance(datatype, CompoundType) and \             # <<<<<<<<<<<<<<
 *                 type(datatype) != numpy.dtype:
 *             datatype = numpy.dtype(datatype)
 */
  __pyx_4 = PyObject_IsInstance(__pyx_v_datatype, ((PyObject*)__pyx_ptype_7netCDF4_CompoundType)); if (unlikely(__pyx_4 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1751; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = __Pyx_PyBool_FromLong((!__pyx_4)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1751; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1751; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_4) {
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1752
 *         # convert to a real numpy datatype object if necessary.
 *         if not isinstance(datatype, CompoundType) and \
 *                 type(datatype) != numpy.dtype:             # <<<<<<<<<<<<<<
 *             datatype = numpy.dtype(datatype)
 *         # check validity of datatype.
 */
    __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1752; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_datatype);
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_datatype);
    __pyx_3 = PyObject_Call(((PyObject*)&PyType_Type), ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1752; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1752; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_6 = PyObject_GetAttr(__pyx_2, __pyx_kp_dtype); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1752; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_1 = PyObject_RichCompare(__pyx_3, __pyx_6, Py_NE); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1752; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_6); __pyx_6 = 0;
  }
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1751; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1753
 *         if not isinstance(datatype, CompoundType) and \
 *                 type(datatype) != numpy.dtype:
 *             datatype = numpy.dtype(datatype)             # <<<<<<<<<<<<<<
 *         # check validity of datatype.
 *         if isinstance(datatype, CompoundType):
 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1753; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_kp_dtype); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1753; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_6 = PyTuple_New(1); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1753; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_datatype);
    PyTuple_SET_ITEM(__pyx_6, 0, __pyx_v_datatype);
    __pyx_1 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_6), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1753; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(((PyObject *)__pyx_6)); __pyx_6 = 0;
    Py_DECREF(__pyx_v_datatype);
    __pyx_v_datatype = __pyx_1;
    __pyx_1 = 0;
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1755
 *             datatype = numpy.dtype(datatype)
 *         # check validity of datatype.
 *         if isinstance(datatype, CompoundType):             # <<<<<<<<<<<<<<
 *             xtype = datatype._nc_type
 *             # dtype variable attribute is a numpy datatype object.
 */
  __pyx_4 = PyObject_IsInstance(__pyx_v_datatype, ((PyObject*)__pyx_ptype_7netCDF4_CompoundType)); if (unlikely(__pyx_4 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1755; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1756
 *         # check validity of datatype.
 *         if isinstance(datatype, CompoundType):
 *             xtype = datatype._nc_type             # <<<<<<<<<<<<<<
 *             # dtype variable attribute is a numpy datatype object.
 *             self.dtype = datatype.dtype
 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_datatype, __pyx_kp__nc_type); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1756; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_7 = __pyx_PyInt_int(__pyx_2); if (unlikely((__pyx_7 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1756; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_v_xtype = __pyx_7;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1758
 *             xtype = datatype._nc_type
 *             # dtype variable attribute is a numpy datatype object.
 *             self.dtype = datatype.dtype             # <<<<<<<<<<<<<<
 *         elif datatype.str[1:] in _supportedtypes:
 *             # find netCDF primitive data type corresponding to
 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_datatype, __pyx_kp_dtype); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1758; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->dtype);
    ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->dtype = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L7;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1759
 *             # dtype variable attribute is a numpy datatype object.
 *             self.dtype = datatype.dtype
 *         elif datatype.str[1:] in _supportedtypes:             # <<<<<<<<<<<<<<
 *             # find netCDF primitive data type corresponding to
 *             # specified numpy data type.
 */
  __pyx_6 = PyObject_GetAttr(__pyx_v_datatype, __pyx_kp_str); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1759; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PySequence_GetSlice(__pyx_6, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1759; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_kp__supportedtypes); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1759; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = (PySequence_Contains(__pyx_2, __pyx_1)); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1759; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1762
 *             # find netCDF primitive data type corresponding to
 *             # specified numpy data type.
 *             xtype = _nptonctype[datatype.str[1:]]             # <<<<<<<<<<<<<<
 *             # dtype variable attribute is a numpy datatype object.
 *             self.dtype = datatype
 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_kp__nptonctype); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1762; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_6 = PyObject_GetAttr(__pyx_v_datatype, __pyx_kp_str); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1762; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = PySequence_GetSlice(__pyx_6, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1762; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_2 = PyObject_GetItem(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1762; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_7 = __pyx_PyInt_int(__pyx_2); if (unlikely((__pyx_7 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1762; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_v_xtype = __pyx_7;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1764
 *             xtype = _nptonctype[datatype.str[1:]]
 *             # dtype variable attribute is a numpy datatype object.
 *             self.dtype = datatype             # <<<<<<<<<<<<<<
 *         else:
 *             raise TypeError('illegal primitive data type, must be one of %s, got %s' % (_supportedtypes,datatype))
 */
    Py_INCREF(__pyx_v_datatype);
    Py_DECREF(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->dtype);
    ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->dtype = __pyx_v_datatype;
    goto __pyx_L7;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1766
 *             self.dtype = datatype
 *         else:
 *             raise TypeError('illegal primitive data type, must be one of %s, got %s' % (_supportedtypes,datatype))             # <<<<<<<<<<<<<<
 *         if kwargs.has_key('id'):
 *             self._varid = kwargs['id']
 */
    __pyx_6 = __Pyx_GetName(__pyx_m, __pyx_kp__supportedtypes); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1766; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyTuple_New(2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1766; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_6);
    Py_INCREF(__pyx_v_datatype);
    PyTuple_SET_ITEM(__pyx_3, 1, __pyx_v_datatype);
    __pyx_6 = 0;
    __pyx_1 = PyNumber_Remainder(__pyx_kp_128, ((PyObject *)__pyx_3)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1766; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1766; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_6 = PyObject_Call(__pyx_builtin_TypeError, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1766; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
    __Pyx_Raise(__pyx_6, 0, 0);
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1766; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  __pyx_L7:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1767
 *         else:
 *             raise TypeError('illegal primitive data type, must be one of %s, got %s' % (_supportedtypes,datatype))
 *         if kwargs.has_key('id'):             # <<<<<<<<<<<<<<
 *             self._varid = kwargs['id']
 *         else:
 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_kwargs, __pyx_kp_has_key); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1767; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1767; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_kp_129);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_kp_129);
  __pyx_2 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1767; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1767; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1768
 *             raise TypeError('illegal primitive data type, must be one of %s, got %s' % (_supportedtypes,datatype))
 *         if kwargs.has_key('id'):
 *             self._varid = kwargs['id']             # <<<<<<<<<<<<<<
 *         else:
 *             varname = PyString_AsString(name)
 */
    __pyx_6 = PyObject_GetItem(__pyx_v_kwargs, __pyx_kp_130); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1768; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_5 = __pyx_PyInt_int(__pyx_6); if (unlikely((__pyx_5 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1768; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid = __pyx_5;
    goto __pyx_L8;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1770
 *             self._varid = kwargs['id']
 *         else:
 *             varname = PyString_AsString(name)             # <<<<<<<<<<<<<<
 *             ndims = len(dimensions)
 *             # find dimension ids.
 */
    __pyx_v_varname = PyString_AsString(__pyx_v_name);

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1771
 *         else:
 *             varname = PyString_AsString(name)
 *             ndims = len(dimensions)             # <<<<<<<<<<<<<<
 *             # find dimension ids.
 *             if ndims:
 */
    __pyx_8 = PyObject_Length(__pyx_v_dimensions); if (unlikely(__pyx_8 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1771; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_v_ndims = __pyx_8;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1773
 *             ndims = len(dimensions)
 *             # find dimension ids.
 *             if ndims:             # <<<<<<<<<<<<<<
 *                 for n from 0 <= n < ndims:
 *                     dimname = dimensions[n]
 */
    __pyx_5 = __pyx_v_ndims;
    if (__pyx_5) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1774
 *             # find dimension ids.
 *             if ndims:
 *                 for n from 0 <= n < ndims:             # <<<<<<<<<<<<<<
 *                     dimname = dimensions[n]
 *                     # look for dimension in this group, and if not
 */
      for (__pyx_9 = 0; __pyx_9 < __pyx_v_ndims; __pyx_9++) {
        __pyx_3 = PyInt_FromLong(__pyx_9); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1774; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_v_n);
        __pyx_v_n = __pyx_3;
        __pyx_3 = 0;

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1775
 *             if ndims:
 *                 for n from 0 <= n < ndims:
 *                     dimname = dimensions[n]             # <<<<<<<<<<<<<<
 *                     # look for dimension in this group, and if not
 *                     # found there, look in parent (and it's parent, etc, back to root).
 */
        __pyx_1 = PyObject_GetItem(__pyx_v_dimensions, __pyx_v_n); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1775; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_v_dimname);
        __pyx_v_dimname = __pyx_1;
        __pyx_1 = 0;

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1778
 *                     # look for dimension in this group, and if not
 *                     # found there, look in parent (and it's parent, etc, back to root).
 *                     dim = _find_dim(grp, dimname)             # <<<<<<<<<<<<<<
 *                     if dim is None:
 *                         raise KeyError("dimension %s not defined in group %s or any group in it's family tree" % (dimname, grp.path))
 */
        __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_kp__find_dim); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1778; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_6 = PyTuple_New(2); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1778; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_INCREF(__pyx_v_grp);
        PyTuple_SET_ITEM(__pyx_6, 0, __pyx_v_grp);
        Py_INCREF(__pyx_v_dimname);
        PyTuple_SET_ITEM(__pyx_6, 1, __pyx_v_dimname);
        __pyx_3 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_6), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1778; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        Py_DECREF(((PyObject *)__pyx_6)); __pyx_6 = 0;
        Py_DECREF(__pyx_v_dim);
        __pyx_v_dim = __pyx_3;
        __pyx_3 = 0;

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1779
 *                     # found there, look in parent (and it's parent, etc, back to root).
 *                     dim = _find_dim(grp, dimname)
 *                     if dim is None:             # <<<<<<<<<<<<<<
 *                         raise KeyError("dimension %s not defined in group %s or any group in it's family tree" % (dimname, grp.path))
 *                     dimids[n] = dim._dimid
 */
        __pyx_4 = (__pyx_v_dim == Py_None);
        if (__pyx_4) {

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1780
 *                     dim = _find_dim(grp, dimname)
 *                     if dim is None:
 *                         raise KeyError("dimension %s not defined in group %s or any group in it's family tree" % (dimname, grp.path))             # <<<<<<<<<<<<<<
 *                     dimids[n] = dim._dimid
 *             # go into define mode if it's a netCDF 3 compatible
 */
          __pyx_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp_path); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1780; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_2 = PyTuple_New(2); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1780; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_INCREF(__pyx_v_dimname);
          PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_dimname);
          PyTuple_SET_ITEM(__pyx_2, 1, __pyx_1);
          __pyx_1 = 0;
          __pyx_6 = PyNumber_Remainder(__pyx_kp_131, ((PyObject *)__pyx_2)); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1780; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
          __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1780; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          PyTuple_SET_ITEM(__pyx_3, 0, __pyx_6);
          __pyx_6 = 0;
          __pyx_1 = PyObject_Call(__pyx_builtin_KeyError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1780; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
          __Pyx_Raise(__pyx_1, 0, 0);
          Py_DECREF(__pyx_1); __pyx_1 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1780; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          goto __pyx_L12;
        }
        __pyx_L12:;

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1781
 *                     if dim is None:
 *                         raise KeyError("dimension %s not defined in group %s or any group in it's family tree" % (dimname, grp.path))
 *                     dimids[n] = dim._dimid             # <<<<<<<<<<<<<<
 *             # go into define mode if it's a netCDF 3 compatible
 *             # file format.  Be careful to exit define mode before
 */
        __pyx_2 = PyObject_GetAttr(__pyx_v_dim, __pyx_kp__dimid); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1781; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_5 = __pyx_PyInt_int(__pyx_2); if (unlikely((__pyx_5 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1781; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_8 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_8 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1781; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        (__pyx_v_dimids[__pyx_8]) = __pyx_5;
      }
      goto __pyx_L9;
    }
    __pyx_L9:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1785
 *             # file format.  Be careful to exit define mode before
 *             # any exceptions are raised.
 *             if grp.file_format != 'NETCDF4': grp._redef()             # <<<<<<<<<<<<<<
 *             # define variable.
 *             if ndims:
 */
    __pyx_6 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp_file_format); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1785; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyObject_RichCompare(__pyx_6, __pyx_kp_132, Py_NE); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1785; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1785; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (__pyx_4) {
      __pyx_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__redef); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1785; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_2 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1785; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      goto __pyx_L13;
    }
    __pyx_L13:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1787
 *             if grp.file_format != 'NETCDF4': grp._redef()
 *             # define variable.
 *             if ndims:             # <<<<<<<<<<<<<<
 *                 ierr = nc_def_var(self._grpid, varname, xtype, ndims,
 *                                   dimids, &self._varid)
 */
    __pyx_5 = __pyx_v_ndims;
    if (__pyx_5) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1789
 *             if ndims:
 *                 ierr = nc_def_var(self._grpid, varname, xtype, ndims,
 *                                   dimids, &self._varid)             # <<<<<<<<<<<<<<
 *             else: # a scalar variable.
 *                 ierr = nc_def_var(self._grpid, varname, xtype, ndims,
 */
      __pyx_v_ierr = nc_def_var(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, __pyx_v_varname, __pyx_v_xtype, __pyx_v_ndims, __pyx_v_dimids, (&((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid));
      goto __pyx_L14;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1792
 *             else: # a scalar variable.
 *                 ierr = nc_def_var(self._grpid, varname, xtype, ndims,
 *                                   NULL, &self._varid)             # <<<<<<<<<<<<<<
 *             if ierr != NC_NOERR:
 *                 if grp.file_format != 'NETCDF4': grp._enddef()
 */
      __pyx_v_ierr = nc_def_var(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, __pyx_v_varname, __pyx_v_xtype, __pyx_v_ndims, NULL, (&((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid));
    }
    __pyx_L14:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1793
 *                 ierr = nc_def_var(self._grpid, varname, xtype, ndims,
 *                                   NULL, &self._varid)
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                 if grp.file_format != 'NETCDF4': grp._enddef()
 *                 raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_4 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_4) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1794
 *                                   NULL, &self._varid)
 *             if ierr != NC_NOERR:
 *                 if grp.file_format != 'NETCDF4': grp._enddef()             # <<<<<<<<<<<<<<
 *                 raise RuntimeError(nc_strerror(ierr))
 *             # set zlib, shuffle, chunking, fletcher32 and endian
 */
      __pyx_6 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp_file_format); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1794; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyObject_RichCompare(__pyx_6, __pyx_kp_133, Py_NE); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1794; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1794; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (__pyx_4) {
        __pyx_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__enddef); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1794; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_2 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1794; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        goto __pyx_L16;
      }
      __pyx_L16:;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1795
 *             if ierr != NC_NOERR:
 *                 if grp.file_format != 'NETCDF4': grp._enddef()
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *             # set zlib, shuffle, chunking, fletcher32 and endian
 *             # variable settings.
 */
      __pyx_6 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1795; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1795; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_6);
      __pyx_6 = 0;
      __pyx_1 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1795; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
      __Pyx_Raise(__pyx_1, 0, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1795; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L15;
    }
    __pyx_L15:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1801
 *             # for NETCDF3* formats, the zlib,shuffle,chunking,endian
 *             # and fletcher32 are silently ignored.
 *             if grp.file_format in ['NETCDF4','NETCDF4_CLASSIC']:             # <<<<<<<<<<<<<<
 *                 # set zlib and shuffle parameters.
 *                 if zlib and ndims: # don't bother for scalar variable
 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp_file_format); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1801; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_6 = __pyx_2;
    Py_INCREF(__pyx_6);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_3 = PyObject_RichCompare(__pyx_6, __pyx_kp_134, Py_EQ); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1801; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_10 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely((__pyx_10 == (int)-1))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1801; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_4 = ((int)__pyx_10);
    if (!__pyx_4) {
      __pyx_1 = PyObject_RichCompare(__pyx_6, __pyx_kp_135, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1801; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_10 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely((__pyx_10 == (int)-1))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1801; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_4 = ((int)__pyx_10);
    }
    if (__pyx_4) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1803
 *             if grp.file_format in ['NETCDF4','NETCDF4_CLASSIC']:
 *                 # set zlib and shuffle parameters.
 *                 if zlib and ndims: # don't bother for scalar variable             # <<<<<<<<<<<<<<
 *                     ideflate_level = complevel
 *                     if shuffle:
 */
      __pyx_2 = __pyx_v_zlib;
      Py_INCREF(__pyx_2);
      __pyx_10 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_10 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1803; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (__pyx_10) {
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_2 = PyInt_FromLong(__pyx_v_ndims); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1803; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      }
      __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1803; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      if (__pyx_4) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1804
 *                 # set zlib and shuffle parameters.
 *                 if zlib and ndims: # don't bother for scalar variable
 *                     ideflate_level = complevel             # <<<<<<<<<<<<<<
 *                     if shuffle:
 *                         ierr = nc_def_var_deflate(self._grpid, self._varid, 1, 1, ideflate_level)
 */
        __pyx_5 = __pyx_PyInt_int(__pyx_v_complevel); if (unlikely((__pyx_5 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1804; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_v_ideflate_level = __pyx_5;

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1805
 *                 if zlib and ndims: # don't bother for scalar variable
 *                     ideflate_level = complevel
 *                     if shuffle:             # <<<<<<<<<<<<<<
 *                         ierr = nc_def_var_deflate(self._grpid, self._varid, 1, 1, ideflate_level)
 *                     else:
 */
        __pyx_10 = __Pyx_PyObject_IsTrue(__pyx_v_shuffle); if (unlikely(__pyx_10 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1805; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        if (__pyx_10) {

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1806
 *                     ideflate_level = complevel
 *                     if shuffle:
 *                         ierr = nc_def_var_deflate(self._grpid, self._varid, 1, 1, ideflate_level)             # <<<<<<<<<<<<<<
 *                     else:
 *                         ierr = nc_def_var_deflate(self._grpid, self._varid, 0, 1, ideflate_level)
 */
          __pyx_v_ierr = nc_def_var_deflate(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, 1, 1, __pyx_v_ideflate_level);
          goto __pyx_L19;
        }
        /*else*/ {

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1808
 *                         ierr = nc_def_var_deflate(self._grpid, self._varid, 1, 1, ideflate_level)
 *                     else:
 *                         ierr = nc_def_var_deflate(self._grpid, self._varid, 0, 1, ideflate_level)             # <<<<<<<<<<<<<<
 *                     if ierr != NC_NOERR:
 *                         if grp.file_format != 'NETCDF4': grp._enddef()
 */
          __pyx_v_ierr = nc_def_var_deflate(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, 0, 1, __pyx_v_ideflate_level);
        }
        __pyx_L19:;

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1809
 *                     else:
 *                         ierr = nc_def_var_deflate(self._grpid, self._varid, 0, 1, ideflate_level)
 *                     if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                         if grp.file_format != 'NETCDF4': grp._enddef()
 *                         raise RuntimeError(nc_strerror(ierr))
 */
        __pyx_4 = (__pyx_v_ierr != NC_NOERR);
        if (__pyx_4) {

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1810
 *                         ierr = nc_def_var_deflate(self._grpid, self._varid, 0, 1, ideflate_level)
 *                     if ierr != NC_NOERR:
 *                         if grp.file_format != 'NETCDF4': grp._enddef()             # <<<<<<<<<<<<<<
 *                         raise RuntimeError(nc_strerror(ierr))
 *                 # set checksum.
 */
          __pyx_3 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp_file_format); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1810; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_6 = PyObject_RichCompare(__pyx_3, __pyx_kp_136, Py_NE); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1810; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          __pyx_10 = __Pyx_PyObject_IsTrue(__pyx_6); if (unlikely(__pyx_10 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1810; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_6); __pyx_6 = 0;
          if (__pyx_10) {
            __pyx_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__enddef); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1810; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            __pyx_2 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1810; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_DECREF(__pyx_1); __pyx_1 = 0;
            Py_DECREF(__pyx_2); __pyx_2 = 0;
            goto __pyx_L21;
          }
          __pyx_L21:;

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1811
 *                     if ierr != NC_NOERR:
 *                         if grp.file_format != 'NETCDF4': grp._enddef()
 *                         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *                 # set checksum.
 *                 if fletcher32:
 */
          __pyx_3 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1811; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_6 = PyTuple_New(1); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1811; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          PyTuple_SET_ITEM(__pyx_6, 0, __pyx_3);
          __pyx_3 = 0;
          __pyx_1 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_6), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1811; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(((PyObject *)__pyx_6)); __pyx_6 = 0;
          __Pyx_Raise(__pyx_1, 0, 0);
          Py_DECREF(__pyx_1); __pyx_1 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1811; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          goto __pyx_L20;
        }
        __pyx_L20:;
        goto __pyx_L18;
      }
      __pyx_L18:;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1813
 *                         raise RuntimeError(nc_strerror(ierr))
 *                 # set checksum.
 *                 if fletcher32:             # <<<<<<<<<<<<<<
 *                     ierr = nc_def_var_fletcher32(self._grpid, self._varid, 1)
 *                     if ierr != NC_NOERR:
 */
      __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_v_fletcher32); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1813; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (__pyx_4) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1814
 *                 # set checksum.
 *                 if fletcher32:
 *                     ierr = nc_def_var_fletcher32(self._grpid, self._varid, 1)             # <<<<<<<<<<<<<<
 *                     if ierr != NC_NOERR:
 *                         if grp.file_format != 'NETCDF4': grp._enddef()
 */
        __pyx_v_ierr = nc_def_var_fletcher32(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, 1);

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1815
 *                 if fletcher32:
 *                     ierr = nc_def_var_fletcher32(self._grpid, self._varid, 1)
 *                     if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                         if grp.file_format != 'NETCDF4': grp._enddef()
 *                         raise RuntimeError(nc_strerror(ierr))
 */
        __pyx_10 = (__pyx_v_ierr != NC_NOERR);
        if (__pyx_10) {

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1816
 *                     ierr = nc_def_var_fletcher32(self._grpid, self._varid, 1)
 *                     if ierr != NC_NOERR:
 *                         if grp.file_format != 'NETCDF4': grp._enddef()             # <<<<<<<<<<<<<<
 *                         raise RuntimeError(nc_strerror(ierr))
 *                 # set chunking stuff.
 */
          __pyx_2 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp_file_format); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1816; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_3 = PyObject_RichCompare(__pyx_2, __pyx_kp_137, Py_NE); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1816; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_2); __pyx_2 = 0;
          __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1816; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          if (__pyx_4) {
            __pyx_6 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__enddef); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1816; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            __pyx_1 = PyObject_Call(__pyx_6, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1816; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_DECREF(__pyx_6); __pyx_6 = 0;
            Py_DECREF(__pyx_1); __pyx_1 = 0;
            goto __pyx_L24;
          }
          __pyx_L24:;

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1817
 *                     if ierr != NC_NOERR:
 *                         if grp.file_format != 'NETCDF4': grp._enddef()
 *                         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *                 # set chunking stuff.
 *                 if ndims: # don't bother for scalar variable.
 */
          __pyx_2 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1817; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1817; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
          __pyx_2 = 0;
          __pyx_6 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1817; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
          __Pyx_Raise(__pyx_6, 0, 0);
          Py_DECREF(__pyx_6); __pyx_6 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1817; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          goto __pyx_L23;
        }
        __pyx_L23:;
        goto __pyx_L22;
      }
      __pyx_L22:;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1819
 *                         raise RuntimeError(nc_strerror(ierr))
 *                 # set chunking stuff.
 *                 if ndims: # don't bother for scalar variable.             # <<<<<<<<<<<<<<
 *                     if contiguous:
 *                         icontiguous = 1
 */
      __pyx_5 = __pyx_v_ndims;
      if (__pyx_5) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1820
 *                 # set chunking stuff.
 *                 if ndims: # don't bother for scalar variable.
 *                     if contiguous:             # <<<<<<<<<<<<<<
 *                         icontiguous = 1
 *                         if chunksizes is not None:
 */
        __pyx_10 = __Pyx_PyObject_IsTrue(__pyx_v_contiguous); if (unlikely(__pyx_10 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1820; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        if (__pyx_10) {

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1821
 *                 if ndims: # don't bother for scalar variable.
 *                     if contiguous:
 *                         icontiguous = 1             # <<<<<<<<<<<<<<
 *                         if chunksizes is not None:
 *                             raise ValueError('cannot specify chunksizes for a contiguous dataset')
 */
          __pyx_v_icontiguous = 1;

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1822
 *                     if contiguous:
 *                         icontiguous = 1
 *                         if chunksizes is not None:             # <<<<<<<<<<<<<<
 *                             raise ValueError('cannot specify chunksizes for a contiguous dataset')
 *                     else:
 */
          __pyx_4 = (__pyx_v_chunksizes != Py_None);
          if (__pyx_4) {

            /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1823
 *                         icontiguous = 1
 *                         if chunksizes is not None:
 *                             raise ValueError('cannot specify chunksizes for a contiguous dataset')             # <<<<<<<<<<<<<<
 *                     else:
 *                         icontiguous = 0
 */
            __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1823; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_INCREF(__pyx_kp_138);
            PyTuple_SET_ITEM(__pyx_1, 0, __pyx_kp_138);
            __pyx_2 = PyObject_Call(__pyx_builtin_ValueError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1823; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
            __Pyx_Raise(__pyx_2, 0, 0);
            Py_DECREF(__pyx_2); __pyx_2 = 0;
            {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1823; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            goto __pyx_L27;
          }
          __pyx_L27:;
          goto __pyx_L26;
        }
        /*else*/ {

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1825
 *                             raise ValueError('cannot specify chunksizes for a contiguous dataset')
 *                     else:
 *                         icontiguous = 0             # <<<<<<<<<<<<<<
 *                     if chunksizes is None:
 *                         chunksizesp = NULL
 */
          __pyx_v_icontiguous = 0;
        }
        __pyx_L26:;

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1826
 *                     else:
 *                         icontiguous = 0
 *                     if chunksizes is None:             # <<<<<<<<<<<<<<
 *                         chunksizesp = NULL
 *                     else:
 */
        __pyx_10 = (__pyx_v_chunksizes == Py_None);
        if (__pyx_10) {

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1827
 *                         icontiguous = 0
 *                     if chunksizes is None:
 *                         chunksizesp = NULL             # <<<<<<<<<<<<<<
 *                     else:
 *                         if len(chunksizes) != len(dimensions):
 */
          __pyx_v_chunksizesp = NULL;
          goto __pyx_L28;
        }
        /*else*/ {

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1829
 *                         chunksizesp = NULL
 *                     else:
 *                         if len(chunksizes) != len(dimensions):             # <<<<<<<<<<<<<<
 *                             if grp.file_format != 'NETCDF4': grp._enddef()
 *                             raise ValueError('chunksizes must be a sequence with the same length as dimensions')
 */
          __pyx_8 = PyObject_Length(__pyx_v_chunksizes); if (unlikely(__pyx_8 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1829; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_11 = PyObject_Length(__pyx_v_dimensions); if (unlikely(__pyx_11 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1829; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_4 = (__pyx_8 != __pyx_11);
          if (__pyx_4) {

            /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1830
 *                     else:
 *                         if len(chunksizes) != len(dimensions):
 *                             if grp.file_format != 'NETCDF4': grp._enddef()             # <<<<<<<<<<<<<<
 *                             raise ValueError('chunksizes must be a sequence with the same length as dimensions')
 *                         chunksizesp = <int *>malloc(sizeof(int) * ndims)
 */
            __pyx_3 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp_file_format); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1830; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            __pyx_6 = PyObject_RichCompare(__pyx_3, __pyx_kp_139, Py_NE); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1830; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_DECREF(__pyx_3); __pyx_3 = 0;
            __pyx_10 = __Pyx_PyObject_IsTrue(__pyx_6); if (unlikely(__pyx_10 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1830; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_DECREF(__pyx_6); __pyx_6 = 0;
            if (__pyx_10) {
              __pyx_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__enddef); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1830; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
              __pyx_2 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1830; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
              Py_DECREF(__pyx_1); __pyx_1 = 0;
              Py_DECREF(__pyx_2); __pyx_2 = 0;
              goto __pyx_L30;
            }
            __pyx_L30:;

            /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1831
 *                         if len(chunksizes) != len(dimensions):
 *                             if grp.file_format != 'NETCDF4': grp._enddef()
 *                             raise ValueError('chunksizes must be a sequence with the same length as dimensions')             # <<<<<<<<<<<<<<
 *                         chunksizesp = <int *>malloc(sizeof(int) * ndims)
 *                         for n from 0 <= n < ndims:
 */
            __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1831; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_INCREF(__pyx_kp_140);
            PyTuple_SET_ITEM(__pyx_3, 0, __pyx_kp_140);
            __pyx_6 = PyObject_Call(__pyx_builtin_ValueError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1831; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
            __Pyx_Raise(__pyx_6, 0, 0);
            Py_DECREF(__pyx_6); __pyx_6 = 0;
            {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1831; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            goto __pyx_L29;
          }
          __pyx_L29:;

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1832
 *                             if grp.file_format != 'NETCDF4': grp._enddef()
 *                             raise ValueError('chunksizes must be a sequence with the same length as dimensions')
 *                         chunksizesp = <int *>malloc(sizeof(int) * ndims)             # <<<<<<<<<<<<<<
 *                         for n from 0 <= n < ndims:
 *                             chunksizesp[n] = chunksizes[n]
 */
          __pyx_v_chunksizesp = ((int *)malloc(((sizeof(int)) * __pyx_v_ndims)));

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1833
 *                             raise ValueError('chunksizes must be a sequence with the same length as dimensions')
 *                         chunksizesp = <int *>malloc(sizeof(int) * ndims)
 *                         for n from 0 <= n < ndims:             # <<<<<<<<<<<<<<
 *                             chunksizesp[n] = chunksizes[n]
 *                     if chunksizes is not None or contiguous:
 */
          for (__pyx_9 = 0; __pyx_9 < __pyx_v_ndims; __pyx_9++) {
            __pyx_1 = PyInt_FromLong(__pyx_9); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1833; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_DECREF(__pyx_v_n);
            __pyx_v_n = __pyx_1;
            __pyx_1 = 0;

            /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1834
 *                         chunksizesp = <int *>malloc(sizeof(int) * ndims)
 *                         for n from 0 <= n < ndims:
 *                             chunksizesp[n] = chunksizes[n]             # <<<<<<<<<<<<<<
 *                     if chunksizes is not None or contiguous:
 *                         ierr = nc_def_var_chunking(self._grpid, self._varid, icontiguous, chunksizesp)
 */
            __pyx_2 = PyObject_GetItem(__pyx_v_chunksizes, __pyx_v_n); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1834; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            __pyx_5 = __pyx_PyInt_int(__pyx_2); if (unlikely((__pyx_5 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1834; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_DECREF(__pyx_2); __pyx_2 = 0;
            __pyx_8 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_8 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1834; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            (__pyx_v_chunksizesp[__pyx_8]) = __pyx_5;
          }
        }
        __pyx_L28:;

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1835
 *                         for n from 0 <= n < ndims:
 *                             chunksizesp[n] = chunksizes[n]
 *                     if chunksizes is not None or contiguous:             # <<<<<<<<<<<<<<
 *                         ierr = nc_def_var_chunking(self._grpid, self._varid, icontiguous, chunksizesp)
 *                         free(chunksizesp)
 */
        __pyx_4 = (__pyx_v_chunksizes != Py_None);
        __pyx_3 = __Pyx_PyBool_FromLong(__pyx_4); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1835; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_10 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_10 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1835; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        if (!__pyx_10) {
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          __pyx_3 = __pyx_v_contiguous;
          Py_INCREF(__pyx_3);
        }
        __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1835; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        if (__pyx_4) {

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1836
 *                             chunksizesp[n] = chunksizes[n]
 *                     if chunksizes is not None or contiguous:
 *                         ierr = nc_def_var_chunking(self._grpid, self._varid, icontiguous, chunksizesp)             # <<<<<<<<<<<<<<
 *                         free(chunksizesp)
 *                         if ierr != NC_NOERR:
 */
          __pyx_v_ierr = nc_def_var_chunking(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, __pyx_v_icontiguous, __pyx_v_chunksizesp);

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1837
 *                     if chunksizes is not None or contiguous:
 *                         ierr = nc_def_var_chunking(self._grpid, self._varid, icontiguous, chunksizesp)
 *                         free(chunksizesp)             # <<<<<<<<<<<<<<
 *                         if ierr != NC_NOERR:
 *                             if grp.file_format != 'NETCDF4': grp._enddef()
 */
          free(__pyx_v_chunksizesp);

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1838
 *                         ierr = nc_def_var_chunking(self._grpid, self._varid, icontiguous, chunksizesp)
 *                         free(chunksizesp)
 *                         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                             if grp.file_format != 'NETCDF4': grp._enddef()
 *                             raise RuntimeError(nc_strerror(ierr))
 */
          __pyx_10 = (__pyx_v_ierr != NC_NOERR);
          if (__pyx_10) {

            /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1839
 *                         free(chunksizesp)
 *                         if ierr != NC_NOERR:
 *                             if grp.file_format != 'NETCDF4': grp._enddef()             # <<<<<<<<<<<<<<
 *                             raise RuntimeError(nc_strerror(ierr))
 *                 # set endian-ness of variable
 */
            __pyx_6 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp_file_format); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1839; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            __pyx_1 = PyObject_RichCompare(__pyx_6, __pyx_kp_141, Py_NE); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1839; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_DECREF(__pyx_6); __pyx_6 = 0;
            __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1839; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_DECREF(__pyx_1); __pyx_1 = 0;
            if (__pyx_4) {
              __pyx_2 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__enddef); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1839; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
              __pyx_3 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1839; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
              Py_DECREF(__pyx_2); __pyx_2 = 0;
              Py_DECREF(__pyx_3); __pyx_3 = 0;
              goto __pyx_L35;
            }
            __pyx_L35:;

            /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1840
 *                         if ierr != NC_NOERR:
 *                             if grp.file_format != 'NETCDF4': grp._enddef()
 *                             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *                 # set endian-ness of variable
 *                 if endian == 'little':
 */
            __pyx_6 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1840; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1840; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            PyTuple_SET_ITEM(__pyx_1, 0, __pyx_6);
            __pyx_6 = 0;
            __pyx_2 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1840; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
            __Pyx_Raise(__pyx_2, 0, 0);
            Py_DECREF(__pyx_2); __pyx_2 = 0;
            {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1840; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            goto __pyx_L34;
          }
          __pyx_L34:;
          goto __pyx_L33;
        }
        __pyx_L33:;
        goto __pyx_L25;
      }
      __pyx_L25:;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1842
 *                             raise RuntimeError(nc_strerror(ierr))
 *                 # set endian-ness of variable
 *                 if endian == 'little':             # <<<<<<<<<<<<<<
 *                     ierr = nc_def_var_endian(self._grpid, self._varid, NC_ENDIAN_LITTLE)
 *                 elif endian == 'big':
 */
      __pyx_3 = PyObject_RichCompare(__pyx_v_endian, __pyx_kp_142, Py_EQ); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1842; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_10 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_10 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1842; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (__pyx_10) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1843
 *                 # set endian-ness of variable
 *                 if endian == 'little':
 *                     ierr = nc_def_var_endian(self._grpid, self._varid, NC_ENDIAN_LITTLE)             # <<<<<<<<<<<<<<
 *                 elif endian == 'big':
 *                     ierr = nc_def_var_endian(self._grpid, self._varid, NC_ENDIAN_BIG)
 */
        __pyx_v_ierr = nc_def_var_endian(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, NC_ENDIAN_LITTLE);
        goto __pyx_L36;
      }

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1844
 *                 if endian == 'little':
 *                     ierr = nc_def_var_endian(self._grpid, self._varid, NC_ENDIAN_LITTLE)
 *                 elif endian == 'big':             # <<<<<<<<<<<<<<
 *                     ierr = nc_def_var_endian(self._grpid, self._varid, NC_ENDIAN_BIG)
 *                 elif endian == 'native':
 */
      __pyx_6 = PyObject_RichCompare(__pyx_v_endian, __pyx_kp_143, Py_EQ); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1844; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_6); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1844; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      if (__pyx_4) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1845
 *                     ierr = nc_def_var_endian(self._grpid, self._varid, NC_ENDIAN_LITTLE)
 *                 elif endian == 'big':
 *                     ierr = nc_def_var_endian(self._grpid, self._varid, NC_ENDIAN_BIG)             # <<<<<<<<<<<<<<
 *                 elif endian == 'native':
 *                     pass # this is the default format.
 */
        __pyx_v_ierr = nc_def_var_endian(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, NC_ENDIAN_BIG);
        goto __pyx_L36;
      }

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1846
 *                 elif endian == 'big':
 *                     ierr = nc_def_var_endian(self._grpid, self._varid, NC_ENDIAN_BIG)
 *                 elif endian == 'native':             # <<<<<<<<<<<<<<
 *                     pass # this is the default format.
 *                 else:
 */
      __pyx_1 = PyObject_RichCompare(__pyx_v_endian, __pyx_kp_144, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1846; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_10 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_10 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1846; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      if (__pyx_10) {
        goto __pyx_L36;
      }
      /*else*/ {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1849
 *                     pass # this is the default format.
 *                 else:
 *                     raise ValueError("'endian' keyword argument must be 'little','big' or 'native', got '%s'" % endian)             # <<<<<<<<<<<<<<
 *                 if ierr != NC_NOERR:
 *                     if grp.file_format != 'NETCDF4': grp._enddef()
 */
        __pyx_2 = PyNumber_Remainder(__pyx_kp_145, __pyx_v_endian); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1849; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1849; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
        __pyx_2 = 0;
        __pyx_6 = PyObject_Call(__pyx_builtin_ValueError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1849; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
        __Pyx_Raise(__pyx_6, 0, 0);
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1849; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      }
      __pyx_L36:;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1850
 *                 else:
 *                     raise ValueError("'endian' keyword argument must be 'little','big' or 'native', got '%s'" % endian)
 *                 if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                     if grp.file_format != 'NETCDF4': grp._enddef()
 *                     raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_4 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_4) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1851
 *                     raise ValueError("'endian' keyword argument must be 'little','big' or 'native', got '%s'" % endian)
 *                 if ierr != NC_NOERR:
 *                     if grp.file_format != 'NETCDF4': grp._enddef()             # <<<<<<<<<<<<<<
 *                     raise RuntimeError(nc_strerror(ierr))
 *             # set a fill value for this variable if fill_value keyword
 */
        __pyx_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp_file_format); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1851; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_2 = PyObject_RichCompare(__pyx_1, __pyx_kp_146, Py_NE); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1851; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        __pyx_10 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_10 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1851; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        if (__pyx_10) {
          __pyx_3 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__enddef); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1851; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_6 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1851; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          Py_DECREF(__pyx_6); __pyx_6 = 0;
          goto __pyx_L38;
        }
        __pyx_L38:;

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1852
 *                 if ierr != NC_NOERR:
 *                     if grp.file_format != 'NETCDF4': grp._enddef()
 *                     raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *             # set a fill value for this variable if fill_value keyword
 *             # given.  This avoids the HDF5 overhead of deleting and
 */
        __pyx_1 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1852; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1852; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
        __pyx_1 = 0;
        __pyx_3 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1852; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
        __Pyx_Raise(__pyx_3, 0, 0);
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1852; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        goto __pyx_L37;
      }
      __pyx_L37:;
      goto __pyx_L17;
    }
    __pyx_L17:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1856
 *             # given.  This avoids the HDF5 overhead of deleting and
 *             # recreating the dataset if it is set later (after the enddef).
 *             if fill_value is not None:             # <<<<<<<<<<<<<<
 *                 if not fill_value and isinstance(fill_value,bool):
 *                     # no filling for this variable if fill_value==False.
 */
    __pyx_4 = (__pyx_v_fill_value != Py_None);
    if (__pyx_4) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1857
 *             # recreating the dataset if it is set later (after the enddef).
 *             if fill_value is not None:
 *                 if not fill_value and isinstance(fill_value,bool):             # <<<<<<<<<<<<<<
 *                     # no filling for this variable if fill_value==False.
 *                     ierr = nc_def_var_fill(self._grpid, self._varid, 1, NULL)
 */
      __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_v_fill_value); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1857; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_10 = (!__pyx_4);
      if (__pyx_10) {
        __pyx_10 = PyObject_IsInstance(__pyx_v_fill_value, __pyx_builtin_bool); if (unlikely(__pyx_10 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1857; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      }
      if (__pyx_10) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1859
 *                 if not fill_value and isinstance(fill_value,bool):
 *                     # no filling for this variable if fill_value==False.
 *                     ierr = nc_def_var_fill(self._grpid, self._varid, 1, NULL)             # <<<<<<<<<<<<<<
 *                     if ierr != NC_NOERR:
 *                         if grp.file_format != 'NETCDF4': grp._enddef()
 */
        __pyx_v_ierr = nc_def_var_fill(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, 1, NULL);

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1860
 *                     # no filling for this variable if fill_value==False.
 *                     ierr = nc_def_var_fill(self._grpid, self._varid, 1, NULL)
 *                     if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                         if grp.file_format != 'NETCDF4': grp._enddef()
 *                         raise RuntimeError(nc_strerror(ierr))
 */
        __pyx_4 = (__pyx_v_ierr != NC_NOERR);
        if (__pyx_4) {

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1861
 *                     ierr = nc_def_var_fill(self._grpid, self._varid, 1, NULL)
 *                     if ierr != NC_NOERR:
 *                         if grp.file_format != 'NETCDF4': grp._enddef()             # <<<<<<<<<<<<<<
 *                         raise RuntimeError(nc_strerror(ierr))
 *                 else:
 */
          __pyx_6 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp_file_format); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1861; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_1 = PyObject_RichCompare(__pyx_6, __pyx_kp_147, Py_NE); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1861; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_6); __pyx_6 = 0;
          __pyx_10 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_10 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1861; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_1); __pyx_1 = 0;
          if (__pyx_10) {
            __pyx_2 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__enddef); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1861; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            __pyx_3 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1861; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_DECREF(__pyx_2); __pyx_2 = 0;
            Py_DECREF(__pyx_3); __pyx_3 = 0;
            goto __pyx_L42;
          }
          __pyx_L42:;

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1862
 *                     if ierr != NC_NOERR:
 *                         if grp.file_format != 'NETCDF4': grp._enddef()
 *                         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *                 else:
 *                     # cast fill_value to type of variable.
 */
          __pyx_6 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1862; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1862; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          PyTuple_SET_ITEM(__pyx_1, 0, __pyx_6);
          __pyx_6 = 0;
          __pyx_2 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1862; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
          __Pyx_Raise(__pyx_2, 0, 0);
          Py_DECREF(__pyx_2); __pyx_2 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1862; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          goto __pyx_L41;
        }
        __pyx_L41:;
        goto __pyx_L40;
      }
      /*else*/ {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1865
 *                 else:
 *                     # cast fill_value to type of variable.
 *                     fillval = numpy.array(fill_value, self.dtype)             # <<<<<<<<<<<<<<
 *                     _set_att(self._grp, self._varid, '_FillValue', fillval)
 *             if least_significant_digit is not None:
 */
        __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1865; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_6 = PyObject_GetAttr(__pyx_3, __pyx_kp_array); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1865; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1865; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_INCREF(__pyx_v_fill_value);
        PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_fill_value);
        Py_INCREF(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->dtype);
        PyTuple_SET_ITEM(__pyx_1, 1, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->dtype);
        __pyx_2 = PyObject_Call(__pyx_6, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1865; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
        Py_DECREF(__pyx_v_fillval);
        __pyx_v_fillval = __pyx_2;
        __pyx_2 = 0;

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1866
 *                     # cast fill_value to type of variable.
 *                     fillval = numpy.array(fill_value, self.dtype)
 *                     _set_att(self._grp, self._varid, '_FillValue', fillval)             # <<<<<<<<<<<<<<
 *             if least_significant_digit is not None:
 *                 self.least_significant_digit = least_significant_digit
 */
        __pyx_3 = __pyx_f_7netCDF4__set_att(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, __pyx_kp_148, __pyx_v_fillval); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1866; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
      }
      __pyx_L40:;
      goto __pyx_L39;
    }
    __pyx_L39:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1867
 *                     fillval = numpy.array(fill_value, self.dtype)
 *                     _set_att(self._grp, self._varid, '_FillValue', fillval)
 *             if least_significant_digit is not None:             # <<<<<<<<<<<<<<
 *                 self.least_significant_digit = least_significant_digit
 *             # leave define mode if not a NETCDF4 format file.
 */
    __pyx_4 = (__pyx_v_least_significant_digit != Py_None);
    if (__pyx_4) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1868
 *                     _set_att(self._grp, self._varid, '_FillValue', fillval)
 *             if least_significant_digit is not None:
 *                 self.least_significant_digit = least_significant_digit             # <<<<<<<<<<<<<<
 *             # leave define mode if not a NETCDF4 format file.
 *             if grp.file_format != 'NETCDF4': grp._enddef()
 */
      if (PyObject_SetAttr(__pyx_v_self, __pyx_kp_105, __pyx_v_least_significant_digit) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1868; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L43;
    }
    __pyx_L43:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1870
 *                 self.least_significant_digit = least_significant_digit
 *             # leave define mode if not a NETCDF4 format file.
 *             if grp.file_format != 'NETCDF4': grp._enddef()             # <<<<<<<<<<<<<<
 *         # count how many unlimited dimensions there are.
 *         self._nunlimdim = 0
 */
    __pyx_6 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp_file_format); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1870; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = PyObject_RichCompare(__pyx_6, __pyx_kp_149, Py_NE); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1870; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_10 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_10 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1870; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_10) {
      __pyx_2 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__enddef); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1870; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1870; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      goto __pyx_L44;
    }
    __pyx_L44:;
  }
  __pyx_L8:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1872
 *             if grp.file_format != 'NETCDF4': grp._enddef()
 *         # count how many unlimited dimensions there are.
 *         self._nunlimdim = 0             # <<<<<<<<<<<<<<
 *         for dimname in self.dimensions:
 *             # look in current group, and parents for dim.
 */
  ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_nunlimdim = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1873
 *         # count how many unlimited dimensions there are.
 *         self._nunlimdim = 0
 *         for dimname in self.dimensions:             # <<<<<<<<<<<<<<
 *             # look in current group, and parents for dim.
 *             dim = _find_dim(self._grp, dimname)
 */
  __pyx_6 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_dimensions); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1873; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyList_CheckExact(__pyx_6) || PyTuple_CheckExact(__pyx_6)) {
    __pyx_11 = 0; __pyx_1 = __pyx_6; Py_INCREF(__pyx_1);
  } else {
    __pyx_11 = -1; __pyx_1 = PyObject_GetIter(__pyx_6); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1873; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_1))) {
      if (__pyx_11 >= PyList_GET_SIZE(__pyx_1)) break;
      __pyx_2 = PyList_GET_ITEM(__pyx_1, __pyx_11); Py_INCREF(__pyx_2); __pyx_11++;
    } else if (likely(PyTuple_CheckExact(__pyx_1))) {
      if (__pyx_11 >= PyTuple_GET_SIZE(__pyx_1)) break;
      __pyx_2 = PyTuple_GET_ITEM(__pyx_1, __pyx_11); Py_INCREF(__pyx_2); __pyx_11++;
    } else {
      __pyx_2 = PyIter_Next(__pyx_1);
      if (!__pyx_2) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1873; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    Py_DECREF(__pyx_v_dimname);
    __pyx_v_dimname = __pyx_2;
    __pyx_2 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1875
 *         for dimname in self.dimensions:
 *             # look in current group, and parents for dim.
 *             dim = _find_dim(self._grp, dimname)             # <<<<<<<<<<<<<<
 *             if dim.isunlimited(): self._nunlimdim = self._nunlimdim + 1
 *         # set ndim attribute (number of dimensions).
 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_kp__find_dim); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1875; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_6 = PyTuple_New(2); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1875; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp);
    PyTuple_SET_ITEM(__pyx_6, 0, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp);
    Py_INCREF(__pyx_v_dimname);
    PyTuple_SET_ITEM(__pyx_6, 1, __pyx_v_dimname);
    __pyx_2 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_6), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1875; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(((PyObject *)__pyx_6)); __pyx_6 = 0;
    Py_DECREF(__pyx_v_dim);
    __pyx_v_dim = __pyx_2;
    __pyx_2 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1876
 *             # look in current group, and parents for dim.
 *             dim = _find_dim(self._grp, dimname)
 *             if dim.isunlimited(): self._nunlimdim = self._nunlimdim + 1             # <<<<<<<<<<<<<<
 *         # set ndim attribute (number of dimensions).
 *         ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)
 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_dim, __pyx_kp_isunlimited); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1876; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_6 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1876; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_6); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1876; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    if (__pyx_4) {
      ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_nunlimdim = (((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_nunlimdim + 1);
      goto __pyx_L47;
    }
    __pyx_L47:;
  }
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1878
 *             if dim.isunlimited(): self._nunlimdim = self._nunlimdim + 1
 *         # set ndim attribute (number of dimensions).
 *         ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_varndims(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, (&__pyx_v_numdims));

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1879
 *         # set ndim attribute (number of dimensions).
 *         ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         self.ndim = numdims
 */
  __pyx_10 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_10) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1880
 *         ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         self.ndim = numdims
 *         # default for automatically applying scale_factor and
 */
    __pyx_2 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1880; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1880; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_6 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1880; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    __Pyx_Raise(__pyx_6, 0, 0);
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1880; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L48;
  }
  __pyx_L48:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1881
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         self.ndim = numdims             # <<<<<<<<<<<<<<
 *         # default for automatically applying scale_factor and
 *         # add_offset, and converting to/from masked arrays is False.
 */
  __pyx_1 = PyInt_FromLong(__pyx_v_numdims); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1881; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->ndim);
  ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->ndim = __pyx_1;
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1884
 *         # default for automatically applying scale_factor and
 *         # add_offset, and converting to/from masked arrays is False.
 *         self.maskandscale = False             # <<<<<<<<<<<<<<
 * 
 *     property shape:
 */
  __pyx_2 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1884; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->maskandscale);
  ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->maskandscale = __pyx_2;
  __pyx_2 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("netCDF4.Variable.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_kwargs);
  Py_DECREF(__pyx_v_n);
  Py_DECREF(__pyx_v_dimname);
  Py_DECREF(__pyx_v_dim);
  Py_DECREF(__pyx_v_fillval);
  Py_DECREF(__pyx_v_datatype);
  Py_DECREF(__pyx_v_dimensions);
  Py_XDECREF(__pyx_kwds);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1888
 *     property shape:
 *         """find current sizes of all variable dimensions"""
 *         def __get__(self):             # <<<<<<<<<<<<<<
 *             shape = ()
 *             for dimname in self.dimensions:
 */

static PyObject *__pyx_pf_7netCDF4_8Variable_5shape___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF4_8Variable_5shape___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_v_shape;
  PyObject *__pyx_v_dimname;
  PyObject *__pyx_v_dim;
  PyObject *__pyx_r;
  Py_ssize_t __pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  Py_ssize_t __pyx_6 = 0;
  __pyx_v_shape = Py_None; Py_INCREF(Py_None);
  __pyx_v_dimname = Py_None; Py_INCREF(Py_None);
  __pyx_v_dim = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1889
 *         """find current sizes of all variable dimensions"""
 *         def __get__(self):
 *             shape = ()             # <<<<<<<<<<<<<<
 *             for dimname in self.dimensions:
 *                 # look in current group, and parents for dim.
 */
  Py_INCREF(((PyObject *)__pyx_empty_tuple));
  Py_DECREF(__pyx_v_shape);
  __pyx_v_shape = ((PyObject *)__pyx_empty_tuple);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1890
 *         def __get__(self):
 *             shape = ()
 *             for dimname in self.dimensions:             # <<<<<<<<<<<<<<
 *                 # look in current group, and parents for dim.
 *                 dim = _find_dim(self._grp,dimname)
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_dimensions); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1890; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyList_CheckExact(__pyx_2) || PyTuple_CheckExact(__pyx_2)) {
    __pyx_1 = 0; __pyx_3 = __pyx_2; Py_INCREF(__pyx_3);
  } else {
    __pyx_1 = -1; __pyx_3 = PyObject_GetIter(__pyx_2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1890; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_3))) {
      if (__pyx_1 >= PyList_GET_SIZE(__pyx_3)) break;
      __pyx_2 = PyList_GET_ITEM(__pyx_3, __pyx_1); Py_INCREF(__pyx_2); __pyx_1++;
    } else if (likely(PyTuple_CheckExact(__pyx_3))) {
      if (__pyx_1 >= PyTuple_GET_SIZE(__pyx_3)) break;
      __pyx_2 = PyTuple_GET_ITEM(__pyx_3, __pyx_1); Py_INCREF(__pyx_2); __pyx_1++;
    } else {
      __pyx_2 = PyIter_Next(__pyx_3);
      if (!__pyx_2) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1890; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    Py_DECREF(__pyx_v_dimname);
    __pyx_v_dimname = __pyx_2;
    __pyx_2 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1892
 *             for dimname in self.dimensions:
 *                 # look in current group, and parents for dim.
 *                 dim = _find_dim(self._grp,dimname)             # <<<<<<<<<<<<<<
 *                 shape = shape + (len(dim),)
 *             return shape
 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_kp__find_dim); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1892; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyTuple_New(2); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1892; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp);
    PyTuple_SET_ITEM(__pyx_4, 0, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp);
    Py_INCREF(__pyx_v_dimname);
    PyTuple_SET_ITEM(__pyx_4, 1, __pyx_v_dimname);
    __pyx_5 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1892; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
    Py_DECREF(__pyx_v_dim);
    __pyx_v_dim = __pyx_5;
    __pyx_5 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1893
 *                 # look in current group, and parents for dim.
 *                 dim = _find_dim(self._grp,dimname)
 *                 shape = shape + (len(dim),)             # <<<<<<<<<<<<<<
 *             return shape
 *         def __set__(self,value):
 */
    __pyx_6 = PyObject_Length(__pyx_v_dim); if (unlikely(__pyx_6 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1893; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = PyInt_FromSsize_t(__pyx_6); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1893; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1893; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_5 = PyNumber_Add(__pyx_v_shape, ((PyObject *)__pyx_4)); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1893; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
    Py_DECREF(__pyx_v_shape);
    __pyx_v_shape = __pyx_5;
    __pyx_5 = 0;
  }
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1894
 *                 dim = _find_dim(self._grp,dimname)
 *                 shape = shape + (len(dim),)
 *             return shape             # <<<<<<<<<<<<<<
 *         def __set__(self,value):
 *             raise AttributeError("shape cannot be altered")
 */
  Py_INCREF(__pyx_v_shape);
  __pyx_r = __pyx_v_shape;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("netCDF4.Variable.shape.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_shape);
  Py_DECREF(__pyx_v_dimname);
  Py_DECREF(__pyx_v_dim);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1895
 *                 shape = shape + (len(dim),)
 *             return shape
 *         def __set__(self,value):             # <<<<<<<<<<<<<<
 *             raise AttributeError("shape cannot be altered")
 * 
 */

static int __pyx_pf_7netCDF4_8Variable_5shape___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF4_8Variable_5shape___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1896
 *             return shape
 *         def __set__(self,value):
 *             raise AttributeError("shape cannot be altered")             # <<<<<<<<<<<<<<
 * 
 *     property dimensions:
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1896; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_kp_150);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_kp_150);
  __pyx_2 = PyObject_Call(__pyx_builtin_AttributeError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1896; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __Pyx_Raise(__pyx_2, 0, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1896; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("netCDF4.Variable.shape.__set__");
  __pyx_r = -1;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1900
 *     property dimensions:
 *         """get variables's dimension names"""
 *         def __get__(self):             # <<<<<<<<<<<<<<
 *             # Private method to get variables's dimension names
 *             cdef int ierr, numdims, n, nn
 */

static PyObject *__pyx_pf_7netCDF4_8Variable_10dimensions___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF4_8Variable_10dimensions___get__(PyObject *__pyx_v_self) {
  int __pyx_v_ierr;
  int __pyx_v_numdims;
  int __pyx_v_nn;
  char __pyx_v_namstring[(NC_MAX_NAME + 1)];
  int __pyx_v_dimids[NC_MAX_DIMS];
  PyObject *__pyx_v_dimensions;
  PyObject *__pyx_v_name;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  __pyx_v_dimensions = Py_None; Py_INCREF(Py_None);
  __pyx_v_name = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1906
 *             cdef int dimids[NC_MAX_DIMS]
 *             # get number of dimensions for this variable.
 *             ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)             # <<<<<<<<<<<<<<
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_varndims(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, (&__pyx_v_numdims));

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1907
 *             # get number of dimensions for this variable.
 *             ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                 raise RuntimeError(nc_strerror(ierr))
 *             # get dimension ids.
 */
  __pyx_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_1) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1908
 *             ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *             # get dimension ids.
 *             ierr = nc_inq_vardimid(self._grpid, self._varid, dimids)
 */
    __pyx_2 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1908; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1908; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1908; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1908; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1910
 *                 raise RuntimeError(nc_strerror(ierr))
 *             # get dimension ids.
 *             ierr = nc_inq_vardimid(self._grpid, self._varid, dimids)             # <<<<<<<<<<<<<<
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_vardimid(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, __pyx_v_dimids);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1911
 *             # get dimension ids.
 *             ierr = nc_inq_vardimid(self._grpid, self._varid, dimids)
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                 raise RuntimeError(nc_strerror(ierr))
 *             # loop over dimensions, retrieve names.
 */
  __pyx_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_1) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1912
 *             ierr = nc_inq_vardimid(self._grpid, self._varid, dimids)
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *             # loop over dimensions, retrieve names.
 *             dimensions = ()
 */
    __pyx_3 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1912; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1912; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1912; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1912; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1914
 *                 raise RuntimeError(nc_strerror(ierr))
 *             # loop over dimensions, retrieve names.
 *             dimensions = ()             # <<<<<<<<<<<<<<
 *             for nn from 0 <= nn < numdims:
 *                 ierr = nc_inq_dimname(self._grpid, dimids[nn], namstring)
 */
  Py_INCREF(((PyObject *)__pyx_empty_tuple));
  Py_DECREF(__pyx_v_dimensions);
  __pyx_v_dimensions = ((PyObject *)__pyx_empty_tuple);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1915
 *             # loop over dimensions, retrieve names.
 *             dimensions = ()
 *             for nn from 0 <= nn < numdims:             # <<<<<<<<<<<<<<
 *                 ierr = nc_inq_dimname(self._grpid, dimids[nn], namstring)
 *                 if ierr != NC_NOERR:
 */
  for (__pyx_v_nn = 0; __pyx_v_nn < __pyx_v_numdims; __pyx_v_nn++) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1916
 *             dimensions = ()
 *             for nn from 0 <= nn < numdims:
 *                 ierr = nc_inq_dimname(self._grpid, dimids[nn], namstring)             # <<<<<<<<<<<<<<
 *                 if ierr != NC_NOERR:
 *                     raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_inq_dimname(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, (__pyx_v_dimids[__pyx_v_nn]), __pyx_v_namstring);

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1917
 *             for nn from 0 <= nn < numdims:
 *                 ierr = nc_inq_dimname(self._grpid, dimids[nn], namstring)
 *                 if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                     raise RuntimeError(nc_strerror(ierr))
 *                 name = namstring
 */
    __pyx_1 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_1) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1918
 *                 ierr = nc_inq_dimname(self._grpid, dimids[nn], namstring)
 *                 if ierr != NC_NOERR:
 *                     raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *                 name = namstring
 *                 dimensions = dimensions + (name,)
 */
      __pyx_2 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1918; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1918; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
      __pyx_2 = 0;
      __pyx_2 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1918; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
      __Pyx_Raise(__pyx_2, 0, 0);
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1918; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L9;
    }
    __pyx_L9:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1919
 *                 if ierr != NC_NOERR:
 *                     raise RuntimeError(nc_strerror(ierr))
 *                 name = namstring             # <<<<<<<<<<<<<<
 *                 dimensions = dimensions + (name,)
 *             return dimensions
 */
    __pyx_3 = __Pyx_PyBytes_FromString(__pyx_v_namstring); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1919; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_name);
    __pyx_v_name = __pyx_3;
    __pyx_3 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1920
 *                     raise RuntimeError(nc_strerror(ierr))
 *                 name = namstring
 *                 dimensions = dimensions + (name,)             # <<<<<<<<<<<<<<
 *             return dimensions
 *         def __set__(self,value):
 */
    __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1920; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_name);
    __pyx_3 = PyNumber_Add(__pyx_v_dimensions, ((PyObject *)__pyx_2)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1920; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
    Py_DECREF(__pyx_v_dimensions);
    __pyx_v_dimensions = __pyx_3;
    __pyx_3 = 0;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1921
 *                 name = namstring
 *                 dimensions = dimensions + (name,)
 *             return dimensions             # <<<<<<<<<<<<<<
 *         def __set__(self,value):
 *             raise AttributeError("dimensions cannot be altered")
 */
  Py_INCREF(__pyx_v_dimensions);
  __pyx_r = __pyx_v_dimensions;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.Variable.dimensions.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_dimensions);
  Py_DECREF(__pyx_v_name);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1922
 *                 dimensions = dimensions + (name,)
 *             return dimensions
 *         def __set__(self,value):             # <<<<<<<<<<<<<<
 *             raise AttributeError("dimensions cannot be altered")
 * 
 */

static int __pyx_pf_7netCDF4_8Variable_10dimensions___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF4_8Variable_10dimensions___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1923
 *             return dimensions
 *         def __set__(self,value):
 *             raise AttributeError("dimensions cannot be altered")             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1923; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_kp_151);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_kp_151);
  __pyx_2 = PyObject_Call(__pyx_builtin_AttributeError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1923; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __Pyx_Raise(__pyx_2, 0, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1923; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("netCDF4.Variable.dimensions.__set__");
  __pyx_r = -1;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1926
 * 
 * 
 *     def group(self):             # <<<<<<<<<<<<<<
 *         """
 * group(self)
 */

static PyObject *__pyx_pf_7netCDF4_8Variable_group(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF4_8Variable_group[] = "\ngroup(self)\n\nreturn the group that this L{Variable} is a member of.";
static PyObject *__pyx_pf_7netCDF4_8Variable_group(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1931
 * 
 * return the group that this L{Variable} is a member of."""
 *         return self._grp             # <<<<<<<<<<<<<<
 * 
 *     def ncattrs(self):
 */
  Py_INCREF(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp);
  __pyx_r = ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1933
 *         return self._grp
 * 
 *     def ncattrs(self):             # <<<<<<<<<<<<<<
 *         """
 * ncattrs(self)
 */

static PyObject *__pyx_pf_7netCDF4_8Variable_ncattrs(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF4_8Variable_ncattrs[] = "\nncattrs(self)\n\nreturn netCDF attribute names for this L{Variable} in a list.";
static PyObject *__pyx_pf_7netCDF4_8Variable_ncattrs(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1938
 * 
 * return netCDF attribute names for this L{Variable} in a list."""
 *         return _get_att_names(self._grpid, self._varid)             # <<<<<<<<<<<<<<
 * 
 *     def filters(self):
 */
  __pyx_1 = __pyx_f_7netCDF4__get_att_names(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1938; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("netCDF4.Variable.ncattrs");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1940
 *         return _get_att_names(self._grpid, self._varid)
 * 
 *     def filters(self):             # <<<<<<<<<<<<<<
 *         """
 * filters(self)
 */

static PyObject *__pyx_pf_7netCDF4_8Variable_filters(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF4_8Variable_filters[] = "\nfilters(self)\n\nreturn dictionary containing HDF5 filter parameters.";
static PyObject *__pyx_pf_7netCDF4_8Variable_filters(PyObject *__pyx_v_self, PyObject *unused) {
  int __pyx_v_ierr;
  int __pyx_v_ideflate;
  int __pyx_v_ishuffle;
  int __pyx_v_ideflate_level;
  int __pyx_v_ifletcher32;
  PyObject *__pyx_v_filtdict;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  int __pyx_3;
  int __pyx_4;
  int __pyx_5;
  __pyx_v_filtdict = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1946
 * return dictionary containing HDF5 filter parameters."""
 *         cdef int ierr,ideflate,ishuffle,ideflate_level,ifletcher32
 *         filtdict = {'zlib':False,'shuffle':False,'complevel':0,'fletcher32':False}             # <<<<<<<<<<<<<<
 *         if self._grp.file_format not in ['NETCDF4_CLASSIC','NETCDF4']: return
 *         ierr = nc_inq_var_deflate(self._grpid, self._varid, &ishuffle, &ideflate, &ideflate_level)
 */
  __pyx_1 = PyDict_New(); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1946; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1946; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_1, __pyx_kp_152, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1946; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1946; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_1, __pyx_kp_153, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1946; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (PyDict_SetItem(__pyx_1, __pyx_kp_154, __pyx_int_0) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1946; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1946; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_1, __pyx_kp_155, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1946; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_filtdict);
  __pyx_v_filtdict = ((PyObject *)__pyx_1);
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1947
 *         cdef int ierr,ideflate,ishuffle,ideflate_level,ifletcher32
 *         filtdict = {'zlib':False,'shuffle':False,'complevel':0,'fletcher32':False}
 *         if self._grp.file_format not in ['NETCDF4_CLASSIC','NETCDF4']: return             # <<<<<<<<<<<<<<
 *         ierr = nc_inq_var_deflate(self._grpid, self._varid, &ishuffle, &ideflate, &ideflate_level)
 *         if ierr != NC_NOERR:
 */
  __pyx_2 = PyObject_GetAttr(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp, __pyx_kp_file_format); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1947; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = __pyx_2;
  Py_INCREF(__pyx_1);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyObject_RichCompare(__pyx_1, __pyx_kp_156, Py_NE); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1947; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely((__pyx_4 == (int)-1))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1947; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_3 = ((int)__pyx_4);
  if (__pyx_3) {
    __pyx_2 = PyObject_RichCompare(__pyx_1, __pyx_kp_157, Py_NE); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1947; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely((__pyx_4 == (int)-1))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1947; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_3 = ((int)__pyx_4);
  }
  if (__pyx_3) {
    __pyx_r = Py_None; Py_INCREF(Py_None);
    goto __pyx_L0;
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1948
 *         filtdict = {'zlib':False,'shuffle':False,'complevel':0,'fletcher32':False}
 *         if self._grp.file_format not in ['NETCDF4_CLASSIC','NETCDF4']: return
 *         ierr = nc_inq_var_deflate(self._grpid, self._varid, &ishuffle, &ideflate, &ideflate_level)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_var_deflate(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, (&__pyx_v_ishuffle), (&__pyx_v_ideflate), (&__pyx_v_ideflate_level));

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1949
 *         if self._grp.file_format not in ['NETCDF4_CLASSIC','NETCDF4']: return
 *         ierr = nc_inq_var_deflate(self._grpid, self._varid, &ishuffle, &ideflate, &ideflate_level)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         ierr = nc_inq_var_fletcher32(self._grpid, self._varid, &ifletcher32)
 */
  __pyx_4 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1950
 *         ierr = nc_inq_var_deflate(self._grpid, self._varid, &ishuffle, &ideflate, &ideflate_level)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         ierr = nc_inq_var_fletcher32(self._grpid, self._varid, &ifletcher32)
 *         if ierr != NC_NOERR:
 */
    __pyx_1 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1950; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1950; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1950; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1950; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1951
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         ierr = nc_inq_var_fletcher32(self._grpid, self._varid, &ifletcher32)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_var_fletcher32(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, (&__pyx_v_ifletcher32));

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1952
 *             raise RuntimeError(nc_strerror(ierr))
 *         ierr = nc_inq_var_fletcher32(self._grpid, self._varid, &ifletcher32)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         if ideflate:
 */
  __pyx_3 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_3) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1953
 *         ierr = nc_inq_var_fletcher32(self._grpid, self._varid, &ifletcher32)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         if ideflate:
 *             filtdict['zlib']=True
 */
    __pyx_2 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1953; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1953; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1953; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1953; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L7;
  }
  __pyx_L7:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1954
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         if ideflate:             # <<<<<<<<<<<<<<
 *             filtdict['zlib']=True
 *             filtdict['complevel']=ideflate_level
 */
  __pyx_5 = __pyx_v_ideflate;
  if (__pyx_5) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1955
 *             raise RuntimeError(nc_strerror(ierr))
 *         if ideflate:
 *             filtdict['zlib']=True             # <<<<<<<<<<<<<<
 *             filtdict['complevel']=ideflate_level
 *         if ishuffle:
 */
    __pyx_1 = __Pyx_PyBool_FromLong(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1955; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (PyObject_SetItem(__pyx_v_filtdict, __pyx_kp_158, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1955; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1956
 *         if ideflate:
 *             filtdict['zlib']=True
 *             filtdict['complevel']=ideflate_level             # <<<<<<<<<<<<<<
 *         if ishuffle:
 *             filtdict['shuffle']=True
 */
    __pyx_2 = PyInt_FromLong(__pyx_v_ideflate_level); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1956; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (PyObject_SetItem(__pyx_v_filtdict, __pyx_kp_159, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1956; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    goto __pyx_L8;
  }
  __pyx_L8:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1957
 *             filtdict['zlib']=True
 *             filtdict['complevel']=ideflate_level
 *         if ishuffle:             # <<<<<<<<<<<<<<
 *             filtdict['shuffle']=True
 *         if ifletcher32:
 */
  __pyx_5 = __pyx_v_ishuffle;
  if (__pyx_5) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1958
 *             filtdict['complevel']=ideflate_level
 *         if ishuffle:
 *             filtdict['shuffle']=True             # <<<<<<<<<<<<<<
 *         if ifletcher32:
 *             filtdict['fletcher32']=True
 */
    __pyx_1 = __Pyx_PyBool_FromLong(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1958; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (PyObject_SetItem(__pyx_v_filtdict, __pyx_kp_160, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1958; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    goto __pyx_L9;
  }
  __pyx_L9:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1959
 *         if ishuffle:
 *             filtdict['shuffle']=True
 *         if ifletcher32:             # <<<<<<<<<<<<<<
 *             filtdict['fletcher32']=True
 *         return filtdict
 */
  __pyx_5 = __pyx_v_ifletcher32;
  if (__pyx_5) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1960
 *             filtdict['shuffle']=True
 *         if ifletcher32:
 *             filtdict['fletcher32']=True             # <<<<<<<<<<<<<<
 *         return filtdict
 * 
 */
    __pyx_2 = __Pyx_PyBool_FromLong(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1960; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (PyObject_SetItem(__pyx_v_filtdict, __pyx_kp_161, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1960; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    goto __pyx_L10;
  }
  __pyx_L10:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1961
 *         if ifletcher32:
 *             filtdict['fletcher32']=True
 *         return filtdict             # <<<<<<<<<<<<<<
 * 
 *     def endian(self):
 */
  Py_INCREF(__pyx_v_filtdict);
  __pyx_r = __pyx_v_filtdict;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("netCDF4.Variable.filters");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_filtdict);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1963
 *         return filtdict
 * 
 *     def endian(self):             # <<<<<<<<<<<<<<
 *         """
 * endian(self)
 */

static PyObject *__pyx_pf_7netCDF4_8Variable_endian(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF4_8Variable_endian[] = "\nendian(self)\n\nreturn endian-ness (little,big,native) of variable (as stored in HDF5 file).";
static PyObject *__pyx_pf_7netCDF4_8Variable_endian(PyObject *__pyx_v_self, PyObject *unused) {
  int __pyx_v_ierr;
  int __pyx_v_iendian;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1969
 * return endian-ness (little,big,native) of variable (as stored in HDF5 file)."""
 *         cdef int ierr, iendian
 *         if self._grp.file_format not in ['NETCDF4_CLASSIC','NETCDF4']: return None             # <<<<<<<<<<<<<<
 *         ierr = nc_inq_var_endian(self._grpid, self._varid, &iendian)
 *         if ierr != NC_NOERR:
 */
  __pyx_2 = PyObject_GetAttr(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp, __pyx_kp_file_format); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1969; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = __pyx_2;
  Py_INCREF(__pyx_3);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyObject_RichCompare(__pyx_3, __pyx_kp_162, Py_NE); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1969; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely((__pyx_4 == (int)-1))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1969; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = ((int)__pyx_4);
  if (__pyx_1) {
    __pyx_2 = PyObject_RichCompare(__pyx_3, __pyx_kp_163, Py_NE); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1969; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely((__pyx_4 == (int)-1))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1969; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_1 = ((int)__pyx_4);
  }
  if (__pyx_1) {
    Py_INCREF(Py_None);
    __pyx_r = Py_None;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1970
 *         cdef int ierr, iendian
 *         if self._grp.file_format not in ['NETCDF4_CLASSIC','NETCDF4']: return None
 *         ierr = nc_inq_var_endian(self._grpid, self._varid, &iendian)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_var_endian(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, (&__pyx_v_iendian));

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1971
 *         if self._grp.file_format not in ['NETCDF4_CLASSIC','NETCDF4']: return None
 *         ierr = nc_inq_var_endian(self._grpid, self._varid, &iendian)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         if iendian == NC_ENDIAN_LITTLE:
 */
  __pyx_4 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1972
 *         ierr = nc_inq_var_endian(self._grpid, self._varid, &iendian)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         if iendian == NC_ENDIAN_LITTLE:
 *             return 'little'
 */
    __pyx_3 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1972; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1972; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1972; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1972; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1973
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         if iendian == NC_ENDIAN_LITTLE:             # <<<<<<<<<<<<<<
 *             return 'little'
 *         elif iendian == NC_ENDIAN_BIG:
 */
  __pyx_1 = (__pyx_v_iendian == NC_ENDIAN_LITTLE);
  if (__pyx_1) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1974
 *             raise RuntimeError(nc_strerror(ierr))
 *         if iendian == NC_ENDIAN_LITTLE:
 *             return 'little'             # <<<<<<<<<<<<<<
 *         elif iendian == NC_ENDIAN_BIG:
 *             return 'big'
 */
    Py_INCREF(__pyx_kp_164);
    __pyx_r = __pyx_kp_164;
    goto __pyx_L0;
    goto __pyx_L7;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1975
 *         if iendian == NC_ENDIAN_LITTLE:
 *             return 'little'
 *         elif iendian == NC_ENDIAN_BIG:             # <<<<<<<<<<<<<<
 *             return 'big'
 *         else:
 */
  __pyx_4 = (__pyx_v_iendian == NC_ENDIAN_BIG);
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1976
 *             return 'little'
 *         elif iendian == NC_ENDIAN_BIG:
 *             return 'big'             # <<<<<<<<<<<<<<
 *         else:
 *             return 'native'
 */
    Py_INCREF(__pyx_kp_165);
    __pyx_r = __pyx_kp_165;
    goto __pyx_L0;
    goto __pyx_L7;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1978
 *             return 'big'
 *         else:
 *             return 'native'             # <<<<<<<<<<<<<<
 * 
 *     def chunking(self):
 */
    Py_INCREF(__pyx_kp_166);
    __pyx_r = __pyx_kp_166;
    goto __pyx_L0;
  }
  __pyx_L7:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.Variable.endian");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1980
 *             return 'native'
 * 
 *     def chunking(self):             # <<<<<<<<<<<<<<
 *         """
 * chunking(self)
 */

static PyObject *__pyx_pf_7netCDF4_8Variable_chunking(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF4_8Variable_chunking[] = "\nchunking(self)\n\nreturn variable chunking information.  If the dataset is \ndefined to be contiguous (and hence there is no chunking) the word 'contiguous'\nis returned.  Otherwise, a sequence with the chunksize for\neach dimension is returned.";
static PyObject *__pyx_pf_7netCDF4_8Variable_chunking(PyObject *__pyx_v_self, PyObject *unused) {
  int __pyx_v_ierr;
  int __pyx_v_icontiguous;
  int __pyx_v_ndims;
  int *__pyx_v_chunksizesp;
  PyObject *__pyx_v_chunksizes;
  PyObject *__pyx_v_n;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  int __pyx_5;
  long __pyx_6;
  Py_ssize_t __pyx_7 = 0;
  __pyx_v_chunksizes = Py_None; Py_INCREF(Py_None);
  __pyx_v_n = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1990
 *         cdef int ierr, icontiguous, ndims
 *         cdef int *chunksizesp
 *         if self._grp.file_format not in ['NETCDF4_CLASSIC','NETCDF4']: return None             # <<<<<<<<<<<<<<
 *         chunksizesp = <int *>malloc(sizeof(int) * ndims)
 *         ierr = nc_inq_var_chunking(self._grpid, self._varid, &icontiguous, chunksizesp)
 */
  __pyx_2 = PyObject_GetAttr(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp, __pyx_kp_file_format); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1990; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = __pyx_2;
  Py_INCREF(__pyx_3);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyObject_RichCompare(__pyx_3, __pyx_kp_167, Py_NE); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1990; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely((__pyx_4 == (int)-1))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1990; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = ((int)__pyx_4);
  if (__pyx_1) {
    __pyx_2 = PyObject_RichCompare(__pyx_3, __pyx_kp_168, Py_NE); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1990; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely((__pyx_4 == (int)-1))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1990; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_1 = ((int)__pyx_4);
  }
  if (__pyx_1) {
    Py_INCREF(Py_None);
    __pyx_r = Py_None;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1991
 *         cdef int *chunksizesp
 *         if self._grp.file_format not in ['NETCDF4_CLASSIC','NETCDF4']: return None
 *         chunksizesp = <int *>malloc(sizeof(int) * ndims)             # <<<<<<<<<<<<<<
 *         ierr = nc_inq_var_chunking(self._grpid, self._varid, &icontiguous, chunksizesp)
 *         if ierr != NC_NOERR:
 */
  __pyx_v_chunksizesp = ((int *)malloc(((sizeof(int)) * __pyx_v_ndims)));

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1992
 *         if self._grp.file_format not in ['NETCDF4_CLASSIC','NETCDF4']: return None
 *         chunksizesp = <int *>malloc(sizeof(int) * ndims)
 *         ierr = nc_inq_var_chunking(self._grpid, self._varid, &icontiguous, chunksizesp)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_var_chunking(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, (&__pyx_v_icontiguous), __pyx_v_chunksizesp);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1993
 *         chunksizesp = <int *>malloc(sizeof(int) * ndims)
 *         ierr = nc_inq_var_chunking(self._grpid, self._varid, &icontiguous, chunksizesp)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         ndims = self.ndim
 */
  __pyx_4 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1994
 *         ierr = nc_inq_var_chunking(self._grpid, self._varid, &icontiguous, chunksizesp)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         ndims = self.ndim
 *         chunksizes=[]
 */
    __pyx_3 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1994; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1994; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1994; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1994; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1995
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         ndims = self.ndim             # <<<<<<<<<<<<<<
 *         chunksizes=[]
 *         for n from 0 <= n < ndims:
 */
  __pyx_5 = __pyx_PyInt_int(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->ndim); if (unlikely((__pyx_5 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1995; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_v_ndims = __pyx_5;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1996
 *             raise RuntimeError(nc_strerror(ierr))
 *         ndims = self.ndim
 *         chunksizes=[]             # <<<<<<<<<<<<<<
 *         for n from 0 <= n < ndims:
 *             chunksizes.append(chunksizesp[n])
 */
  __pyx_2 = PyList_New(0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1996; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_chunksizes);
  __pyx_v_chunksizes = ((PyObject *)__pyx_2);
  __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1997
 *         ndims = self.ndim
 *         chunksizes=[]
 *         for n from 0 <= n < ndims:             # <<<<<<<<<<<<<<
 *             chunksizes.append(chunksizesp[n])
 *         free(chunksizesp)
 */
  for (__pyx_6 = 0; __pyx_6 < __pyx_v_ndims; __pyx_6++) {
    __pyx_3 = PyInt_FromLong(__pyx_6); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1997; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_n);
    __pyx_v_n = __pyx_3;
    __pyx_3 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1998
 *         chunksizes=[]
 *         for n from 0 <= n < ndims:
 *             chunksizes.append(chunksizesp[n])             # <<<<<<<<<<<<<<
 *         free(chunksizesp)
 *         if icontiguous:
 */
    __pyx_7 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_7 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1998; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = PyInt_FromLong((__pyx_v_chunksizesp[__pyx_7])); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1998; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = __Pyx_PyObject_Append(__pyx_v_chunksizes, __pyx_2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1998; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1999
 *         for n from 0 <= n < ndims:
 *             chunksizes.append(chunksizesp[n])
 *         free(chunksizesp)             # <<<<<<<<<<<<<<
 *         if icontiguous:
 *             return 'contiguous'
 */
  free(__pyx_v_chunksizesp);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2000
 *             chunksizes.append(chunksizesp[n])
 *         free(chunksizesp)
 *         if icontiguous:             # <<<<<<<<<<<<<<
 *             return 'contiguous'
 *         else:
 */
  __pyx_5 = __pyx_v_icontiguous;
  if (__pyx_5) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2001
 *         free(chunksizesp)
 *         if icontiguous:
 *             return 'contiguous'             # <<<<<<<<<<<<<<
 *         else:
 *             return chunksizes
 */
    Py_INCREF(__pyx_kp_169);
    __pyx_r = __pyx_kp_169;
    goto __pyx_L0;
    goto __pyx_L9;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2003
 *             return 'contiguous'
 *         else:
 *             return chunksizes             # <<<<<<<<<<<<<<
 * 
 *     def __delattr__(self,name):
 */
    Py_INCREF(__pyx_v_chunksizes);
    __pyx_r = __pyx_v_chunksizes;
    goto __pyx_L0;
  }
  __pyx_L9:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.Variable.chunking");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_chunksizes);
  Py_DECREF(__pyx_v_n);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2005
 *             return chunksizes
 * 
 *     def __delattr__(self,name):             # <<<<<<<<<<<<<<
 *         cdef char *attname
 *         # if it's a netCDF attribute, remove it
 */

static int __pyx_pf_7netCDF4_8Variable___delattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
static int __pyx_pf_7netCDF4_8Variable___delattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
  char *__pyx_v_attname;
  PyObject *__pyx_v_ierr;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  __pyx_v_ierr = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2008
 *         cdef char *attname
 *         # if it's a netCDF attribute, remove it
 *         if name not in _private_atts:             # <<<<<<<<<<<<<<
 *             attname = PyString_AsString(name)
 *             if self._grp.file_format != 'NETCDF4': self._grp._redef()
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp__private_atts); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2008; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = (!PySequence_Contains(__pyx_1, __pyx_v_name)); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2008; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2009
 *         # if it's a netCDF attribute, remove it
 *         if name not in _private_atts:
 *             attname = PyString_AsString(name)             # <<<<<<<<<<<<<<
 *             if self._grp.file_format != 'NETCDF4': self._grp._redef()
 *             ierr = nc_del_att(self._grpid, self._varid, attname)
 */
    __pyx_v_attname = PyString_AsString(__pyx_v_name);

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2010
 *         if name not in _private_atts:
 *             attname = PyString_AsString(name)
 *             if self._grp.file_format != 'NETCDF4': self._grp._redef()             # <<<<<<<<<<<<<<
 *             ierr = nc_del_att(self._grpid, self._varid, attname)
 *             if self._grp.file_format != 'NETCDF4': self._grp._enddef()
 */
    __pyx_1 = PyObject_GetAttr(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp, __pyx_kp_file_format); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2010; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyObject_RichCompare(__pyx_1, __pyx_kp_170, Py_NE); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2010; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2010; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (__pyx_2) {
      __pyx_1 = PyObject_GetAttr(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp, __pyx_kp__redef); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2010; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2010; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      goto __pyx_L6;
    }
    __pyx_L6:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2011
 *             attname = PyString_AsString(name)
 *             if self._grp.file_format != 'NETCDF4': self._grp._redef()
 *             ierr = nc_del_att(self._grpid, self._varid, attname)             # <<<<<<<<<<<<<<
 *             if self._grp.file_format != 'NETCDF4': self._grp._enddef()
 *             if ierr != NC_NOERR:
 */
    __pyx_1 = PyInt_FromLong(nc_del_att(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, __pyx_v_attname)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2011; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_ierr);
    __pyx_v_ierr = __pyx_1;
    __pyx_1 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2012
 *             if self._grp.file_format != 'NETCDF4': self._grp._redef()
 *             ierr = nc_del_att(self._grpid, self._varid, attname)
 *             if self._grp.file_format != 'NETCDF4': self._grp._enddef()             # <<<<<<<<<<<<<<
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_3 = PyObject_GetAttr(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp, __pyx_kp_file_format); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2012; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = PyObject_RichCompare(__pyx_3, __pyx_kp_171, Py_NE); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2012; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2012; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_2) {
      __pyx_3 = PyObject_GetAttr(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp, __pyx_kp__enddef); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2012; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_1 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2012; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      goto __pyx_L7;
    }
    __pyx_L7:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2013
 *             ierr = nc_del_att(self._grpid, self._varid, attname)
 *             if self._grp.file_format != 'NETCDF4': self._grp._enddef()
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                 raise RuntimeError(nc_strerror(ierr))
 *         else:
 */
    __pyx_3 = PyInt_FromLong(NC_NOERR); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2013; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = PyObject_RichCompare(__pyx_v_ierr, __pyx_3, Py_NE); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2013; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2013; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_2) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2014
 *             if self._grp.file_format != 'NETCDF4': self._grp._enddef()
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         else:
 *             raise AttributeError("'%s' is one of the reserved attributes %s, cannot delete" % (name, tuple(_private_atts)))
 */
      __pyx_4 = __pyx_PyInt_int(__pyx_v_ierr); if (unlikely((__pyx_4 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2014; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_4)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2014; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2014; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_3);
      __pyx_3 = 0;
      __pyx_3 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2014; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
      __Pyx_Raise(__pyx_3, 0, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2014; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L8;
    }
    __pyx_L8:;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2016
 *                 raise RuntimeError(nc_strerror(ierr))
 *         else:
 *             raise AttributeError("'%s' is one of the reserved attributes %s, cannot delete" % (name, tuple(_private_atts)))             # <<<<<<<<<<<<<<
 * 
 *     def __setattr__(self,name,value):
 */
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp__private_atts); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2016; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2016; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_Call(((PyObject*)&PyTuple_Type), ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2016; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    __pyx_3 = PyTuple_New(2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2016; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_name);
    PyTuple_SET_ITEM(__pyx_3, 1, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyNumber_Remainder(__pyx_kp_172, ((PyObject *)__pyx_3)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2016; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2016; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_Call(__pyx_builtin_AttributeError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2016; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2016; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  __pyx_L5:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.Variable.__delattr__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_ierr);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2018
 *             raise AttributeError("'%s' is one of the reserved attributes %s, cannot delete" % (name, tuple(_private_atts)))
 * 
 *     def __setattr__(self,name,value):             # <<<<<<<<<<<<<<
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 */

static int __pyx_pf_7netCDF4_8Variable___setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF4_8Variable___setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_value) {
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  int __pyx_5;
  Py_INCREF(__pyx_v_value);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2021
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 *         if name not in _private_atts:             # <<<<<<<<<<<<<<
 *             # if setting _FillValue, make sure value
 *             # has same type as variable.
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp__private_atts); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2021; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = (!PySequence_Contains(__pyx_1, __pyx_v_name)); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2021; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2024
 *             # if setting _FillValue, make sure value
 *             # has same type as variable.
 *             if name == '_FillValue':             # <<<<<<<<<<<<<<
 *                 value = numpy.array(value, self.dtype)
 *             if self._grp.file_format != 'NETCDF4': self._grp._redef()
 */
    __pyx_1 = PyObject_RichCompare(__pyx_v_name, __pyx_kp_173, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2024; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2024; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_2) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2025
 *             # has same type as variable.
 *             if name == '_FillValue':
 *                 value = numpy.array(value, self.dtype)             # <<<<<<<<<<<<<<
 *             if self._grp.file_format != 'NETCDF4': self._grp._redef()
 *             _set_att(self._grp, self._varid, name, value)
 */
      __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2025; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyObject_GetAttr(__pyx_1, __pyx_kp_array); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2025; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2025; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_v_value);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_value);
      Py_INCREF(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->dtype);
      PyTuple_SET_ITEM(__pyx_1, 1, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->dtype);
      __pyx_4 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2025; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
      Py_DECREF(__pyx_v_value);
      __pyx_v_value = __pyx_4;
      __pyx_4 = 0;
      goto __pyx_L6;
    }
    __pyx_L6:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2026
 *             if name == '_FillValue':
 *                 value = numpy.array(value, self.dtype)
 *             if self._grp.file_format != 'NETCDF4': self._grp._redef()             # <<<<<<<<<<<<<<
 *             _set_att(self._grp, self._varid, name, value)
 *             if self._grp.file_format != 'NETCDF4': self._grp._enddef()
 */
    __pyx_3 = PyObject_GetAttr(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp, __pyx_kp_file_format); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2026; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = PyObject_RichCompare(__pyx_3, __pyx_kp_174, Py_NE); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2026; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2026; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_2) {
      __pyx_4 = PyObject_GetAttr(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp, __pyx_kp__redef); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2026; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyObject_Call(__pyx_4, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2026; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      goto __pyx_L7;
    }
    __pyx_L7:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2027
 *                 value = numpy.array(value, self.dtype)
 *             if self._grp.file_format != 'NETCDF4': self._grp._redef()
 *             _set_att(self._grp, self._varid, name, value)             # <<<<<<<<<<<<<<
 *             if self._grp.file_format != 'NETCDF4': self._grp._enddef()
 *         elif not name.endswith('__'):
 */
    __pyx_1 = __pyx_f_7netCDF4__set_att(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, __pyx_v_name, __pyx_v_value); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2027; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2028
 *             if self._grp.file_format != 'NETCDF4': self._grp._redef()
 *             _set_att(self._grp, self._varid, name, value)
 *             if self._grp.file_format != 'NETCDF4': self._grp._enddef()             # <<<<<<<<<<<<<<
 *         elif not name.endswith('__'):
 *             if hasattr(self,name):
 */
    __pyx_4 = PyObject_GetAttr(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp, __pyx_kp_file_format); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2028; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyObject_RichCompare(__pyx_4, __pyx_kp_175, Py_NE); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2028; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2028; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (__pyx_2) {
      __pyx_1 = PyObject_GetAttr(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp, __pyx_kp__enddef); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2028; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_4 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2028; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      goto __pyx_L8;
    }
    __pyx_L8:;
    goto __pyx_L5;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2029
 *             _set_att(self._grp, self._varid, name, value)
 *             if self._grp.file_format != 'NETCDF4': self._grp._enddef()
 *         elif not name.endswith('__'):             # <<<<<<<<<<<<<<
 *             if hasattr(self,name):
 *                 raise AttributeError("'%s' is one of the reserved attributes %s, cannot rebind" % (name, tuple(_private_atts)))
 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_name, __pyx_kp_endswith); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2029; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2029; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_kp_176);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_kp_176);
  __pyx_4 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2029; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_4); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2029; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_5 = (!__pyx_2);
  if (__pyx_5) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2030
 *             if self._grp.file_format != 'NETCDF4': self._grp._enddef()
 *         elif not name.endswith('__'):
 *             if hasattr(self,name):             # <<<<<<<<<<<<<<
 *                 raise AttributeError("'%s' is one of the reserved attributes %s, cannot rebind" % (name, tuple(_private_atts)))
 *             else:
 */
    __pyx_2 = PyObject_HasAttr(__pyx_v_self, __pyx_v_name); if (unlikely(__pyx_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2030; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_2) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2031
 *         elif not name.endswith('__'):
 *             if hasattr(self,name):
 *                 raise AttributeError("'%s' is one of the reserved attributes %s, cannot rebind" % (name, tuple(_private_atts)))             # <<<<<<<<<<<<<<
 *             else:
 *                 self.__dict__[name]=value
 */
      __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_kp__private_atts); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2031; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2031; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_3);
      __pyx_3 = 0;
      __pyx_4 = PyObject_Call(((PyObject*)&PyTuple_Type), ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2031; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
      __pyx_3 = PyTuple_New(2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2031; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_v_name);
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_name);
      PyTuple_SET_ITEM(__pyx_3, 1, __pyx_4);
      __pyx_4 = 0;
      __pyx_1 = PyNumber_Remainder(__pyx_kp_177, ((PyObject *)__pyx_3)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2031; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
      __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2031; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
      __pyx_1 = 0;
      __pyx_3 = PyObject_Call(__pyx_builtin_AttributeError, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2031; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
      __Pyx_Raise(__pyx_3, 0, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2031; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L9;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2033
 *                 raise AttributeError("'%s' is one of the reserved attributes %s, cannot rebind" % (name, tuple(_private_atts)))
 *             else:
 *                 self.__dict__[name]=value             # <<<<<<<<<<<<<<
 * 
 *     def __getattr__(self,name):
 */
      __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp___dict__); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2033; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (PyObject_SetItem(__pyx_1, __pyx_v_name, __pyx_v_value) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2033; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
    }
    __pyx_L9:;
    goto __pyx_L5;
  }
  __pyx_L5:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("netCDF4.Variable.__setattr__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_value);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2035
 *                 self.__dict__[name]=value
 * 
 *     def __getattr__(self,name):             # <<<<<<<<<<<<<<
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 */

static PyObject *__pyx_pf_7netCDF4_8Variable___getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
static PyObject *__pyx_pf_7netCDF4_8Variable___getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
  PyObject *__pyx_v_names;
  PyObject *__pyx_v_values;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  Py_ssize_t __pyx_5 = 0;
  Py_INCREF(__pyx_v_name);
  __pyx_v_names = Py_None; Py_INCREF(Py_None);
  __pyx_v_values = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2038
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 *         if name.startswith('__') and name.endswith('__'):             # <<<<<<<<<<<<<<
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__':
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_name, __pyx_kp_startswith); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2038; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2038; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_kp_178);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_kp_178);
  __pyx_1 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2038; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2038; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_4) {
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_2 = PyObject_GetAttr(__pyx_v_name, __pyx_kp_endswith); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2038; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2038; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_kp_179);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_kp_179);
    __pyx_1 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2038; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
  }
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2038; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2040
 *         if name.startswith('__') and name.endswith('__'):
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__':             # <<<<<<<<<<<<<<
 *                 names = self.ncattrs()
 *                 values = []
 */
    __pyx_2 = PyObject_RichCompare(__pyx_v_name, __pyx_kp_180, Py_EQ); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2040; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2040; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (__pyx_4) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2041
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__':
 *                 names = self.ncattrs()             # <<<<<<<<<<<<<<
 *                 values = []
 *                 for name in names:
 */
      __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_ncattrs); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2041; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_1 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2041; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_v_names);
      __pyx_v_names = __pyx_1;
      __pyx_1 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2042
 *             if name == '__dict__':
 *                 names = self.ncattrs()
 *                 values = []             # <<<<<<<<<<<<<<
 *                 for name in names:
 *                     values.append(_get_att(self._grp, self._varid, name))
 */
      __pyx_2 = PyList_New(0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2042; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_values);
      __pyx_v_values = ((PyObject *)__pyx_2);
      __pyx_2 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2043
 *                 names = self.ncattrs()
 *                 values = []
 *                 for name in names:             # <<<<<<<<<<<<<<
 *                     values.append(_get_att(self._grp, self._varid, name))
 *                 return dict(zip(names,values))
 */
      if (PyList_CheckExact(__pyx_v_names) || PyTuple_CheckExact(__pyx_v_names)) {
        __pyx_5 = 0; __pyx_3 = __pyx_v_names; Py_INCREF(__pyx_3);
      } else {
        __pyx_5 = -1; __pyx_3 = PyObject_GetIter(__pyx_v_names); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2043; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      }
      for (;;) {
        if (likely(PyList_CheckExact(__pyx_3))) {
          if (__pyx_5 >= PyList_GET_SIZE(__pyx_3)) break;
          __pyx_1 = PyList_GET_ITEM(__pyx_3, __pyx_5); Py_INCREF(__pyx_1); __pyx_5++;
        } else if (likely(PyTuple_CheckExact(__pyx_3))) {
          if (__pyx_5 >= PyTuple_GET_SIZE(__pyx_3)) break;
          __pyx_1 = PyTuple_GET_ITEM(__pyx_3, __pyx_5); Py_INCREF(__pyx_1); __pyx_5++;
        } else {
          __pyx_1 = PyIter_Next(__pyx_3);
          if (!__pyx_1) {
            if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2043; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            break;
          }
        }
        Py_DECREF(__pyx_v_name);
        __pyx_v_name = __pyx_1;
        __pyx_1 = 0;

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2044
 *                 values = []
 *                 for name in names:
 *                     values.append(_get_att(self._grp, self._varid, name))             # <<<<<<<<<<<<<<
 *                 return dict(zip(names,values))
 *             else:
 */
        __pyx_2 = __pyx_f_7netCDF4__get_att(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, __pyx_v_name); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2044; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_1 = __Pyx_PyObject_Append(__pyx_v_values, __pyx_2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2044; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        Py_DECREF(__pyx_1); __pyx_1 = 0;
      }
      Py_DECREF(__pyx_3); __pyx_3 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2045
 *                 for name in names:
 *                     values.append(_get_att(self._grp, self._varid, name))
 *                 return dict(zip(names,values))             # <<<<<<<<<<<<<<
 *             else:
 *                 raise AttributeError
 */
      __pyx_2 = PyTuple_New(2); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2045; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_v_names);
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_names);
      Py_INCREF(__pyx_v_values);
      PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_values);
      __pyx_1 = PyObject_Call(__pyx_builtin_zip, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2045; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
      __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2045; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
      __pyx_1 = 0;
      __pyx_2 = PyObject_Call(((PyObject*)&PyDict_Type), ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2045; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
      __pyx_r = __pyx_2;
      __pyx_2 = 0;
      goto __pyx_L0;
      goto __pyx_L6;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2047
 *                 return dict(zip(names,values))
 *             else:
 *                 raise AttributeError             # <<<<<<<<<<<<<<
 *         elif name in _private_atts:
 *             return self.__dict__[name]
 */
      __Pyx_Raise(__pyx_builtin_AttributeError, 0, 0);
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2047; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    }
    __pyx_L6:;
    goto __pyx_L5;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2048
 *             else:
 *                 raise AttributeError
 *         elif name in _private_atts:             # <<<<<<<<<<<<<<
 *             return self.__dict__[name]
 *         else:
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp__private_atts); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2048; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = (PySequence_Contains(__pyx_1, __pyx_v_name)); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2048; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2049
 *                 raise AttributeError
 *         elif name in _private_atts:
 *             return self.__dict__[name]             # <<<<<<<<<<<<<<
 *         else:
 *             return _get_att(self._grp, self._varid, name)
 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_kp___dict__); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2049; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = PyObject_GetItem(__pyx_3, __pyx_v_name); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2049; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2051
 *             return self.__dict__[name]
 *         else:
 *             return _get_att(self._grp, self._varid, name)             # <<<<<<<<<<<<<<
 * 
 *     def __getitem__(self, elem):
 */
    __pyx_1 = __pyx_f_7netCDF4__get_att(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, __pyx_v_name); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2051; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_r = __pyx_1;
    __pyx_1 = 0;
    goto __pyx_L0;
  }
  __pyx_L5:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.Variable.__getattr__");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_names);
  Py_DECREF(__pyx_v_values);
  Py_DECREF(__pyx_v_name);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2053
 *             return _get_att(self._grp, self._varid, name)
 * 
 *     def __getitem__(self, elem):             # <<<<<<<<<<<<<<
 *         # This special method is used to index the netCDF variable
 *         # using the "extended slice syntax". The extended slice syntax
 */

static PyObject *__pyx_pf_7netCDF4_8Variable___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_elem); /*proto*/
static PyObject *__pyx_pf_7netCDF4_8Variable___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_elem) {
  PyObject *__pyx_v_start;
  PyObject *__pyx_v_count;
  PyObject *__pyx_v_stride;
  PyObject *__pyx_v_put_ind;
  PyObject *__pyx_v_datashape;
  PyObject *__pyx_v_data;
  PyObject *__pyx_v_squeeze;
  PyObject *__pyx_v_i;
  PyObject *__pyx_v_n;
  PyObject *__pyx_v_a;
  PyObject *__pyx_v_b;
  PyObject *__pyx_v_c;
  PyObject *__pyx_v_totalmask;
  PyObject *__pyx_v_fill_value;
  PyObject *__pyx_v_mask;
  PyObject *__pyx_v_fillval;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  Py_ssize_t __pyx_5 = 0;
  int __pyx_6;
  PyObject *__pyx_7 = 0;
  int __pyx_8;
  PyObject *__pyx_9 = 0;
  PyObject *__pyx_10 = 0;
  __pyx_v_start = Py_None; Py_INCREF(Py_None);
  __pyx_v_count = Py_None; Py_INCREF(Py_None);
  __pyx_v_stride = Py_None; Py_INCREF(Py_None);
  __pyx_v_put_ind = Py_None; Py_INCREF(Py_None);
  __pyx_v_datashape = Py_None; Py_INCREF(Py_None);
  __pyx_v_data = Py_None; Py_INCREF(Py_None);
  __pyx_v_squeeze = Py_None; Py_INCREF(Py_None);
  __pyx_v_i = Py_None; Py_INCREF(Py_None);
  __pyx_v_n = Py_None; Py_INCREF(Py_None);
  __pyx_v_a = Py_None; Py_INCREF(Py_None);
  __pyx_v_b = Py_None; Py_INCREF(Py_None);
  __pyx_v_c = Py_None; Py_INCREF(Py_None);
  __pyx_v_totalmask = Py_None; Py_INCREF(Py_None);
  __pyx_v_fill_value = Py_None; Py_INCREF(Py_None);
  __pyx_v_mask = Py_None; Py_INCREF(Py_None);
  __pyx_v_fillval = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2059
 *         # arguments to the nc_get_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, put_ind = _StartCountStride(elem,self.shape)             # <<<<<<<<<<<<<<
 *         datashape = _out_array_shape(count)
 *         data = numpy.empty(datashape, dtype=self.dtype)
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp__StartCountStride); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2059; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_shape); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2059; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyTuple_New(2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2059; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_elem);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_elem);
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2059; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
  if (PyTuple_CheckExact(__pyx_2) && PyTuple_GET_SIZE(__pyx_2) == 4) {
    PyObject* tuple = __pyx_2;
    __pyx_3 = PyTuple_GET_ITEM(tuple, 0);
    Py_INCREF(__pyx_3);
    Py_DECREF(__pyx_v_start);
    __pyx_v_start = __pyx_3;
    __pyx_3 = 0;
    __pyx_3 = PyTuple_GET_ITEM(tuple, 1);
    Py_INCREF(__pyx_3);
    Py_DECREF(__pyx_v_count);
    __pyx_v_count = __pyx_3;
    __pyx_3 = 0;
    __pyx_3 = PyTuple_GET_ITEM(tuple, 2);
    Py_INCREF(__pyx_3);
    Py_DECREF(__pyx_v_stride);
    __pyx_v_stride = __pyx_3;
    __pyx_3 = 0;
    __pyx_3 = PyTuple_GET_ITEM(tuple, 3);
    Py_INCREF(__pyx_3);
    Py_DECREF(__pyx_v_put_ind);
    __pyx_v_put_ind = __pyx_3;
    __pyx_3 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  else {
    __pyx_1 = PyObject_GetIter(__pyx_2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2059; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_3 = __Pyx_UnpackItem(__pyx_1, 0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2059; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_start);
    __pyx_v_start = __pyx_3;
    __pyx_3 = 0;
    __pyx_3 = __Pyx_UnpackItem(__pyx_1, 1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2059; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_count);
    __pyx_v_count = __pyx_3;
    __pyx_3 = 0;
    __pyx_3 = __Pyx_UnpackItem(__pyx_1, 2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2059; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_stride);
    __pyx_v_stride = __pyx_3;
    __pyx_3 = 0;
    __pyx_3 = __Pyx_UnpackItem(__pyx_1, 3); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2059; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_put_ind);
    __pyx_v_put_ind = __pyx_3;
    __pyx_3 = 0;
    if (__Pyx_EndUnpack(__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2059; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2060
 *         # to use.
 *         start, count, stride, put_ind = _StartCountStride(elem,self.shape)
 *         datashape = _out_array_shape(count)             # <<<<<<<<<<<<<<
 *         data = numpy.empty(datashape, dtype=self.dtype)
 * 
 */
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_kp__out_array_shape); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2060; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2060; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_count);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_count);
  __pyx_1 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2060; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
  Py_DECREF(__pyx_v_datashape);
  __pyx_v_datashape = __pyx_1;
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2061
 *         start, count, stride, put_ind = _StartCountStride(elem,self.shape)
 *         datashape = _out_array_shape(count)
 *         data = numpy.empty(datashape, dtype=self.dtype)             # <<<<<<<<<<<<<<
 * 
 *         # Determine which dimensions need to be squeezed
 */
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2061; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_3, __pyx_kp_empty); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2061; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2061; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_datashape);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_datashape);
  __pyx_3 = PyDict_New(); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2061; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_3, __pyx_kp_dtype, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->dtype) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2061; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = PyEval_CallObjectWithKeywords(__pyx_2, ((PyObject *)__pyx_1), ((PyObject *)__pyx_3)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2061; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
  Py_DECREF(__pyx_v_data);
  __pyx_v_data = __pyx_4;
  __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2067
 *         # The convention used is that for those cases,
 *         # put_ind for this dimension is set to -1 by _StartCountStride.
 *         squeeze = data.ndim * [slice(None),]             # <<<<<<<<<<<<<<
 *         for i,n in enumerate(put_ind.shape[:-1]):
 *             if n == 1 and put_ind[...,i].ravel()[0] == -1:
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_data, __pyx_kp_ndim); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2067; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2067; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(Py_None);
  PyTuple_SET_ITEM(__pyx_1, 0, Py_None);
  __pyx_3 = PyObject_Call(((PyObject*)&PySlice_Type), ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2067; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __pyx_4 = PyList_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2067; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyList_SET_ITEM(__pyx_4, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_1 = PyNumber_Multiply(__pyx_2, ((PyObject *)__pyx_4)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2067; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
  Py_DECREF(__pyx_v_squeeze);
  __pyx_v_squeeze = __pyx_1;
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2068
 *         # put_ind for this dimension is set to -1 by _StartCountStride.
 *         squeeze = data.ndim * [slice(None),]
 *         for i,n in enumerate(put_ind.shape[:-1]):             # <<<<<<<<<<<<<<
 *             if n == 1 and put_ind[...,i].ravel()[0] == -1:
 *                 squeeze[i] = 0
 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_put_ind, __pyx_kp_shape); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2068; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PySequence_GetSlice(__pyx_3, 0, -1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2068; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2068; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_1 = PyObject_Call(__pyx_builtin_enumerate, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2068; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
  if (PyList_CheckExact(__pyx_1) || PyTuple_CheckExact(__pyx_1)) {
    __pyx_5 = 0; __pyx_3 = __pyx_1; Py_INCREF(__pyx_3);
  } else {
    __pyx_5 = -1; __pyx_3 = PyObject_GetIter(__pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2068; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_3))) {
      if (__pyx_5 >= PyList_GET_SIZE(__pyx_3)) break;
      __pyx_2 = PyList_GET_ITEM(__pyx_3, __pyx_5); Py_INCREF(__pyx_2); __pyx_5++;
    } else if (likely(PyTuple_CheckExact(__pyx_3))) {
      if (__pyx_5 >= PyTuple_GET_SIZE(__pyx_3)) break;
      __pyx_2 = PyTuple_GET_ITEM(__pyx_3, __pyx_5); Py_INCREF(__pyx_2); __pyx_5++;
    } else {
      __pyx_2 = PyIter_Next(__pyx_3);
      if (!__pyx_2) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2068; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    if (PyTuple_CheckExact(__pyx_2) && PyTuple_GET_SIZE(__pyx_2) == 2) {
      PyObject* tuple = __pyx_2;
      __pyx_1 = PyTuple_GET_ITEM(tuple, 0);
      Py_INCREF(__pyx_1);
      Py_DECREF(__pyx_v_i);
      __pyx_v_i = __pyx_1;
      __pyx_1 = 0;
      __pyx_1 = PyTuple_GET_ITEM(tuple, 1);
      Py_INCREF(__pyx_1);
      Py_DECREF(__pyx_v_n);
      __pyx_v_n = __pyx_1;
      __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
    }
    else {
      __pyx_4 = PyObject_GetIter(__pyx_2); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2068; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = __Pyx_UnpackItem(__pyx_4, 0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2068; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_i);
      __pyx_v_i = __pyx_1;
      __pyx_1 = 0;
      __pyx_1 = __Pyx_UnpackItem(__pyx_4, 1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2068; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_n);
      __pyx_v_n = __pyx_1;
      __pyx_1 = 0;
      if (__Pyx_EndUnpack(__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2068; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
    }

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2069
 *         squeeze = data.ndim * [slice(None),]
 *         for i,n in enumerate(put_ind.shape[:-1]):
 *             if n == 1 and put_ind[...,i].ravel()[0] == -1:             # <<<<<<<<<<<<<<
 *                 squeeze[i] = 0
 * 
 */
    __pyx_1 = PyObject_RichCompare(__pyx_v_n, __pyx_int_1, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2069; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2069; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_6) {
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_2 = PyTuple_New(2); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2069; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(Py_Ellipsis);
      PyTuple_SET_ITEM(__pyx_2, 0, Py_Ellipsis);
      Py_INCREF(__pyx_v_i);
      PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_i);
      __pyx_4 = PyObject_GetItem(__pyx_v_put_ind, ((PyObject *)__pyx_2)); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2069; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
      __pyx_2 = PyObject_GetAttr(__pyx_4, __pyx_kp_ravel); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2069; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __pyx_4 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2069; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_2 = __Pyx_GetItemInt(__pyx_4, 0, 0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2069; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __pyx_1 = PyObject_RichCompare(__pyx_2, __pyx_int_neg_1, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2069; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
    }
    __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2069; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_6) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2070
 *         for i,n in enumerate(put_ind.shape[:-1]):
 *             if n == 1 and put_ind[...,i].ravel()[0] == -1:
 *                 squeeze[i] = 0             # <<<<<<<<<<<<<<
 * 
 *         # Reshape the arrays so we can iterate over them.
 */
      if (PyObject_SetItem(__pyx_v_squeeze, __pyx_v_i, __pyx_int_0) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2070; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L7;
    }
    __pyx_L7:;
  }
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2073
 * 
 *         # Reshape the arrays so we can iterate over them.
 *         start = start.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 *         count = count.reshape((-1, self.ndim or 1))
 *         stride = stride.reshape((-1, self.ndim or 1))
 */
  __pyx_4 = PyObject_GetAttr(__pyx_v_start, __pyx_kp_reshape); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2073; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->ndim;
  Py_INCREF(__pyx_2);
  __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2073; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_6) {
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_2 = __pyx_int_1;
    Py_INCREF(__pyx_2);
  }
  __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2073; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_2);
  __pyx_2 = 0;
  __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2073; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyTuple_SET_ITEM(__pyx_3, 0, ((PyObject *)__pyx_1));
  __pyx_1 = 0;
  __pyx_2 = PyObject_Call(__pyx_4, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2073; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
  Py_DECREF(__pyx_v_start);
  __pyx_v_start = __pyx_2;
  __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2074
 *         # Reshape the arrays so we can iterate over them.
 *         start = start.reshape((-1, self.ndim or 1))
 *         count = count.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 *         stride = stride.reshape((-1, self.ndim or 1))
 *         put_ind = put_ind.reshape((-1, self.ndim or 1))
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_count, __pyx_kp_reshape); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2074; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->ndim;
  Py_INCREF(__pyx_4);
  __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_4); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2074; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_6) {
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_4 = __pyx_int_1;
    Py_INCREF(__pyx_4);
  }
  __pyx_3 = PyTuple_New(2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2074; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_4);
  __pyx_4 = 0;
  __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2074; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyTuple_SET_ITEM(__pyx_2, 0, ((PyObject *)__pyx_3));
  __pyx_3 = 0;
  __pyx_4 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2074; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
  Py_DECREF(__pyx_v_count);
  __pyx_v_count = __pyx_4;
  __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2075
 *         start = start.reshape((-1, self.ndim or 1))
 *         count = count.reshape((-1, self.ndim or 1))
 *         stride = stride.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 *         put_ind = put_ind.reshape((-1, self.ndim or 1))
 * 
 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_stride, __pyx_kp_reshape); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2075; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->ndim;
  Py_INCREF(__pyx_1);
  __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2075; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_6) {
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_1 = __pyx_int_1;
    Py_INCREF(__pyx_1);
  }
  __pyx_2 = PyTuple_New(2); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2075; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_1);
  __pyx_1 = 0;
  __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2075; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyTuple_SET_ITEM(__pyx_4, 0, ((PyObject *)__pyx_2));
  __pyx_2 = 0;
  __pyx_1 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2075; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
  Py_DECREF(__pyx_v_stride);
  __pyx_v_stride = __pyx_1;
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2076
 *         count = count.reshape((-1, self.ndim or 1))
 *         stride = stride.reshape((-1, self.ndim or 1))
 *         put_ind = put_ind.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 * 
 *         # Fill output array with data chunks.
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_put_ind, __pyx_kp_reshape); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2076; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->ndim;
  Py_INCREF(__pyx_3);
  __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2076; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_6) {
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_3 = __pyx_int_1;
    Py_INCREF(__pyx_3);
  }
  __pyx_4 = PyTuple_New(2); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2076; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_4, 1, __pyx_3);
  __pyx_3 = 0;
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2076; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyTuple_SET_ITEM(__pyx_1, 0, ((PyObject *)__pyx_4));
  __pyx_4 = 0;
  __pyx_3 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2076; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  Py_DECREF(__pyx_v_put_ind);
  __pyx_v_put_ind = __pyx_3;
  __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2079
 * 
 *         # Fill output array with data chunks.
 *         for (a,b,c,i) in zip(start, count, stride, put_ind):             # <<<<<<<<<<<<<<
 *             # FIXME:
 *             # this is a workaround so MFDataset slicing works
 */
  __pyx_4 = PyTuple_New(4); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2079; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_start);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_start);
  Py_INCREF(__pyx_v_count);
  PyTuple_SET_ITEM(__pyx_4, 1, __pyx_v_count);
  Py_INCREF(__pyx_v_stride);
  PyTuple_SET_ITEM(__pyx_4, 2, __pyx_v_stride);
  Py_INCREF(__pyx_v_put_ind);
  PyTuple_SET_ITEM(__pyx_4, 3, __pyx_v_put_ind);
  __pyx_2 = PyObject_Call(__pyx_builtin_zip, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2079; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
  if (PyList_CheckExact(__pyx_2) || PyTuple_CheckExact(__pyx_2)) {
    __pyx_5 = 0; __pyx_1 = __pyx_2; Py_INCREF(__pyx_1);
  } else {
    __pyx_5 = -1; __pyx_1 = PyObject_GetIter(__pyx_2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2079; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_1))) {
      if (__pyx_5 >= PyList_GET_SIZE(__pyx_1)) break;
      __pyx_3 = PyList_GET_ITEM(__pyx_1, __pyx_5); Py_INCREF(__pyx_3); __pyx_5++;
    } else if (likely(PyTuple_CheckExact(__pyx_1))) {
      if (__pyx_5 >= PyTuple_GET_SIZE(__pyx_1)) break;
      __pyx_3 = PyTuple_GET_ITEM(__pyx_1, __pyx_5); Py_INCREF(__pyx_3); __pyx_5++;
    } else {
      __pyx_3 = PyIter_Next(__pyx_1);
      if (!__pyx_3) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2079; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    if (PyTuple_CheckExact(__pyx_3) && PyTuple_GET_SIZE(__pyx_3) == 4) {
      PyObject* tuple = __pyx_3;
      __pyx_2 = PyTuple_GET_ITEM(tuple, 0);
      Py_INCREF(__pyx_2);
      Py_DECREF(__pyx_v_a);
      __pyx_v_a = __pyx_2;
      __pyx_2 = 0;
      __pyx_2 = PyTuple_GET_ITEM(tuple, 1);
      Py_INCREF(__pyx_2);
      Py_DECREF(__pyx_v_b);
      __pyx_v_b = __pyx_2;
      __pyx_2 = 0;
      __pyx_2 = PyTuple_GET_ITEM(tuple, 2);
      Py_INCREF(__pyx_2);
      Py_DECREF(__pyx_v_c);
      __pyx_v_c = __pyx_2;
      __pyx_2 = 0;
      __pyx_2 = PyTuple_GET_ITEM(tuple, 3);
      Py_INCREF(__pyx_2);
      Py_DECREF(__pyx_v_i);
      __pyx_v_i = __pyx_2;
      __pyx_2 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
    else {
      __pyx_4 = PyObject_GetIter(__pyx_3); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2079; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_2 = __Pyx_UnpackItem(__pyx_4, 0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2079; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_a);
      __pyx_v_a = __pyx_2;
      __pyx_2 = 0;
      __pyx_2 = __Pyx_UnpackItem(__pyx_4, 1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2079; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_b);
      __pyx_v_b = __pyx_2;
      __pyx_2 = 0;
      __pyx_2 = __Pyx_UnpackItem(__pyx_4, 2); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2079; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_c);
      __pyx_v_c = __pyx_2;
      __pyx_2 = 0;
      __pyx_2 = __Pyx_UnpackItem(__pyx_4, 3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2079; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_i);
      __pyx_v_i = __pyx_2;
      __pyx_2 = 0;
      if (__Pyx_EndUnpack(__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2079; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
    }

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2083
 *             # this is a workaround so MFDataset slicing works
 *             # with singleton dimensions.
 *             try:             # <<<<<<<<<<<<<<
 *                 data[tuple(i)] = numpy.squeeze(self._get(a,b,c))
 *             except ValueError:
 */
    /*try:*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2084
 *             # with singleton dimensions.
 *             try:
 *                 data[tuple(i)] = numpy.squeeze(self._get(a,b,c))             # <<<<<<<<<<<<<<
 *             except ValueError:
 *                 data[tuple(i)] = self._get(a,b,c)
 */
      __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2084; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
      __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_kp_squeeze); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2084; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_4 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__get); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2084; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
      __pyx_2 = PyTuple_New(3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2084; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
      Py_INCREF(__pyx_v_a);
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_a);
      Py_INCREF(__pyx_v_b);
      PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_b);
      Py_INCREF(__pyx_v_c);
      PyTuple_SET_ITEM(__pyx_2, 2, __pyx_v_c);
      __pyx_7 = PyObject_Call(__pyx_4, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2084; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
      __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2084; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
      PyTuple_SET_ITEM(__pyx_4, 0, __pyx_7);
      __pyx_7 = 0;
      __pyx_2 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2084; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
      __pyx_7 = PyTuple_New(1); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2084; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
      Py_INCREF(__pyx_v_i);
      PyTuple_SET_ITEM(__pyx_7, 0, __pyx_v_i);
      __pyx_3 = PyObject_Call(((PyObject*)&PyTuple_Type), ((PyObject *)__pyx_7), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2084; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
      Py_DECREF(((PyObject *)__pyx_7)); __pyx_7 = 0;
      if (PyObject_SetItem(__pyx_v_data, __pyx_3, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2084; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
    }
    goto __pyx_L11;
    __pyx_L10_error:;
    Py_XDECREF(__pyx_4); __pyx_4 = 0;
    Py_XDECREF(__pyx_7); __pyx_7 = 0;
    Py_XDECREF(__pyx_2); __pyx_2 = 0;
    Py_XDECREF(__pyx_3); __pyx_3 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2085
 *             try:
 *                 data[tuple(i)] = numpy.squeeze(self._get(a,b,c))
 *             except ValueError:             # <<<<<<<<<<<<<<
 *                 data[tuple(i)] = self._get(a,b,c)
 * 
 */
    __pyx_8 = PyErr_ExceptionMatches(__pyx_builtin_ValueError);
    if (__pyx_8) {
      __Pyx_AddTraceback("netCDF4.__getitem__");
      if (__Pyx_GetException(&__pyx_4, &__pyx_7, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2085; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2086
 *                 data[tuple(i)] = numpy.squeeze(self._get(a,b,c))
 *             except ValueError:
 *                 data[tuple(i)] = self._get(a,b,c)             # <<<<<<<<<<<<<<
 * 
 *         # Remove extra singleton dimensions.
 */
      __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__get); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2086; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_9 = PyTuple_New(3); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2086; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_v_a);
      PyTuple_SET_ITEM(__pyx_9, 0, __pyx_v_a);
      Py_INCREF(__pyx_v_b);
      PyTuple_SET_ITEM(__pyx_9, 1, __pyx_v_b);
      Py_INCREF(__pyx_v_c);
      PyTuple_SET_ITEM(__pyx_9, 2, __pyx_v_c);
      __pyx_10 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_9), NULL); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2086; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(((PyObject *)__pyx_9)); __pyx_9 = 0;
      __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2086; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_v_i);
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_i);
      __pyx_9 = PyObject_Call(((PyObject*)&PyTuple_Type), ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2086; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
      if (PyObject_SetItem(__pyx_v_data, __pyx_9, __pyx_10) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2086; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_9); __pyx_9 = 0;
      Py_DECREF(__pyx_10); __pyx_10 = 0;
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_7); __pyx_7 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      goto __pyx_L11;
    }
    goto __pyx_L1_error;
    __pyx_L11:;
  }
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2089
 * 
 *         # Remove extra singleton dimensions.
 *         data = data[tuple(squeeze)]             # <<<<<<<<<<<<<<
 * 
 *         # if auto_maskandscale mode set to True, (through
 */
  __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2089; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_squeeze);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_squeeze);
  __pyx_10 = PyObject_Call(((PyObject*)&PyTuple_Type), ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2089; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
  __pyx_9 = PyObject_GetItem(__pyx_v_data, __pyx_10); if (!__pyx_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2089; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_10); __pyx_10 = 0;
  Py_DECREF(__pyx_v_data);
  __pyx_v_data = __pyx_9;
  __pyx_9 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2096
 *         # and automatic conversion to masked array using
 *         # missing_value/_Fill_Value.
 *         if self.maskandscale:             # <<<<<<<<<<<<<<
 *             totalmask = numpy.zeros(data.shape, numpy.bool)
 *             fill_value = None
 */
  __pyx_6 = __Pyx_PyObject_IsTrue(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->maskandscale); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2096; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_6) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2097
 *         # missing_value/_Fill_Value.
 *         if self.maskandscale:
 *             totalmask = numpy.zeros(data.shape, numpy.bool)             # <<<<<<<<<<<<<<
 *             fill_value = None
 *             if hasattr(self, 'missing_value') and (data == self.missing_value).any():
 */
    __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2097; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_7 = PyObject_GetAttr(__pyx_4, __pyx_kp_zeros); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2097; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_2 = PyObject_GetAttr(__pyx_v_data, __pyx_kp_shape); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2097; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2097; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyObject_GetAttr(__pyx_1, __pyx_kp_bool); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2097; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_10 = PyTuple_New(2); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2097; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_10, 0, __pyx_2);
    PyTuple_SET_ITEM(__pyx_10, 1, __pyx_3);
    __pyx_2 = 0;
    __pyx_3 = 0;
    __pyx_9 = PyObject_Call(__pyx_7, ((PyObject *)__pyx_10), NULL); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2097; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_7); __pyx_7 = 0;
    Py_DECREF(((PyObject *)__pyx_10)); __pyx_10 = 0;
    Py_DECREF(__pyx_v_totalmask);
    __pyx_v_totalmask = __pyx_9;
    __pyx_9 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2098
 *         if self.maskandscale:
 *             totalmask = numpy.zeros(data.shape, numpy.bool)
 *             fill_value = None             # <<<<<<<<<<<<<<
 *             if hasattr(self, 'missing_value') and (data == self.missing_value).any():
 *                 mask=data==self.missing_value
 */
    Py_INCREF(Py_None);
    Py_DECREF(__pyx_v_fill_value);
    __pyx_v_fill_value = Py_None;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2099
 *             totalmask = numpy.zeros(data.shape, numpy.bool)
 *             fill_value = None
 *             if hasattr(self, 'missing_value') and (data == self.missing_value).any():             # <<<<<<<<<<<<<<
 *                 mask=data==self.missing_value
 *                 fill_value = self.missing_value
 */
    __pyx_6 = PyObject_HasAttr(__pyx_v_self, __pyx_kp_181); if (unlikely(__pyx_6 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2099; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = __Pyx_PyBool_FromLong(__pyx_6); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2099; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_4); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2099; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_6) {
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_missing_value); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2099; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_2 = PyObject_RichCompare(__pyx_v_data, __pyx_1, Py_EQ); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2099; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_kp_any); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2099; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_4 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2099; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
    __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_4); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2099; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    if (__pyx_6) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2100
 *             fill_value = None
 *             if hasattr(self, 'missing_value') and (data == self.missing_value).any():
 *                 mask=data==self.missing_value             # <<<<<<<<<<<<<<
 *                 fill_value = self.missing_value
 *                 totalmask += mask
 */
      __pyx_7 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_missing_value); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2100; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_10 = PyObject_RichCompare(__pyx_v_data, __pyx_7, Py_EQ); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2100; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_7); __pyx_7 = 0;
      Py_DECREF(__pyx_v_mask);
      __pyx_v_mask = __pyx_10;
      __pyx_10 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2101
 *             if hasattr(self, 'missing_value') and (data == self.missing_value).any():
 *                 mask=data==self.missing_value
 *                 fill_value = self.missing_value             # <<<<<<<<<<<<<<
 *                 totalmask += mask
 *             if hasattr(self, '_FillValue') and (data == self._FillValue).any():
 */
      __pyx_9 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_missing_value); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2101; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_fill_value);
      __pyx_v_fill_value = __pyx_9;
      __pyx_9 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2102
 *                 mask=data==self.missing_value
 *                 fill_value = self.missing_value
 *                 totalmask += mask             # <<<<<<<<<<<<<<
 *             if hasattr(self, '_FillValue') and (data == self._FillValue).any():
 *                 mask=data==self._FillValue
 */
      __pyx_1 = PyNumber_InPlaceAdd(__pyx_v_totalmask, __pyx_v_mask); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2102; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_totalmask);
      __pyx_v_totalmask = __pyx_1;
      __pyx_1 = 0;
      goto __pyx_L13;
    }
    __pyx_L13:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2103
 *                 fill_value = self.missing_value
 *                 totalmask += mask
 *             if hasattr(self, '_FillValue') and (data == self._FillValue).any():             # <<<<<<<<<<<<<<
 *                 mask=data==self._FillValue
 *                 if fill_value is None:
 */
    __pyx_6 = PyObject_HasAttr(__pyx_v_self, __pyx_kp_182); if (unlikely(__pyx_6 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2103; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = __Pyx_PyBool_FromLong(__pyx_6); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2103; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2103; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_6) {
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__FillValue); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2103; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_4 = PyObject_RichCompare(__pyx_v_data, __pyx_3, Py_EQ); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2103; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_7 = PyObject_GetAttr(__pyx_4, __pyx_kp_any); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2103; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __pyx_2 = PyObject_Call(__pyx_7, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2103; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_7); __pyx_7 = 0;
    }
    __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2103; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (__pyx_6) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2104
 *                 totalmask += mask
 *             if hasattr(self, '_FillValue') and (data == self._FillValue).any():
 *                 mask=data==self._FillValue             # <<<<<<<<<<<<<<
 *                 if fill_value is None:
 *                     fill_value = self._FillValue
 */
      __pyx_10 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__FillValue); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2104; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_9 = PyObject_RichCompare(__pyx_v_data, __pyx_10, Py_EQ); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2104; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_10); __pyx_10 = 0;
      Py_DECREF(__pyx_v_mask);
      __pyx_v_mask = __pyx_9;
      __pyx_9 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2105
 *             if hasattr(self, '_FillValue') and (data == self._FillValue).any():
 *                 mask=data==self._FillValue
 *                 if fill_value is None:             # <<<<<<<<<<<<<<
 *                     fill_value = self._FillValue
 *                 totalmask += mask
 */
      __pyx_6 = (__pyx_v_fill_value == Py_None);
      if (__pyx_6) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2106
 *                 mask=data==self._FillValue
 *                 if fill_value is None:
 *                     fill_value = self._FillValue             # <<<<<<<<<<<<<<
 *                 totalmask += mask
 *             else:
 */
        __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__FillValue); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2106; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_v_fill_value);
        __pyx_v_fill_value = __pyx_1;
        __pyx_1 = 0;
        goto __pyx_L15;
      }
      __pyx_L15:;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2107
 *                 if fill_value is None:
 *                     fill_value = self._FillValue
 *                 totalmask += mask             # <<<<<<<<<<<<<<
 *             else:
 *                 fillval = _default_fillvals[self.dtype.str[1:]]
 */
      __pyx_3 = PyNumber_InPlaceAdd(__pyx_v_totalmask, __pyx_v_mask); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2107; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_totalmask);
      __pyx_v_totalmask = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L14;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2109
 *                 totalmask += mask
 *             else:
 *                 fillval = _default_fillvals[self.dtype.str[1:]]             # <<<<<<<<<<<<<<
 *                 if (data == fillval).any():
 *                     mask=data==fillval
 */
      __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_kp__default_fillvals); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2109; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_7 = PyObject_GetAttr(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->dtype, __pyx_kp_str); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2109; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_2 = PySequence_GetSlice(__pyx_7, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2109; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_7); __pyx_7 = 0;
      __pyx_10 = PyObject_GetItem(__pyx_4, __pyx_2); if (!__pyx_10) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2109; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_v_fillval);
      __pyx_v_fillval = __pyx_10;
      __pyx_10 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2110
 *             else:
 *                 fillval = _default_fillvals[self.dtype.str[1:]]
 *                 if (data == fillval).any():             # <<<<<<<<<<<<<<
 *                     mask=data==fillval
 *                     if fill_value is None:
 */
      __pyx_9 = PyObject_RichCompare(__pyx_v_data, __pyx_v_fillval, Py_EQ); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2110; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_1 = PyObject_GetAttr(__pyx_9, __pyx_kp_any); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2110; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_9); __pyx_9 = 0;
      __pyx_3 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2110; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2110; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (__pyx_6) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2111
 *                 fillval = _default_fillvals[self.dtype.str[1:]]
 *                 if (data == fillval).any():
 *                     mask=data==fillval             # <<<<<<<<<<<<<<
 *                     if fill_value is None:
 *                         fill_value = fillval
 */
        __pyx_7 = PyObject_RichCompare(__pyx_v_data, __pyx_v_fillval, Py_EQ); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2111; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_v_mask);
        __pyx_v_mask = __pyx_7;
        __pyx_7 = 0;

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2112
 *                 if (data == fillval).any():
 *                     mask=data==fillval
 *                     if fill_value is None:             # <<<<<<<<<<<<<<
 *                         fill_value = fillval
 *                     totalmask += mask
 */
        __pyx_6 = (__pyx_v_fill_value == Py_None);
        if (__pyx_6) {

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2113
 *                     mask=data==fillval
 *                     if fill_value is None:
 *                         fill_value = fillval             # <<<<<<<<<<<<<<
 *                     totalmask += mask
 *             # all values where data == missing_value or _FillValue are
 */
          Py_INCREF(__pyx_v_fillval);
          Py_DECREF(__pyx_v_fill_value);
          __pyx_v_fill_value = __pyx_v_fillval;
          goto __pyx_L17;
        }
        __pyx_L17:;

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2114
 *                     if fill_value is None:
 *                         fill_value = fillval
 *                     totalmask += mask             # <<<<<<<<<<<<<<
 *             # all values where data == missing_value or _FillValue are
 *             # masked.  fill_value set to missing_value if it exists,
 */
        __pyx_4 = PyNumber_InPlaceAdd(__pyx_v_totalmask, __pyx_v_mask); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2114; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_v_totalmask);
        __pyx_v_totalmask = __pyx_4;
        __pyx_4 = 0;
        goto __pyx_L16;
      }
      __pyx_L16:;
    }
    __pyx_L14:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2118
 *             # masked.  fill_value set to missing_value if it exists,
 *             # otherwise _FillValue.
 *             if fill_value is not None:             # <<<<<<<<<<<<<<
 *                 data = ma.masked_array(data,mask=totalmask,fill_value=fill_value)
 *             # if variable has scale_factor and add_offset attributes, rescale.
 */
    __pyx_6 = (__pyx_v_fill_value != Py_None);
    if (__pyx_6) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2119
 *             # otherwise _FillValue.
 *             if fill_value is not None:
 *                 data = ma.masked_array(data,mask=totalmask,fill_value=fill_value)             # <<<<<<<<<<<<<<
 *             # if variable has scale_factor and add_offset attributes, rescale.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 */
      __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_kp_ma); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2119; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_10 = PyObject_GetAttr(__pyx_2, __pyx_kp_masked_array); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2119; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_9 = PyTuple_New(1); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2119; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_v_data);
      PyTuple_SET_ITEM(__pyx_9, 0, __pyx_v_data);
      __pyx_1 = PyDict_New(); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2119; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (PyDict_SetItem(__pyx_1, __pyx_kp_mask, __pyx_v_totalmask) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2119; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (PyDict_SetItem(__pyx_1, __pyx_kp_fill_value, __pyx_v_fill_value) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2119; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyEval_CallObjectWithKeywords(__pyx_10, ((PyObject *)__pyx_9), ((PyObject *)__pyx_1)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2119; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_10); __pyx_10 = 0;
      Py_DECREF(((PyObject *)__pyx_9)); __pyx_9 = 0;
      Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
      Py_DECREF(__pyx_v_data);
      __pyx_v_data = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L18;
    }
    __pyx_L18:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2121
 *                 data = ma.masked_array(data,mask=totalmask,fill_value=fill_value)
 *             # if variable has scale_factor and add_offset attributes, rescale.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):             # <<<<<<<<<<<<<<
 *                 data = self.scale_factor*data + self.add_offset
 *         return data
 */
    __pyx_6 = PyObject_HasAttr(__pyx_v_self, __pyx_kp_183); if (unlikely(__pyx_6 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2121; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_6) {
      __pyx_6 = PyObject_HasAttr(__pyx_v_self, __pyx_kp_184); if (unlikely(__pyx_6 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2121; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    }
    if (__pyx_6) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2122
 *             # if variable has scale_factor and add_offset attributes, rescale.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 *                 data = self.scale_factor*data + self.add_offset             # <<<<<<<<<<<<<<
 *         return data
 * 
 */
      __pyx_7 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_scale_factor); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2122; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_4 = PyNumber_Multiply(__pyx_7, __pyx_v_data); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2122; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_7); __pyx_7 = 0;
      __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_add_offset); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2122; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_10 = PyNumber_Add(__pyx_4, __pyx_2); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2122; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_v_data);
      __pyx_v_data = __pyx_10;
      __pyx_10 = 0;
      goto __pyx_L19;
    }
    __pyx_L19:;
    goto __pyx_L12;
  }
  __pyx_L12:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2123
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 *                 data = self.scale_factor*data + self.add_offset
 *         return data             # <<<<<<<<<<<<<<
 * 
 *     def __setitem__(self, elem, data):
 */
  Py_INCREF(__pyx_v_data);
  __pyx_r = __pyx_v_data;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_7);
  Py_XDECREF(__pyx_9);
  Py_XDECREF(__pyx_10);
  __Pyx_AddTraceback("netCDF4.Variable.__getitem__");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_start);
  Py_DECREF(__pyx_v_count);
  Py_DECREF(__pyx_v_stride);
  Py_DECREF(__pyx_v_put_ind);
  Py_DECREF(__pyx_v_datashape);
  Py_DECREF(__pyx_v_data);
  Py_DECREF(__pyx_v_squeeze);
  Py_DECREF(__pyx_v_i);
  Py_DECREF(__pyx_v_n);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  Py_DECREF(__pyx_v_c);
  Py_DECREF(__pyx_v_totalmask);
  Py_DECREF(__pyx_v_fill_value);
  Py_DECREF(__pyx_v_mask);
  Py_DECREF(__pyx_v_fillval);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2125
 *         return data
 * 
 *     def __setitem__(self, elem, data):             # <<<<<<<<<<<<<<
 *         # This special method is used to assign to the netCDF variable
 *         # using "extended slice syntax". The extended slice syntax
 */

static int __pyx_pf_7netCDF4_8Variable___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_elem, PyObject *__pyx_v_data); /*proto*/
static int __pyx_pf_7netCDF4_8Variable___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_elem, PyObject *__pyx_v_data) {
  PyObject *__pyx_v_start;
  PyObject *__pyx_v_count;
  PyObject *__pyx_v_stride;
  PyObject *__pyx_v_put_ind;
  PyObject *__pyx_v_datashape;
  PyObject *__pyx_v_fillval;
  PyObject *__pyx_v_a;
  PyObject *__pyx_v_b;
  PyObject *__pyx_v_c;
  PyObject *__pyx_v_i;
  PyObject *__pyx_v_dataput;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  int __pyx_5;
  PyObject *__pyx_6 = 0;
  Py_ssize_t __pyx_7 = 0;
  Py_ssize_t __pyx_8 = 0;
  Py_INCREF(__pyx_v_data);
  __pyx_v_start = Py_None; Py_INCREF(Py_None);
  __pyx_v_count = Py_None; Py_INCREF(Py_None);
  __pyx_v_stride = Py_None; Py_INCREF(Py_None);
  __pyx_v_put_ind = Py_None; Py_INCREF(Py_None);
  __pyx_v_datashape = Py_None; Py_INCREF(Py_None);
  __pyx_v_fillval = Py_None; Py_INCREF(Py_None);
  __pyx_v_a = Py_None; Py_INCREF(Py_None);
  __pyx_v_b = Py_None; Py_INCREF(Py_None);
  __pyx_v_c = Py_None; Py_INCREF(Py_None);
  __pyx_v_i = Py_None; Py_INCREF(Py_None);
  __pyx_v_dataput = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2133
 * 
 *         # A numpy array is needed. Convert if necessary.
 *         if not type(data) == numpy.ndarray:             # <<<<<<<<<<<<<<
 *             data = numpy.array(data,self.dtype)
 * 
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_data);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_data);
  __pyx_2 = PyObject_Call(((PyObject*)&PyType_Type), ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyObject_GetAttr(__pyx_1, __pyx_kp_ndarray); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyObject_RichCompare(__pyx_2, __pyx_3, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_5 = (!__pyx_4);
  if (__pyx_5) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2134
 *         # A numpy array is needed. Convert if necessary.
 *         if not type(data) == numpy.ndarray:
 *             data = numpy.array(data,self.dtype)             # <<<<<<<<<<<<<<
 * 
 *         start, count, stride, put_ind =\
 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2134; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_kp_array); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2134; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2134; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_data);
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_data);
    Py_INCREF(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->dtype);
    PyTuple_SET_ITEM(__pyx_1, 1, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->dtype);
    __pyx_2 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2134; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
    Py_DECREF(__pyx_v_data);
    __pyx_v_data = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2137
 * 
 *         start, count, stride, put_ind =\
 *         _StartCountStride(elem,self.shape,self.dimensions,self._grp,datashape=data.shape)             # <<<<<<<<<<<<<<
 *         datashape = _out_array_shape(count)
 * 
 */
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_kp__StartCountStride); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2137; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_shape); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2137; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_dimensions); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2137; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_6 = PyTuple_New(4); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2137; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_elem);
  PyTuple_SET_ITEM(__pyx_6, 0, __pyx_v_elem);
  PyTuple_SET_ITEM(__pyx_6, 1, __pyx_1);
  PyTuple_SET_ITEM(__pyx_6, 2, __pyx_2);
  Py_INCREF(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp);
  PyTuple_SET_ITEM(__pyx_6, 3, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grp);
  __pyx_1 = 0;
  __pyx_2 = 0;
  __pyx_1 = PyDict_New(); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2137; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_v_data, __pyx_kp_shape); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2137; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_1, __pyx_kp_datashape, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2137; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyEval_CallObjectWithKeywords(__pyx_3, ((PyObject *)__pyx_6), ((PyObject *)__pyx_1)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2137; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(((PyObject *)__pyx_6)); __pyx_6 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  if (PyTuple_CheckExact(__pyx_2) && PyTuple_GET_SIZE(__pyx_2) == 4) {
    PyObject* tuple = __pyx_2;
    __pyx_6 = PyTuple_GET_ITEM(tuple, 0);
    Py_INCREF(__pyx_6);

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2136
 *             data = numpy.array(data,self.dtype)
 * 
 *         start, count, stride, put_ind =\             # <<<<<<<<<<<<<<
 *         _StartCountStride(elem,self.shape,self.dimensions,self._grp,datashape=data.shape)
 *         datashape = _out_array_shape(count)
 */
    Py_DECREF(__pyx_v_start);
    __pyx_v_start = __pyx_6;
    __pyx_6 = 0;
    __pyx_1 = PyTuple_GET_ITEM(tuple, 1);
    Py_INCREF(__pyx_1);
    Py_DECREF(__pyx_v_count);
    __pyx_v_count = __pyx_1;
    __pyx_1 = 0;
    __pyx_6 = PyTuple_GET_ITEM(tuple, 2);
    Py_INCREF(__pyx_6);
    Py_DECREF(__pyx_v_stride);
    __pyx_v_stride = __pyx_6;
    __pyx_6 = 0;
    __pyx_1 = PyTuple_GET_ITEM(tuple, 3);
    Py_INCREF(__pyx_1);
    Py_DECREF(__pyx_v_put_ind);
    __pyx_v_put_ind = __pyx_1;
    __pyx_1 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  else {
    __pyx_3 = PyObject_GetIter(__pyx_2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2136; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_6 = __Pyx_UnpackItem(__pyx_3, 0); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2136; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_start);
    __pyx_v_start = __pyx_6;
    __pyx_6 = 0;
    __pyx_1 = __Pyx_UnpackItem(__pyx_3, 1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2136; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_count);
    __pyx_v_count = __pyx_1;
    __pyx_1 = 0;
    __pyx_6 = __Pyx_UnpackItem(__pyx_3, 2); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2136; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_stride);
    __pyx_v_stride = __pyx_6;
    __pyx_6 = 0;
    __pyx_1 = __Pyx_UnpackItem(__pyx_3, 3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2136; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_put_ind);
    __pyx_v_put_ind = __pyx_1;
    __pyx_1 = 0;
    if (__Pyx_EndUnpack(__pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2136; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2138
 *         start, count, stride, put_ind =\
 *         _StartCountStride(elem,self.shape,self.dimensions,self._grp,datashape=data.shape)
 *         datashape = _out_array_shape(count)             # <<<<<<<<<<<<<<
 * 
 *         # if a numpy scalar, create an array of the right size
 */
  __pyx_6 = __Pyx_GetName(__pyx_m, __pyx_kp__out_array_shape); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2138; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2138; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_count);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_count);
  __pyx_2 = PyObject_Call(__pyx_6, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2138; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  Py_DECREF(__pyx_v_datashape);
  __pyx_v_datashape = __pyx_2;
  __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2142
 *         # if a numpy scalar, create an array of the right size
 *         # and fill with scalar values.
 *         if data.shape == ():             # <<<<<<<<<<<<<<
 *             data = numpy.tile(data,datashape)
 *         # reshape data array by adding extra singleton dimensions
 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_data, __pyx_kp_shape); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2142; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_6 = PyObject_RichCompare(__pyx_3, ((PyObject *)__pyx_empty_tuple), Py_EQ); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2142; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_6); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2142; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2143
 *         # and fill with scalar values.
 *         if data.shape == ():
 *             data = numpy.tile(data,datashape)             # <<<<<<<<<<<<<<
 *         # reshape data array by adding extra singleton dimensions
 *         # if needed to conform with start,count,stride.
 */
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2143; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_kp_tile); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2143; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_3 = PyTuple_New(2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2143; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_data);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_data);
    Py_INCREF(__pyx_v_datashape);
    PyTuple_SET_ITEM(__pyx_3, 1, __pyx_v_datashape);
    __pyx_6 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2143; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    Py_DECREF(__pyx_v_data);
    __pyx_v_data = __pyx_6;
    __pyx_6 = 0;
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2146
 *         # reshape data array by adding extra singleton dimensions
 *         # if needed to conform with start,count,stride.
 *         if len(data.shape) != len(datashape):             # <<<<<<<<<<<<<<
 *             data.shape = tuple(datashape)
 * 
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_data, __pyx_kp_shape); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2146; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_7 = PyObject_Length(__pyx_1); if (unlikely(__pyx_7 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2146; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_8 = PyObject_Length(__pyx_v_datashape); if (unlikely(__pyx_8 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2146; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_5 = (__pyx_7 != __pyx_8);
  if (__pyx_5) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2147
 *         # if needed to conform with start,count,stride.
 *         if len(data.shape) != len(datashape):
 *             data.shape = tuple(datashape)             # <<<<<<<<<<<<<<
 * 
 *         # Reshape these arrays so we can iterate over them.
 */
    __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2147; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_datashape);
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_datashape);
    __pyx_3 = PyObject_Call(((PyObject*)&PyTuple_Type), ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2147; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
    if (PyObject_SetAttr(__pyx_v_data, __pyx_kp_shape, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2147; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    goto __pyx_L7;
  }
  __pyx_L7:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2150
 * 
 *         # Reshape these arrays so we can iterate over them.
 *         start = start.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 *         count = count.reshape((-1, self.ndim or 1))
 *         stride = stride.reshape((-1, self.ndim or 1))
 */
  __pyx_6 = PyObject_GetAttr(__pyx_v_start, __pyx_kp_reshape); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2150; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->ndim;
  Py_INCREF(__pyx_1);
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2150; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_4) {
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_1 = __pyx_int_1;
    Py_INCREF(__pyx_1);
  }
  __pyx_2 = PyTuple_New(2); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2150; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_1);
  __pyx_1 = 0;
  __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2150; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyTuple_SET_ITEM(__pyx_3, 0, ((PyObject *)__pyx_2));
  __pyx_2 = 0;
  __pyx_1 = PyObject_Call(__pyx_6, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2150; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
  Py_DECREF(__pyx_v_start);
  __pyx_v_start = __pyx_1;
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2151
 *         # Reshape these arrays so we can iterate over them.
 *         start = start.reshape((-1, self.ndim or 1))
 *         count = count.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 *         stride = stride.reshape((-1, self.ndim or 1))
 *         put_ind = put_ind.reshape((-1, self.ndim or 1))
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_count, __pyx_kp_reshape); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2151; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_6 = ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->ndim;
  Py_INCREF(__pyx_6);
  __pyx_5 = __Pyx_PyObject_IsTrue(__pyx_6); if (unlikely(__pyx_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2151; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_5) {
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_6 = __pyx_int_1;
    Py_INCREF(__pyx_6);
  }
  __pyx_3 = PyTuple_New(2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2151; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_6);
  __pyx_6 = 0;
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2151; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyTuple_SET_ITEM(__pyx_1, 0, ((PyObject *)__pyx_3));
  __pyx_3 = 0;
  __pyx_6 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2151; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  Py_DECREF(__pyx_v_count);
  __pyx_v_count = __pyx_6;
  __pyx_6 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2152
 *         start = start.reshape((-1, self.ndim or 1))
 *         count = count.reshape((-1, self.ndim or 1))
 *         stride = stride.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 *         put_ind = put_ind.reshape((-1, self.ndim or 1))
 * 
 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_stride, __pyx_kp_reshape); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2152; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->ndim;
  Py_INCREF(__pyx_2);
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2152; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_4) {
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_2 = __pyx_int_1;
    Py_INCREF(__pyx_2);
  }
  __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2152; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_2);
  __pyx_2 = 0;
  __pyx_6 = PyTuple_New(1); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2152; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyTuple_SET_ITEM(__pyx_6, 0, ((PyObject *)__pyx_1));
  __pyx_1 = 0;
  __pyx_2 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_6), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2152; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(((PyObject *)__pyx_6)); __pyx_6 = 0;
  Py_DECREF(__pyx_v_stride);
  __pyx_v_stride = __pyx_2;
  __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2153
 *         count = count.reshape((-1, self.ndim or 1))
 *         stride = stride.reshape((-1, self.ndim or 1))
 *         put_ind = put_ind.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 * 
 *         if 'least_significant_digit' in self.ncattrs():
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_put_ind, __pyx_kp_reshape); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2153; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->ndim;
  Py_INCREF(__pyx_3);
  __pyx_5 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2153; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_5) {
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_3 = __pyx_int_1;
    Py_INCREF(__pyx_3);
  }
  __pyx_6 = PyTuple_New(2); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2153; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_6, 0, __pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
  __pyx_3 = 0;
  __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2153; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyTuple_SET_ITEM(__pyx_2, 0, ((PyObject *)__pyx_6));
  __pyx_6 = 0;
  __pyx_3 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2153; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
  Py_DECREF(__pyx_v_put_ind);
  __pyx_v_put_ind = __pyx_3;
  __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2155
 *         put_ind = put_ind.reshape((-1, self.ndim or 1))
 * 
 *         if 'least_significant_digit' in self.ncattrs():             # <<<<<<<<<<<<<<
 *             data = _quantize(data,self.least_significant_digit)
 *         # if auto_maskandscale mode set to True, (through
 */
  __pyx_6 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_ncattrs); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2155; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyObject_Call(__pyx_6, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2155; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  __pyx_4 = (PySequence_Contains(__pyx_1, __pyx_kp_185)); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2155; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2156
 * 
 *         if 'least_significant_digit' in self.ncattrs():
 *             data = _quantize(data,self.least_significant_digit)             # <<<<<<<<<<<<<<
 *         # if auto_maskandscale mode set to True, (through
 *         # a call to set_auto_maskandscale), perform
 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_kp__quantize); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2156; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_105); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2156; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_6 = PyTuple_New(2); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2156; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_data);
    PyTuple_SET_ITEM(__pyx_6, 0, __pyx_v_data);
    PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
    __pyx_3 = 0;
    __pyx_1 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_6), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2156; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(((PyObject *)__pyx_6)); __pyx_6 = 0;
    Py_DECREF(__pyx_v_data);
    __pyx_v_data = __pyx_1;
    __pyx_1 = 0;
    goto __pyx_L8;
  }
  __pyx_L8:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2162
 *         # and automatic filling of masked arrays using
 *         # missing_value/_Fill_Value.
 *         if self.maskandscale:             # <<<<<<<<<<<<<<
 *             # use missing_value as fill value.
 *             # if no missing value set, use _FillValue.
 */
  __pyx_5 = __Pyx_PyObject_IsTrue(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->maskandscale); if (unlikely(__pyx_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2162; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_5) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2165
 *             # use missing_value as fill value.
 *             # if no missing value set, use _FillValue.
 *             if hasattr(data,'mask'):             # <<<<<<<<<<<<<<
 *                 if hasattr(self, 'missing_value'):
 *                     fillval = self.missing_value
 */
    __pyx_4 = PyObject_HasAttr(__pyx_v_data, __pyx_kp_186); if (unlikely(__pyx_4 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2165; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_4) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2166
 *             # if no missing value set, use _FillValue.
 *             if hasattr(data,'mask'):
 *                 if hasattr(self, 'missing_value'):             # <<<<<<<<<<<<<<
 *                     fillval = self.missing_value
 *                 elif hasattr(self, '_FillValue'):
 */
      __pyx_5 = PyObject_HasAttr(__pyx_v_self, __pyx_kp_187); if (unlikely(__pyx_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2166; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (__pyx_5) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2167
 *             if hasattr(data,'mask'):
 *                 if hasattr(self, 'missing_value'):
 *                     fillval = self.missing_value             # <<<<<<<<<<<<<<
 *                 elif hasattr(self, '_FillValue'):
 *                     fillval = self._FillValue
 */
        __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_missing_value); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2167; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_v_fillval);
        __pyx_v_fillval = __pyx_3;
        __pyx_3 = 0;
        goto __pyx_L11;
      }

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2168
 *                 if hasattr(self, 'missing_value'):
 *                     fillval = self.missing_value
 *                 elif hasattr(self, '_FillValue'):             # <<<<<<<<<<<<<<
 *                     fillval = self._FillValue
 *                 else:
 */
      __pyx_4 = PyObject_HasAttr(__pyx_v_self, __pyx_kp_188); if (unlikely(__pyx_4 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2168; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (__pyx_4) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2169
 *                     fillval = self.missing_value
 *                 elif hasattr(self, '_FillValue'):
 *                     fillval = self._FillValue             # <<<<<<<<<<<<<<
 *                 else:
 *                     fillval = _default_fillvals[self.dtype.str[1:]]
 */
        __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__FillValue); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2169; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_v_fillval);
        __pyx_v_fillval = __pyx_2;
        __pyx_2 = 0;
        goto __pyx_L11;
      }
      /*else*/ {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2171
 *                     fillval = self._FillValue
 *                 else:
 *                     fillval = _default_fillvals[self.dtype.str[1:]]             # <<<<<<<<<<<<<<
 *                 data = data.filled(fill_value=fillval)
 *             # pack using scale_factor and add_offset.
 */
        __pyx_6 = __Pyx_GetName(__pyx_m, __pyx_kp__default_fillvals); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2171; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_1 = PyObject_GetAttr(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->dtype, __pyx_kp_str); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2171; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_3 = PySequence_GetSlice(__pyx_1, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2171; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        __pyx_2 = PyObject_GetItem(__pyx_6, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2171; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        Py_DECREF(__pyx_v_fillval);
        __pyx_v_fillval = __pyx_2;
        __pyx_2 = 0;
      }
      __pyx_L11:;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2172
 *                 else:
 *                     fillval = _default_fillvals[self.dtype.str[1:]]
 *                 data = data.filled(fill_value=fillval)             # <<<<<<<<<<<<<<
 *             # pack using scale_factor and add_offset.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 */
      __pyx_1 = PyObject_GetAttr(__pyx_v_data, __pyx_kp_filled); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2172; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_6 = PyDict_New(); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2172; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (PyDict_SetItem(__pyx_6, __pyx_kp_fill_value, __pyx_v_fillval) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2172; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyEval_CallObjectWithKeywords(__pyx_1, ((PyObject *)__pyx_empty_tuple), ((PyObject *)__pyx_6)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2172; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(((PyObject *)__pyx_6)); __pyx_6 = 0;
      Py_DECREF(__pyx_v_data);
      __pyx_v_data = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L10;
    }
    __pyx_L10:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2174
 *                 data = data.filled(fill_value=fillval)
 *             # pack using scale_factor and add_offset.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):             # <<<<<<<<<<<<<<
 *                 data = (data - self.add_offset)/self.scale_factor
 * 
 */
    __pyx_5 = PyObject_HasAttr(__pyx_v_self, __pyx_kp_189); if (unlikely(__pyx_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2174; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_5) {
      __pyx_5 = PyObject_HasAttr(__pyx_v_self, __pyx_kp_190); if (unlikely(__pyx_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2174; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    }
    if (__pyx_5) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2175
 *             # pack using scale_factor and add_offset.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 *                 data = (data - self.add_offset)/self.scale_factor             # <<<<<<<<<<<<<<
 * 
 *         # Fill output array with data chunks.
 */
      __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_add_offset); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2175; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_1 = PyNumber_Subtract(__pyx_v_data, __pyx_2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2175; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_6 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_scale_factor); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2175; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = __Pyx_PyNumber_Divide(__pyx_1, __pyx_6); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2175; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      Py_DECREF(__pyx_v_data);
      __pyx_v_data = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L12;
    }
    __pyx_L12:;
    goto __pyx_L9;
  }
  __pyx_L9:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2178
 * 
 *         # Fill output array with data chunks.
 *         for (a,b,c,i) in zip(start, count, stride, put_ind):             # <<<<<<<<<<<<<<
 *             dataput = data[tuple(i)]
 *             # convert array scalar to regular array with one element.
 */
  __pyx_2 = PyTuple_New(4); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_start);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_start);
  Py_INCREF(__pyx_v_count);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_count);
  Py_INCREF(__pyx_v_stride);
  PyTuple_SET_ITEM(__pyx_2, 2, __pyx_v_stride);
  Py_INCREF(__pyx_v_put_ind);
  PyTuple_SET_ITEM(__pyx_2, 3, __pyx_v_put_ind);
  __pyx_1 = PyObject_Call(__pyx_builtin_zip, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
  if (PyList_CheckExact(__pyx_1) || PyTuple_CheckExact(__pyx_1)) {
    __pyx_7 = 0; __pyx_6 = __pyx_1; Py_INCREF(__pyx_6);
  } else {
    __pyx_7 = -1; __pyx_6 = PyObject_GetIter(__pyx_1); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_6))) {
      if (__pyx_7 >= PyList_GET_SIZE(__pyx_6)) break;
      __pyx_3 = PyList_GET_ITEM(__pyx_6, __pyx_7); Py_INCREF(__pyx_3); __pyx_7++;
    } else if (likely(PyTuple_CheckExact(__pyx_6))) {
      if (__pyx_7 >= PyTuple_GET_SIZE(__pyx_6)) break;
      __pyx_3 = PyTuple_GET_ITEM(__pyx_6, __pyx_7); Py_INCREF(__pyx_3); __pyx_7++;
    } else {
      __pyx_3 = PyIter_Next(__pyx_6);
      if (!__pyx_3) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    if (PyTuple_CheckExact(__pyx_3) && PyTuple_GET_SIZE(__pyx_3) == 4) {
      PyObject* tuple = __pyx_3;
      __pyx_1 = PyTuple_GET_ITEM(tuple, 0);
      Py_INCREF(__pyx_1);
      Py_DECREF(__pyx_v_a);
      __pyx_v_a = __pyx_1;
      __pyx_1 = 0;
      __pyx_1 = PyTuple_GET_ITEM(tuple, 1);
      Py_INCREF(__pyx_1);
      Py_DECREF(__pyx_v_b);
      __pyx_v_b = __pyx_1;
      __pyx_1 = 0;
      __pyx_1 = PyTuple_GET_ITEM(tuple, 2);
      Py_INCREF(__pyx_1);
      Py_DECREF(__pyx_v_c);
      __pyx_v_c = __pyx_1;
      __pyx_1 = 0;
      __pyx_1 = PyTuple_GET_ITEM(tuple, 3);
      Py_INCREF(__pyx_1);
      Py_DECREF(__pyx_v_i);
      __pyx_v_i = __pyx_1;
      __pyx_1 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
    else {
      __pyx_2 = PyObject_GetIter(__pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_1 = __Pyx_UnpackItem(__pyx_2, 0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_a);
      __pyx_v_a = __pyx_1;
      __pyx_1 = 0;
      __pyx_1 = __Pyx_UnpackItem(__pyx_2, 1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_b);
      __pyx_v_b = __pyx_1;
      __pyx_1 = 0;
      __pyx_1 = __Pyx_UnpackItem(__pyx_2, 2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_c);
      __pyx_v_c = __pyx_1;
      __pyx_1 = 0;
      __pyx_1 = __Pyx_UnpackItem(__pyx_2, 3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_i);
      __pyx_v_i = __pyx_1;
      __pyx_1 = 0;
      if (__Pyx_EndUnpack(__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
    }

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2179
 *         # Fill output array with data chunks.
 *         for (a,b,c,i) in zip(start, count, stride, put_ind):
 *             dataput = data[tuple(i)]             # <<<<<<<<<<<<<<
 *             # convert array scalar to regular array with one element.
 *             if dataput.shape == (): dataput=numpy.array(dataput,dataput.dtype)
 */
    __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2179; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_i);
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_i);
    __pyx_3 = PyObject_Call(((PyObject*)&PyTuple_Type), ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2179; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
    __pyx_2 = PyObject_GetItem(__pyx_v_data, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2179; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_v_dataput);
    __pyx_v_dataput = __pyx_2;
    __pyx_2 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2181
 *             dataput = data[tuple(i)]
 *             # convert array scalar to regular array with one element.
 *             if dataput.shape == (): dataput=numpy.array(dataput,dataput.dtype)             # <<<<<<<<<<<<<<
 *             self._put(dataput,a,b,c)
 * 
 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_dataput, __pyx_kp_shape); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2181; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyObject_RichCompare(__pyx_1, ((PyObject *)__pyx_empty_tuple), Py_EQ); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2181; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2181; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (__pyx_4) {
      __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2181; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_kp_array); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2181; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_v_dataput, __pyx_kp_dtype); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2181; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_2 = PyTuple_New(2); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2181; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_v_dataput);
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_dataput);
      PyTuple_SET_ITEM(__pyx_2, 1, __pyx_3);
      __pyx_3 = 0;
      __pyx_3 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2181; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
      Py_DECREF(__pyx_v_dataput);
      __pyx_v_dataput = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L15;
    }
    __pyx_L15:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2182
 *             # convert array scalar to regular array with one element.
 *             if dataput.shape == (): dataput=numpy.array(dataput,dataput.dtype)
 *             self._put(dataput,a,b,c)             # <<<<<<<<<<<<<<
 * 
 *     def assignValue(self,val):
 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__put); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2182; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = PyTuple_New(4); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2182; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_dataput);
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_dataput);
    Py_INCREF(__pyx_v_a);
    PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_a);
    Py_INCREF(__pyx_v_b);
    PyTuple_SET_ITEM(__pyx_2, 2, __pyx_v_b);
    Py_INCREF(__pyx_v_c);
    PyTuple_SET_ITEM(__pyx_2, 3, __pyx_v_c);
    __pyx_3 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2182; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
  }
  Py_DECREF(__pyx_6); __pyx_6 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("netCDF4.Variable.__setitem__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_start);
  Py_DECREF(__pyx_v_count);
  Py_DECREF(__pyx_v_stride);
  Py_DECREF(__pyx_v_put_ind);
  Py_DECREF(__pyx_v_datashape);
  Py_DECREF(__pyx_v_fillval);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  Py_DECREF(__pyx_v_c);
  Py_DECREF(__pyx_v_i);
  Py_DECREF(__pyx_v_dataput);
  Py_DECREF(__pyx_v_data);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2184
 *             self._put(dataput,a,b,c)
 * 
 *     def assignValue(self,val):             # <<<<<<<<<<<<<<
 *         """
 * assignValue(self, val)
 */

static PyObject *__pyx_pf_7netCDF4_8Variable_assignValue(PyObject *__pyx_v_self, PyObject *__pyx_v_val); /*proto*/
static char __pyx_doc_7netCDF4_8Variable_assignValue[] = "\nassignValue(self, val)\n\nassign a value to a scalar variable.  Provided for compatibility with \nScientific.IO.NetCDF, can also be done by assigning to a slice ([:]).";
static PyObject *__pyx_pf_7netCDF4_8Variable_assignValue(PyObject *__pyx_v_self, PyObject *__pyx_v_val) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_ssize_t __pyx_2 = 0;
  PyObject *__pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2190
 * assign a value to a scalar variable.  Provided for compatibility with
 * Scientific.IO.NetCDF, can also be done by assigning to a slice ([:])."""
 *         if len(self.dimensions):             # <<<<<<<<<<<<<<
 *             raise IndexError('to assign values to a non-scalar variable, use a slice')
 *         self[:]=val
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_dimensions); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2190; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_Length(__pyx_1); if (unlikely(__pyx_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2190; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2191
 * Scientific.IO.NetCDF, can also be done by assigning to a slice ([:])."""
 *         if len(self.dimensions):
 *             raise IndexError('to assign values to a non-scalar variable, use a slice')             # <<<<<<<<<<<<<<
 *         self[:]=val
 * 
 */
    __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2191; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_kp_191);
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_kp_191);
    __pyx_3 = PyObject_Call(__pyx_builtin_IndexError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2191; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2191; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2192
 *         if len(self.dimensions):
 *             raise IndexError('to assign values to a non-scalar variable, use a slice')
 *         self[:]=val             # <<<<<<<<<<<<<<
 * 
 *     def getValue(self):
 */
  if (PySequence_SetSlice(__pyx_v_self, 0, PY_SSIZE_T_MAX, __pyx_v_val) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2192; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.Variable.assignValue");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2194
 *         self[:]=val
 * 
 *     def getValue(self):             # <<<<<<<<<<<<<<
 *         """
 * getValue(self)
 */

static PyObject *__pyx_pf_7netCDF4_8Variable_getValue(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF4_8Variable_getValue[] = "\ngetValue(self)\n\nget the value of a scalar variable.  Provided for compatibility with \nScientific.IO.NetCDF, can also be done by slicing ([:]).";
static PyObject *__pyx_pf_7netCDF4_8Variable_getValue(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_ssize_t __pyx_2 = 0;
  PyObject *__pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2200
 * get the value of a scalar variable.  Provided for compatibility with
 * Scientific.IO.NetCDF, can also be done by slicing ([:])."""
 *         if len(self.dimensions):             # <<<<<<<<<<<<<<
 *             raise IndexError('to retrieve values from a non-scalar variable, use slicing')
 *         return self[slice(None)]
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_dimensions); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2200; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_Length(__pyx_1); if (unlikely(__pyx_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2200; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2201
 * Scientific.IO.NetCDF, can also be done by slicing ([:])."""
 *         if len(self.dimensions):
 *             raise IndexError('to retrieve values from a non-scalar variable, use slicing')             # <<<<<<<<<<<<<<
 *         return self[slice(None)]
 * 
 */
    __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2201; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_kp_192);
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_kp_192);
    __pyx_3 = PyObject_Call(__pyx_builtin_IndexError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2201; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2201; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2202
 *         if len(self.dimensions):
 *             raise IndexError('to retrieve values from a non-scalar variable, use slicing')
 *         return self[slice(None)]             # <<<<<<<<<<<<<<
 * 
 *     def set_auto_maskandscale(self,maskandscale):
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2202; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(Py_None);
  PyTuple_SET_ITEM(__pyx_1, 0, Py_None);
  __pyx_3 = PyObject_Call(((PyObject*)&PySlice_Type), ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2202; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __pyx_1 = PyObject_GetItem(__pyx_v_self, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2202; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.Variable.getValue");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2204
 *         return self[slice(None)]
 * 
 *     def set_auto_maskandscale(self,maskandscale):             # <<<<<<<<<<<<<<
 *         """
 * set_auto_maskandscale(self,maskandscale)
 */

static PyObject *__pyx_pf_7netCDF4_8Variable_set_auto_maskandscale(PyObject *__pyx_v_self, PyObject *__pyx_v_maskandscale); /*proto*/
static char __pyx_doc_7netCDF4_8Variable_set_auto_maskandscale[] = "\nset_auto_maskandscale(self,maskandscale)\n\nturn on or off automatic conversion of variable data to and\nfrom masked arrays and automatic packing/unpacking of variable\ndata using C{scale_factor} and C{add_offset} attributes.\n\nIf C{maskandscale} is set to C{True}, when data is read from a variable\nit is converted to a masked array if any of the values are exactly\nequal to the either the netCDF _FillValue or the value specified by the \nmissing_value variable attribute. The fill_value of the masked array\nis set to the missing_value attribute (if it exists), otherwise\nthe netCDF _FillValue attribute (which has a default value\nfor each data type).  When data is written to a variable, the masked\narray is converted back to a regular numpy array by replacing all the\nmasked values by the fill_value of the masked array.\n\nIf C{maskandscale} is set to C{True}, and the variable has a\nC{scale_factor} and an C{add_offset} attribute, then data read\nfrom that variable is unpacked using::\n\n    data = self.scale_factor*data + self.add_offset\n            \nWhen data is written to a variable it is packed using::\n\n    data = (data - self.add_offset)/self.scale_factor\n\nFor more information on how C{scale_factor} and C{add_offset} can be \nused to provide simple compression, see\nU{http://www.cdc.noaa.gov/cdc/conventions/cdc_netcdf_standard.shtml\n<http://www.cdc.noaa.gov/cdc/conventions/cdc_netcdf_standard.shtml>}.\n\nThe default value of C{maskandscale} is C{False}\n(no automatic conversions are performed).\n        ";
static PyObject *__pyx_pf_7netCDF4_8Variable_set_auto_maskandscale(PyObject *__pyx_v_self, PyObject *__pyx_v_maskandscale) {
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2240
 * (no automatic conversions are performed).
 *         """
 *         if maskandscale:             # <<<<<<<<<<<<<<
 *             self.maskandscale = True
 *         else:
 */
  __pyx_1 = __Pyx_PyObject_IsTrue(__pyx_v_maskandscale); if (unlikely(__pyx_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2240; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_1) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2241
 *         """
 *         if maskandscale:
 *             self.maskandscale = True             # <<<<<<<<<<<<<<
 *         else:
 *             self.maskandscale = False
 */
    __pyx_2 = __Pyx_PyBool_FromLong(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2241; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->maskandscale);
    ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->maskandscale = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2243
 *             self.maskandscale = True
 *         else:
 *             self.maskandscale = False             # <<<<<<<<<<<<<<
 * 
 *     def _put(self,ndarray data,start,count,stride):
 */
    __pyx_2 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2243; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->maskandscale);
    ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->maskandscale = __pyx_2;
    __pyx_2 = 0;
  }
  __pyx_L5:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("netCDF4.Variable.set_auto_maskandscale");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2245
 *             self.maskandscale = False
 * 
 *     def _put(self,ndarray data,start,count,stride):             # <<<<<<<<<<<<<<
 *         """Private method to put data into a netCDF variable"""
 *         cdef int ierr, ndims, totelem
 */

static PyObject *__pyx_pf_7netCDF4_8Variable__put(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF4_8Variable__put[] = "Private method to put data into a netCDF variable";
static PyObject *__pyx_pf_7netCDF4_8Variable__put(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyArrayObject *__pyx_v_data = 0;
  PyObject *__pyx_v_start = 0;
  PyObject *__pyx_v_count = 0;
  PyObject *__pyx_v_stride = 0;
  int __pyx_v_ierr;
  int __pyx_v_ndims;
  int __pyx_v_totelem;
  size_t __pyx_v_startp[NC_MAX_DIMS];
  size_t __pyx_v_countp[NC_MAX_DIMS];
  ptrdiff_t __pyx_v_stridep[NC_MAX_DIMS];
  PyObject *__pyx_v_negstride;
  PyObject *__pyx_v_sl;
  PyObject *__pyx_v_n;
  PyObject *__pyx_v_dataelem;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_ssize_t __pyx_2 = 0;
  int __pyx_3;
  PyObject *__pyx_4 = 0;
  long __pyx_5;
  size_t __pyx_6;
  ptrdiff_t __pyx_7;
  PyObject *__pyx_8 = 0;
  PyObject *__pyx_9 = 0;
  static char *__pyx_argnames[] = {"data","start","count","stride",0};
  if (likely(!__pyx_kwds) && likely(PyTuple_GET_SIZE(__pyx_args) == 4)) {
    __pyx_v_data = ((PyArrayObject *)PyTuple_GET_ITEM(__pyx_args, 0));
    __pyx_v_start = PyTuple_GET_ITEM(__pyx_args, 1);
    __pyx_v_count = PyTuple_GET_ITEM(__pyx_args, 2);
    __pyx_v_stride = PyTuple_GET_ITEM(__pyx_args, 3);
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOOO", __pyx_argnames, &__pyx_v_data, &__pyx_v_start, &__pyx_v_count, &__pyx_v_stride))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2245; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4.Variable._put");
  return NULL;
  __pyx_L4:;
  Py_INCREF(__pyx_v_data);
  __pyx_v_negstride = Py_None; Py_INCREF(Py_None);
  __pyx_v_sl = Py_None; Py_INCREF(Py_None);
  __pyx_v_n = Py_None; Py_INCREF(Py_None);
  __pyx_v_dataelem = Py_None; Py_INCREF(Py_None);
  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_data), __pyx_ptype_7netCDF4_ndarray, 1, "data", 0))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2245; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2251
 *         cdef ptrdiff_t stridep[NC_MAX_DIMS]
 *         # rank of variable.
 *         ndims = len(self.dimensions)             # <<<<<<<<<<<<<<
 *         # make sure data is contiguous.
 *         # if not, make a local copy.
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_dimensions); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2251; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_Length(__pyx_1); if (unlikely(__pyx_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2251; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_ndims = __pyx_2;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2254
 *         # make sure data is contiguous.
 *         # if not, make a local copy.
 *         if not PyArray_ISCONTIGUOUS(data):             # <<<<<<<<<<<<<<
 *             data = data.copy()
 *         # fill up startp,countp,stridep.
 */
  __pyx_3 = (!PyArray_ISCONTIGUOUS(__pyx_v_data));
  if (__pyx_3) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2255
 *         # if not, make a local copy.
 *         if not PyArray_ISCONTIGUOUS(data):
 *             data = data.copy()             # <<<<<<<<<<<<<<
 *         # fill up startp,countp,stridep.
 *         totelem = 1
 */
    __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_data), __pyx_kp_copy); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2255; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2255; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!(__Pyx_TypeTest(__pyx_4, __pyx_ptype_7netCDF4_ndarray))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2255; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_v_data));
    __pyx_v_data = ((PyArrayObject *)__pyx_4);
    __pyx_4 = 0;
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2257
 *             data = data.copy()
 *         # fill up startp,countp,stridep.
 *         totelem = 1             # <<<<<<<<<<<<<<
 *         negstride = 0
 *         sl = []
 */
  __pyx_v_totelem = 1;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2258
 *         # fill up startp,countp,stridep.
 *         totelem = 1
 *         negstride = 0             # <<<<<<<<<<<<<<
 *         sl = []
 *         for n from 0 <= n < ndims:
 */
  Py_INCREF(__pyx_int_0);
  Py_DECREF(__pyx_v_negstride);
  __pyx_v_negstride = __pyx_int_0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2259
 *         totelem = 1
 *         negstride = 0
 *         sl = []             # <<<<<<<<<<<<<<
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1
 */
  __pyx_1 = PyList_New(0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2259; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_sl);
  __pyx_v_sl = ((PyObject *)__pyx_1);
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2260
 *         negstride = 0
 *         sl = []
 *         for n from 0 <= n < ndims:             # <<<<<<<<<<<<<<
 *             count[n] = abs(count[n]) # make -1 into +1
 *             countp[n] = count[n]
 */
  for (__pyx_5 = 0; __pyx_5 < __pyx_v_ndims; __pyx_5++) {
    __pyx_4 = PyInt_FromLong(__pyx_5); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2260; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_n);
    __pyx_v_n = __pyx_4;
    __pyx_4 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2261
 *         sl = []
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1             # <<<<<<<<<<<<<<
 *             countp[n] = count[n]
 *             # for neg strides, reverse order (then flip that axis after data read in)
 */
    __pyx_1 = PyObject_GetItem(__pyx_v_count, __pyx_v_n); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2261; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyNumber_Absolute(__pyx_1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2261; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (PyObject_SetItem(__pyx_v_count, __pyx_v_n, __pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2261; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2262
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1
 *             countp[n] = count[n]             # <<<<<<<<<<<<<<
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0:
 */
    __pyx_1 = PyObject_GetItem(__pyx_v_count, __pyx_v_n); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2262; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_6 = __pyx_PyInt_long(__pyx_1); if (unlikely((__pyx_6 == (long)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2262; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2262; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    (__pyx_v_countp[__pyx_2]) = __pyx_6;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2264
 *             countp[n] = count[n]
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0:             # <<<<<<<<<<<<<<
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 */
    __pyx_4 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2264; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = PyObject_RichCompare(__pyx_4, __pyx_int_0, Py_LT); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2264; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2264; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_3) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2265
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0:
 *                 negstride = 1             # <<<<<<<<<<<<<<
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 */
      Py_INCREF(__pyx_int_1);
      Py_DECREF(__pyx_v_negstride);
      __pyx_v_negstride = __pyx_int_1;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2266
 *             if stride[n] < 0:
 *                 negstride = 1
 *                 stridep[n] = -stride[n]             # <<<<<<<<<<<<<<
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]
 */
      __pyx_4 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2266; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_1 = PyNumber_Negative(__pyx_4); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2266; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __pyx_7 = __pyx_PyInt_long(__pyx_1); if (unlikely((__pyx_7 == (long)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2266; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2266; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      (__pyx_v_stridep[__pyx_2]) = __pyx_7;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2267
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)             # <<<<<<<<<<<<<<
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 */
      __pyx_4 = PyObject_GetItem(__pyx_v_start, __pyx_v_n); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_1 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_8 = PyObject_GetItem(__pyx_v_count, __pyx_v_n); if (!__pyx_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_9 = PyNumber_Subtract(__pyx_8, __pyx_int_1); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_8); __pyx_8 = 0;
      __pyx_8 = PyNumber_Multiply(__pyx_1, __pyx_9); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_9); __pyx_9 = 0;
      __pyx_1 = PyNumber_Add(__pyx_4, __pyx_8); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_8); __pyx_8 = 0;
      __pyx_6 = __pyx_PyInt_long(__pyx_1); if (unlikely((__pyx_6 == (long)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      (__pyx_v_startp[__pyx_2]) = __pyx_6;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2268
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]             # <<<<<<<<<<<<<<
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 *             else:
 */
      __pyx_9 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (!__pyx_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2268; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_4 = PyNumber_Negative(__pyx_9); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2268; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_9); __pyx_9 = 0;
      if (PyObject_SetItem(__pyx_v_stride, __pyx_v_n, __pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2268; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2269
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data             # <<<<<<<<<<<<<<
 *             else:
 *                 startp[n] = start[n]
 */
      __pyx_8 = PyTuple_New(3); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2269; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_8, 0, Py_None);
      Py_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_8, 1, Py_None);
      Py_INCREF(__pyx_int_neg_1);
      PyTuple_SET_ITEM(__pyx_8, 2, __pyx_int_neg_1);
      __pyx_1 = PyObject_Call(((PyObject*)&PySlice_Type), ((PyObject *)__pyx_8), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2269; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_8)); __pyx_8 = 0;
      __pyx_9 = __Pyx_PyObject_Append(__pyx_v_sl, __pyx_1); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2269; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_9); __pyx_9 = 0;
      goto __pyx_L8;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2271
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 *             else:
 *                 startp[n] = start[n]             # <<<<<<<<<<<<<<
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))
 */
      __pyx_4 = PyObject_GetItem(__pyx_v_start, __pyx_v_n); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2271; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_6 = __pyx_PyInt_long(__pyx_4); if (unlikely((__pyx_6 == (long)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2271; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2271; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      (__pyx_v_startp[__pyx_2]) = __pyx_6;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2272
 *             else:
 *                 startp[n] = start[n]
 *                 stridep[n] = stride[n]             # <<<<<<<<<<<<<<
 *                 sl.append(slice(None,None, 1))
 *             totelem = totelem*countp[n]
 */
      __pyx_8 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (!__pyx_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2272; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_7 = __pyx_PyInt_long(__pyx_8); if (unlikely((__pyx_7 == (long)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2272; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_8); __pyx_8 = 0;
      __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2272; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      (__pyx_v_stridep[__pyx_2]) = __pyx_7;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2273
 *                 startp[n] = start[n]
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))             # <<<<<<<<<<<<<<
 *             totelem = totelem*countp[n]
 *         # check to see that size of data array is what is expected
 */
      __pyx_1 = PyTuple_New(3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2273; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_1, 0, Py_None);
      Py_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_1, 1, Py_None);
      Py_INCREF(__pyx_int_1);
      PyTuple_SET_ITEM(__pyx_1, 2, __pyx_int_1);
      __pyx_9 = PyObject_Call(((PyObject*)&PySlice_Type), ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2273; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
      __pyx_4 = __Pyx_PyObject_Append(__pyx_v_sl, __pyx_9); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2273; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_9); __pyx_9 = 0;
      Py_DECREF(__pyx_4); __pyx_4 = 0;
    }
    __pyx_L8:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2274
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))
 *             totelem = totelem*countp[n]             # <<<<<<<<<<<<<<
 *         # check to see that size of data array is what is expected
 *         # for slice given.
 */
    __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2274; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_v_totelem = (__pyx_v_totelem * (__pyx_v_countp[__pyx_2]));
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2277
 *         # check to see that size of data array is what is expected
 *         # for slice given.
 *         dataelem = PyArray_SIZE(data)             # <<<<<<<<<<<<<<
 *         if totelem != dataelem:
 *             raise IndexError('size of data array does not conform to slice')
 */
  __pyx_8 = PyInt_FromLong(PyArray_SIZE(__pyx_v_data)); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2277; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_dataelem);
  __pyx_v_dataelem = __pyx_8;
  __pyx_8 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2278
 *         # for slice given.
 *         dataelem = PyArray_SIZE(data)
 *         if totelem != dataelem:             # <<<<<<<<<<<<<<
 *             raise IndexError('size of data array does not conform to slice')
 *         # if data type of array doesn't match variable,
 */
  __pyx_1 = PyInt_FromLong(__pyx_v_totelem); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2278; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_9 = PyObject_RichCompare(__pyx_1, __pyx_v_dataelem, Py_NE); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2278; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_9); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2278; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_9); __pyx_9 = 0;
  if (__pyx_3) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2279
 *         dataelem = PyArray_SIZE(data)
 *         if totelem != dataelem:
 *             raise IndexError('size of data array does not conform to slice')             # <<<<<<<<<<<<<<
 *         # if data type of array doesn't match variable,
 *         # try to cast the data.
 */
    __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2279; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_kp_193);
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_kp_193);
    __pyx_8 = PyObject_Call(__pyx_builtin_IndexError, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2279; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
    __Pyx_Raise(__pyx_8, 0, 0);
    Py_DECREF(__pyx_8); __pyx_8 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2279; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L9;
  }
  __pyx_L9:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2282
 *         # if data type of array doesn't match variable,
 *         # try to cast the data.
 *         if self.dtype != data.dtype:             # <<<<<<<<<<<<<<
 *             data = data.astype(self.dtype) # cast data, if necessary.
 *         # if there is a negative stride, reverse the data, then use put_vars.
 */
  __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_data), __pyx_kp_dtype); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2282; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_9 = PyObject_RichCompare(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->dtype, __pyx_1, Py_NE); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2282; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_9); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2282; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_9); __pyx_9 = 0;
  if (__pyx_3) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2283
 *         # try to cast the data.
 *         if self.dtype != data.dtype:
 *             data = data.astype(self.dtype) # cast data, if necessary.             # <<<<<<<<<<<<<<
 *         # if there is a negative stride, reverse the data, then use put_vars.
 *         if negstride:
 */
    __pyx_4 = PyObject_GetAttr(((PyObject *)__pyx_v_data), __pyx_kp_astype); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2283; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_8 = PyTuple_New(1); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2283; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->dtype);
    PyTuple_SET_ITEM(__pyx_8, 0, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->dtype);
    __pyx_1 = PyObject_Call(__pyx_4, ((PyObject *)__pyx_8), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2283; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(((PyObject *)__pyx_8)); __pyx_8 = 0;
    if (!(__Pyx_TypeTest(__pyx_1, __pyx_ptype_7netCDF4_ndarray))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2283; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_v_data));
    __pyx_v_data = ((PyArrayObject *)__pyx_1);
    __pyx_1 = 0;
    goto __pyx_L10;
  }
  __pyx_L10:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2285
 *             data = data.astype(self.dtype) # cast data, if necessary.
 *         # if there is a negative stride, reverse the data, then use put_vars.
 *         if negstride:             # <<<<<<<<<<<<<<
 *             # reverse data along axes with negative strides.
 *             data = data[sl].copy() # make sure a copy is made.
 */
  __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_v_negstride); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2285; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_3) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2287
 *         if negstride:
 *             # reverse data along axes with negative strides.
 *             data = data[sl].copy() # make sure a copy is made.             # <<<<<<<<<<<<<<
 *         # strides all 1 or scalar variable, use put_vara (faster)
 *         if sum(stride) == ndims or ndims == 0:
 */
    __pyx_9 = PyObject_GetItem(((PyObject *)__pyx_v_data), __pyx_v_sl); if (!__pyx_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2287; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyObject_GetAttr(__pyx_9, __pyx_kp_copy); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2287; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_9); __pyx_9 = 0;
    __pyx_8 = PyObject_Call(__pyx_4, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2287; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    if (!(__Pyx_TypeTest(__pyx_8, __pyx_ptype_7netCDF4_ndarray))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2287; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_v_data));
    __pyx_v_data = ((PyArrayObject *)__pyx_8);
    __pyx_8 = 0;
    goto __pyx_L11;
  }
  __pyx_L11:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2289
 *             data = data[sl].copy() # make sure a copy is made.
 *         # strides all 1 or scalar variable, use put_vara (faster)
 *         if sum(stride) == ndims or ndims == 0:             # <<<<<<<<<<<<<<
 *             ierr = nc_put_vara(self._grpid, self._varid,
 *                                startp, countp, data.data)
 */
  __pyx_9 = PyTuple_New(1); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2289; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_stride);
  PyTuple_SET_ITEM(__pyx_9, 0, __pyx_v_stride);
  __pyx_4 = PyObject_Call(__pyx_builtin_sum, ((PyObject *)__pyx_9), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2289; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_9)); __pyx_9 = 0;
  __pyx_8 = PyInt_FromLong(__pyx_v_ndims); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2289; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyObject_RichCompare(__pyx_4, __pyx_8, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2289; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_8); __pyx_8 = 0;
  __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2289; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_3) {
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_1 = __Pyx_PyBool_FromLong((__pyx_v_ndims == 0)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2289; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2289; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_3) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2291
 *         if sum(stride) == ndims or ndims == 0:
 *             ierr = nc_put_vara(self._grpid, self._varid,
 *                                startp, countp, data.data)             # <<<<<<<<<<<<<<
 *         else:
 *             ierr = nc_put_vars(self._grpid, self._varid,
 */
    __pyx_v_ierr = nc_put_vara(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, __pyx_v_startp, __pyx_v_countp, __pyx_v_data->data);
    goto __pyx_L12;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2294
 *         else:
 *             ierr = nc_put_vars(self._grpid, self._varid,
 *                                   startp, countp, stridep, data.data)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_put_vars(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, __pyx_v_startp, __pyx_v_countp, __pyx_v_stridep, __pyx_v_data->data);
  }
  __pyx_L12:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2295
 *             ierr = nc_put_vars(self._grpid, self._varid,
 *                                   startp, countp, stridep, data.data)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 */
  __pyx_3 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_3) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2296
 *                                   startp, countp, stridep, data.data)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 * 
 *     def _get(self,start,count,stride):
 */
    __pyx_9 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2296; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2296; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_9);
    __pyx_9 = 0;
    __pyx_8 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2296; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
    __Pyx_Raise(__pyx_8, 0, 0);
    Py_DECREF(__pyx_8); __pyx_8 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2296; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L13;
  }
  __pyx_L13:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_8);
  Py_XDECREF(__pyx_9);
  __Pyx_AddTraceback("netCDF4.Variable._put");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_negstride);
  Py_DECREF(__pyx_v_sl);
  Py_DECREF(__pyx_v_n);
  Py_DECREF(__pyx_v_dataelem);
  Py_DECREF(__pyx_v_data);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2298
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 *     def _get(self,start,count,stride):             # <<<<<<<<<<<<<<
 *         """Private method to retrieve data from a netCDF variable"""
 *         cdef int ierr, ndims
 */

static PyObject *__pyx_pf_7netCDF4_8Variable__get(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF4_8Variable__get[] = "Private method to retrieve data from a netCDF variable";
static PyObject *__pyx_pf_7netCDF4_8Variable__get(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_start = 0;
  PyObject *__pyx_v_count = 0;
  PyObject *__pyx_v_stride = 0;
  int __pyx_v_ierr;
  int __pyx_v_ndims;
  size_t __pyx_v_startp[NC_MAX_DIMS];
  size_t __pyx_v_countp[NC_MAX_DIMS];
  ptrdiff_t __pyx_v_stridep[NC_MAX_DIMS];
  PyArrayObject *__pyx_v_data;
  PyObject *__pyx_v_shapeout;
  PyObject *__pyx_v_squeeze_out;
  PyObject *__pyx_v_lendim;
  PyObject *__pyx_v_negstride;
  PyObject *__pyx_v_sl;
  PyObject *__pyx_v_n;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_ssize_t __pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  long __pyx_6;
  size_t __pyx_7;
  ptrdiff_t __pyx_8;
  PyObject *__pyx_9 = 0;
  int __pyx_10;
  static char *__pyx_argnames[] = {"start","count","stride",0};
  if (likely(!__pyx_kwds) && likely(PyTuple_GET_SIZE(__pyx_args) == 3)) {
    __pyx_v_start = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_count = PyTuple_GET_ITEM(__pyx_args, 1);
    __pyx_v_stride = PyTuple_GET_ITEM(__pyx_args, 2);
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOO", __pyx_argnames, &__pyx_v_start, &__pyx_v_count, &__pyx_v_stride))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2298; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4.Variable._get");
  return NULL;
  __pyx_L4:;
  __pyx_v_data = ((PyArrayObject *)Py_None); Py_INCREF(Py_None);
  __pyx_v_shapeout = Py_None; Py_INCREF(Py_None);
  __pyx_v_squeeze_out = Py_None; Py_INCREF(Py_None);
  __pyx_v_lendim = Py_None; Py_INCREF(Py_None);
  __pyx_v_negstride = Py_None; Py_INCREF(Py_None);
  __pyx_v_sl = Py_None; Py_INCREF(Py_None);
  __pyx_v_n = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2307
 *         # and not a slice so the resulting array
 *         # should be 'squeezed' to remove the singleton dimension.
 *         shapeout = ()             # <<<<<<<<<<<<<<
 *         squeeze_out = False
 *         for lendim in count:
 */
  Py_INCREF(((PyObject *)__pyx_empty_tuple));
  Py_DECREF(__pyx_v_shapeout);
  __pyx_v_shapeout = ((PyObject *)__pyx_empty_tuple);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2308
 *         # should be 'squeezed' to remove the singleton dimension.
 *         shapeout = ()
 *         squeeze_out = False             # <<<<<<<<<<<<<<
 *         for lendim in count:
 *             if lendim == -1:
 */
  __pyx_1 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2308; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_squeeze_out);
  __pyx_v_squeeze_out = __pyx_1;
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2309
 *         shapeout = ()
 *         squeeze_out = False
 *         for lendim in count:             # <<<<<<<<<<<<<<
 *             if lendim == -1:
 *                 shapeout = shapeout + (1,)
 */
  if (PyList_CheckExact(__pyx_v_count) || PyTuple_CheckExact(__pyx_v_count)) {
    __pyx_2 = 0; __pyx_1 = __pyx_v_count; Py_INCREF(__pyx_1);
  } else {
    __pyx_2 = -1; __pyx_1 = PyObject_GetIter(__pyx_v_count); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2309; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_1))) {
      if (__pyx_2 >= PyList_GET_SIZE(__pyx_1)) break;
      __pyx_3 = PyList_GET_ITEM(__pyx_1, __pyx_2); Py_INCREF(__pyx_3); __pyx_2++;
    } else if (likely(PyTuple_CheckExact(__pyx_1))) {
      if (__pyx_2 >= PyTuple_GET_SIZE(__pyx_1)) break;
      __pyx_3 = PyTuple_GET_ITEM(__pyx_1, __pyx_2); Py_INCREF(__pyx_3); __pyx_2++;
    } else {
      __pyx_3 = PyIter_Next(__pyx_1);
      if (!__pyx_3) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2309; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    Py_DECREF(__pyx_v_lendim);
    __pyx_v_lendim = __pyx_3;
    __pyx_3 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2310
 *         squeeze_out = False
 *         for lendim in count:
 *             if lendim == -1:             # <<<<<<<<<<<<<<
 *                 shapeout = shapeout + (1,)
 *                 squeeze_out = True
 */
    __pyx_3 = PyObject_RichCompare(__pyx_v_lendim, __pyx_int_neg_1, Py_EQ); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2310; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2310; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (__pyx_4) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2311
 *         for lendim in count:
 *             if lendim == -1:
 *                 shapeout = shapeout + (1,)             # <<<<<<<<<<<<<<
 *                 squeeze_out = True
 *             else:
 */
      __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2311; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_int_1);
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_int_1);
      __pyx_5 = PyNumber_Add(__pyx_v_shapeout, ((PyObject *)__pyx_3)); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2311; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
      Py_DECREF(__pyx_v_shapeout);
      __pyx_v_shapeout = __pyx_5;
      __pyx_5 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2312
 *             if lendim == -1:
 *                 shapeout = shapeout + (1,)
 *                 squeeze_out = True             # <<<<<<<<<<<<<<
 *             else:
 *                 shapeout = shapeout + (lendim,)
 */
      __pyx_3 = __Pyx_PyBool_FromLong(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2312; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_squeeze_out);
      __pyx_v_squeeze_out = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L7;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2314
 *                 squeeze_out = True
 *             else:
 *                 shapeout = shapeout + (lendim,)             # <<<<<<<<<<<<<<
 *         # rank of variable.
 *         ndims = len(self.dimensions)
 */
      __pyx_5 = PyTuple_New(1); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2314; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_v_lendim);
      PyTuple_SET_ITEM(__pyx_5, 0, __pyx_v_lendim);
      __pyx_3 = PyNumber_Add(__pyx_v_shapeout, ((PyObject *)__pyx_5)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2314; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_5)); __pyx_5 = 0;
      Py_DECREF(__pyx_v_shapeout);
      __pyx_v_shapeout = __pyx_3;
      __pyx_3 = 0;
    }
    __pyx_L7:;
  }
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2316
 *                 shapeout = shapeout + (lendim,)
 *         # rank of variable.
 *         ndims = len(self.dimensions)             # <<<<<<<<<<<<<<
 *         # fill up startp,countp,stridep.
 *         negstride = 0
 */
  __pyx_5 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_dimensions); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2316; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_Length(__pyx_5); if (unlikely(__pyx_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2316; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_v_ndims = __pyx_2;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2318
 *         ndims = len(self.dimensions)
 *         # fill up startp,countp,stridep.
 *         negstride = 0             # <<<<<<<<<<<<<<
 *         sl = []
 *         for n from 0 <= n < ndims:
 */
  Py_INCREF(__pyx_int_0);
  Py_DECREF(__pyx_v_negstride);
  __pyx_v_negstride = __pyx_int_0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2319
 *         # fill up startp,countp,stridep.
 *         negstride = 0
 *         sl = []             # <<<<<<<<<<<<<<
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1
 */
  __pyx_3 = PyList_New(0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2319; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_sl);
  __pyx_v_sl = ((PyObject *)__pyx_3);
  __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2320
 *         negstride = 0
 *         sl = []
 *         for n from 0 <= n < ndims:             # <<<<<<<<<<<<<<
 *             count[n] = abs(count[n]) # make -1 into +1
 *             countp[n] = count[n]
 */
  for (__pyx_6 = 0; __pyx_6 < __pyx_v_ndims; __pyx_6++) {
    __pyx_1 = PyInt_FromLong(__pyx_6); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2320; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_n);
    __pyx_v_n = __pyx_1;
    __pyx_1 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2321
 *         sl = []
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1             # <<<<<<<<<<<<<<
 *             countp[n] = count[n]
 *             # for neg strides, reverse order (then flip that axis after data read in)
 */
    __pyx_5 = PyObject_GetItem(__pyx_v_count, __pyx_v_n); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2321; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyNumber_Absolute(__pyx_5); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2321; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    if (PyObject_SetItem(__pyx_v_count, __pyx_v_n, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2321; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2322
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1
 *             countp[n] = count[n]             # <<<<<<<<<<<<<<
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0:
 */
    __pyx_1 = PyObject_GetItem(__pyx_v_count, __pyx_v_n); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2322; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_7 = __pyx_PyInt_long(__pyx_1); if (unlikely((__pyx_7 == (long)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2322; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2322; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    (__pyx_v_countp[__pyx_2]) = __pyx_7;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2324
 *             countp[n] = count[n]
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0:             # <<<<<<<<<<<<<<
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 */
    __pyx_5 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2324; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyObject_RichCompare(__pyx_5, __pyx_int_0, Py_LT); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2324; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2324; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (__pyx_4) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2325
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0:
 *                 negstride = 1             # <<<<<<<<<<<<<<
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 */
      Py_INCREF(__pyx_int_1);
      Py_DECREF(__pyx_v_negstride);
      __pyx_v_negstride = __pyx_int_1;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2326
 *             if stride[n] < 0:
 *                 negstride = 1
 *                 stridep[n] = -stride[n]             # <<<<<<<<<<<<<<
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]
 */
      __pyx_1 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2326; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_5 = PyNumber_Negative(__pyx_1); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2326; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_8 = __pyx_PyInt_long(__pyx_5); if (unlikely((__pyx_8 == (long)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2326; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2326; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      (__pyx_v_stridep[__pyx_2]) = __pyx_8;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2327
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)             # <<<<<<<<<<<<<<
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 */
      __pyx_3 = PyObject_GetItem(__pyx_v_start, __pyx_v_n); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2327; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_1 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2327; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_5 = PyObject_GetItem(__pyx_v_count, __pyx_v_n); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2327; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_9 = PyNumber_Subtract(__pyx_5, __pyx_int_1); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2327; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __pyx_5 = PyNumber_Multiply(__pyx_1, __pyx_9); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2327; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_9); __pyx_9 = 0;
      __pyx_1 = PyNumber_Add(__pyx_3, __pyx_5); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2327; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __pyx_7 = __pyx_PyInt_long(__pyx_1); if (unlikely((__pyx_7 == (long)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2327; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2327; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      (__pyx_v_startp[__pyx_2]) = __pyx_7;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2328
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]             # <<<<<<<<<<<<<<
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 *             else:
 */
      __pyx_9 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (!__pyx_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2328; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyNumber_Negative(__pyx_9); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2328; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_9); __pyx_9 = 0;
      if (PyObject_SetItem(__pyx_v_stride, __pyx_v_n, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2328; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2329
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data             # <<<<<<<<<<<<<<
 *             else:
 *                 startp[n] = start[n]
 */
      __pyx_5 = PyTuple_New(3); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2329; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_5, 0, Py_None);
      Py_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_5, 1, Py_None);
      Py_INCREF(__pyx_int_neg_1);
      PyTuple_SET_ITEM(__pyx_5, 2, __pyx_int_neg_1);
      __pyx_1 = PyObject_Call(((PyObject*)&PySlice_Type), ((PyObject *)__pyx_5), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2329; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_5)); __pyx_5 = 0;
      __pyx_9 = __Pyx_PyObject_Append(__pyx_v_sl, __pyx_1); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2329; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_9); __pyx_9 = 0;
      goto __pyx_L10;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2331
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 *             else:
 *                 startp[n] = start[n]             # <<<<<<<<<<<<<<
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))
 */
      __pyx_3 = PyObject_GetItem(__pyx_v_start, __pyx_v_n); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2331; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_7 = __pyx_PyInt_long(__pyx_3); if (unlikely((__pyx_7 == (long)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2331; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2331; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      (__pyx_v_startp[__pyx_2]) = __pyx_7;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2332
 *             else:
 *                 startp[n] = start[n]
 *                 stridep[n] = stride[n]             # <<<<<<<<<<<<<<
 *                 sl.append(slice(None,None, 1))
 *         data = numpy.empty(shapeout, self.dtype)
 */
      __pyx_5 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2332; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_8 = __pyx_PyInt_long(__pyx_5); if (unlikely((__pyx_8 == (long)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2332; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2332; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      (__pyx_v_stridep[__pyx_2]) = __pyx_8;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2333
 *                 startp[n] = start[n]
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))             # <<<<<<<<<<<<<<
 *         data = numpy.empty(shapeout, self.dtype)
 *         # strides all 1 or scalar variable, use get_vara (faster)
 */
      __pyx_1 = PyTuple_New(3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2333; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_1, 0, Py_None);
      Py_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_1, 1, Py_None);
      Py_INCREF(__pyx_int_1);
      PyTuple_SET_ITEM(__pyx_1, 2, __pyx_int_1);
      __pyx_9 = PyObject_Call(((PyObject*)&PySlice_Type), ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2333; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
      __pyx_3 = __Pyx_PyObject_Append(__pyx_v_sl, __pyx_9); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2333; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_9); __pyx_9 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
    __pyx_L10:;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2334
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))
 *         data = numpy.empty(shapeout, self.dtype)             # <<<<<<<<<<<<<<
 *         # strides all 1 or scalar variable, use get_vara (faster)
 *         if sum(stride) == ndims or ndims == 0:
 */
  __pyx_5 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2334; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyObject_GetAttr(__pyx_5, __pyx_kp_empty); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2334; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_9 = PyTuple_New(2); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2334; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_shapeout);
  PyTuple_SET_ITEM(__pyx_9, 0, __pyx_v_shapeout);
  Py_INCREF(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->dtype);
  PyTuple_SET_ITEM(__pyx_9, 1, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->dtype);
  __pyx_3 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_9), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2334; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(((PyObject *)__pyx_9)); __pyx_9 = 0;
  if (!(__Pyx_TypeTest(__pyx_3, __pyx_ptype_7netCDF4_ndarray))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2334; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_v_data));
  __pyx_v_data = ((PyArrayObject *)__pyx_3);
  __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2336
 *         data = numpy.empty(shapeout, self.dtype)
 *         # strides all 1 or scalar variable, use get_vara (faster)
 *         if sum(stride) == ndims or ndims == 0:             # <<<<<<<<<<<<<<
 *             ierr = nc_get_vara(self._grpid, self._varid,
 *                                startp, countp, data.data)
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2336; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_stride);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_stride);
  __pyx_9 = PyObject_Call(__pyx_builtin_sum, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2336; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __pyx_3 = PyInt_FromLong(__pyx_v_ndims); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2336; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_5 = PyObject_RichCompare(__pyx_9, __pyx_3, Py_EQ); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2336; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_9); __pyx_9 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_5); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2336; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_4) {
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_5 = __Pyx_PyBool_FromLong((__pyx_v_ndims == 0)); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2336; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_5); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2336; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2338
 *         if sum(stride) == ndims or ndims == 0:
 *             ierr = nc_get_vara(self._grpid, self._varid,
 *                                startp, countp, data.data)             # <<<<<<<<<<<<<<
 *         else:
 *             ierr = nc_get_vars(self._grpid, self._varid,
 */
    __pyx_v_ierr = nc_get_vara(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, __pyx_v_startp, __pyx_v_countp, __pyx_v_data->data);
    goto __pyx_L11;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2341
 *         else:
 *             ierr = nc_get_vars(self._grpid, self._varid,
 *                                startp, countp, stridep, data.data)             # <<<<<<<<<<<<<<
 *         if negstride:
 *             # reverse data along axes with negative strides.
 */
    __pyx_v_ierr = nc_get_vars(((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF4_Variable *)__pyx_v_self)->_varid, __pyx_v_startp, __pyx_v_countp, __pyx_v_stridep, __pyx_v_data->data);
  }
  __pyx_L11:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2342
 *             ierr = nc_get_vars(self._grpid, self._varid,
 *                                startp, countp, stridep, data.data)
 *         if negstride:             # <<<<<<<<<<<<<<
 *             # reverse data along axes with negative strides.
 *             data = data[sl].copy() # make a copy so data is contiguous.
 */
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_v_negstride); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2342; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2344
 *         if negstride:
 *             # reverse data along axes with negative strides.
 *             data = data[sl].copy() # make a copy so data is contiguous.             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_1 = PyObject_GetItem(((PyObject *)__pyx_v_data), __pyx_v_sl); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2344; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_9 = PyObject_GetAttr(__pyx_1, __pyx_kp_copy); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2344; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_3 = PyObject_Call(__pyx_9, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2344; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_9); __pyx_9 = 0;
    if (!(__Pyx_TypeTest(__pyx_3, __pyx_ptype_7netCDF4_ndarray))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2344; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_v_data));
    __pyx_v_data = ((PyArrayObject *)__pyx_3);
    __pyx_3 = 0;
    goto __pyx_L12;
  }
  __pyx_L12:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2345
 *             # reverse data along axes with negative strides.
 *             data = data[sl].copy() # make a copy so data is contiguous.
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         if not self.dimensions:
 */
  __pyx_4 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2346
 *             data = data[sl].copy() # make a copy so data is contiguous.
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         if not self.dimensions:
 *             return data[0] # a scalar
 */
    __pyx_5 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2346; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2346; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_5);
    __pyx_5 = 0;
    __pyx_9 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2346; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
    __Pyx_Raise(__pyx_9, 0, 0);
    Py_DECREF(__pyx_9); __pyx_9 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2346; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L13;
  }
  __pyx_L13:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2347
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         if not self.dimensions:             # <<<<<<<<<<<<<<
 *             return data[0] # a scalar
 *         #elif data.shape == (1,):
 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_dimensions); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2347; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2347; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_10 = (!__pyx_4);
  if (__pyx_10) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2348
 *             raise RuntimeError(nc_strerror(ierr))
 *         if not self.dimensions:
 *             return data[0] # a scalar             # <<<<<<<<<<<<<<
 *         #elif data.shape == (1,):
 *         #    # if a single item, just return a python scalar
 */
    __pyx_5 = __Pyx_GetItemInt(((PyObject *)__pyx_v_data), 0, 0); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2348; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_r = __pyx_5;
    __pyx_5 = 0;
    goto __pyx_L0;
    goto __pyx_L14;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2353
 *         #    # (instead of a scalar array).
 *         #    return data.item()
 *         elif squeeze_out:             # <<<<<<<<<<<<<<
 *             return data.squeeze()
 *         else:
 */
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_v_squeeze_out); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2353; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2354
 *         #    return data.item()
 *         elif squeeze_out:
 *             return data.squeeze()             # <<<<<<<<<<<<<<
 *         else:
 *             return data
 */
    __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_data), __pyx_kp_squeeze); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2354; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_9 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2354; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_r = __pyx_9;
    __pyx_9 = 0;
    goto __pyx_L0;
    goto __pyx_L14;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2356
 *             return data.squeeze()
 *         else:
 *             return data             # <<<<<<<<<<<<<<
 * 
 * # Compound datatype support.
 */
    Py_INCREF(((PyObject *)__pyx_v_data));
    __pyx_r = ((PyObject *)__pyx_v_data);
    goto __pyx_L0;
  }
  __pyx_L14:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_9);
  __Pyx_AddTraceback("netCDF4.Variable._get");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_data);
  Py_DECREF(__pyx_v_shapeout);
  Py_DECREF(__pyx_v_squeeze_out);
  Py_DECREF(__pyx_v_lendim);
  Py_DECREF(__pyx_v_negstride);
  Py_DECREF(__pyx_v_sl);
  Py_DECREF(__pyx_v_n);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2399
 *     cdef public nc_type _nc_type
 *     cdef public dtype, name
 *     def __init__(self, grp, object dt, object dtype_name, **kwargs):             # <<<<<<<<<<<<<<
 *         cdef nc_type xtype
 *         dt = numpy.dtype(dt)
 */

static int __pyx_pf_7netCDF4_12CompoundType___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_7netCDF4_12CompoundType___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_grp = 0;
  PyObject *__pyx_v_dt = 0;
  PyObject *__pyx_v_dtype_name = 0;
  PyObject *__pyx_v_kwargs = 0;
  nc_type __pyx_v_xtype;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  nc_type __pyx_5;
  static char *__pyx_argnames[] = {"grp","dt","dtype_name",0};
  if (unlikely(PyTuple_GET_SIZE(__pyx_args) > 3)) {
    __Pyx_RaiseArgtupleTooLong(3, PyTuple_GET_SIZE(__pyx_args));
    return -1;
  }
  if (unlikely(__Pyx_SplitKeywords(&__pyx_kwds, __pyx_argnames, &__pyx_v_kwargs, 0) < 0)) return -1;
  if (likely(!__pyx_kwds) && likely(PyTuple_GET_SIZE(__pyx_args) == 3)) {
    __pyx_v_grp = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_dt = PyTuple_GET_ITEM(__pyx_args, 1);
    __pyx_v_dtype_name = PyTuple_GET_ITEM(__pyx_args, 2);
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOO", __pyx_argnames, &__pyx_v_grp, &__pyx_v_dt, &__pyx_v_dtype_name))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2399; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  Py_XDECREF(__pyx_kwds);
  Py_DECREF(__pyx_v_kwargs);
  __Pyx_AddTraceback("netCDF4.CompoundType.__init__");
  return -1;
  __pyx_L4:;
  Py_INCREF(__pyx_v_dt);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2401
 *     def __init__(self, grp, object dt, object dtype_name, **kwargs):
 *         cdef nc_type xtype
 *         dt = numpy.dtype(dt)             # <<<<<<<<<<<<<<
 *         if kwargs.has_key('typeid'):
 *             xtype = kwargs['typeid']
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2401; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_kp_dtype); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2401; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2401; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_dt);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_dt);
  __pyx_3 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2401; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  Py_DECREF(__pyx_v_dt);
  __pyx_v_dt = __pyx_3;
  __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2402
 *         cdef nc_type xtype
 *         dt = numpy.dtype(dt)
 *         if kwargs.has_key('typeid'):             # <<<<<<<<<<<<<<
 *             xtype = kwargs['typeid']
 *         else:
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_kwargs, __pyx_kp_has_key); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2402; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2402; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_kp_194);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_kp_194);
  __pyx_3 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2402; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2402; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2403
 *         dt = numpy.dtype(dt)
 *         if kwargs.has_key('typeid'):
 *             xtype = kwargs['typeid']             # <<<<<<<<<<<<<<
 *         else:
 *             xtype = _def_compound(grp, dt, dtype_name)
 */
    __pyx_2 = PyObject_GetItem(__pyx_v_kwargs, __pyx_kp_195); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2403; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_5 = __pyx_PyInt_int(__pyx_2); if (unlikely((__pyx_5 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2403; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_v_xtype = __pyx_5;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2405
 *             xtype = kwargs['typeid']
 *         else:
 *             xtype = _def_compound(grp, dt, dtype_name)             # <<<<<<<<<<<<<<
 *         self._nc_type = xtype
 *         self.dtype = dt
 */
    __pyx_1 = __pyx_f_7netCDF4__def_compound(__pyx_v_grp, __pyx_v_dt, __pyx_v_dtype_name); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2405; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_5 = __pyx_PyInt_int(__pyx_1); if (unlikely((__pyx_5 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2405; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_v_xtype = __pyx_5;
  }
  __pyx_L5:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2406
 *         else:
 *             xtype = _def_compound(grp, dt, dtype_name)
 *         self._nc_type = xtype             # <<<<<<<<<<<<<<
 *         self.dtype = dt
 *         self.name = dtype_name
 */
  ((struct __pyx_obj_7netCDF4_CompoundType *)__pyx_v_self)->_nc_type = __pyx_v_xtype;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2407
 *             xtype = _def_compound(grp, dt, dtype_name)
 *         self._nc_type = xtype
 *         self.dtype = dt             # <<<<<<<<<<<<<<
 *         self.name = dtype_name
 *         grp._cmptypes.append((dtype_name, dt, xtype))
 */
  Py_INCREF(__pyx_v_dt);
  Py_DECREF(((struct __pyx_obj_7netCDF4_CompoundType *)__pyx_v_self)->dtype);
  ((struct __pyx_obj_7netCDF4_CompoundType *)__pyx_v_self)->dtype = __pyx_v_dt;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2408
 *         self._nc_type = xtype
 *         self.dtype = dt
 *         self.name = dtype_name             # <<<<<<<<<<<<<<
 *         grp._cmptypes.append((dtype_name, dt, xtype))
 * 
 */
  Py_INCREF(__pyx_v_dtype_name);
  Py_DECREF(((struct __pyx_obj_7netCDF4_CompoundType *)__pyx_v_self)->name);
  ((struct __pyx_obj_7netCDF4_CompoundType *)__pyx_v_self)->name = __pyx_v_dtype_name;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2409
 *         self.dtype = dt
 *         self.name = dtype_name
 *         grp._cmptypes.append((dtype_name, dt, xtype))             # <<<<<<<<<<<<<<
 * 
 * cdef _def_compound(grp, object dt, object dtype_name):
 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__cmptypes); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2409; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyInt_FromLong(__pyx_v_xtype); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2409; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyTuple_New(3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2409; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_dtype_name);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_dtype_name);
  Py_INCREF(__pyx_v_dt);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_dt);
  PyTuple_SET_ITEM(__pyx_1, 2, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = __Pyx_PyObject_Append(__pyx_3, ((PyObject *)__pyx_1)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2409; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.CompoundType.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_kwargs);
  Py_DECREF(__pyx_v_dt);
  Py_XDECREF(__pyx_kwds);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2411
 *         grp._cmptypes.append((dtype_name, dt, xtype))
 * 
 * cdef _def_compound(grp, object dt, object dtype_name):             # <<<<<<<<<<<<<<
 *     # private method used to construct a netcdf compound data type
 *     # from a numpy dtype object by CompoundType.__init__.
 */

static  PyObject *__pyx_f_7netCDF4__def_compound(PyObject *__pyx_v_grp, PyObject *__pyx_v_dt, PyObject *__pyx_v_dtype_name) {
  nc_type __pyx_v_xtype;
  nc_type __pyx_v_xtype_tmp;
  int __pyx_v_ierr;
  int __pyx_v_ndims;
  size_t __pyx_v_offset;
  size_t __pyx_v_size;
  char *__pyx_v_namstring;
  char *__pyx_v_nested_namstring;
  int __pyx_v_dim_sizes[NC_MAX_DIMS];
  PyObject *__pyx_v_names;
  PyObject *__pyx_v_formats;
  PyObject *__pyx_v_offsets;
  PyObject *__pyx_v_name;
  PyObject *__pyx_v_format;
  PyObject *__pyx_v_n;
  PyObject *__pyx_v_v;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  size_t __pyx_2;
  int __pyx_3;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  Py_ssize_t __pyx_6 = 0;
  PyObject *__pyx_7 = 0;
  PyObject *__pyx_8 = 0;
  nc_type __pyx_9;
  PyObject *__pyx_10 = 0;
  PyObject *__pyx_11 = 0;
  Py_ssize_t __pyx_12 = 0;
  long __pyx_13;
  __pyx_v_names = Py_None; Py_INCREF(Py_None);
  __pyx_v_formats = Py_None; Py_INCREF(Py_None);
  __pyx_v_offsets = Py_None; Py_INCREF(Py_None);
  __pyx_v_name = Py_None; Py_INCREF(Py_None);
  __pyx_v_format = Py_None; Py_INCREF(Py_None);
  __pyx_v_n = Py_None; Py_INCREF(Py_None);
  __pyx_v_v = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2419
 *     cdef char *namstring, *nested_namstring
 *     cdef int dim_sizes[NC_MAX_DIMS]
 *     namstring = PyString_AsString(dtype_name)             # <<<<<<<<<<<<<<
 *     size = dt.itemsize
 *     ierr = nc_def_compound(grp._grpid, size, namstring, &xtype)
 */
  __pyx_v_namstring = PyString_AsString(__pyx_v_dtype_name);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2420
 *     cdef int dim_sizes[NC_MAX_DIMS]
 *     namstring = PyString_AsString(dtype_name)
 *     size = dt.itemsize             # <<<<<<<<<<<<<<
 *     ierr = nc_def_compound(grp._grpid, size, namstring, &xtype)
 *     if ierr != NC_NOERR:
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_dt, __pyx_kp_itemsize); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2420; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __pyx_PyInt_long(__pyx_1); if (unlikely((__pyx_2 == (long)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2420; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_size = __pyx_2;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2421
 *     namstring = PyString_AsString(dtype_name)
 *     size = dt.itemsize
 *     ierr = nc_def_compound(grp._grpid, size, namstring, &xtype)             # <<<<<<<<<<<<<<
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__grpid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2421; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = __pyx_PyInt_int(__pyx_1); if (unlikely((__pyx_3 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2421; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_ierr = nc_def_compound(__pyx_3, __pyx_v_size, __pyx_v_namstring, (&__pyx_v_xtype));

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2422
 *     size = dt.itemsize
 *     ierr = nc_def_compound(grp._grpid, size, namstring, &xtype)
 *     if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *         raise RuntimeError(nc_strerror(ierr))
 *     names = dt.fields.keys()
 */
  __pyx_4 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2423
 *     ierr = nc_def_compound(grp._grpid, size, namstring, &xtype)
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *     names = dt.fields.keys()
 *     formats = [v[0] for v in dt.fields.values()]
 */
    __pyx_1 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2423; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_5 = PyTuple_New(1); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2423; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_5), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2423; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_5)); __pyx_5 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2423; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2424
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 *     names = dt.fields.keys()             # <<<<<<<<<<<<<<
 *     formats = [v[0] for v in dt.fields.values()]
 *     offsets = [v[1] for v in dt.fields.values()]
 */
  __pyx_5 = PyObject_GetAttr(__pyx_v_dt, __pyx_kp_fields); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2424; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyObject_GetAttr(__pyx_5, __pyx_kp_keys); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2424; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_5 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2424; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_names);
  __pyx_v_names = __pyx_5;
  __pyx_5 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2425
 *         raise RuntimeError(nc_strerror(ierr))
 *     names = dt.fields.keys()
 *     formats = [v[0] for v in dt.fields.values()]             # <<<<<<<<<<<<<<
 *     offsets = [v[1] for v in dt.fields.values()]
 *     # make sure entries in lists sorted by offset.
 */
  __pyx_1 = PyList_New(0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2425; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_5 = PyObject_GetAttr(__pyx_v_dt, __pyx_kp_fields); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2425; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_7 = PyObject_GetAttr(__pyx_5, __pyx_kp_values); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2425; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_5 = PyObject_Call(__pyx_7, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2425; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_7); __pyx_7 = 0;
  if (PyList_CheckExact(__pyx_5) || PyTuple_CheckExact(__pyx_5)) {
    __pyx_6 = 0; __pyx_7 = __pyx_5; Py_INCREF(__pyx_7);
  } else {
    __pyx_6 = -1; __pyx_7 = PyObject_GetIter(__pyx_5); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2425; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_7))) {
      if (__pyx_6 >= PyList_GET_SIZE(__pyx_7)) break;
      __pyx_5 = PyList_GET_ITEM(__pyx_7, __pyx_6); Py_INCREF(__pyx_5); __pyx_6++;
    } else if (likely(PyTuple_CheckExact(__pyx_7))) {
      if (__pyx_6 >= PyTuple_GET_SIZE(__pyx_7)) break;
      __pyx_5 = PyTuple_GET_ITEM(__pyx_7, __pyx_6); Py_INCREF(__pyx_5); __pyx_6++;
    } else {
      __pyx_5 = PyIter_Next(__pyx_7);
      if (!__pyx_5) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2425; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    Py_DECREF(__pyx_v_v);
    __pyx_v_v = __pyx_5;
    __pyx_5 = 0;
    __pyx_5 = __Pyx_GetItemInt(__pyx_v_v, 0, 0); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2425; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyList_Append(__pyx_1, __pyx_5); if (unlikely(__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2425; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
  }
  Py_DECREF(__pyx_7); __pyx_7 = 0;
  Py_DECREF(__pyx_v_formats);
  __pyx_v_formats = ((PyObject *)__pyx_1);
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2426
 *     names = dt.fields.keys()
 *     formats = [v[0] for v in dt.fields.values()]
 *     offsets = [v[1] for v in dt.fields.values()]             # <<<<<<<<<<<<<<
 *     # make sure entries in lists sorted by offset.
 *     # (don't know why this is necessary, but it is for version 4.0.1)
 */
  __pyx_5 = PyList_New(0); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_7 = PyObject_GetAttr(__pyx_v_dt, __pyx_kp_fields); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyObject_GetAttr(__pyx_7, __pyx_kp_values); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_7); __pyx_7 = 0;
  __pyx_7 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (PyList_CheckExact(__pyx_7) || PyTuple_CheckExact(__pyx_7)) {
    __pyx_6 = 0; __pyx_1 = __pyx_7; Py_INCREF(__pyx_1);
  } else {
    __pyx_6 = -1; __pyx_1 = PyObject_GetIter(__pyx_7); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_7); __pyx_7 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_1))) {
      if (__pyx_6 >= PyList_GET_SIZE(__pyx_1)) break;
      __pyx_7 = PyList_GET_ITEM(__pyx_1, __pyx_6); Py_INCREF(__pyx_7); __pyx_6++;
    } else if (likely(PyTuple_CheckExact(__pyx_1))) {
      if (__pyx_6 >= PyTuple_GET_SIZE(__pyx_1)) break;
      __pyx_7 = PyTuple_GET_ITEM(__pyx_1, __pyx_6); Py_INCREF(__pyx_7); __pyx_6++;
    } else {
      __pyx_7 = PyIter_Next(__pyx_1);
      if (!__pyx_7) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    Py_DECREF(__pyx_v_v);
    __pyx_v_v = __pyx_7;
    __pyx_7 = 0;
    __pyx_7 = __Pyx_GetItemInt(__pyx_v_v, 1, 0); if (!__pyx_7) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyList_Append(__pyx_5, __pyx_7); if (unlikely(__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_7); __pyx_7 = 0;
  }
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_offsets);
  __pyx_v_offsets = ((PyObject *)__pyx_5);
  __pyx_5 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2429
 *     # make sure entries in lists sorted by offset.
 *     # (don't know why this is necessary, but it is for version 4.0.1)
 *     names = _sortbylist(names, offsets)             # <<<<<<<<<<<<<<
 *     formats = _sortbylist(formats, offsets)
 *     offsets.sort()
 */
  __pyx_7 = __Pyx_GetName(__pyx_m, __pyx_kp__sortbylist); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2429; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2429; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_names);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_names);
  Py_INCREF(__pyx_v_offsets);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_offsets);
  __pyx_5 = PyObject_Call(__pyx_7, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2429; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_7); __pyx_7 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  Py_DECREF(__pyx_v_names);
  __pyx_v_names = __pyx_5;
  __pyx_5 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2430
 *     # (don't know why this is necessary, but it is for version 4.0.1)
 *     names = _sortbylist(names, offsets)
 *     formats = _sortbylist(formats, offsets)             # <<<<<<<<<<<<<<
 *     offsets.sort()
 *     for name, format, offset in zip(names, formats, offsets):
 */
  __pyx_7 = __Pyx_GetName(__pyx_m, __pyx_kp__sortbylist); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2430; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2430; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_formats);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_formats);
  Py_INCREF(__pyx_v_offsets);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_offsets);
  __pyx_5 = PyObject_Call(__pyx_7, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2430; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_7); __pyx_7 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  Py_DECREF(__pyx_v_formats);
  __pyx_v_formats = __pyx_5;
  __pyx_5 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2431
 *     names = _sortbylist(names, offsets)
 *     formats = _sortbylist(formats, offsets)
 *     offsets.sort()             # <<<<<<<<<<<<<<
 *     for name, format, offset in zip(names, formats, offsets):
 *         namstring = PyString_AsString(name)
 */
  __pyx_7 = PyObject_GetAttr(__pyx_v_offsets, __pyx_kp_sort); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyObject_Call(__pyx_7, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_7); __pyx_7 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2432
 *     formats = _sortbylist(formats, offsets)
 *     offsets.sort()
 *     for name, format, offset in zip(names, formats, offsets):             # <<<<<<<<<<<<<<
 *         namstring = PyString_AsString(name)
 *         if format.kind != 'V': # scalar primitive type
 */
  __pyx_5 = PyTuple_New(3); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2432; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_names);
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_v_names);
  Py_INCREF(__pyx_v_formats);
  PyTuple_SET_ITEM(__pyx_5, 1, __pyx_v_formats);
  Py_INCREF(__pyx_v_offsets);
  PyTuple_SET_ITEM(__pyx_5, 2, __pyx_v_offsets);
  __pyx_7 = PyObject_Call(__pyx_builtin_zip, ((PyObject *)__pyx_5), NULL); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2432; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_5)); __pyx_5 = 0;
  if (PyList_CheckExact(__pyx_7) || PyTuple_CheckExact(__pyx_7)) {
    __pyx_6 = 0; __pyx_1 = __pyx_7; Py_INCREF(__pyx_1);
  } else {
    __pyx_6 = -1; __pyx_1 = PyObject_GetIter(__pyx_7); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2432; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_7); __pyx_7 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_1))) {
      if (__pyx_6 >= PyList_GET_SIZE(__pyx_1)) break;
      __pyx_5 = PyList_GET_ITEM(__pyx_1, __pyx_6); Py_INCREF(__pyx_5); __pyx_6++;
    } else if (likely(PyTuple_CheckExact(__pyx_1))) {
      if (__pyx_6 >= PyTuple_GET_SIZE(__pyx_1)) break;
      __pyx_5 = PyTuple_GET_ITEM(__pyx_1, __pyx_6); Py_INCREF(__pyx_5); __pyx_6++;
    } else {
      __pyx_5 = PyIter_Next(__pyx_1);
      if (!__pyx_5) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2432; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    if (PyTuple_CheckExact(__pyx_5) && PyTuple_GET_SIZE(__pyx_5) == 3) {
      PyObject* tuple = __pyx_5;
      __pyx_8 = PyTuple_GET_ITEM(tuple, 0);
      Py_INCREF(__pyx_8);
      Py_DECREF(__pyx_v_name);
      __pyx_v_name = __pyx_8;
      __pyx_8 = 0;
      __pyx_8 = PyTuple_GET_ITEM(tuple, 1);
      Py_INCREF(__pyx_8);
      Py_DECREF(__pyx_v_format);
      __pyx_v_format = __pyx_8;
      __pyx_8 = 0;
      __pyx_8 = PyTuple_GET_ITEM(tuple, 2);
      Py_INCREF(__pyx_8);
      __pyx_2 = __pyx_PyInt_long(__pyx_8); if (unlikely((__pyx_2 == (long)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2432; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_8); __pyx_8 = 0;
      __pyx_v_offset = __pyx_2;
      Py_DECREF(__pyx_5); __pyx_5 = 0;
    }
    else {
      __pyx_7 = PyObject_GetIter(__pyx_5); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2432; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __pyx_8 = __Pyx_UnpackItem(__pyx_7, 0); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2432; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_name);
      __pyx_v_name = __pyx_8;
      __pyx_8 = 0;
      __pyx_8 = __Pyx_UnpackItem(__pyx_7, 1); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2432; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_format);
      __pyx_v_format = __pyx_8;
      __pyx_8 = 0;
      __pyx_8 = __Pyx_UnpackItem(__pyx_7, 2); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2432; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_2 = __pyx_PyInt_long(__pyx_8); if (unlikely((__pyx_2 == (long)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2432; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_8); __pyx_8 = 0;
      __pyx_v_offset = __pyx_2;
      if (__Pyx_EndUnpack(__pyx_7) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2432; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_7); __pyx_7 = 0;
    }

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2433
 *     offsets.sort()
 *     for name, format, offset in zip(names, formats, offsets):
 *         namstring = PyString_AsString(name)             # <<<<<<<<<<<<<<
 *         if format.kind != 'V': # scalar primitive type
 *             try:
 */
    __pyx_v_namstring = PyString_AsString(__pyx_v_name);

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2434
 *     for name, format, offset in zip(names, formats, offsets):
 *         namstring = PyString_AsString(name)
 *         if format.kind != 'V': # scalar primitive type             # <<<<<<<<<<<<<<
 *             try:
 *                 xtype_tmp = _nptonctype[format.str[1:]]
 */
    __pyx_8 = PyObject_GetAttr(__pyx_v_format, __pyx_kp_kind); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2434; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_5 = PyObject_RichCompare(__pyx_8, __pyx_kp_196, Py_NE); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2434; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_8); __pyx_8 = 0;
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_5); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2434; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    if (__pyx_4) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2435
 *         namstring = PyString_AsString(name)
 *         if format.kind != 'V': # scalar primitive type
 *             try:             # <<<<<<<<<<<<<<
 *                 xtype_tmp = _nptonctype[format.str[1:]]
 *             except KeyError:
 */
      /*try:*/ {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2436
 *         if format.kind != 'V': # scalar primitive type
 *             try:
 *                 xtype_tmp = _nptonctype[format.str[1:]]             # <<<<<<<<<<<<<<
 *             except KeyError:
 *                 raise ValueError('Unsupported compound type element')
 */
        __pyx_7 = __Pyx_GetName(__pyx_m, __pyx_kp__nptonctype); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2436; __pyx_clineno = __LINE__; goto __pyx_L11_error;}
        __pyx_8 = PyObject_GetAttr(__pyx_v_format, __pyx_kp_str); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2436; __pyx_clineno = __LINE__; goto __pyx_L11_error;}
        __pyx_5 = PySequence_GetSlice(__pyx_8, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2436; __pyx_clineno = __LINE__; goto __pyx_L11_error;}
        Py_DECREF(__pyx_8); __pyx_8 = 0;
        __pyx_8 = PyObject_GetItem(__pyx_7, __pyx_5); if (!__pyx_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2436; __pyx_clineno = __LINE__; goto __pyx_L11_error;}
        Py_DECREF(__pyx_7); __pyx_7 = 0;
        Py_DECREF(__pyx_5); __pyx_5 = 0;
        __pyx_9 = __pyx_PyInt_int(__pyx_8); if (unlikely((__pyx_9 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2436; __pyx_clineno = __LINE__; goto __pyx_L11_error;}
        Py_DECREF(__pyx_8); __pyx_8 = 0;
        __pyx_v_xtype_tmp = __pyx_9;
      }
      goto __pyx_L12;
      __pyx_L11_error:;
      Py_XDECREF(__pyx_7); __pyx_7 = 0;
      Py_XDECREF(__pyx_5); __pyx_5 = 0;
      Py_XDECREF(__pyx_8); __pyx_8 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2437
 *             try:
 *                 xtype_tmp = _nptonctype[format.str[1:]]
 *             except KeyError:             # <<<<<<<<<<<<<<
 *                 raise ValueError('Unsupported compound type element')
 *             ierr = nc_insert_compound(grp._grpid, xtype, namstring,
 */
      __pyx_3 = PyErr_ExceptionMatches(__pyx_builtin_KeyError);
      if (__pyx_3) {
        __Pyx_AddTraceback("netCDF4._def_compound");
        if (__Pyx_GetException(&__pyx_7, &__pyx_5, &__pyx_8) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2437; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2438
 *                 xtype_tmp = _nptonctype[format.str[1:]]
 *             except KeyError:
 *                 raise ValueError('Unsupported compound type element')             # <<<<<<<<<<<<<<
 *             ierr = nc_insert_compound(grp._grpid, xtype, namstring,
 *                                       offset, xtype_tmp)
 */
        __pyx_10 = PyTuple_New(1); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2438; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_INCREF(__pyx_kp_197);
        PyTuple_SET_ITEM(__pyx_10, 0, __pyx_kp_197);
        __pyx_11 = PyObject_Call(__pyx_builtin_ValueError, ((PyObject *)__pyx_10), NULL); if (unlikely(!__pyx_11)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2438; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(((PyObject *)__pyx_10)); __pyx_10 = 0;
        __Pyx_Raise(__pyx_11, 0, 0);
        Py_DECREF(__pyx_11); __pyx_11 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2438; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_7); __pyx_7 = 0;
        Py_DECREF(__pyx_5); __pyx_5 = 0;
        Py_DECREF(__pyx_8); __pyx_8 = 0;
        goto __pyx_L12;
      }
      goto __pyx_L1_error;
      __pyx_L12:;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2439
 *             except KeyError:
 *                 raise ValueError('Unsupported compound type element')
 *             ierr = nc_insert_compound(grp._grpid, xtype, namstring,             # <<<<<<<<<<<<<<
 *                                       offset, xtype_tmp)
 *             if ierr != NC_NOERR:
 */
      __pyx_10 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__grpid); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2439; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = __pyx_PyInt_int(__pyx_10); if (unlikely((__pyx_3 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2439; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_10); __pyx_10 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2440
 *                 raise ValueError('Unsupported compound type element')
 *             ierr = nc_insert_compound(grp._grpid, xtype, namstring,
 *                                       offset, xtype_tmp)             # <<<<<<<<<<<<<<
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_v_ierr = nc_insert_compound(__pyx_3, __pyx_v_xtype, __pyx_v_namstring, __pyx_v_offset, __pyx_v_xtype_tmp);

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2441
 *             ierr = nc_insert_compound(grp._grpid, xtype, namstring,
 *                                       offset, xtype_tmp)
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                 raise RuntimeError(nc_strerror(ierr))
 *         else:
 */
      __pyx_4 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_4) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2442
 *                                       offset, xtype_tmp)
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         else:
 *             if format.shape ==  (): # nested scalar compound type
 */
        __pyx_11 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_11)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2442; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_7 = PyTuple_New(1); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2442; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        PyTuple_SET_ITEM(__pyx_7, 0, __pyx_11);
        __pyx_11 = 0;
        __pyx_5 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_7), NULL); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2442; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(((PyObject *)__pyx_7)); __pyx_7 = 0;
        __Pyx_Raise(__pyx_5, 0, 0);
        Py_DECREF(__pyx_5); __pyx_5 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2442; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        goto __pyx_L13;
      }
      __pyx_L13:;
      goto __pyx_L10;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2444
 *                 raise RuntimeError(nc_strerror(ierr))
 *         else:
 *             if format.shape ==  (): # nested scalar compound type             # <<<<<<<<<<<<<<
 *                 # find this compound type in this group or it's parents.
 *                 xtype_tmp = _find_cmptype(grp, format)
 */
      __pyx_8 = PyObject_GetAttr(__pyx_v_format, __pyx_kp_shape); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2444; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_10 = PyObject_RichCompare(__pyx_8, ((PyObject *)__pyx_empty_tuple), Py_EQ); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2444; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_8); __pyx_8 = 0;
      __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_10); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2444; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_10); __pyx_10 = 0;
      if (__pyx_4) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2446
 *             if format.shape ==  (): # nested scalar compound type
 *                 # find this compound type in this group or it's parents.
 *                 xtype_tmp = _find_cmptype(grp, format)             # <<<<<<<<<<<<<<
 *                 nested_namstring = PyString_AsString(name)
 *                 ierr = nc_insert_compound(grp._grpid, xtype,\
 */
        __pyx_11 = __pyx_f_7netCDF4__find_cmptype(__pyx_v_grp, __pyx_v_format); if (unlikely(!__pyx_11)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2446; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_9 = __pyx_PyInt_int(__pyx_11); if (unlikely((__pyx_9 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2446; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_11); __pyx_11 = 0;
        __pyx_v_xtype_tmp = __pyx_9;

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2447
 *                 # find this compound type in this group or it's parents.
 *                 xtype_tmp = _find_cmptype(grp, format)
 *                 nested_namstring = PyString_AsString(name)             # <<<<<<<<<<<<<<
 *                 ierr = nc_insert_compound(grp._grpid, xtype,\
 *                                           nested_namstring,\
 */
        __pyx_v_nested_namstring = PyString_AsString(__pyx_v_name);

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2448
 *                 xtype_tmp = _find_cmptype(grp, format)
 *                 nested_namstring = PyString_AsString(name)
 *                 ierr = nc_insert_compound(grp._grpid, xtype,\             # <<<<<<<<<<<<<<
 *                                           nested_namstring,\
 *                                           offset, xtype_tmp)
 */
        __pyx_7 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__grpid); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_3 = __pyx_PyInt_int(__pyx_7); if (unlikely((__pyx_3 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_7); __pyx_7 = 0;

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2450
 *                 ierr = nc_insert_compound(grp._grpid, xtype,\
 *                                           nested_namstring,\
 *                                           offset, xtype_tmp)             # <<<<<<<<<<<<<<
 *                 if ierr != NC_NOERR:
 *                     raise RuntimeError(nc_strerror(ierr))
 */
        __pyx_v_ierr = nc_insert_compound(__pyx_3, __pyx_v_xtype, __pyx_v_nested_namstring, __pyx_v_offset, __pyx_v_xtype_tmp);

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2451
 *                                           nested_namstring,\
 *                                           offset, xtype_tmp)
 *                 if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                     raise RuntimeError(nc_strerror(ierr))
 *             else: # array compound element
 */
        __pyx_4 = (__pyx_v_ierr != NC_NOERR);
        if (__pyx_4) {

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2452
 *                                           offset, xtype_tmp)
 *                 if ierr != NC_NOERR:
 *                     raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *             else: # array compound element
 *                 ndims = len(format.shape)
 */
          __pyx_5 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2452; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_8 = PyTuple_New(1); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2452; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          PyTuple_SET_ITEM(__pyx_8, 0, __pyx_5);
          __pyx_5 = 0;
          __pyx_10 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_8), NULL); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2452; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(((PyObject *)__pyx_8)); __pyx_8 = 0;
          __Pyx_Raise(__pyx_10, 0, 0);
          Py_DECREF(__pyx_10); __pyx_10 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2452; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          goto __pyx_L15;
        }
        __pyx_L15:;
        goto __pyx_L14;
      }
      /*else*/ {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2454
 *                     raise RuntimeError(nc_strerror(ierr))
 *             else: # array compound element
 *                 ndims = len(format.shape)             # <<<<<<<<<<<<<<
 *                 for n from 0 <= n < ndims:
 *                     dim_sizes[n] = format.shape[n]
 */
        __pyx_11 = PyObject_GetAttr(__pyx_v_format, __pyx_kp_shape); if (unlikely(!__pyx_11)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2454; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_12 = PyObject_Length(__pyx_11); if (unlikely(__pyx_12 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2454; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_11); __pyx_11 = 0;
        __pyx_v_ndims = __pyx_12;

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2455
 *             else: # array compound element
 *                 ndims = len(format.shape)
 *                 for n from 0 <= n < ndims:             # <<<<<<<<<<<<<<
 *                     dim_sizes[n] = format.shape[n]
 *                 if format.subdtype[0].str[1] != 'V': # primitive type.
 */
        for (__pyx_13 = 0; __pyx_13 < __pyx_v_ndims; __pyx_13++) {
          __pyx_7 = PyInt_FromLong(__pyx_13); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2455; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_v_n);
          __pyx_v_n = __pyx_7;
          __pyx_7 = 0;

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2456
 *                 ndims = len(format.shape)
 *                 for n from 0 <= n < ndims:
 *                     dim_sizes[n] = format.shape[n]             # <<<<<<<<<<<<<<
 *                 if format.subdtype[0].str[1] != 'V': # primitive type.
 *                     try:
 */
          __pyx_5 = PyObject_GetAttr(__pyx_v_format, __pyx_kp_shape); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2456; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_8 = PyObject_GetItem(__pyx_5, __pyx_v_n); if (!__pyx_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2456; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_5); __pyx_5 = 0;
          __pyx_3 = __pyx_PyInt_int(__pyx_8); if (unlikely((__pyx_3 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2456; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_8); __pyx_8 = 0;
          __pyx_12 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_12 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2456; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          (__pyx_v_dim_sizes[__pyx_12]) = __pyx_3;
        }

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2457
 *                 for n from 0 <= n < ndims:
 *                     dim_sizes[n] = format.shape[n]
 *                 if format.subdtype[0].str[1] != 'V': # primitive type.             # <<<<<<<<<<<<<<
 *                     try:
 *                         xtype_tmp = _nptonctype[format.subdtype[0].str[1:]]
 */
        __pyx_10 = PyObject_GetAttr(__pyx_v_format, __pyx_kp_subdtype); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2457; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_11 = __Pyx_GetItemInt(__pyx_10, 0, 0); if (!__pyx_11) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2457; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_10); __pyx_10 = 0;
        __pyx_7 = PyObject_GetAttr(__pyx_11, __pyx_kp_str); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2457; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_11); __pyx_11 = 0;
        __pyx_5 = __Pyx_GetItemInt(__pyx_7, 1, 0); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2457; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_7); __pyx_7 = 0;
        __pyx_8 = PyObject_RichCompare(__pyx_5, __pyx_kp_198, Py_NE); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2457; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_5); __pyx_5 = 0;
        __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_8); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2457; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_8); __pyx_8 = 0;
        if (__pyx_4) {

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2458
 *                     dim_sizes[n] = format.shape[n]
 *                 if format.subdtype[0].str[1] != 'V': # primitive type.
 *                     try:             # <<<<<<<<<<<<<<
 *                         xtype_tmp = _nptonctype[format.subdtype[0].str[1:]]
 *                     except KeyError:
 */
          /*try:*/ {

            /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2459
 *                 if format.subdtype[0].str[1] != 'V': # primitive type.
 *                     try:
 *                         xtype_tmp = _nptonctype[format.subdtype[0].str[1:]]             # <<<<<<<<<<<<<<
 *                     except KeyError:
 *                         raise ValueError('Unsupported compound type element')
 */
            __pyx_10 = __Pyx_GetName(__pyx_m, __pyx_kp__nptonctype); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2459; __pyx_clineno = __LINE__; goto __pyx_L19_error;}
            __pyx_11 = PyObject_GetAttr(__pyx_v_format, __pyx_kp_subdtype); if (unlikely(!__pyx_11)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2459; __pyx_clineno = __LINE__; goto __pyx_L19_error;}
            __pyx_7 = __Pyx_GetItemInt(__pyx_11, 0, 0); if (!__pyx_7) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2459; __pyx_clineno = __LINE__; goto __pyx_L19_error;}
            Py_DECREF(__pyx_11); __pyx_11 = 0;
            __pyx_5 = PyObject_GetAttr(__pyx_7, __pyx_kp_str); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2459; __pyx_clineno = __LINE__; goto __pyx_L19_error;}
            Py_DECREF(__pyx_7); __pyx_7 = 0;
            __pyx_8 = PySequence_GetSlice(__pyx_5, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2459; __pyx_clineno = __LINE__; goto __pyx_L19_error;}
            Py_DECREF(__pyx_5); __pyx_5 = 0;
            __pyx_11 = PyObject_GetItem(__pyx_10, __pyx_8); if (!__pyx_11) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2459; __pyx_clineno = __LINE__; goto __pyx_L19_error;}
            Py_DECREF(__pyx_10); __pyx_10 = 0;
            Py_DECREF(__pyx_8); __pyx_8 = 0;
            __pyx_9 = __pyx_PyInt_int(__pyx_11); if (unlikely((__pyx_9 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2459; __pyx_clineno = __LINE__; goto __pyx_L19_error;}
            Py_DECREF(__pyx_11); __pyx_11 = 0;
            __pyx_v_xtype_tmp = __pyx_9;
          }
          goto __pyx_L20;
          __pyx_L19_error:;
          Py_XDECREF(__pyx_7); __pyx_7 = 0;
          Py_XDECREF(__pyx_5); __pyx_5 = 0;
          Py_XDECREF(__pyx_10); __pyx_10 = 0;
          Py_XDECREF(__pyx_8); __pyx_8 = 0;
          Py_XDECREF(__pyx_11); __pyx_11 = 0;

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2460
 *                     try:
 *                         xtype_tmp = _nptonctype[format.subdtype[0].str[1:]]
 *                     except KeyError:             # <<<<<<<<<<<<<<
 *                         raise ValueError('Unsupported compound type element')
 *                     ierr = nc_insert_array_compound(grp._grpid,xtype,namstring,
 */
          __pyx_3 = PyErr_ExceptionMatches(__pyx_builtin_KeyError);
          if (__pyx_3) {
            __Pyx_AddTraceback("netCDF4._def_compound");
            if (__Pyx_GetException(&__pyx_7, &__pyx_5, &__pyx_10) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2460; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

            /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2461
 *                         xtype_tmp = _nptonctype[format.subdtype[0].str[1:]]
 *                     except KeyError:
 *                         raise ValueError('Unsupported compound type element')             # <<<<<<<<<<<<<<
 *                     ierr = nc_insert_array_compound(grp._grpid,xtype,namstring,
 *                            offset,xtype_tmp,ndims,dim_sizes)
 */
            __pyx_8 = PyTuple_New(1); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2461; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_INCREF(__pyx_kp_199);
            PyTuple_SET_ITEM(__pyx_8, 0, __pyx_kp_199);
            __pyx_11 = PyObject_Call(__pyx_builtin_ValueError, ((PyObject *)__pyx_8), NULL); if (unlikely(!__pyx_11)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2461; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_DECREF(((PyObject *)__pyx_8)); __pyx_8 = 0;
            __Pyx_Raise(__pyx_11, 0, 0);
            Py_DECREF(__pyx_11); __pyx_11 = 0;
            {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2461; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_DECREF(__pyx_7); __pyx_7 = 0;
            Py_DECREF(__pyx_5); __pyx_5 = 0;
            Py_DECREF(__pyx_10); __pyx_10 = 0;
            goto __pyx_L20;
          }
          goto __pyx_L1_error;
          __pyx_L20:;

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2462
 *                     except KeyError:
 *                         raise ValueError('Unsupported compound type element')
 *                     ierr = nc_insert_array_compound(grp._grpid,xtype,namstring,             # <<<<<<<<<<<<<<
 *                            offset,xtype_tmp,ndims,dim_sizes)
 *                     if ierr != NC_NOERR:
 */
          __pyx_8 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__grpid); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2462; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_3 = __pyx_PyInt_int(__pyx_8); if (unlikely((__pyx_3 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2462; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_8); __pyx_8 = 0;

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2463
 *                         raise ValueError('Unsupported compound type element')
 *                     ierr = nc_insert_array_compound(grp._grpid,xtype,namstring,
 *                            offset,xtype_tmp,ndims,dim_sizes)             # <<<<<<<<<<<<<<
 *                     if ierr != NC_NOERR:
 *                         raise RuntimeError(nc_strerror(ierr))
 */
          __pyx_v_ierr = nc_insert_array_compound(__pyx_3, __pyx_v_xtype, __pyx_v_namstring, __pyx_v_offset, __pyx_v_xtype_tmp, __pyx_v_ndims, __pyx_v_dim_sizes);

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2464
 *                     ierr = nc_insert_array_compound(grp._grpid,xtype,namstring,
 *                            offset,xtype_tmp,ndims,dim_sizes)
 *                     if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                         raise RuntimeError(nc_strerror(ierr))
 *                 else: # nested array compound type.
 */
          __pyx_4 = (__pyx_v_ierr != NC_NOERR);
          if (__pyx_4) {

            /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2465
 *                            offset,xtype_tmp,ndims,dim_sizes)
 *                     if ierr != NC_NOERR:
 *                         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *                 else: # nested array compound type.
 *                     # find this compound type in this group or it's parents.
 */
            __pyx_11 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_11)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2465; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            __pyx_7 = PyTuple_New(1); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2465; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            PyTuple_SET_ITEM(__pyx_7, 0, __pyx_11);
            __pyx_11 = 0;
            __pyx_5 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_7), NULL); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2465; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_DECREF(((PyObject *)__pyx_7)); __pyx_7 = 0;
            __Pyx_Raise(__pyx_5, 0, 0);
            Py_DECREF(__pyx_5); __pyx_5 = 0;
            {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2465; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            goto __pyx_L21;
          }
          __pyx_L21:;
          goto __pyx_L18;
        }
        /*else*/ {

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2468
 *                 else: # nested array compound type.
 *                     # find this compound type in this group or it's parents.
 *                     xtype_tmp = _find_cmptype(grp, format.subdtype[0])             # <<<<<<<<<<<<<<
 *                     nested_namstring = PyString_AsString(name)
 *                     ierr = nc_insert_array_compound(grp._grpid,xtype,\
 */
          __pyx_10 = PyObject_GetAttr(__pyx_v_format, __pyx_kp_subdtype); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2468; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_8 = __Pyx_GetItemInt(__pyx_10, 0, 0); if (!__pyx_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2468; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_10); __pyx_10 = 0;
          __pyx_11 = __pyx_f_7netCDF4__find_cmptype(__pyx_v_grp, __pyx_8); if (unlikely(!__pyx_11)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2468; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_8); __pyx_8 = 0;
          __pyx_9 = __pyx_PyInt_int(__pyx_11); if (unlikely((__pyx_9 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2468; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_11); __pyx_11 = 0;
          __pyx_v_xtype_tmp = __pyx_9;

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2469
 *                     # find this compound type in this group or it's parents.
 *                     xtype_tmp = _find_cmptype(grp, format.subdtype[0])
 *                     nested_namstring = PyString_AsString(name)             # <<<<<<<<<<<<<<
 *                     ierr = nc_insert_array_compound(grp._grpid,xtype,\
 *                                                     nested_namstring,\
 */
          __pyx_v_nested_namstring = PyString_AsString(__pyx_v_name);

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2470
 *                     xtype_tmp = _find_cmptype(grp, format.subdtype[0])
 *                     nested_namstring = PyString_AsString(name)
 *                     ierr = nc_insert_array_compound(grp._grpid,xtype,\             # <<<<<<<<<<<<<<
 *                                                     nested_namstring,\
 *                                                     offset,xtype_tmp,\
 */
          __pyx_7 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__grpid); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2470; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_3 = __pyx_PyInt_int(__pyx_7); if (unlikely((__pyx_3 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2470; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_7); __pyx_7 = 0;

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2473
 *                                                     nested_namstring,\
 *                                                     offset,xtype_tmp,\
 *                                                     ndims,dim_sizes)             # <<<<<<<<<<<<<<
 *                     if ierr != NC_NOERR:
 *                         raise RuntimeError(nc_strerror(ierr))
 */
          __pyx_v_ierr = nc_insert_array_compound(__pyx_3, __pyx_v_xtype, __pyx_v_nested_namstring, __pyx_v_offset, __pyx_v_xtype_tmp, __pyx_v_ndims, __pyx_v_dim_sizes);

          /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2474
 *                                                     offset,xtype_tmp,\
 *                                                     ndims,dim_sizes)
 *                     if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                         raise RuntimeError(nc_strerror(ierr))
 *     return xtype
 */
          __pyx_4 = (__pyx_v_ierr != NC_NOERR);
          if (__pyx_4) {

            /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2475
 *                                                     ndims,dim_sizes)
 *                     if ierr != NC_NOERR:
 *                         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *     return xtype
 * 
 */
            __pyx_5 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2475; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            __pyx_10 = PyTuple_New(1); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2475; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            PyTuple_SET_ITEM(__pyx_10, 0, __pyx_5);
            __pyx_5 = 0;
            __pyx_8 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_10), NULL); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2475; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            Py_DECREF(((PyObject *)__pyx_10)); __pyx_10 = 0;
            __Pyx_Raise(__pyx_8, 0, 0);
            Py_DECREF(__pyx_8); __pyx_8 = 0;
            {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2475; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            goto __pyx_L22;
          }
          __pyx_L22:;
        }
        __pyx_L18:;
      }
      __pyx_L14:;
    }
    __pyx_L10:;
  }
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2476
 *                     if ierr != NC_NOERR:
 *                         raise RuntimeError(nc_strerror(ierr))
 *     return xtype             # <<<<<<<<<<<<<<
 * 
 * cdef _find_cmptype(grp, dtype):
 */
  __pyx_11 = PyInt_FromLong(__pyx_v_xtype); if (unlikely(!__pyx_11)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2476; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_r = __pyx_11;
  __pyx_11 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_7);
  Py_XDECREF(__pyx_8);
  Py_XDECREF(__pyx_10);
  Py_XDECREF(__pyx_11);
  __Pyx_AddTraceback("netCDF4._def_compound");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_names);
  Py_DECREF(__pyx_v_formats);
  Py_DECREF(__pyx_v_offsets);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_format);
  Py_DECREF(__pyx_v_n);
  Py_DECREF(__pyx_v_v);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2478
 *     return xtype
 * 
 * cdef _find_cmptype(grp, dtype):             # <<<<<<<<<<<<<<
 *     # look for data type in this group and it's parents.
 *     # return datatype id when found, if not found, raise exception.
 */

static  PyObject *__pyx_f_7netCDF4__find_cmptype(PyObject *__pyx_v_grp, PyObject *__pyx_v_dtype) {
  nc_type __pyx_v_xtype;
  PyObject *__pyx_v_match;
  PyObject *__pyx_v_cmpname;
  PyObject *__pyx_v_cmpdt;
  PyObject *__pyx_v_parent_grp;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_ssize_t __pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  nc_type __pyx_6;
  int __pyx_7;
  int __pyx_8;
  int __pyx_9;
  PyObject *__pyx_10 = 0;
  __pyx_v_match = Py_None; Py_INCREF(Py_None);
  __pyx_v_cmpname = Py_None; Py_INCREF(Py_None);
  __pyx_v_cmpdt = Py_None; Py_INCREF(Py_None);
  __pyx_v_parent_grp = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2482
 *     # return datatype id when found, if not found, raise exception.
 *     cdef nc_type xtype
 *     match = False             # <<<<<<<<<<<<<<
 *     for cmpname, cmpdt, xtype in grp._cmptypes:
 *         if dtype == cmpdt:
 */
  __pyx_1 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2482; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_match);
  __pyx_v_match = __pyx_1;
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2483
 *     cdef nc_type xtype
 *     match = False
 *     for cmpname, cmpdt, xtype in grp._cmptypes:             # <<<<<<<<<<<<<<
 *         if dtype == cmpdt:
 *             match = True
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp__cmptypes); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyList_CheckExact(__pyx_1) || PyTuple_CheckExact(__pyx_1)) {
    __pyx_2 = 0; __pyx_3 = __pyx_1; Py_INCREF(__pyx_3);
  } else {
    __pyx_2 = -1; __pyx_3 = PyObject_GetIter(__pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_3))) {
      if (__pyx_2 >= PyList_GET_SIZE(__pyx_3)) break;
      __pyx_1 = PyList_GET_ITEM(__pyx_3, __pyx_2); Py_INCREF(__pyx_1); __pyx_2++;
    } else if (likely(PyTuple_CheckExact(__pyx_3))) {
      if (__pyx_2 >= PyTuple_GET_SIZE(__pyx_3)) break;
      __pyx_1 = PyTuple_GET_ITEM(__pyx_3, __pyx_2); Py_INCREF(__pyx_1); __pyx_2++;
    } else {
      __pyx_1 = PyIter_Next(__pyx_3);
      if (!__pyx_1) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    if (PyTuple_CheckExact(__pyx_1) && PyTuple_GET_SIZE(__pyx_1) == 3) {
      PyObject* tuple = __pyx_1;
      __pyx_5 = PyTuple_GET_ITEM(tuple, 0);
      Py_INCREF(__pyx_5);
      Py_DECREF(__pyx_v_cmpname);
      __pyx_v_cmpname = __pyx_5;
      __pyx_5 = 0;
      __pyx_5 = PyTuple_GET_ITEM(tuple, 1);
      Py_INCREF(__pyx_5);
      Py_DECREF(__pyx_v_cmpdt);
      __pyx_v_cmpdt = __pyx_5;
      __pyx_5 = 0;
      __pyx_5 = PyTuple_GET_ITEM(tuple, 2);
      Py_INCREF(__pyx_5);
      __pyx_6 = __pyx_PyInt_int(__pyx_5); if (unlikely((__pyx_6 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __pyx_v_xtype = __pyx_6;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
    }
    else {
      __pyx_4 = PyObject_GetIter(__pyx_1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_5 = __Pyx_UnpackItem(__pyx_4, 0); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_cmpname);
      __pyx_v_cmpname = __pyx_5;
      __pyx_5 = 0;
      __pyx_5 = __Pyx_UnpackItem(__pyx_4, 1); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_cmpdt);
      __pyx_v_cmpdt = __pyx_5;
      __pyx_5 = 0;
      __pyx_5 = __Pyx_UnpackItem(__pyx_4, 2); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_6 = __pyx_PyInt_int(__pyx_5); if (unlikely((__pyx_6 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __pyx_v_xtype = __pyx_6;
      if (__Pyx_EndUnpack(__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
    }

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2484
 *     match = False
 *     for cmpname, cmpdt, xtype in grp._cmptypes:
 *         if dtype == cmpdt:             # <<<<<<<<<<<<<<
 *             match = True
 *             break
 */
    __pyx_5 = PyObject_RichCompare(__pyx_v_dtype, __pyx_v_cmpdt, Py_EQ); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2484; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_7 = __Pyx_PyObject_IsTrue(__pyx_5); if (unlikely(__pyx_7 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2484; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    if (__pyx_7) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2485
 *     for cmpname, cmpdt, xtype in grp._cmptypes:
 *         if dtype == cmpdt:
 *             match = True             # <<<<<<<<<<<<<<
 *             break
 *     if not match:
 */
      __pyx_1 = __Pyx_PyBool_FromLong(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2485; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_match);
      __pyx_v_match = __pyx_1;
      __pyx_1 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2486
 *         if dtype == cmpdt:
 *             match = True
 *             break             # <<<<<<<<<<<<<<
 *     if not match:
 *         try:
 */
      goto __pyx_L4;
      goto __pyx_L5;
    }
    __pyx_L5:;
  }
  __pyx_L4:;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2487
 *             match = True
 *             break
 *     if not match:             # <<<<<<<<<<<<<<
 *         try:
 *             parent_grp = grp.parent
 */
  __pyx_7 = __Pyx_PyObject_IsTrue(__pyx_v_match); if (unlikely(__pyx_7 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2487; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_8 = (!__pyx_7);
  if (__pyx_8) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2488
 *             break
 *     if not match:
 *         try:             # <<<<<<<<<<<<<<
 *             parent_grp = grp.parent
 *         except AttributeError:
 */
    /*try:*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2489
 *     if not match:
 *         try:
 *             parent_grp = grp.parent             # <<<<<<<<<<<<<<
 *         except AttributeError:
 *             raise ValueError("cannot find compound type in this group or parent groups")
 */
      __pyx_4 = PyObject_GetAttr(__pyx_v_grp, __pyx_kp_parent); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2489; __pyx_clineno = __LINE__; goto __pyx_L7_error;}
      Py_DECREF(__pyx_v_parent_grp);
      __pyx_v_parent_grp = __pyx_4;
      __pyx_4 = 0;
    }
    goto __pyx_L8;
    __pyx_L7_error:;
    Py_XDECREF(__pyx_5); __pyx_5 = 0;
    Py_XDECREF(__pyx_1); __pyx_1 = 0;
    Py_XDECREF(__pyx_3); __pyx_3 = 0;
    Py_XDECREF(__pyx_4); __pyx_4 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2490
 *         try:
 *             parent_grp = grp.parent
 *         except AttributeError:             # <<<<<<<<<<<<<<
 *             raise ValueError("cannot find compound type in this group or parent groups")
 *         if parent_grp is None:
 */
    __pyx_9 = PyErr_ExceptionMatches(__pyx_builtin_AttributeError);
    if (__pyx_9) {
      __Pyx_AddTraceback("netCDF4._find_cmptype");
      if (__Pyx_GetException(&__pyx_5, &__pyx_1, &__pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2490; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2491
 *             parent_grp = grp.parent
 *         except AttributeError:
 *             raise ValueError("cannot find compound type in this group or parent groups")             # <<<<<<<<<<<<<<
 *         if parent_grp is None:
 *             raise ValueError("cannot find compound type in this group or parent groups")
 */
      __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_kp_200);
      PyTuple_SET_ITEM(__pyx_4, 0, __pyx_kp_200);
      __pyx_10 = PyObject_Call(__pyx_builtin_ValueError, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
      __Pyx_Raise(__pyx_10, 0, 0);
      Py_DECREF(__pyx_10); __pyx_10 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      goto __pyx_L8;
    }
    goto __pyx_L1_error;
    __pyx_L8:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2492
 *         except AttributeError:
 *             raise ValueError("cannot find compound type in this group or parent groups")
 *         if parent_grp is None:             # <<<<<<<<<<<<<<
 *             raise ValueError("cannot find compound type in this group or parent groups")
 *         else:
 */
    __pyx_7 = (__pyx_v_parent_grp == Py_None);
    if (__pyx_7) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2493
 *             raise ValueError("cannot find compound type in this group or parent groups")
 *         if parent_grp is None:
 *             raise ValueError("cannot find compound type in this group or parent groups")             # <<<<<<<<<<<<<<
 *         else:
 *             xtype = _find_cmptype(parent_grp,dtype)
 */
      __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2493; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_kp_201);
      PyTuple_SET_ITEM(__pyx_4, 0, __pyx_kp_201);
      __pyx_10 = PyObject_Call(__pyx_builtin_ValueError, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2493; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
      __Pyx_Raise(__pyx_10, 0, 0);
      Py_DECREF(__pyx_10); __pyx_10 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2493; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L9;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2495
 *             raise ValueError("cannot find compound type in this group or parent groups")
 *         else:
 *             xtype = _find_cmptype(parent_grp,dtype)             # <<<<<<<<<<<<<<
 *     return xtype
 * 
 */
      __pyx_5 = __pyx_f_7netCDF4__find_cmptype(__pyx_v_parent_grp, __pyx_v_dtype); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2495; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_6 = __pyx_PyInt_int(__pyx_5); if (unlikely((__pyx_6 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2495; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __pyx_v_xtype = __pyx_6;
    }
    __pyx_L9:;
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2496
 *         else:
 *             xtype = _find_cmptype(parent_grp,dtype)
 *     return xtype             # <<<<<<<<<<<<<<
 * 
 * cdef _read_compound(group, nc_type xtype):
 */
  __pyx_1 = PyInt_FromLong(__pyx_v_xtype); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2496; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_10);
  __Pyx_AddTraceback("netCDF4._find_cmptype");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_match);
  Py_DECREF(__pyx_v_cmpname);
  Py_DECREF(__pyx_v_cmpdt);
  Py_DECREF(__pyx_v_parent_grp);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2498
 *     return xtype
 * 
 * cdef _read_compound(group, nc_type xtype):             # <<<<<<<<<<<<<<
 *     # read a compound data type id from an existing file,
 *     # construct a corresponding numpy dtype instance,
 */

static  PyObject *__pyx_f_7netCDF4__read_compound(PyObject *__pyx_v_group, nc_type __pyx_v_xtype) {
  int __pyx_v_ierr;
  int __pyx_v_nf;
  int __pyx_v_numdims;
  int __pyx_v_ndim;
  int __pyx_v_classp;
  size_t __pyx_v_nfields;
  size_t __pyx_v_offset;
  nc_type __pyx_v_field_typeid;
  int __pyx_v_dim_sizes[NC_MAX_DIMS];
  char __pyx_v_field_namstring[(NC_MAX_NAME + 1)];
  char __pyx_v_cmp_namstring[(NC_MAX_NAME + 1)];
  PyObject *__pyx_v_name;
  PyObject *__pyx_v_names;
  PyObject *__pyx_v_formats;
  PyObject *__pyx_v_offsets;
  PyObject *__pyx_v_field_name;
  PyObject *__pyx_v_field_shape;
  PyObject *__pyx_v_field_type;
  PyObject *__pyx_v_dtype_dict;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  int __pyx_3;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  PyObject *__pyx_7 = 0;
  __pyx_v_name = Py_None; Py_INCREF(Py_None);
  __pyx_v_names = Py_None; Py_INCREF(Py_None);
  __pyx_v_formats = Py_None; Py_INCREF(Py_None);
  __pyx_v_offsets = Py_None; Py_INCREF(Py_None);
  __pyx_v_field_name = Py_None; Py_INCREF(Py_None);
  __pyx_v_field_shape = Py_None; Py_INCREF(Py_None);
  __pyx_v_field_type = Py_None; Py_INCREF(Py_None);
  __pyx_v_dtype_dict = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2511
 *     cdef char cmp_namstring[NC_MAX_NAME+1]
 *     # get name and number of fields.
 *     ierr = nc_inq_compound(group._grpid, xtype, cmp_namstring, NULL, &nfields)             # <<<<<<<<<<<<<<
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_group, __pyx_kp__grpid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2511; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __pyx_PyInt_int(__pyx_1); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2511; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_ierr = nc_inq_compound(__pyx_2, __pyx_v_xtype, __pyx_v_cmp_namstring, NULL, (&__pyx_v_nfields));

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2512
 *     # get name and number of fields.
 *     ierr = nc_inq_compound(group._grpid, xtype, cmp_namstring, NULL, &nfields)
 *     if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *         raise RuntimeError(nc_strerror(ierr))
 *     name = PyString_FromString(cmp_namstring)
 */
  __pyx_3 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_3) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2513
 *     ierr = nc_inq_compound(group._grpid, xtype, cmp_namstring, NULL, &nfields)
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *     name = PyString_FromString(cmp_namstring)
 *     # loop over fields.
 */
    __pyx_1 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2513; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2513; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2513; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2513; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2514
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 *     name = PyString_FromString(cmp_namstring)             # <<<<<<<<<<<<<<
 *     # loop over fields.
 *     names = []
 */
  __pyx_4 = PyString_FromString(__pyx_v_cmp_namstring); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2514; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_name);
  __pyx_v_name = __pyx_4;
  __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2516
 *     name = PyString_FromString(cmp_namstring)
 *     # loop over fields.
 *     names = []             # <<<<<<<<<<<<<<
 *     formats = []
 *     offsets = []
 */
  __pyx_1 = PyList_New(0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2516; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_names);
  __pyx_v_names = ((PyObject *)__pyx_1);
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2517
 *     # loop over fields.
 *     names = []
 *     formats = []             # <<<<<<<<<<<<<<
 *     offsets = []
 *     for nf from 0 <= nf < nfields:
 */
  __pyx_4 = PyList_New(0); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2517; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_formats);
  __pyx_v_formats = ((PyObject *)__pyx_4);
  __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2518
 *     names = []
 *     formats = []
 *     offsets = []             # <<<<<<<<<<<<<<
 *     for nf from 0 <= nf < nfields:
 *         ierr = nc_inq_compound_field(group._grpid,
 */
  __pyx_1 = PyList_New(0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2518; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_offsets);
  __pyx_v_offsets = ((PyObject *)__pyx_1);
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2519
 *     formats = []
 *     offsets = []
 *     for nf from 0 <= nf < nfields:             # <<<<<<<<<<<<<<
 *         ierr = nc_inq_compound_field(group._grpid,
 *                                      xtype,
 */
  for (__pyx_v_nf = 0; __pyx_v_nf < __pyx_v_nfields; __pyx_v_nf++) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2520
 *     offsets = []
 *     for nf from 0 <= nf < nfields:
 *         ierr = nc_inq_compound_field(group._grpid,             # <<<<<<<<<<<<<<
 *                                      xtype,
 *                                      nf,
 */
    __pyx_4 = PyObject_GetAttr(__pyx_v_group, __pyx_kp__grpid); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2520; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = __pyx_PyInt_int(__pyx_4); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2520; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2527
 *                                      &field_typeid,
 *                                      &numdims,
 *                                      dim_sizes)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_inq_compound_field(__pyx_2, __pyx_v_xtype, __pyx_v_nf, __pyx_v_field_namstring, (&__pyx_v_offset), (&__pyx_v_field_typeid), (&__pyx_v_numdims), __pyx_v_dim_sizes);

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2528
 *                                      &numdims,
 *                                      dim_sizes)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         field_name = PyString_FromString(field_namstring)
 */
    __pyx_3 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_3) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2529
 *                                      dim_sizes)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         field_name = PyString_FromString(field_namstring)
 *         names.append(field_name)
 */
      __pyx_1 = __Pyx_PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2529; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2529; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
      __pyx_1 = 0;
      __pyx_1 = PyObject_Call(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2529; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
      __Pyx_Raise(__pyx_1, 0, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2529; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L6;
    }
    __pyx_L6:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2530
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         field_name = PyString_FromString(field_namstring)             # <<<<<<<<<<<<<<
 *         names.append(field_name)
 *         offsets.append(offset)
 */
    __pyx_4 = PyString_FromString(__pyx_v_field_namstring); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2530; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_field_name);
    __pyx_v_field_name = __pyx_4;
    __pyx_4 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2531
 *             raise RuntimeError(nc_strerror(ierr))
 *         field_name = PyString_FromString(field_namstring)
 *         names.append(field_name)             # <<<<<<<<<<<<<<
 *         offsets.append(offset)
 *         # if numdims=0, not an array.
 */
    __pyx_1 = __Pyx_PyObject_Append(__pyx_v_names, __pyx_v_field_name); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2531; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2532
 *         field_name = PyString_FromString(field_namstring)
 *         names.append(field_name)
 *         offsets.append(offset)             # <<<<<<<<<<<<<<
 *         # if numdims=0, not an array.
 *         field_shape = ()
 */
    __pyx_4 = PyInt_FromLong(__pyx_v_offset); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2532; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = __Pyx_PyObject_Append(__pyx_v_offsets, __pyx_4); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2532; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2534
 *         offsets.append(offset)
 *         # if numdims=0, not an array.
 *         field_shape = ()             # <<<<<<<<<<<<<<
 *         if numdims != 0:
 *             for ndim from 0 <= ndim < numdims:
 */
    Py_INCREF(((PyObject *)__pyx_empty_tuple));
    Py_DECREF(__pyx_v_field_shape);
    __pyx_v_field_shape = ((PyObject *)__pyx_empty_tuple);

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2535
 *         # if numdims=0, not an array.
 *         field_shape = ()
 *         if numdims != 0:             # <<<<<<<<<<<<<<
 *             for ndim from 0 <= ndim < numdims:
 *                 field_shape = field_shape + (dim_sizes[ndim],)
 */
    __pyx_3 = (__pyx_v_numdims != 0);
    if (__pyx_3) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2536
 *         field_shape = ()
 *         if numdims != 0:
 *             for ndim from 0 <= ndim < numdims:             # <<<<<<<<<<<<<<
 *                 field_shape = field_shape + (dim_sizes[ndim],)
 *         # check to see if this field is a nested compound type.
 */
      for (__pyx_v_ndim = 0; __pyx_v_ndim < __pyx_v_numdims; __pyx_v_ndim++) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2537
 *         if numdims != 0:
 *             for ndim from 0 <= ndim < numdims:
 *                 field_shape = field_shape + (dim_sizes[ndim],)             # <<<<<<<<<<<<<<
 *         # check to see if this field is a nested compound type.
 *         try:
 */
        __pyx_4 = PyInt_FromLong((__pyx_v_dim_sizes[__pyx_v_ndim])); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2537; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2537; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        PyTuple_SET_ITEM(__pyx_1, 0, __pyx_4);
        __pyx_4 = 0;
        __pyx_4 = PyNumber_Add(__pyx_v_field_shape, ((PyObject *)__pyx_1)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2537; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
        Py_DECREF(__pyx_v_field_shape);
        __pyx_v_field_shape = __pyx_4;
        __pyx_4 = 0;
      }
      goto __pyx_L7;
    }
    __pyx_L7:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2539
 *                 field_shape = field_shape + (dim_sizes[ndim],)
 *         # check to see if this field is a nested compound type.
 *         try:             # <<<<<<<<<<<<<<
 *             field_type =  _nctonptype[field_typeid]
 *         except KeyError:
 */
    /*try:*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2540
 *         # check to see if this field is a nested compound type.
 *         try:
 *             field_type =  _nctonptype[field_typeid]             # <<<<<<<<<<<<<<
 *         except KeyError:
 *             ierr = nc_inq_user_type(group._grpid,
 */
      __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp__nctonptype); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2540; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
      __pyx_4 = __Pyx_GetItemInt(__pyx_1, __pyx_v_field_typeid, 0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2540; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_v_field_type);
      __pyx_v_field_type = __pyx_4;
      __pyx_4 = 0;
    }
    goto __pyx_L11;
    __pyx_L10_error:;
    Py_XDECREF(__pyx_1); __pyx_1 = 0;
    Py_XDECREF(__pyx_4); __pyx_4 = 0;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2541
 *         try:
 *             field_type =  _nctonptype[field_typeid]
 *         except KeyError:             # <<<<<<<<<<<<<<
 *             ierr = nc_inq_user_type(group._grpid,
 *                    field_typeid,NULL,NULL,NULL,NULL,&classp)
 */
    __pyx_2 = PyErr_ExceptionMatches(__pyx_builtin_KeyError);
    if (__pyx_2) {
      __Pyx_AddTraceback("netCDF4._read_compound");
      if (__Pyx_GetException(&__pyx_1, &__pyx_4, &__pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2541; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2542
 *             field_type =  _nctonptype[field_typeid]
 *         except KeyError:
 *             ierr = nc_inq_user_type(group._grpid,             # <<<<<<<<<<<<<<
 *                    field_typeid,NULL,NULL,NULL,NULL,&classp)
 *             if classp == NC_COMPOUND: # a compound type
 */
      __pyx_6 = PyObject_GetAttr(__pyx_v_group, __pyx_kp__grpid); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2542; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_2 = __pyx_PyInt_int(__pyx_6); if (unlikely((__pyx_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2542; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2543
 *         except KeyError:
 *             ierr = nc_inq_user_type(group._grpid,
 *                    field_typeid,NULL,NULL,NULL,NULL,&classp)             # <<<<<<<<<<<<<<
 *             if classp == NC_COMPOUND: # a compound type
 *                 # recursively call this function?
 */
      __pyx_v_ierr = nc_inq_user_type(__pyx_2, __pyx_v_field_typeid, NULL, NULL, NULL, NULL, (&__pyx_v_classp));

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2544
 *             ierr = nc_inq_user_type(group._grpid,
 *                    field_typeid,NULL,NULL,NULL,NULL,&classp)
 *             if classp == NC_COMPOUND: # a compound type             # <<<<<<<<<<<<<<
 *                 # recursively call this function?
 *                 field_type = _read_compound(group, field_typeid)
 */
      __pyx_3 = (__pyx_v_classp == NC_COMPOUND);
      if (__pyx_3) {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2546
 *             if classp == NC_COMPOUND: # a compound type
 *                 # recursively call this function?
 *                 field_type = _read_compound(group, field_typeid)             # <<<<<<<<<<<<<<
 *             else:
 *                 raise KeyError('compound field of an unsupported data type')
 */
        __pyx_6 = __pyx_f_7netCDF4__read_compound(__pyx_v_group, __pyx_v_field_typeid); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2546; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_v_field_type);
        __pyx_v_field_type = __pyx_6;
        __pyx_6 = 0;
        goto __pyx_L12;
      }
      /*else*/ {

        /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2548
 *                 field_type = _read_compound(group, field_typeid)
 *             else:
 *                 raise KeyError('compound field of an unsupported data type')             # <<<<<<<<<<<<<<
 *         if field_shape != ():
 *             formats.append((field_type,field_shape))
 */
        __pyx_6 = PyTuple_New(1); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2548; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_INCREF(__pyx_kp_202);
        PyTuple_SET_ITEM(__pyx_6, 0, __pyx_kp_202);
        __pyx_7 = PyObject_Call(__pyx_builtin_KeyError, ((PyObject *)__pyx_6), NULL); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2548; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(((PyObject *)__pyx_6)); __pyx_6 = 0;
        __Pyx_Raise(__pyx_7, 0, 0);
        Py_DECREF(__pyx_7); __pyx_7 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2548; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      }
      __pyx_L12:;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      goto __pyx_L11;
    }
    goto __pyx_L1_error;
    __pyx_L11:;

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2549
 *             else:
 *                 raise KeyError('compound field of an unsupported data type')
 *         if field_shape != ():             # <<<<<<<<<<<<<<
 *             formats.append((field_type,field_shape))
 *         else:
 */
    __pyx_6 = PyObject_RichCompare(__pyx_v_field_shape, ((PyObject *)__pyx_empty_tuple), Py_NE); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2549; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_6); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2549; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    if (__pyx_3) {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2550
 *                 raise KeyError('compound field of an unsupported data type')
 *         if field_shape != ():
 *             formats.append((field_type,field_shape))             # <<<<<<<<<<<<<<
 *         else:
 *             formats.append(field_type)
 */
      __pyx_7 = PyTuple_New(2); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2550; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_v_field_type);
      PyTuple_SET_ITEM(__pyx_7, 0, __pyx_v_field_type);
      Py_INCREF(__pyx_v_field_shape);
      PyTuple_SET_ITEM(__pyx_7, 1, __pyx_v_field_shape);
      __pyx_1 = __Pyx_PyObject_Append(__pyx_v_formats, ((PyObject *)__pyx_7)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2550; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_7)); __pyx_7 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      goto __pyx_L13;
    }
    /*else*/ {

      /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2552
 *             formats.append((field_type,field_shape))
 *         else:
 *             formats.append(field_type)             # <<<<<<<<<<<<<<
 *     # make sure entries in lists sorted by offset.
 *     names = _sortbylist(names, offsets)
 */
      __pyx_4 = __Pyx_PyObject_Append(__pyx_v_formats, __pyx_v_field_type); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2552; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
    }
    __pyx_L13:;
  }

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2554
 *             formats.append(field_type)
 *     # make sure entries in lists sorted by offset.
 *     names = _sortbylist(names, offsets)             # <<<<<<<<<<<<<<
 *     formats = _sortbylist(formats, offsets)
 *     offsets.sort()
 */
  __pyx_5 = __Pyx_GetName(__pyx_m, __pyx_kp__sortbylist); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2554; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_6 = PyTuple_New(2); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2554; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_names);
  PyTuple_SET_ITEM(__pyx_6, 0, __pyx_v_names);
  Py_INCREF(__pyx_v_offsets);
  PyTuple_SET_ITEM(__pyx_6, 1, __pyx_v_offsets);
  __pyx_7 = PyObject_Call(__pyx_5, ((PyObject *)__pyx_6), NULL); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2554; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  Py_DECREF(((PyObject *)__pyx_6)); __pyx_6 = 0;
  Py_DECREF(__pyx_v_names);
  __pyx_v_names = __pyx_7;
  __pyx_7 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2555
 *     # make sure entries in lists sorted by offset.
 *     names = _sortbylist(names, offsets)
 *     formats = _sortbylist(formats, offsets)             # <<<<<<<<<<<<<<
 *     offsets.sort()
 *     # create a dict that can be converted into a numpy dtype.
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp__sortbylist); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2555; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = PyTuple_New(2); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2555; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_formats);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_formats);
  Py_INCREF(__pyx_v_offsets);
  PyTuple_SET_ITEM(__pyx_4, 1, __pyx_v_offsets);
  __pyx_5 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2555; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
  Py_DECREF(__pyx_v_formats);
  __pyx_v_formats = __pyx_5;
  __pyx_5 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2556
 *     names = _sortbylist(names, offsets)
 *     formats = _sortbylist(formats, offsets)
 *     offsets.sort()             # <<<<<<<<<<<<<<
 *     # create a dict that can be converted into a numpy dtype.
 *     dtype_dict = {'names':names,'formats':formats,'offsets':offsets}
 */
  __pyx_6 = PyObject_GetAttr(__pyx_v_offsets, __pyx_kp_sort); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2556; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_7 = PyObject_Call(__pyx_6, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2556; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  Py_DECREF(__pyx_7); __pyx_7 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2558
 *     offsets.sort()
 *     # create a dict that can be converted into a numpy dtype.
 *     dtype_dict = {'names':names,'formats':formats,'offsets':offsets}             # <<<<<<<<<<<<<<
 *     return CompoundType(group, dtype_dict, name, typeid=xtype)
 * 
 */
  __pyx_1 = PyDict_New(); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2558; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_1, __pyx_kp_203, __pyx_v_names) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2558; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_1, __pyx_kp_204, __pyx_v_formats) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2558; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_1, __pyx_kp_205, __pyx_v_offsets) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2558; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_dtype_dict);
  __pyx_v_dtype_dict = ((PyObject *)__pyx_1);
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":2559
 *     # create a dict that can be converted into a numpy dtype.
 *     dtype_dict = {'names':names,'formats':formats,'offsets':offsets}
 *     return CompoundType(group, dtype_dict, name, typeid=xtype)             # <<<<<<<<<<<<<<
 * 
 * # include pure python utility functions and MFDataset class.
 */
  __pyx_4 = PyTuple_New(3); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2559; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_group);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_group);
  Py_INCREF(__pyx_v_dtype_dict);
  PyTuple_SET_ITEM(__pyx_4, 1, __pyx_v_dtype_dict);
  Py_INCREF(__pyx_v_name);
  PyTuple_SET_ITEM(__pyx_4, 2, __pyx_v_name);
  __pyx_5 = PyDict_New(); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2559; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_6 = PyInt_FromLong(__pyx_v_xtype); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2559; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_5, __pyx_kp_typeid, __pyx_6) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2559; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  __pyx_7 = PyEval_CallObjectWithKeywords(((PyObject*)__pyx_ptype_7netCDF4_CompoundType), ((PyObject *)__pyx_4), ((PyObject *)__pyx_5)); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2559; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
  Py_DECREF(((PyObject *)__pyx_5)); __pyx_5 = 0;
  __pyx_r = __pyx_7;
  __pyx_7 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  Py_XDECREF(__pyx_7);
  __Pyx_AddTraceback("netCDF4._read_compound");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_names);
  Py_DECREF(__pyx_v_formats);
  Py_DECREF(__pyx_v_offsets);
  Py_DECREF(__pyx_v_field_name);
  Py_DECREF(__pyx_v_field_shape);
  Py_DECREF(__pyx_v_field_type);
  Py_DECREF(__pyx_v_dtype_dict);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":3
 * # utility functions (visible from python).
 * 
 * def stringtoarr(string,NUMCHARS):             # <<<<<<<<<<<<<<
 *     """
 * stringtoarr(a, NUMCHARS)
 */

static PyObject *__pyx_pf_7netCDF4_stringtoarr(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF4_stringtoarr[] = "\nstringtoarr(a, NUMCHARS)\n\nconvert a string to a character array of length NUMCHARS\n\n@param a:  Input python string.\n\n@param NUMCHARS:  number of characters used to represent string \n(if len(a) < NUMCHARS, it will be padded on the right with blanks).\n\n@return: A rank 1 numpy character array of length NUMCHARS with datatype 'S1'";
static PyObject *__pyx_pf_7netCDF4_stringtoarr(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_string = 0;
  PyObject *__pyx_v_NUMCHARS = 0;
  PyObject *__pyx_v_arr;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_ssize_t __pyx_4 = 0;
  static char *__pyx_argnames[] = {"string","NUMCHARS",0};
  __pyx_self = __pyx_self;
  if (likely(!__pyx_kwds) && likely(PyTuple_GET_SIZE(__pyx_args) == 2)) {
    __pyx_v_string = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_NUMCHARS = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_string, &__pyx_v_NUMCHARS))) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 3; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4.stringtoarr");
  return NULL;
  __pyx_L4:;
  __pyx_v_arr = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/utils.pyx":15
 * 
 * @return: A rank 1 numpy character array of length NUMCHARS with datatype 'S1'"""
 *     arr = numpy.zeros(NUMCHARS,'S1')             # <<<<<<<<<<<<<<
 *     arr[0:len(string)] = tuple(string)
 *     return arr
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 15; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_kp_zeros); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 15; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 15; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_NUMCHARS);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_NUMCHARS);
  Py_INCREF(__pyx_kp_206);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_kp_206);
  __pyx_3 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 15; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  Py_DECREF(__pyx_v_arr);
  __pyx_v_arr = __pyx_3;
  __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":16
 * @return: A rank 1 numpy character array of length NUMCHARS with datatype 'S1'"""
 *     arr = numpy.zeros(NUMCHARS,'S1')
 *     arr[0:len(string)] = tuple(string)             # <<<<<<<<<<<<<<
 *     return arr
 * 
 */
  __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 16; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_string);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_string);
  __pyx_1 = PyObject_Call(((PyObject*)&PyTuple_Type), ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 16; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
  __pyx_4 = PyObject_Length(__pyx_v_string); if (unlikely(__pyx_4 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 16; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PySequence_SetSlice(__pyx_v_arr, 0, __pyx_4, __pyx_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 16; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":17
 *     arr = numpy.zeros(NUMCHARS,'S1')
 *     arr[0:len(string)] = tuple(string)
 *     return arr             # <<<<<<<<<<<<<<
 * 
 * def stringtochar(a):
 */
  Py_INCREF(__pyx_v_arr);
  __pyx_r = __pyx_v_arr;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.stringtoarr");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_arr);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":19
 *     return arr
 * 
 * def stringtochar(a):             # <<<<<<<<<<<<<<
 *     """
 * stringtochar(a)
 */

static PyObject *__pyx_pf_7netCDF4_stringtochar(PyObject *__pyx_self, PyObject *__pyx_v_a); /*proto*/
static char __pyx_doc_7netCDF4_stringtochar[] = "\nstringtochar(a)\n\nconvert a string array to a character array with one extra dimension\n\n@param a:  Input numpy string array with numpy datatype 'SN', where N\nis the number of characters in each string.  Will be converted to\nan array of characters (datatype 'S1') of shape a.shape + (N,).\n\n@return: A numpy character array with datatype 'S1' and shape \na.shape + (N,), where N is the length of each string in a.";
static PyObject *__pyx_pf_7netCDF4_stringtochar(PyObject *__pyx_self, PyObject *__pyx_v_a) {
  PyObject *__pyx_v_b;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  __pyx_self = __pyx_self;
  __pyx_v_b = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/utils.pyx":31
 * @return: A numpy character array with datatype 'S1' and shape
 * a.shape + (N,), where N is the length of each string in a."""
 *     b = numpy.array(tuple(a.tostring()),'S1')             # <<<<<<<<<<<<<<
 *     b.shape = a.shape + (a.itemsize,)
 *     return b
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 31; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_kp_array); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 31; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_v_a, __pyx_kp_tostring); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 31; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 31; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 31; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_Call(((PyObject*)&PyTuple_Type), ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 31; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 31; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_3);
  Py_INCREF(__pyx_kp_207);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_kp_207);
  __pyx_3 = 0;
  __pyx_3 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 31; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  Py_DECREF(__pyx_v_b);
  __pyx_v_b = __pyx_3;
  __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":32
 * a.shape + (N,), where N is the length of each string in a."""
 *     b = numpy.array(tuple(a.tostring()),'S1')
 *     b.shape = a.shape + (a.itemsize,)             # <<<<<<<<<<<<<<
 *     return b
 * 
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_a, __pyx_kp_shape); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 32; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyObject_GetAttr(__pyx_v_a, __pyx_kp_itemsize); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 32; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 32; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
  __pyx_1 = 0;
  __pyx_1 = PyNumber_Add(__pyx_2, ((PyObject *)__pyx_3)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 32; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
  if (PyObject_SetAttr(__pyx_v_b, __pyx_kp_shape, __pyx_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 32; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":33
 *     b = numpy.array(tuple(a.tostring()),'S1')
 *     b.shape = a.shape + (a.itemsize,)
 *     return b             # <<<<<<<<<<<<<<
 * 
 * def chartostring(b):
 */
  Py_INCREF(__pyx_v_b);
  __pyx_r = __pyx_v_b;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4.stringtochar");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":35
 *     return b
 * 
 * def chartostring(b):             # <<<<<<<<<<<<<<
 *     """
 * chartostring(b)
 */

static PyObject *__pyx_pf_7netCDF4_chartostring(PyObject *__pyx_self, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7netCDF4_chartostring[] = "\nchartostring(b)\n\nconvert a character array to a string array with one less dimension.\n\n@param b:  Input character array (numpy datatype 'S1').\nWill be converted to a array of strings, where each string has a fixed\nlength of b.shape[-1] characters.\n\n@return: A numpy string array with datatype 'SN' and shape b.shape[:-1],\nwhere N=b.shape[-1].";
static PyObject *__pyx_pf_7netCDF4_chartostring(PyObject *__pyx_self, PyObject *__pyx_v_b) {
  PyObject *__pyx_v_bs;
  PyObject *__pyx_v_slen;
  PyObject *__pyx_v_a;
  PyObject *__pyx_v_n1;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_ssize_t __pyx_3 = 0;
  Py_ssize_t __pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  Py_ssize_t __pyx_7 = 0;
  int __pyx_8;
  __pyx_self = __pyx_self;
  __pyx_v_bs = Py_None; Py_INCREF(Py_None);
  __pyx_v_slen = Py_None; Py_INCREF(Py_None);
  __pyx_v_a = Py_None; Py_INCREF(Py_None);
  __pyx_v_n1 = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/utils.pyx":47
 * @return: A numpy string array with datatype 'SN' and shape b.shape[:-1],
 * where N=b.shape[-1]."""
 *     bs = b.tostring()             # <<<<<<<<<<<<<<
 *     slen = b.shape[-1]
 *     a = numpy.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_b, __pyx_kp_tostring); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 47; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 47; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_bs);
  __pyx_v_bs = __pyx_2;
  __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":48
 * where N=b.shape[-1]."""
 *     bs = b.tostring()
 *     slen = b.shape[-1]             # <<<<<<<<<<<<<<
 *     a = numpy.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))
 *     a.shape = b.shape[:-1]
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_b, __pyx_kp_shape); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 48; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __Pyx_GetItemInt(__pyx_1, -1, 0); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 48; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_slen);
  __pyx_v_slen = __pyx_2;
  __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":49
 *     bs = b.tostring()
 *     slen = b.shape[-1]
 *     a = numpy.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))             # <<<<<<<<<<<<<<
 *     a.shape = b.shape[:-1]
 *     return a
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_kp_array); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyList_New(0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = PyObject_Length(__pyx_v_bs); if (unlikely(__pyx_4 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_5 = PyInt_FromSsize_t(__pyx_4); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_6 = PyTuple_New(3); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_int_0);
  PyTuple_SET_ITEM(__pyx_6, 0, __pyx_int_0);
  PyTuple_SET_ITEM(__pyx_6, 1, __pyx_5);
  Py_INCREF(__pyx_v_slen);
  PyTuple_SET_ITEM(__pyx_6, 2, __pyx_v_slen);
  __pyx_5 = 0;
  __pyx_5 = PyObject_Call(__pyx_builtin_range, ((PyObject *)__pyx_6), NULL); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_6)); __pyx_6 = 0;
  if (PyList_CheckExact(__pyx_5) || PyTuple_CheckExact(__pyx_5)) {
    __pyx_3 = 0; __pyx_6 = __pyx_5; Py_INCREF(__pyx_6);
  } else {
    __pyx_3 = -1; __pyx_6 = PyObject_GetIter(__pyx_5); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_6))) {
      if (__pyx_3 >= PyList_GET_SIZE(__pyx_6)) break;
      __pyx_5 = PyList_GET_ITEM(__pyx_6, __pyx_3); Py_INCREF(__pyx_5); __pyx_3++;
    } else if (likely(PyTuple_CheckExact(__pyx_6))) {
      if (__pyx_3 >= PyTuple_GET_SIZE(__pyx_6)) break;
      __pyx_5 = PyTuple_GET_ITEM(__pyx_6, __pyx_3); Py_INCREF(__pyx_5); __pyx_3++;
    } else {
      __pyx_5 = PyIter_Next(__pyx_6);
      if (!__pyx_5) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    Py_DECREF(__pyx_v_n1);
    __pyx_v_n1 = __pyx_5;
    __pyx_5 = 0;
    __pyx_4 = __pyx_PyIndex_AsSsize_t(__pyx_v_n1); if (unlikely((__pyx_4 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_5 = PyNumber_Add(__pyx_v_n1, __pyx_v_slen); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_7 = __pyx_PyIndex_AsSsize_t(__pyx_5); if (unlikely((__pyx_7 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_5 = PySequence_GetSlice(__pyx_v_bs, __pyx_4, __pyx_7); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_8 = PyList_Append(__pyx_1, __pyx_5); if (unlikely(__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
  }
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  __pyx_5 = PyObject_Repr(__pyx_v_slen); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_6 = PyNumber_Add(__pyx_kp_208, __pyx_5); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_5 = PyTuple_New(2); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyTuple_SET_ITEM(__pyx_5, 0, ((PyObject *)__pyx_1));
  PyTuple_SET_ITEM(__pyx_5, 1, __pyx_6);
  __pyx_1 = 0;
  __pyx_6 = 0;
  __pyx_1 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_5), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_5)); __pyx_5 = 0;
  Py_DECREF(__pyx_v_a);
  __pyx_v_a = __pyx_1;
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":50
 *     slen = b.shape[-1]
 *     a = numpy.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))
 *     a.shape = b.shape[:-1]             # <<<<<<<<<<<<<<
 *     return a
 * 
 */
  __pyx_6 = PyObject_GetAttr(__pyx_v_b, __pyx_kp_shape); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 50; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PySequence_GetSlice(__pyx_6, 0, -1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 50; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  if (PyObject_SetAttr(__pyx_v_a, __pyx_kp_shape, __pyx_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 50; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":51
 *     a = numpy.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))
 *     a.shape = b.shape[:-1]
 *     return a             # <<<<<<<<<<<<<<
 * 
 * def date2num(dates,units,calendar='standard'):
 */
  Py_INCREF(__pyx_v_a);
  __pyx_r = __pyx_v_a;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("netCDF4.chartostring");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_bs);
  Py_DECREF(__pyx_v_slen);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_n1);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":53
 *     return a
 * 
 * def date2num(dates,units,calendar='standard'):             # <<<<<<<<<<<<<<
 *     """
 * date2num(dates,units,calendar='standard')
 */

static PyObject *__pyx_pf_7netCDF4_date2num(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF4_date2num[] = "\ndate2num(dates,units,calendar='standard')\n\nReturn numeric time values given datetime objects. The units\nof the numeric time values are described by the L{units} argument\nand the L{calendar} keyword. The datetime objects must\nbe in UTC with no time-zone offset.  If there is a \ntime-zone offset in C{units}, it will be applied to the\nreturned numeric values.\n\nLike the matplotlib C{date2num} function, except that it allows\nfor different units and calendars.  Behaves the same if\nC{units = 'days since 0001-01-01 00:00:00'} and \nC{calendar = 'proleptic_gregorian'}.\n\n@param dates: A datetime object or a sequence of datetime objects.\n The datetime objects should not include a time-zone offset.\n\n@param units: a string of the form C{'B{time units} since B{reference time}}'\n describing the time units. B{C{time units}} can be days, hours, minutes\n or seconds.  B{C{reference time}} is the time origin. A valid choice\n would be units=C{'hours since 1800-01-01 00:00:00 -6:00'}.\n\n@param calendar: describes the calendar used in the time calculations. \n All the values currently defined in the U{CF metadata convention \n <http://cf-pcmdi.llnl.gov/documents/cf-conventions/>} are supported.\n Valid calendars C{'standard', 'gregorian', 'proleptic_gregorian'\n 'noleap', '365_day', '360_day', 'julian', 'all_leap', '366_day'}.\n Default is C{'standard'}, which is a mixed Julian/Gregorian calendar.\n\n@return: a numeric time value, or an array of numeric time values.\n\nThe maximum resolution of the numeric time values is 1 second.\n    ";
static PyObject *__pyx_pf_7netCDF4_date2num(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_dates = 0;
  PyObject *__pyx_v_units = 0;
  PyObject *__pyx_v_calendar = 0;
  PyObject *__pyx_v_cdftime;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {"dates","units","calendar",0};
  __pyx_self = __pyx_self;
  __pyx_v_calendar = __pyx_kp_60;
  if (likely(!__pyx_kwds) && likely(2 <= PyTuple_GET_SIZE(__pyx_args)) && likely(PyTuple_GET_SIZE(__pyx_args) <= 3)) {
    __pyx_v_dates = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_units = PyTuple_GET_ITEM(__pyx_args, 1);
    if (PyTuple_GET_SIZE(__pyx_args) > 2) {
      __pyx_v_calendar = PyTuple_GET_ITEM(__pyx_args, 2);
    }
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO|O", __pyx_argnames, &__pyx_v_dates, &__pyx_v_units, &__pyx_v_calendar))) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 53; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4.date2num");
  return NULL;
  __pyx_L4:;
  __pyx_v_cdftime = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/utils.pyx":88
 * The maximum resolution of the numeric time values is 1 second.
 *     """
 *     cdftime = netcdftime.utime(units,calendar=calendar)             # <<<<<<<<<<<<<<
 *     return cdftime.date2num(dates)
 * 
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp_netcdftime); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 88; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_kp_utime); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 88; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 88; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_units);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_units);
  __pyx_3 = PyDict_New(); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 88; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_3, __pyx_kp_calendar, __pyx_v_calendar) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 88; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = PyEval_CallObjectWithKeywords(__pyx_2, ((PyObject *)__pyx_1), ((PyObject *)__pyx_3)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 88; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
  Py_DECREF(__pyx_v_cdftime);
  __pyx_v_cdftime = __pyx_4;
  __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":89
 *     """
 *     cdftime = netcdftime.utime(units,calendar=calendar)
 *     return cdftime.date2num(dates)             # <<<<<<<<<<<<<<
 * 
 * def num2date(times,units,calendar='standard'):
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_cdftime, __pyx_kp_209); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 89; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 89; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_dates);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_dates);
  __pyx_3 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 89; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("netCDF4.date2num");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_cdftime);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":91
 *     return cdftime.date2num(dates)
 * 
 * def num2date(times,units,calendar='standard'):             # <<<<<<<<<<<<<<
 *     """
 * num2date(times,units,calendar='standard')
 */

static PyObject *__pyx_pf_7netCDF4_num2date(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF4_num2date[] = "\nnum2date(times,units,calendar='standard')\n\nReturn datetime objects given numeric time values. The units\nof the numeric time values are described by the C{units} argument\nand the C{calendar} keyword. The returned datetime objects represent \nUTC with no time-zone offset, even if the specified \nC{units} contain a time-zone offset.\n\nLike the matplotlib C{num2date} function, except that it allows\nfor different units and calendars.  Behaves the same if\nC{units = 'days since 001-01-01 00:00:00'} and \nC{calendar = 'proleptic_gregorian'}.\n\n@param times: numeric time values. Maximum resolution is 1 second.\n\n@param units: a string of the form C{'B{time units} since B{reference time}}'\ndescribing the time units. B{C{time units}} can be days, hours, minutes\nor seconds.  B{C{reference time}} is the time origin. A valid choice\nwould be units=C{'hours since 1800-01-01 00:00:00 -6:00'}.\n\n@param calendar: describes the calendar used in the time calculations. \nAll the values currently defined in the U{CF metadata convention \n<http://cf-pcmdi.llnl.gov/documents/cf-conventions/>} are supported.\nValid calendars C{'standard', 'gregorian', 'proleptic_gregorian'\n'noleap', '365_day', '360_day', 'julian', 'all_leap', '366_day'}.\nDefault is C{'standard'}, which is a mixed Julian/Gregorian calendar.\n\n@return: a datetime instance, or an array of datetime instances.\n\nThe datetime instances returned are 'real' python datetime \nobjects if the date falls in the Gregorian calendar (i.e. \nC{calendar='proleptic_gregorian'}, or C{calendar = 'standard'} or C{'gregorian'}\nand the date is after 1582-10-15). Otherwise, they are 'phony' datetime \nobjects which support some but not all the methods of 'real' python\ndatetime objects.  This is because the python datetime module cannot\nthe uses the C{'proleptic_gregorian'} calendar, even before the switch\noccured from the Julian calendar in 1582. The datetime instances\ndo not contain a time-zone offset, even if the specified C{units}\ncontains one.\n    ";
static PyObject *__pyx_pf_7netCDF4_num2date(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_times = 0;
  PyObject *__pyx_v_units = 0;
  PyObject *__pyx_v_calendar = 0;
  PyObject *__pyx_v_cdftime;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {"times","units","calendar",0};
  __pyx_self = __pyx_self;
  __pyx_v_calendar = __pyx_kp_61;
  if (likely(!__pyx_kwds) && likely(2 <= PyTuple_GET_SIZE(__pyx_args)) && likely(PyTuple_GET_SIZE(__pyx_args) <= 3)) {
    __pyx_v_times = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_units = PyTuple_GET_ITEM(__pyx_args, 1);
    if (PyTuple_GET_SIZE(__pyx_args) > 2) {
      __pyx_v_calendar = PyTuple_GET_ITEM(__pyx_args, 2);
    }
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO|O", __pyx_argnames, &__pyx_v_times, &__pyx_v_units, &__pyx_v_calendar))) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 91; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4.num2date");
  return NULL;
  __pyx_L4:;
  __pyx_v_cdftime = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/utils.pyx":133
 * contains one.
 *     """
 *     cdftime = netcdftime.utime(units,calendar=calendar)             # <<<<<<<<<<<<<<
 *     return cdftime.num2date(times)
 * 
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp_netcdftime); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_kp_utime); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_units);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_units);
  __pyx_3 = PyDict_New(); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_3, __pyx_kp_calendar, __pyx_v_calendar) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = PyEval_CallObjectWithKeywords(__pyx_2, ((PyObject *)__pyx_1), ((PyObject *)__pyx_3)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
  Py_DECREF(__pyx_v_cdftime);
  __pyx_v_cdftime = __pyx_4;
  __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":134
 *     """
 *     cdftime = netcdftime.utime(units,calendar=calendar)
 *     return cdftime.num2date(times)             # <<<<<<<<<<<<<<
 * 
 * def date2index(dates, nctime, calendar=None):
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_cdftime, __pyx_kp_210); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 134; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 134; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_times);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_times);
  __pyx_3 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 134; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("netCDF4.num2date");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_cdftime);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":136
 *     return cdftime.num2date(times)
 * 
 * def date2index(dates, nctime, calendar=None):             # <<<<<<<<<<<<<<
 *     """
 * date2index(dates, nctime, calendar=None)
 */

static PyObject *__pyx_pf_7netCDF4_date2index(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF4_date2index[] = "\ndate2index(dates, nctime, calendar=None)\n\nReturn indices of a netCDF time variable corresponding to the given dates.\n\n@param dates: A datetime object or a sequence of datetime objects.\nThe datetime objects should not include a time-zone offset.\n\n@param nctime: A netCDF time variable object. The nctime object must have a\nC{units} attribute.\n\n@param calendar: Describes the calendar used in the time calculation.\nValid calendars C{'standard', 'gregorian', 'proleptic_gregorian'\n'noleap', '365_day', '360_day', 'julian', 'all_leap', '366_day'}.\nDefault is C{'standard'}, which is a mixed Julian/Gregorian calendar\nIf C{calendar} is None, its value is given by C{nctime.calendar} or\nC{standard} if no such attribute exists.\n\n@return: an index (indices) of the netCDF time variable corresponding\nto the given datetime object(s).\n    ";
static PyObject *__pyx_pf_7netCDF4_date2index(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_dates = 0;
  PyObject *__pyx_v_nctime = 0;
  PyObject *__pyx_v_calendar = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {"dates","nctime","calendar",0};
  __pyx_self = __pyx_self;
  __pyx_v_calendar = Py_None;
  if (likely(!__pyx_kwds) && likely(2 <= PyTuple_GET_SIZE(__pyx_args)) && likely(PyTuple_GET_SIZE(__pyx_args) <= 3)) {
    __pyx_v_dates = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_nctime = PyTuple_GET_ITEM(__pyx_args, 1);
    if (PyTuple_GET_SIZE(__pyx_args) > 2) {
      __pyx_v_calendar = PyTuple_GET_ITEM(__pyx_args, 2);
    }
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO|O", __pyx_argnames, &__pyx_v_dates, &__pyx_v_nctime, &__pyx_v_calendar))) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 136; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4.date2index");
  return NULL;
  __pyx_L4:;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":158
 * to the given datetime object(s).
 *     """
 *     return netcdftime.date2index(dates, nctime, calendar=None)             # <<<<<<<<<<<<<<
 * 
 * def _check_index(indices, dates, nctime, calendar):
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp_netcdftime); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 158; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_kp_211); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 158; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 158; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_dates);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_dates);
  Py_INCREF(__pyx_v_nctime);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_nctime);
  __pyx_3 = PyDict_New(); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 158; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_3, __pyx_kp_calendar, Py_None) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 158; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = PyEval_CallObjectWithKeywords(__pyx_2, ((PyObject *)__pyx_1), ((PyObject *)__pyx_3)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 158; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
  __pyx_r = __pyx_4;
  __pyx_4 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("netCDF4.date2index");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":160
 *     return netcdftime.date2index(dates, nctime, calendar=None)
 * 
 * def _check_index(indices, dates, nctime, calendar):             # <<<<<<<<<<<<<<
 *     """Assert that the time indices given correspond to the given dates."""
 *     t = nctime[indices]
 */

static PyObject *__pyx_pf_7netCDF4__check_index(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF4__check_index[] = "Assert that the time indices given correspond to the given dates.";
static PyObject *__pyx_pf_7netCDF4__check_index(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_indices = 0;
  PyObject *__pyx_v_dates = 0;
  PyObject *__pyx_v_nctime = 0;
  PyObject *__pyx_v_calendar = 0;
  PyObject *__pyx_v_t;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  int __pyx_5;
  static char *__pyx_argnames[] = {"indices","dates","nctime","calendar",0};
  __pyx_self = __pyx_self;
  if (likely(!__pyx_kwds) && likely(PyTuple_GET_SIZE(__pyx_args) == 4)) {
    __pyx_v_indices = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_dates = PyTuple_GET_ITEM(__pyx_args, 1);
    __pyx_v_nctime = PyTuple_GET_ITEM(__pyx_args, 2);
    __pyx_v_calendar = PyTuple_GET_ITEM(__pyx_args, 3);
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOOO", __pyx_argnames, &__pyx_v_indices, &__pyx_v_dates, &__pyx_v_nctime, &__pyx_v_calendar))) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 160; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4._check_index");
  return NULL;
  __pyx_L4:;
  __pyx_v_t = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/utils.pyx":162
 * def _check_index(indices, dates, nctime, calendar):
 *     """Assert that the time indices given correspond to the given dates."""
 *     t = nctime[indices]             # <<<<<<<<<<<<<<
 *     assert numpy.all( num2date(t, nctime.units, calendar) == dates)
 * 
 */
  __pyx_1 = PyObject_GetItem(__pyx_v_nctime, __pyx_v_indices); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 162; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_t);
  __pyx_v_t = __pyx_1;
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":163
 *     """Assert that the time indices given correspond to the given dates."""
 *     t = nctime[indices]
 *     assert numpy.all( num2date(t, nctime.units, calendar) == dates)             # <<<<<<<<<<<<<<
 * 
 * def getlibversion():
 */
  #ifndef PYREX_WITHOUT_ASSERTIONS
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 163; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_kp_all); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 163; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp_210); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 163; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyObject_GetAttr(__pyx_v_nctime, __pyx_kp_units); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 163; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = PyTuple_New(3); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 163; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_t);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_t);
  PyTuple_SET_ITEM(__pyx_4, 1, __pyx_3);
  Py_INCREF(__pyx_v_calendar);
  PyTuple_SET_ITEM(__pyx_4, 2, __pyx_v_calendar);
  __pyx_3 = 0;
  __pyx_3 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 163; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
  __pyx_1 = PyObject_RichCompare(__pyx_3, __pyx_v_dates, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 163; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 163; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
  __pyx_1 = 0;
  __pyx_3 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 163; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
  __pyx_5 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_5 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 163; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (unlikely(!__pyx_5)) {
    PyErr_SetNone(PyExc_AssertionError);
    {__pyx_filename = __pyx_f[1]; __pyx_lineno = 163; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  #endif

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("netCDF4._check_index");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_t);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":165
 *     assert numpy.all( num2date(t, nctime.units, calendar) == dates)
 * 
 * def getlibversion():             # <<<<<<<<<<<<<<
 *     """
 * getlibversion()
 */

static PyObject *__pyx_pf_7netCDF4_getlibversion(PyObject *__pyx_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF4_getlibversion[] = "\ngetlibversion()\n\nreturns a string describing the version of the netcdf library\nused to build the module, and when it was built.\n    ";
static PyObject *__pyx_pf_7netCDF4_getlibversion(PyObject *__pyx_self, PyObject *unused) {
  char *__pyx_v_libstring;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  __pyx_self = __pyx_self;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":173
 *     """
 *     cdef char *libstring
 *     libstring = nc_inq_libvers()             # <<<<<<<<<<<<<<
 *     return PyString_FromString(libstring)
 * 
 */
  __pyx_v_libstring = nc_inq_libvers();

  /* "/storage/huardda/repos/netcdf4/utils.pyx":174
 *     cdef char *libstring
 *     libstring = nc_inq_libvers()
 *     return PyString_FromString(libstring)             # <<<<<<<<<<<<<<
 * 
 * class MFDataset(Dataset):
 */
  __pyx_1 = PyString_FromString(__pyx_v_libstring); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 174; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("netCDF4.getlibversion");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":208
 *     """
 * 
 *     def __init__(self, files, check=False, exclude=[]):             # <<<<<<<<<<<<<<
 *         """
 * Open a Dataset spanning multiple files, making it look as if it was a
 */

static PyObject *__pyx_pf_7netCDF4_9MFDataset___init__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF4_9MFDataset___init__[] = "\nOpen a Dataset spanning multiple files, making it look as if it was a \nsingle file. Variables in the list of files that share the same unlimited \ndimension are aggregated. \n\nAdapted from U{pycdf <http://pysclint.sourceforge.net/pycdf>} by Andre Gosselin.\n\nUsage:\n\nnc = MFDataset(files, check=False, exclude=[])\n\n@param files: either a sequence of netCDF files or a string with a \nwildcard (converted to a sorted list of files using glob)  The first file \nin the list will become the \"master\" file, defining all the record \nvariables (variables with an unlimited dimension) which may span \nsubsequent files. Attribute access returns attributes only from \"master\" \nfile. The files are always opened in read-only mode.\n\n@param check: True if you want to do consistency checking to ensure the \ncorrect variables structure for all of the netcdf files.  Checking makes \nthe initialization of the MFDataset instance much slower. Default is \nFalse.\n\n@param exclude: A list of variable names to exclude from aggregation. \nDefault is an empty list.\n       ";
static PyMethodDef __pyx_mdef_7netCDF4_9MFDataset___init__ = {"__init__", (PyCFunction)__pyx_pf_7netCDF4_9MFDataset___init__, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF4_9MFDataset___init__};
static PyObject *__pyx_pf_7netCDF4_9MFDataset___init__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_files = 0;
  PyObject *__pyx_v_check = 0;
  PyObject *__pyx_v_exclude = 0;
  PyObject *__pyx_v_master;
  PyObject *__pyx_v_cdfm;
  PyObject *__pyx_v_name;
  PyObject *__pyx_v_value;
  PyObject *__pyx_v_unlimDimId;
  PyObject *__pyx_v_dimname;
  PyObject *__pyx_v_dim;
  PyObject *__pyx_v_unlimDimName;
  PyObject *__pyx_v_masterRecVar;
  PyObject *__pyx_v_vName;
  PyObject *__pyx_v_v;
  PyObject *__pyx_v_dims;
  PyObject *__pyx_v_shape;
  PyObject *__pyx_v_type;
  PyObject *__pyx_v_cdf;
  PyObject *__pyx_v_cdfVLen;
  PyObject *__pyx_v_cdfRecVar;
  PyObject *__pyx_v_f;
  PyObject *__pyx_v_part;
  PyObject *__pyx_v_varInfo;
  PyObject *__pyx_v_vInst;
  PyObject *__pyx_v_masterDims;
  PyObject *__pyx_v_masterShape;
  PyObject *__pyx_v_masterType;
  PyObject *__pyx_v_extDims;
  PyObject *__pyx_v_extShape;
  PyObject *__pyx_v_extType;
  PyObject *__pyx_v_varname;
  PyObject *__pyx_v_var;
  PyObject *__pyx_v_dset;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  Py_ssize_t __pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  Py_ssize_t __pyx_7 = 0;
  PyObject *__pyx_8 = 0;
  int __pyx_9;
  Py_ssize_t __pyx_10 = 0;
  Py_ssize_t __pyx_11 = 0;
  static char *__pyx_argnames[] = {"self","files","check","exclude",0};
  __pyx_self = __pyx_self;
  __pyx_v_check = __pyx_k_63;
  __pyx_v_exclude = __pyx_k_64;
  if (likely(!__pyx_kwds) && likely(2 <= PyTuple_GET_SIZE(__pyx_args)) && likely(PyTuple_GET_SIZE(__pyx_args) <= 4)) {
    __pyx_v_self = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_files = PyTuple_GET_ITEM(__pyx_args, 1);
    if (PyTuple_GET_SIZE(__pyx_args) > 2) {
      __pyx_v_check = PyTuple_GET_ITEM(__pyx_args, 2);
      if (PyTuple_GET_SIZE(__pyx_args) > 3) {
        __pyx_v_exclude = PyTuple_GET_ITEM(__pyx_args, 3);
      }
    }
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO|OO", __pyx_argnames, &__pyx_v_self, &__pyx_v_files, &__pyx_v_check, &__pyx_v_exclude))) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 208; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4.MFDataset.__init__");
  return NULL;
  __pyx_L4:;
  Py_INCREF(__pyx_v_files);
  __pyx_v_master = Py_None; Py_INCREF(Py_None);
  __pyx_v_cdfm = Py_None; Py_INCREF(Py_None);
  __pyx_v_name = Py_None; Py_INCREF(Py_None);
  __pyx_v_value = Py_None; Py_INCREF(Py_None);
  __pyx_v_unlimDimId = Py_None; Py_INCREF(Py_None);
  __pyx_v_dimname = Py_None; Py_INCREF(Py_None);
  __pyx_v_dim = Py_None; Py_INCREF(Py_None);
  __pyx_v_unlimDimName = Py_None; Py_INCREF(Py_None);
  __pyx_v_masterRecVar = Py_None; Py_INCREF(Py_None);
  __pyx_v_vName = Py_None; Py_INCREF(Py_None);
  __pyx_v_v = Py_None; Py_INCREF(Py_None);
  __pyx_v_dims = Py_None; Py_INCREF(Py_None);
  __pyx_v_shape = Py_None; Py_INCREF(Py_None);
  __pyx_v_type = Py_None; Py_INCREF(Py_None);
  __pyx_v_cdf = Py_None; Py_INCREF(Py_None);
  __pyx_v_cdfVLen = Py_None; Py_INCREF(Py_None);
  __pyx_v_cdfRecVar = Py_None; Py_INCREF(Py_None);
  __pyx_v_f = Py_None; Py_INCREF(Py_None);
  __pyx_v_part = Py_None; Py_INCREF(Py_None);
  __pyx_v_varInfo = Py_None; Py_INCREF(Py_None);
  __pyx_v_vInst = Py_None; Py_INCREF(Py_None);
  __pyx_v_masterDims = Py_None; Py_INCREF(Py_None);
  __pyx_v_masterShape = Py_None; Py_INCREF(Py_None);
  __pyx_v_masterType = Py_None; Py_INCREF(Py_None);
  __pyx_v_extDims = Py_None; Py_INCREF(Py_None);
  __pyx_v_extShape = Py_None; Py_INCREF(Py_None);
  __pyx_v_extType = Py_None; Py_INCREF(Py_None);
  __pyx_v_varname = Py_None; Py_INCREF(Py_None);
  __pyx_v_var = Py_None; Py_INCREF(Py_None);
  __pyx_v_dset = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/utils.pyx":238
 *         # Open the master file in the base class, so that the CDFMF instance
 *         # can be used like a CDF instance.
 *         if isinstance(files, str):             # <<<<<<<<<<<<<<
 *             files = sorted(glob(files))
 * 
 */
  __pyx_1 = PyObject_IsInstance(__pyx_v_files, ((PyObject*)&PyBytes_Type)); if (unlikely(__pyx_1 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 238; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_1) {

    /* "/storage/huardda/repos/netcdf4/utils.pyx":239
 *         # can be used like a CDF instance.
 *         if isinstance(files, str):
 *             files = sorted(glob(files))             # <<<<<<<<<<<<<<
 * 
 *         master = files[0]
 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_kp_glob); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 239; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 239; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_files);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_files);
    __pyx_4 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 239; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 239; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_4);
    __pyx_4 = 0;
    __pyx_3 = PyObject_Call(__pyx_builtin_sorted, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 239; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
    Py_DECREF(__pyx_v_files);
    __pyx_v_files = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":241
 *             files = sorted(glob(files))
 * 
 *         master = files[0]             # <<<<<<<<<<<<<<
 * 
 *         # Open the master again, this time as a classic CDF instance. This will avoid
 */
  __pyx_4 = __Pyx_GetItemInt(__pyx_v_files, 0, 0); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 241; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_master);
  __pyx_v_master = __pyx_4;
  __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":245
 *         # Open the master again, this time as a classic CDF instance. This will avoid
 *         # calling methods of the CDFMF subclass when querying the master file.
 *         cdfm = Dataset(master)             # <<<<<<<<<<<<<<
 *         # copy attributes from master.
 *         for name, value in cdfm.__dict__.items():
 */
  __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 245; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_master);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_master);
  __pyx_3 = PyObject_Call(((PyObject*)__pyx_ptype_7netCDF4_Dataset), ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 245; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
  Py_DECREF(__pyx_v_cdfm);
  __pyx_v_cdfm = __pyx_3;
  __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":247
 *         cdfm = Dataset(master)
 *         # copy attributes from master.
 *         for name, value in cdfm.__dict__.items():             # <<<<<<<<<<<<<<
 *             self.__dict__[name] = value
 * 
 */
  __pyx_4 = PyObject_GetAttr(__pyx_v_cdfm, __pyx_kp___dict__); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 247; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_4, __pyx_kp_items); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 247; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_3 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 247; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (PyList_CheckExact(__pyx_3) || PyTuple_CheckExact(__pyx_3)) {
    __pyx_5 = 0; __pyx_4 = __pyx_3; Py_INCREF(__pyx_4);
  } else {
    __pyx_5 = -1; __pyx_4 = PyObject_GetIter(__pyx_3); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 247; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_4))) {
      if (__pyx_5 >= PyList_GET_SIZE(__pyx_4)) break;
      __pyx_2 = PyList_GET_ITEM(__pyx_4, __pyx_5); Py_INCREF(__pyx_2); __pyx_5++;
    } else if (likely(PyTuple_CheckExact(__pyx_4))) {
      if (__pyx_5 >= PyTuple_GET_SIZE(__pyx_4)) break;
      __pyx_2 = PyTuple_GET_ITEM(__pyx_4, __pyx_5); Py_INCREF(__pyx_2); __pyx_5++;
    } else {
      __pyx_2 = PyIter_Next(__pyx_4);
      if (!__pyx_2) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 247; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    if (PyTuple_CheckExact(__pyx_2) && PyTuple_GET_SIZE(__pyx_2) == 2) {
      PyObject* tuple = __pyx_2;
      __pyx_6 = PyTuple_GET_ITEM(tuple, 0);
      Py_INCREF(__pyx_6);
      Py_DECREF(__pyx_v_name);
      __pyx_v_name = __pyx_6;
      __pyx_6 = 0;
      __pyx_6 = PyTuple_GET_ITEM(tuple, 1);
      Py_INCREF(__pyx_6);
      Py_DECREF(__pyx_v_value);
      __pyx_v_value = __pyx_6;
      __pyx_6 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
    }
    else {
      __pyx_3 = PyObject_GetIter(__pyx_2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 247; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_6 = __Pyx_UnpackItem(__pyx_3, 0); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 247; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_name);
      __pyx_v_name = __pyx_6;
      __pyx_6 = 0;
      __pyx_6 = __Pyx_UnpackItem(__pyx_3, 1); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 247; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_value);
      __pyx_v_value = __pyx_6;
      __pyx_6 = 0;
      if (__Pyx_EndUnpack(__pyx_3) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 247; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }

    /* "/storage/huardda/repos/netcdf4/utils.pyx":248
 *         # copy attributes from master.
 *         for name, value in cdfm.__dict__.items():
 *             self.__dict__[name] = value             # <<<<<<<<<<<<<<
 * 
 *         # Make sure the master defines an unlimited dimension.
 */
    __pyx_6 = PyObject_GetAttr(__pyx_v_self, __pyx_kp___dict__); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 248; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (PyObject_SetItem(__pyx_6, __pyx_v_name, __pyx_v_value) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 248; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
  }
  Py_DECREF(__pyx_4); __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":251
 * 
 *         # Make sure the master defines an unlimited dimension.
 *         unlimDimId = None             # <<<<<<<<<<<<<<
 *         for dimname,dim in cdfm.dimensions.items():
 *             if dim.isunlimited():
 */
  Py_INCREF(Py_None);
  Py_DECREF(__pyx_v_unlimDimId);
  __pyx_v_unlimDimId = Py_None;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":252
 *         # Make sure the master defines an unlimited dimension.
 *         unlimDimId = None
 *         for dimname,dim in cdfm.dimensions.items():             # <<<<<<<<<<<<<<
 *             if dim.isunlimited():
 *                 unlimDimId = dim
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_cdfm, __pyx_kp_dimensions); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 252; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_kp_items); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 252; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_6 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 252; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (PyList_CheckExact(__pyx_6) || PyTuple_CheckExact(__pyx_6)) {
    __pyx_5 = 0; __pyx_4 = __pyx_6; Py_INCREF(__pyx_4);
  } else {
    __pyx_5 = -1; __pyx_4 = PyObject_GetIter(__pyx_6); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 252; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_4))) {
      if (__pyx_5 >= PyList_GET_SIZE(__pyx_4)) break;
      __pyx_2 = PyList_GET_ITEM(__pyx_4, __pyx_5); Py_INCREF(__pyx_2); __pyx_5++;
    } else if (likely(PyTuple_CheckExact(__pyx_4))) {
      if (__pyx_5 >= PyTuple_GET_SIZE(__pyx_4)) break;
      __pyx_2 = PyTuple_GET_ITEM(__pyx_4, __pyx_5); Py_INCREF(__pyx_2); __pyx_5++;
    } else {
      __pyx_2 = PyIter_Next(__pyx_4);
      if (!__pyx_2) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 252; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    if (PyTuple_CheckExact(__pyx_2) && PyTuple_GET_SIZE(__pyx_2) == 2) {
      PyObject* tuple = __pyx_2;
      __pyx_6 = PyTuple_GET_ITEM(tuple, 0);
      Py_INCREF(__pyx_6);
      Py_DECREF(__pyx_v_dimname);
      __pyx_v_dimname = __pyx_6;
      __pyx_6 = 0;
      __pyx_6 = PyTuple_GET_ITEM(tuple, 1);
      Py_INCREF(__pyx_6);
      Py_DECREF(__pyx_v_dim);
      __pyx_v_dim = __pyx_6;
      __pyx_6 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
    }
    else {
      __pyx_3 = PyObject_GetIter(__pyx_2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 252; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_6 = __Pyx_UnpackItem(__pyx_3, 0); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 252; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_dimname);
      __pyx_v_dimname = __pyx_6;
      __pyx_6 = 0;
      __pyx_6 = __Pyx_UnpackItem(__pyx_3, 1); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 252; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_dim);
      __pyx_v_dim = __pyx_6;
      __pyx_6 = 0;
      if (__Pyx_EndUnpack(__pyx_3) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 252; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }

    /* "/storage/huardda/repos/netcdf4/utils.pyx":253
 *         unlimDimId = None
 *         for dimname,dim in cdfm.dimensions.items():
 *             if dim.isunlimited():             # <<<<<<<<<<<<<<
 *                 unlimDimId = dim
 *                 unlimDimName = dimname
 */
    __pyx_6 = PyObject_GetAttr(__pyx_v_dim, __pyx_kp_isunlimited); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 253; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = PyObject_Call(__pyx_6, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 253; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_1 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 253; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (__pyx_1) {

      /* "/storage/huardda/repos/netcdf4/utils.pyx":254
 *         for dimname,dim in cdfm.dimensions.items():
 *             if dim.isunlimited():
 *                 unlimDimId = dim             # <<<<<<<<<<<<<<
 *                 unlimDimName = dimname
 *         if unlimDimId is None:
 */
      Py_INCREF(__pyx_v_dim);
      Py_DECREF(__pyx_v_unlimDimId);
      __pyx_v_unlimDimId = __pyx_v_dim;

      /* "/storage/huardda/repos/netcdf4/utils.pyx":255
 *             if dim.isunlimited():
 *                 unlimDimId = dim
 *                 unlimDimName = dimname             # <<<<<<<<<<<<<<
 *         if unlimDimId is None:
 *             raise IOError("master dataset %s does not have an unlimited dimension" % master)
 */
      Py_INCREF(__pyx_v_dimname);
      Py_DECREF(__pyx_v_unlimDimName);
      __pyx_v_unlimDimName = __pyx_v_dimname;
      goto __pyx_L10;
    }
    __pyx_L10:;
  }
  Py_DECREF(__pyx_4); __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":256
 *                 unlimDimId = dim
 *                 unlimDimName = dimname
 *         if unlimDimId is None:             # <<<<<<<<<<<<<<
 *             raise IOError("master dataset %s does not have an unlimited dimension" % master)
 * 
 */
  __pyx_1 = (__pyx_v_unlimDimId == Py_None);
  if (__pyx_1) {

    /* "/storage/huardda/repos/netcdf4/utils.pyx":257
 *                 unlimDimName = dimname
 *         if unlimDimId is None:
 *             raise IOError("master dataset %s does not have an unlimited dimension" % master)             # <<<<<<<<<<<<<<
 * 
 *         # Get info on all record variables defined in the master.
 */
    __pyx_3 = PyNumber_Remainder(__pyx_kp_212, __pyx_v_master); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 257; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_6 = PyTuple_New(1); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 257; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_6, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_2 = PyObject_Call(__pyx_builtin_IOError, ((PyObject *)__pyx_6), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 257; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_6)); __pyx_6 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[1]; __pyx_lineno = 257; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L11;
  }
  __pyx_L11:;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":261
 *         # Get info on all record variables defined in the master.
 *         # Make sure the master defines at least one record variable.
 *         masterRecVar = {}             # <<<<<<<<<<<<<<
 *         for vName,v in cdfm.variables.items():
 *             # skip variables specified in exclude list.
 */
  __pyx_4 = PyDict_New(); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 261; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_masterRecVar);
  __pyx_v_masterRecVar = ((PyObject *)__pyx_4);
  __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":262
 *         # Make sure the master defines at least one record variable.
 *         masterRecVar = {}
 *         for vName,v in cdfm.variables.items():             # <<<<<<<<<<<<<<
 *             # skip variables specified in exclude list.
 *             if vName in exclude: continue
 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_cdfm, __pyx_kp_variables); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 262; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_6 = PyObject_GetAttr(__pyx_3, __pyx_kp_items); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 262; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = PyObject_Call(__pyx_6, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 262; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  if (PyList_CheckExact(__pyx_2) || PyTuple_CheckExact(__pyx_2)) {
    __pyx_5 = 0; __pyx_4 = __pyx_2; Py_INCREF(__pyx_4);
  } else {
    __pyx_5 = -1; __pyx_4 = PyObject_GetIter(__pyx_2); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 262; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_4))) {
      if (__pyx_5 >= PyList_GET_SIZE(__pyx_4)) break;
      __pyx_3 = PyList_GET_ITEM(__pyx_4, __pyx_5); Py_INCREF(__pyx_3); __pyx_5++;
    } else if (likely(PyTuple_CheckExact(__pyx_4))) {
      if (__pyx_5 >= PyTuple_GET_SIZE(__pyx_4)) break;
      __pyx_3 = PyTuple_GET_ITEM(__pyx_4, __pyx_5); Py_INCREF(__pyx_3); __pyx_5++;
    } else {
      __pyx_3 = PyIter_Next(__pyx_4);
      if (!__pyx_3) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 262; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    if (PyTuple_CheckExact(__pyx_3) && PyTuple_GET_SIZE(__pyx_3) == 2) {
      PyObject* tuple = __pyx_3;
      __pyx_2 = PyTuple_GET_ITEM(tuple, 0);
      Py_INCREF(__pyx_2);
      Py_DECREF(__pyx_v_vName);
      __pyx_v_vName = __pyx_2;
      __pyx_2 = 0;
      __pyx_2 = PyTuple_GET_ITEM(tuple, 1);
      Py_INCREF(__pyx_2);
      Py_DECREF(__pyx_v_v);
      __pyx_v_v = __pyx_2;
      __pyx_2 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
    else {
      __pyx_6 = PyObject_GetIter(__pyx_3); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 262; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_2 = __Pyx_UnpackItem(__pyx_6, 0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 262; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_vName);
      __pyx_v_vName = __pyx_2;
      __pyx_2 = 0;
      __pyx_2 = __Pyx_UnpackItem(__pyx_6, 1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 262; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_v);
      __pyx_v_v = __pyx_2;
      __pyx_2 = 0;
      if (__Pyx_EndUnpack(__pyx_6) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 262; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
    }

    /* "/storage/huardda/repos/netcdf4/utils.pyx":264
 *         for vName,v in cdfm.variables.items():
 *             # skip variables specified in exclude list.
 *             if vName in exclude: continue             # <<<<<<<<<<<<<<
 *             dims = v.dimensions
 *             shape = v.shape
 */
    __pyx_1 = (PySequence_Contains(__pyx_v_exclude, __pyx_v_vName)); if (unlikely(__pyx_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 264; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_1) {
      goto __pyx_L12;
      goto __pyx_L14;
    }
    __pyx_L14:;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":265
 *             # skip variables specified in exclude list.
 *             if vName in exclude: continue
 *             dims = v.dimensions             # <<<<<<<<<<<<<<
 *             shape = v.shape
 *             type = v.dtype
 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_v, __pyx_kp_dimensions); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 265; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_dims);
    __pyx_v_dims = __pyx_2;
    __pyx_2 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":266
 *             if vName in exclude: continue
 *             dims = v.dimensions
 *             shape = v.shape             # <<<<<<<<<<<<<<
 *             type = v.dtype
 *             # Be carefull: we may deal with a scalar (dimensionless) variable.
 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_v, __pyx_kp_shape); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 266; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_shape);
    __pyx_v_shape = __pyx_3;
    __pyx_3 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":267
 *             dims = v.dimensions
 *             shape = v.shape
 *             type = v.dtype             # <<<<<<<<<<<<<<
 *             # Be carefull: we may deal with a scalar (dimensionless) variable.
 *             # Unlimited dimension always occupies index 0.
 */
    __pyx_6 = PyObject_GetAttr(__pyx_v_v, __pyx_kp_dtype); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_type);
    __pyx_v_type = __pyx_6;
    __pyx_6 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":270
 *             # Be carefull: we may deal with a scalar (dimensionless) variable.
 *             # Unlimited dimension always occupies index 0.
 *             if (len(dims) > 0 and unlimDimName == dims[0]):             # <<<<<<<<<<<<<<
 *                 masterRecVar[vName] = (dims, shape, type)
 *         if len(masterRecVar) == 0:
 */
    __pyx_7 = PyObject_Length(__pyx_v_dims); if (unlikely(__pyx_7 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 270; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = __Pyx_PyBool_FromLong((__pyx_7 > 0)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 270; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 270; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_1) {
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_3 = __Pyx_GetItemInt(__pyx_v_dims, 0, 0); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 270; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_2 = PyObject_RichCompare(__pyx_v_unlimDimName, __pyx_3, Py_EQ); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 270; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
    __pyx_1 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 270; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (__pyx_1) {

      /* "/storage/huardda/repos/netcdf4/utils.pyx":271
 *             # Unlimited dimension always occupies index 0.
 *             if (len(dims) > 0 and unlimDimName == dims[0]):
 *                 masterRecVar[vName] = (dims, shape, type)             # <<<<<<<<<<<<<<
 *         if len(masterRecVar) == 0:
 *             raise IOError("master dataset %s does not have any record variable" % master)
 */
      __pyx_6 = PyTuple_New(3); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 271; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_v_dims);
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_v_dims);
      Py_INCREF(__pyx_v_shape);
      PyTuple_SET_ITEM(__pyx_6, 1, __pyx_v_shape);
      Py_INCREF(__pyx_v_type);
      PyTuple_SET_ITEM(__pyx_6, 2, __pyx_v_type);
      if (PyObject_SetItem(__pyx_v_masterRecVar, __pyx_v_vName, ((PyObject *)__pyx_6)) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 271; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_6)); __pyx_6 = 0;
      goto __pyx_L15;
    }
    __pyx_L15:;
    __pyx_L12:;
  }
  Py_DECREF(__pyx_4); __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":272
 *             if (len(dims) > 0 and unlimDimName == dims[0]):
 *                 masterRecVar[vName] = (dims, shape, type)
 *         if len(masterRecVar) == 0:             # <<<<<<<<<<<<<<
 *             raise IOError("master dataset %s does not have any record variable" % master)
 * 
 */
  __pyx_7 = PyObject_Length(__pyx_v_masterRecVar); if (unlikely(__pyx_7 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 272; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = (__pyx_7 == 0);
  if (__pyx_1) {

    /* "/storage/huardda/repos/netcdf4/utils.pyx":273
 *                 masterRecVar[vName] = (dims, shape, type)
 *         if len(masterRecVar) == 0:
 *             raise IOError("master dataset %s does not have any record variable" % master)             # <<<<<<<<<<<<<<
 * 
 *         # Create the following:
 */
    __pyx_3 = PyNumber_Remainder(__pyx_kp_213, __pyx_v_master); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 273; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 273; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_6 = PyObject_Call(__pyx_builtin_IOError, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 273; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
    __Pyx_Raise(__pyx_6, 0, 0);
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    {__pyx_filename = __pyx_f[1]; __pyx_lineno = 273; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L16;
  }
  __pyx_L16:;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":281
 *         #             a list of the corresponding Variable instance, one for each
 *         #             cdf file of the file set
 *         cdf = [cdfm]             # <<<<<<<<<<<<<<
 *         self._cdf = cdf        # Store this now, because dim() method needs it
 *         cdfVLen = [len(unlimDimId)]
 */
  __pyx_4 = PyList_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 281; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_cdfm);
  PyList_SET_ITEM(__pyx_4, 0, __pyx_v_cdfm);
  Py_DECREF(__pyx_v_cdf);
  __pyx_v_cdf = ((PyObject *)__pyx_4);
  __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":282
 *         #             cdf file of the file set
 *         cdf = [cdfm]
 *         self._cdf = cdf        # Store this now, because dim() method needs it             # <<<<<<<<<<<<<<
 *         cdfVLen = [len(unlimDimId)]
 *         cdfRecVar = {}
 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_kp__cdf, __pyx_v_cdf) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 282; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/storage/huardda/repos/netcdf4/utils.pyx":283
 *         cdf = [cdfm]
 *         self._cdf = cdf        # Store this now, because dim() method needs it
 *         cdfVLen = [len(unlimDimId)]             # <<<<<<<<<<<<<<
 *         cdfRecVar = {}
 *         for v in masterRecVar.keys():
 */
  __pyx_5 = PyObject_Length(__pyx_v_unlimDimId); if (unlikely(__pyx_5 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 283; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyInt_FromSsize_t(__pyx_5); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 283; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyList_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 283; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyList_SET_ITEM(__pyx_2, 0, __pyx_3);
  __pyx_3 = 0;
  Py_DECREF(__pyx_v_cdfVLen);
  __pyx_v_cdfVLen = ((PyObject *)__pyx_2);
  __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":284
 *         self._cdf = cdf        # Store this now, because dim() method needs it
 *         cdfVLen = [len(unlimDimId)]
 *         cdfRecVar = {}             # <<<<<<<<<<<<<<
 *         for v in masterRecVar.keys():
 *             cdfRecVar[v] = [cdfm.variables[v]]
 */
  __pyx_6 = PyDict_New(); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 284; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_cdfRecVar);
  __pyx_v_cdfRecVar = ((PyObject *)__pyx_6);
  __pyx_6 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":285
 *         cdfVLen = [len(unlimDimId)]
 *         cdfRecVar = {}
 *         for v in masterRecVar.keys():             # <<<<<<<<<<<<<<
 *             cdfRecVar[v] = [cdfm.variables[v]]
 * 
 */
  __pyx_4 = PyObject_GetAttr(__pyx_v_masterRecVar, __pyx_kp_keys); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 285; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyObject_Call(__pyx_4, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 285; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (PyList_CheckExact(__pyx_3) || PyTuple_CheckExact(__pyx_3)) {
    __pyx_7 = 0; __pyx_2 = __pyx_3; Py_INCREF(__pyx_2);
  } else {
    __pyx_7 = -1; __pyx_2 = PyObject_GetIter(__pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 285; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_2))) {
      if (__pyx_7 >= PyList_GET_SIZE(__pyx_2)) break;
      __pyx_6 = PyList_GET_ITEM(__pyx_2, __pyx_7); Py_INCREF(__pyx_6); __pyx_7++;
    } else if (likely(PyTuple_CheckExact(__pyx_2))) {
      if (__pyx_7 >= PyTuple_GET_SIZE(__pyx_2)) break;
      __pyx_6 = PyTuple_GET_ITEM(__pyx_2, __pyx_7); Py_INCREF(__pyx_6); __pyx_7++;
    } else {
      __pyx_6 = PyIter_Next(__pyx_2);
      if (!__pyx_6) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 285; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    Py_DECREF(__pyx_v_v);
    __pyx_v_v = __pyx_6;
    __pyx_6 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":286
 *         cdfRecVar = {}
 *         for v in masterRecVar.keys():
 *             cdfRecVar[v] = [cdfm.variables[v]]             # <<<<<<<<<<<<<<
 * 
 *         # Open each remaining file in read-only mode.
 */
    __pyx_4 = PyObject_GetAttr(__pyx_v_cdfm, __pyx_kp_variables); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 286; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyObject_GetItem(__pyx_4, __pyx_v_v); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 286; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_6 = PyList_New(1); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 286; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyList_SET_ITEM(__pyx_6, 0, __pyx_3);
    __pyx_3 = 0;
    if (PyObject_SetItem(__pyx_v_cdfRecVar, __pyx_v_v, ((PyObject *)__pyx_6)) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 286; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_6)); __pyx_6 = 0;
  }
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":291
 *         # Make sure each file defines the same record variables as the master
 *         # and that the variables are defined in the same way (name, shape and type)
 *         for f in files[1:]:             # <<<<<<<<<<<<<<
 *             part = Dataset(f)
 *             varInfo = part.variables
 */
  __pyx_4 = PySequence_GetSlice(__pyx_v_files, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 291; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyList_CheckExact(__pyx_4) || PyTuple_CheckExact(__pyx_4)) {
    __pyx_5 = 0; __pyx_3 = __pyx_4; Py_INCREF(__pyx_3);
  } else {
    __pyx_5 = -1; __pyx_3 = PyObject_GetIter(__pyx_4); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 291; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_3))) {
      if (__pyx_5 >= PyList_GET_SIZE(__pyx_3)) break;
      __pyx_6 = PyList_GET_ITEM(__pyx_3, __pyx_5); Py_INCREF(__pyx_6); __pyx_5++;
    } else if (likely(PyTuple_CheckExact(__pyx_3))) {
      if (__pyx_5 >= PyTuple_GET_SIZE(__pyx_3)) break;
      __pyx_6 = PyTuple_GET_ITEM(__pyx_3, __pyx_5); Py_INCREF(__pyx_6); __pyx_5++;
    } else {
      __pyx_6 = PyIter_Next(__pyx_3);
      if (!__pyx_6) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 291; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    Py_DECREF(__pyx_v_f);
    __pyx_v_f = __pyx_6;
    __pyx_6 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":292
 *         # and that the variables are defined in the same way (name, shape and type)
 *         for f in files[1:]:
 *             part = Dataset(f)             # <<<<<<<<<<<<<<
 *             varInfo = part.variables
 *             for v in masterRecVar.keys():
 */
    __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 292; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_f);
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_f);
    __pyx_4 = PyObject_Call(((PyObject*)__pyx_ptype_7netCDF4_Dataset), ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 292; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
    Py_DECREF(__pyx_v_part);
    __pyx_v_part = __pyx_4;
    __pyx_4 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":293
 *         for f in files[1:]:
 *             part = Dataset(f)
 *             varInfo = part.variables             # <<<<<<<<<<<<<<
 *             for v in masterRecVar.keys():
 *                 if check:
 */
    __pyx_6 = PyObject_GetAttr(__pyx_v_part, __pyx_kp_variables); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 293; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_varInfo);
    __pyx_v_varInfo = __pyx_6;
    __pyx_6 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":294
 *             part = Dataset(f)
 *             varInfo = part.variables
 *             for v in masterRecVar.keys():             # <<<<<<<<<<<<<<
 *                 if check:
 *                     # Make sure master rec var is also defined here.
 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_masterRecVar, __pyx_kp_keys); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 294; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 294; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (PyList_CheckExact(__pyx_4) || PyTuple_CheckExact(__pyx_4)) {
      __pyx_7 = 0; __pyx_6 = __pyx_4; Py_INCREF(__pyx_6);
    } else {
      __pyx_7 = -1; __pyx_6 = PyObject_GetIter(__pyx_4); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 294; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    }
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    for (;;) {
      if (likely(PyList_CheckExact(__pyx_6))) {
        if (__pyx_7 >= PyList_GET_SIZE(__pyx_6)) break;
        __pyx_2 = PyList_GET_ITEM(__pyx_6, __pyx_7); Py_INCREF(__pyx_2); __pyx_7++;
      } else if (likely(PyTuple_CheckExact(__pyx_6))) {
        if (__pyx_7 >= PyTuple_GET_SIZE(__pyx_6)) break;
        __pyx_2 = PyTuple_GET_ITEM(__pyx_6, __pyx_7); Py_INCREF(__pyx_2); __pyx_7++;
      } else {
        __pyx_2 = PyIter_Next(__pyx_6);
        if (!__pyx_2) {
          if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 294; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          break;
        }
      }
      Py_DECREF(__pyx_v_v);
      __pyx_v_v = __pyx_2;
      __pyx_2 = 0;

      /* "/storage/huardda/repos/netcdf4/utils.pyx":295
 *             varInfo = part.variables
 *             for v in masterRecVar.keys():
 *                 if check:             # <<<<<<<<<<<<<<
 *                     # Make sure master rec var is also defined here.
 *                     if v not in varInfo.keys():
 */
      __pyx_1 = __Pyx_PyObject_IsTrue(__pyx_v_check); if (unlikely(__pyx_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 295; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (__pyx_1) {

        /* "/storage/huardda/repos/netcdf4/utils.pyx":297
 *                 if check:
 *                     # Make sure master rec var is also defined here.
 *                     if v not in varInfo.keys():             # <<<<<<<<<<<<<<
 *                         raise IOError("record variable %s not defined in %s" % (v, f))
 * 
 */
        __pyx_4 = PyObject_GetAttr(__pyx_v_varInfo, __pyx_kp_keys); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 297; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_2 = PyObject_Call(__pyx_4, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 297; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        __pyx_1 = (!PySequence_Contains(__pyx_2, __pyx_v_v)); if (unlikely(__pyx_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 297; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        if (__pyx_1) {

          /* "/storage/huardda/repos/netcdf4/utils.pyx":298
 *                     # Make sure master rec var is also defined here.
 *                     if v not in varInfo.keys():
 *                         raise IOError("record variable %s not defined in %s" % (v, f))             # <<<<<<<<<<<<<<
 * 
 *                     # Make sure it is a record var.
 */
          __pyx_4 = PyTuple_New(2); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 298; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_INCREF(__pyx_v_v);
          PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_v);
          Py_INCREF(__pyx_v_f);
          PyTuple_SET_ITEM(__pyx_4, 1, __pyx_v_f);
          __pyx_2 = PyNumber_Remainder(__pyx_kp_214, ((PyObject *)__pyx_4)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 298; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
          __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 298; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
          __pyx_2 = 0;
          __pyx_2 = PyObject_Call(__pyx_builtin_IOError, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 298; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
          __Pyx_Raise(__pyx_2, 0, 0);
          Py_DECREF(__pyx_2); __pyx_2 = 0;
          {__pyx_filename = __pyx_f[1]; __pyx_lineno = 298; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          goto __pyx_L24;
        }
        __pyx_L24:;

        /* "/storage/huardda/repos/netcdf4/utils.pyx":301
 * 
 *                     # Make sure it is a record var.
 *                     vInst = part.variables[v]             # <<<<<<<<<<<<<<
 *                     if not part.dimensions[vInst.dimensions[0]].isunlimited():
 *                         raise MFDataset("variable %s is not a record var inside %s" % (v, f))
 */
        __pyx_4 = PyObject_GetAttr(__pyx_v_part, __pyx_kp_variables); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 301; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_2 = PyObject_GetItem(__pyx_4, __pyx_v_v); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 301; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        Py_DECREF(__pyx_v_vInst);
        __pyx_v_vInst = __pyx_2;
        __pyx_2 = 0;

        /* "/storage/huardda/repos/netcdf4/utils.pyx":302
 *                     # Make sure it is a record var.
 *                     vInst = part.variables[v]
 *                     if not part.dimensions[vInst.dimensions[0]].isunlimited():             # <<<<<<<<<<<<<<
 *                         raise MFDataset("variable %s is not a record var inside %s" % (v, f))
 * 
 */
        __pyx_4 = PyObject_GetAttr(__pyx_v_part, __pyx_kp_dimensions); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 302; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_2 = PyObject_GetAttr(__pyx_v_vInst, __pyx_kp_dimensions); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 302; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_8 = __Pyx_GetItemInt(__pyx_2, 0, 0); if (!__pyx_8) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 302; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_2 = PyObject_GetItem(__pyx_4, __pyx_8); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 302; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        Py_DECREF(__pyx_8); __pyx_8 = 0;
        __pyx_4 = PyObject_GetAttr(__pyx_2, __pyx_kp_isunlimited); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 302; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_8 = PyObject_Call(__pyx_4, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 302; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        __pyx_1 = __Pyx_PyObject_IsTrue(__pyx_8); if (unlikely(__pyx_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 302; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_8); __pyx_8 = 0;
        __pyx_9 = (!__pyx_1);
        if (__pyx_9) {

          /* "/storage/huardda/repos/netcdf4/utils.pyx":303
 *                     vInst = part.variables[v]
 *                     if not part.dimensions[vInst.dimensions[0]].isunlimited():
 *                         raise MFDataset("variable %s is not a record var inside %s" % (v, f))             # <<<<<<<<<<<<<<
 * 
 *                     masterDims, masterShape, masterType = masterRecVar[v][:3]
 */
          __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_kp_MFDataset); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 303; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_4 = PyTuple_New(2); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 303; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_INCREF(__pyx_v_v);
          PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_v);
          Py_INCREF(__pyx_v_f);
          PyTuple_SET_ITEM(__pyx_4, 1, __pyx_v_f);
          __pyx_8 = PyNumber_Remainder(__pyx_kp_215, ((PyObject *)__pyx_4)); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 303; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
          __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 303; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          PyTuple_SET_ITEM(__pyx_4, 0, __pyx_8);
          __pyx_8 = 0;
          __pyx_8 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 303; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_2); __pyx_2 = 0;
          Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
          __Pyx_Raise(__pyx_8, 0, 0);
          Py_DECREF(__pyx_8); __pyx_8 = 0;
          {__pyx_filename = __pyx_f[1]; __pyx_lineno = 303; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          goto __pyx_L25;
        }
        __pyx_L25:;

        /* "/storage/huardda/repos/netcdf4/utils.pyx":305
 *                         raise MFDataset("variable %s is not a record var inside %s" % (v, f))
 * 
 *                     masterDims, masterShape, masterType = masterRecVar[v][:3]             # <<<<<<<<<<<<<<
 *                     extDims, extShape, extType = varInfo[v][:3]
 *                     extDims = varInfo[v].dimensions
 */
        __pyx_2 = PyObject_GetItem(__pyx_v_masterRecVar, __pyx_v_v); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 305; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_4 = PySequence_GetSlice(__pyx_2, 0, 3); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 305; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        if (PyTuple_CheckExact(__pyx_4) && PyTuple_GET_SIZE(__pyx_4) == 3) {
          PyObject* tuple = __pyx_4;
          __pyx_2 = PyTuple_GET_ITEM(tuple, 0);
          Py_INCREF(__pyx_2);
          Py_DECREF(__pyx_v_masterDims);
          __pyx_v_masterDims = __pyx_2;
          __pyx_2 = 0;
          __pyx_2 = PyTuple_GET_ITEM(tuple, 1);
          Py_INCREF(__pyx_2);
          Py_DECREF(__pyx_v_masterShape);
          __pyx_v_masterShape = __pyx_2;
          __pyx_2 = 0;
          __pyx_2 = PyTuple_GET_ITEM(tuple, 2);
          Py_INCREF(__pyx_2);
          Py_DECREF(__pyx_v_masterType);
          __pyx_v_masterType = __pyx_2;
          __pyx_2 = 0;
          Py_DECREF(__pyx_4); __pyx_4 = 0;
        }
        else {
          __pyx_8 = PyObject_GetIter(__pyx_4); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 305; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_4); __pyx_4 = 0;
          __pyx_2 = __Pyx_UnpackItem(__pyx_8, 0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 305; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_v_masterDims);
          __pyx_v_masterDims = __pyx_2;
          __pyx_2 = 0;
          __pyx_2 = __Pyx_UnpackItem(__pyx_8, 1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 305; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_v_masterShape);
          __pyx_v_masterShape = __pyx_2;
          __pyx_2 = 0;
          __pyx_2 = __Pyx_UnpackItem(__pyx_8, 2); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 305; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_v_masterType);
          __pyx_v_masterType = __pyx_2;
          __pyx_2 = 0;
          if (__Pyx_EndUnpack(__pyx_8) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 305; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_8); __pyx_8 = 0;
        }

        /* "/storage/huardda/repos/netcdf4/utils.pyx":306
 * 
 *                     masterDims, masterShape, masterType = masterRecVar[v][:3]
 *                     extDims, extShape, extType = varInfo[v][:3]             # <<<<<<<<<<<<<<
 *                     extDims = varInfo[v].dimensions
 *                     extShape = varInfo[v].shape
 */
        __pyx_2 = PyObject_GetItem(__pyx_v_varInfo, __pyx_v_v); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 306; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_4 = PySequence_GetSlice(__pyx_2, 0, 3); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 306; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        if (PyTuple_CheckExact(__pyx_4) && PyTuple_GET_SIZE(__pyx_4) == 3) {
          PyObject* tuple = __pyx_4;
          __pyx_2 = PyTuple_GET_ITEM(tuple, 0);
          Py_INCREF(__pyx_2);
          Py_DECREF(__pyx_v_extDims);
          __pyx_v_extDims = __pyx_2;
          __pyx_2 = 0;
          __pyx_2 = PyTuple_GET_ITEM(tuple, 1);
          Py_INCREF(__pyx_2);
          Py_DECREF(__pyx_v_extShape);
          __pyx_v_extShape = __pyx_2;
          __pyx_2 = 0;
          __pyx_2 = PyTuple_GET_ITEM(tuple, 2);
          Py_INCREF(__pyx_2);
          Py_DECREF(__pyx_v_extType);
          __pyx_v_extType = __pyx_2;
          __pyx_2 = 0;
          Py_DECREF(__pyx_4); __pyx_4 = 0;
        }
        else {
          __pyx_8 = PyObject_GetIter(__pyx_4); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 306; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_4); __pyx_4 = 0;
          __pyx_2 = __Pyx_UnpackItem(__pyx_8, 0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 306; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_v_extDims);
          __pyx_v_extDims = __pyx_2;
          __pyx_2 = 0;
          __pyx_2 = __Pyx_UnpackItem(__pyx_8, 1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 306; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_v_extShape);
          __pyx_v_extShape = __pyx_2;
          __pyx_2 = 0;
          __pyx_2 = __Pyx_UnpackItem(__pyx_8, 2); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 306; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_v_extType);
          __pyx_v_extType = __pyx_2;
          __pyx_2 = 0;
          if (__Pyx_EndUnpack(__pyx_8) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 306; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_8); __pyx_8 = 0;
        }

        /* "/storage/huardda/repos/netcdf4/utils.pyx":307
 *                     masterDims, masterShape, masterType = masterRecVar[v][:3]
 *                     extDims, extShape, extType = varInfo[v][:3]
 *                     extDims = varInfo[v].dimensions             # <<<<<<<<<<<<<<
 *                     extShape = varInfo[v].shape
 *                     extType = varInfo[v].dtype
 */
        __pyx_2 = PyObject_GetItem(__pyx_v_varInfo, __pyx_v_v); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 307; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_4 = PyObject_GetAttr(__pyx_2, __pyx_kp_dimensions); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 307; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        Py_DECREF(__pyx_v_extDims);
        __pyx_v_extDims = __pyx_4;
        __pyx_4 = 0;

        /* "/storage/huardda/repos/netcdf4/utils.pyx":308
 *                     extDims, extShape, extType = varInfo[v][:3]
 *                     extDims = varInfo[v].dimensions
 *                     extShape = varInfo[v].shape             # <<<<<<<<<<<<<<
 *                     extType = varInfo[v].dtype
 *                     # Check that dimension names are identical.
 */
        __pyx_8 = PyObject_GetItem(__pyx_v_varInfo, __pyx_v_v); if (!__pyx_8) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 308; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_2 = PyObject_GetAttr(__pyx_8, __pyx_kp_shape); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 308; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_8); __pyx_8 = 0;
        Py_DECREF(__pyx_v_extShape);
        __pyx_v_extShape = __pyx_2;
        __pyx_2 = 0;

        /* "/storage/huardda/repos/netcdf4/utils.pyx":309
 *                     extDims = varInfo[v].dimensions
 *                     extShape = varInfo[v].shape
 *                     extType = varInfo[v].dtype             # <<<<<<<<<<<<<<
 *                     # Check that dimension names are identical.
 *                     if masterDims != extDims:
 */
        __pyx_4 = PyObject_GetItem(__pyx_v_varInfo, __pyx_v_v); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 309; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_8 = PyObject_GetAttr(__pyx_4, __pyx_kp_dtype); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 309; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        Py_DECREF(__pyx_v_extType);
        __pyx_v_extType = __pyx_8;
        __pyx_8 = 0;

        /* "/storage/huardda/repos/netcdf4/utils.pyx":311
 *                     extType = varInfo[v].dtype
 *                     # Check that dimension names are identical.
 *                     if masterDims != extDims:             # <<<<<<<<<<<<<<
 *                         raise IOError("variable %s : dimensions mismatch between "
 *                                        "master %s (%s) and extension %s (%s)" %
 */
        __pyx_2 = PyObject_RichCompare(__pyx_v_masterDims, __pyx_v_extDims, Py_NE); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 311; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_1 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 311; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        if (__pyx_1) {

          /* "/storage/huardda/repos/netcdf4/utils.pyx":314
 *                         raise IOError("variable %s : dimensions mismatch between "
 *                                        "master %s (%s) and extension %s (%s)" %
 *                                        (v, master, masterDims, f, extDims))             # <<<<<<<<<<<<<<
 * 
 *                     # Check that the ranks are identical, and the dimension lengths are
 */
          __pyx_4 = PyTuple_New(5); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 314; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_INCREF(__pyx_v_v);
          PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_v);
          Py_INCREF(__pyx_v_master);
          PyTuple_SET_ITEM(__pyx_4, 1, __pyx_v_master);
          Py_INCREF(__pyx_v_masterDims);
          PyTuple_SET_ITEM(__pyx_4, 2, __pyx_v_masterDims);
          Py_INCREF(__pyx_v_f);
          PyTuple_SET_ITEM(__pyx_4, 3, __pyx_v_f);
          Py_INCREF(__pyx_v_extDims);
          PyTuple_SET_ITEM(__pyx_4, 4, __pyx_v_extDims);
          __pyx_8 = PyNumber_Remainder(__pyx_kp_216, ((PyObject *)__pyx_4)); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 313; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
          __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 312; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          PyTuple_SET_ITEM(__pyx_2, 0, __pyx_8);
          __pyx_8 = 0;
          __pyx_4 = PyObject_Call(__pyx_builtin_IOError, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 312; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
          __Pyx_Raise(__pyx_4, 0, 0);
          Py_DECREF(__pyx_4); __pyx_4 = 0;
          {__pyx_filename = __pyx_f[1]; __pyx_lineno = 312; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          goto __pyx_L26;
        }
        __pyx_L26:;

        /* "/storage/huardda/repos/netcdf4/utils.pyx":319
 *                     # identical (except for that of the unlimited dimension, which of
 *                     # course may vary.
 *                     if len(masterShape) != len(extShape):             # <<<<<<<<<<<<<<
 *                         raise IOError("variable %s : rank mismatch between "
 *                                        "master %s (%s) and extension %s (%s)" %
 */
        __pyx_10 = PyObject_Length(__pyx_v_masterShape); if (unlikely(__pyx_10 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 319; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_11 = PyObject_Length(__pyx_v_extShape); if (unlikely(__pyx_11 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 319; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_9 = (__pyx_10 != __pyx_11);
        if (__pyx_9) {

          /* "/storage/huardda/repos/netcdf4/utils.pyx":322
 *                         raise IOError("variable %s : rank mismatch between "
 *                                        "master %s (%s) and extension %s (%s)" %
 *                                        (v, master, len(masterShape), f, len(extShape)))             # <<<<<<<<<<<<<<
 *                     if masterShape[1:] != extShape[1:]:
 *                         raise IOError("variable %s : shape mismatch between "
 */
          __pyx_10 = PyObject_Length(__pyx_v_masterShape); if (unlikely(__pyx_10 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 322; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_8 = PyInt_FromSsize_t(__pyx_10); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 322; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_11 = PyObject_Length(__pyx_v_extShape); if (unlikely(__pyx_11 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 322; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_2 = PyInt_FromSsize_t(__pyx_11); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 322; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_4 = PyTuple_New(5); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 322; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_INCREF(__pyx_v_v);
          PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_v);
          Py_INCREF(__pyx_v_master);
          PyTuple_SET_ITEM(__pyx_4, 1, __pyx_v_master);
          PyTuple_SET_ITEM(__pyx_4, 2, __pyx_8);
          Py_INCREF(__pyx_v_f);
          PyTuple_SET_ITEM(__pyx_4, 3, __pyx_v_f);
          PyTuple_SET_ITEM(__pyx_4, 4, __pyx_2);
          __pyx_8 = 0;
          __pyx_2 = 0;
          __pyx_8 = PyNumber_Remainder(__pyx_kp_217, ((PyObject *)__pyx_4)); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 321; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
          __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 320; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          PyTuple_SET_ITEM(__pyx_2, 0, __pyx_8);
          __pyx_8 = 0;
          __pyx_4 = PyObject_Call(__pyx_builtin_IOError, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 320; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
          __Pyx_Raise(__pyx_4, 0, 0);
          Py_DECREF(__pyx_4); __pyx_4 = 0;
          {__pyx_filename = __pyx_f[1]; __pyx_lineno = 320; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          goto __pyx_L27;
        }
        __pyx_L27:;

        /* "/storage/huardda/repos/netcdf4/utils.pyx":323
 *                                        "master %s (%s) and extension %s (%s)" %
 *                                        (v, master, len(masterShape), f, len(extShape)))
 *                     if masterShape[1:] != extShape[1:]:             # <<<<<<<<<<<<<<
 *                         raise IOError("variable %s : shape mismatch between "
 *                                        "master %s (%s) and extension %s (%s)" %
 */
        __pyx_8 = PySequence_GetSlice(__pyx_v_masterShape, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 323; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_2 = PySequence_GetSlice(__pyx_v_extShape, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 323; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_4 = PyObject_RichCompare(__pyx_8, __pyx_2, Py_NE); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 323; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_8); __pyx_8 = 0;
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_1 = __Pyx_PyObject_IsTrue(__pyx_4); if (unlikely(__pyx_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 323; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        if (__pyx_1) {

          /* "/storage/huardda/repos/netcdf4/utils.pyx":326
 *                         raise IOError("variable %s : shape mismatch between "
 *                                        "master %s (%s) and extension %s (%s)" %
 *                                        (v, master, masterShape, f, extShape))             # <<<<<<<<<<<<<<
 * 
 *                     # Check that the data types are identical.
 */
          __pyx_8 = PyTuple_New(5); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 326; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_INCREF(__pyx_v_v);
          PyTuple_SET_ITEM(__pyx_8, 0, __pyx_v_v);
          Py_INCREF(__pyx_v_master);
          PyTuple_SET_ITEM(__pyx_8, 1, __pyx_v_master);
          Py_INCREF(__pyx_v_masterShape);
          PyTuple_SET_ITEM(__pyx_8, 2, __pyx_v_masterShape);
          Py_INCREF(__pyx_v_f);
          PyTuple_SET_ITEM(__pyx_8, 3, __pyx_v_f);
          Py_INCREF(__pyx_v_extShape);
          PyTuple_SET_ITEM(__pyx_8, 4, __pyx_v_extShape);
          __pyx_2 = PyNumber_Remainder(__pyx_kp_218, ((PyObject *)__pyx_8)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 325; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(((PyObject *)__pyx_8)); __pyx_8 = 0;
          __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 324; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
          __pyx_2 = 0;
          __pyx_8 = PyObject_Call(__pyx_builtin_IOError, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 324; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
          __Pyx_Raise(__pyx_8, 0, 0);
          Py_DECREF(__pyx_8); __pyx_8 = 0;
          {__pyx_filename = __pyx_f[1]; __pyx_lineno = 324; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          goto __pyx_L28;
        }
        __pyx_L28:;

        /* "/storage/huardda/repos/netcdf4/utils.pyx":329
 * 
 *                     # Check that the data types are identical.
 *                     if masterType != extType:             # <<<<<<<<<<<<<<
 *                         raise IOError("variable %s : data type mismatch between "
 *                                        "master %s (%s) and extension %s (%s)" %
 */
        __pyx_2 = PyObject_RichCompare(__pyx_v_masterType, __pyx_v_extType, Py_NE); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 329; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_9 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_9 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 329; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        if (__pyx_9) {

          /* "/storage/huardda/repos/netcdf4/utils.pyx":332
 *                         raise IOError("variable %s : data type mismatch between "
 *                                        "master %s (%s) and extension %s (%s)" %
 *                                        (v, master, masterType, f, extType))             # <<<<<<<<<<<<<<
 * 
 *                     # Everythig ok.
 */
          __pyx_4 = PyTuple_New(5); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 332; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_INCREF(__pyx_v_v);
          PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_v);
          Py_INCREF(__pyx_v_master);
          PyTuple_SET_ITEM(__pyx_4, 1, __pyx_v_master);
          Py_INCREF(__pyx_v_masterType);
          PyTuple_SET_ITEM(__pyx_4, 2, __pyx_v_masterType);
          Py_INCREF(__pyx_v_f);
          PyTuple_SET_ITEM(__pyx_4, 3, __pyx_v_f);
          Py_INCREF(__pyx_v_extType);
          PyTuple_SET_ITEM(__pyx_4, 4, __pyx_v_extType);
          __pyx_8 = PyNumber_Remainder(__pyx_kp_219, ((PyObject *)__pyx_4)); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 331; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
          __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 330; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          PyTuple_SET_ITEM(__pyx_2, 0, __pyx_8);
          __pyx_8 = 0;
          __pyx_4 = PyObject_Call(__pyx_builtin_IOError, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 330; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
          __Pyx_Raise(__pyx_4, 0, 0);
          Py_DECREF(__pyx_4); __pyx_4 = 0;
          {__pyx_filename = __pyx_f[1]; __pyx_lineno = 330; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          goto __pyx_L29;
        }
        __pyx_L29:;

        /* "/storage/huardda/repos/netcdf4/utils.pyx":335
 * 
 *                     # Everythig ok.
 *                     cdfRecVar[v].append(vInst)             # <<<<<<<<<<<<<<
 *                 else:
 *                     # No making sure of anything -- assume this is ok..
 */
        __pyx_8 = PyObject_GetItem(__pyx_v_cdfRecVar, __pyx_v_v); if (!__pyx_8) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 335; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_2 = __Pyx_PyObject_Append(__pyx_8, __pyx_v_vInst); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 335; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_8); __pyx_8 = 0;
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        goto __pyx_L23;
      }
      /*else*/ {

        /* "/storage/huardda/repos/netcdf4/utils.pyx":338
 *                 else:
 *                     # No making sure of anything -- assume this is ok..
 *                     vInst = part.variables[v]             # <<<<<<<<<<<<<<
 *                     cdfRecVar[v].append(vInst)
 * 
 */
        __pyx_4 = PyObject_GetAttr(__pyx_v_part, __pyx_kp_variables); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 338; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_8 = PyObject_GetItem(__pyx_4, __pyx_v_v); if (!__pyx_8) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 338; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        Py_DECREF(__pyx_v_vInst);
        __pyx_v_vInst = __pyx_8;
        __pyx_8 = 0;

        /* "/storage/huardda/repos/netcdf4/utils.pyx":339
 *                     # No making sure of anything -- assume this is ok..
 *                     vInst = part.variables[v]
 *                     cdfRecVar[v].append(vInst)             # <<<<<<<<<<<<<<
 * 
 *             cdf.append(part)
 */
        __pyx_2 = PyObject_GetItem(__pyx_v_cdfRecVar, __pyx_v_v); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 339; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_4 = __Pyx_PyObject_Append(__pyx_2, __pyx_v_vInst); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 339; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        Py_DECREF(__pyx_4); __pyx_4 = 0;
      }
      __pyx_L23:;
    }
    Py_DECREF(__pyx_6); __pyx_6 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":341
 *                     cdfRecVar[v].append(vInst)
 * 
 *             cdf.append(part)             # <<<<<<<<<<<<<<
 *             cdfVLen.append(len(part.dimensions[unlimDimName]))
 * 
 */
    __pyx_8 = __Pyx_PyObject_Append(__pyx_v_cdf, __pyx_v_part); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 341; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_8); __pyx_8 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":342
 * 
 *             cdf.append(part)
 *             cdfVLen.append(len(part.dimensions[unlimDimName]))             # <<<<<<<<<<<<<<
 * 
 *         # Attach attributes to the MFDataset instance.
 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_part, __pyx_kp_dimensions); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 342; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyObject_GetItem(__pyx_2, __pyx_v_unlimDimName); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 342; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_10 = PyObject_Length(__pyx_4); if (unlikely(__pyx_10 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 342; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_6 = PyInt_FromSsize_t(__pyx_10); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 342; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_8 = __Pyx_PyObject_Append(__pyx_v_cdfVLen, __pyx_6); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 342; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    Py_DECREF(__pyx_8); __pyx_8 = 0;
  }
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":346
 *         # Attach attributes to the MFDataset instance.
 *         # A local __setattr__() method is required for them.
 *         self._files = files            # list of cdf file names in the set             # <<<<<<<<<<<<<<
 *         self._cdfVLen = cdfVLen              # list of unlimited lengths
 *         self._cdfTLen = sum(cdfVLen) # total length
 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_kp__files, __pyx_v_files) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 346; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/storage/huardda/repos/netcdf4/utils.pyx":347
 *         # A local __setattr__() method is required for them.
 *         self._files = files            # list of cdf file names in the set
 *         self._cdfVLen = cdfVLen              # list of unlimited lengths             # <<<<<<<<<<<<<<
 *         self._cdfTLen = sum(cdfVLen) # total length
 *         self._cdfRecVar = cdfRecVar          # dictionary of Variable instances for all
 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_kp__cdfVLen, __pyx_v_cdfVLen) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 347; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/storage/huardda/repos/netcdf4/utils.pyx":348
 *         self._files = files            # list of cdf file names in the set
 *         self._cdfVLen = cdfVLen              # list of unlimited lengths
 *         self._cdfTLen = sum(cdfVLen) # total length             # <<<<<<<<<<<<<<
 *         self._cdfRecVar = cdfRecVar          # dictionary of Variable instances for all
 *                                              # the record variables
 */
  __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 348; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_cdfVLen);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_cdfVLen);
  __pyx_4 = PyObject_Call(__pyx_builtin_sum, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 348; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
  if (PyObject_SetAttr(__pyx_v_self, __pyx_kp__cdfTLen, __pyx_4) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 348; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":349
 *         self._cdfVLen = cdfVLen              # list of unlimited lengths
 *         self._cdfTLen = sum(cdfVLen) # total length
 *         self._cdfRecVar = cdfRecVar          # dictionary of Variable instances for all             # <<<<<<<<<<<<<<
 *                                              # the record variables
 *         self._dims = cdfm.dimensions
 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_kp__cdfRecVar, __pyx_v_cdfRecVar) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 349; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/storage/huardda/repos/netcdf4/utils.pyx":351
 *         self._cdfRecVar = cdfRecVar          # dictionary of Variable instances for all
 *                                              # the record variables
 *         self._dims = cdfm.dimensions             # <<<<<<<<<<<<<<
 *         for dimname, dim in self._dims.items():
 *             if dim.isunlimited():
 */
  __pyx_6 = PyObject_GetAttr(__pyx_v_cdfm, __pyx_kp_dimensions); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 351; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttr(__pyx_v_self, __pyx_kp__dims, __pyx_6) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 351; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_6); __pyx_6 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":352
 *                                              # the record variables
 *         self._dims = cdfm.dimensions
 *         for dimname, dim in self._dims.items():             # <<<<<<<<<<<<<<
 *             if dim.isunlimited():
 *                 self._dims[dimname] = _Dimension(dimname, dim, self._cdfVLen, self._cdfTLen)
 */
  __pyx_8 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__dims); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 352; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyObject_GetAttr(__pyx_8, __pyx_kp_items); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 352; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_8); __pyx_8 = 0;
  __pyx_2 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 352; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (PyList_CheckExact(__pyx_2) || PyTuple_CheckExact(__pyx_2)) {
    __pyx_11 = 0; __pyx_4 = __pyx_2; Py_INCREF(__pyx_4);
  } else {
    __pyx_11 = -1; __pyx_4 = PyObject_GetIter(__pyx_2); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 352; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_4))) {
      if (__pyx_11 >= PyList_GET_SIZE(__pyx_4)) break;
      __pyx_6 = PyList_GET_ITEM(__pyx_4, __pyx_11); Py_INCREF(__pyx_6); __pyx_11++;
    } else if (likely(PyTuple_CheckExact(__pyx_4))) {
      if (__pyx_11 >= PyTuple_GET_SIZE(__pyx_4)) break;
      __pyx_6 = PyTuple_GET_ITEM(__pyx_4, __pyx_11); Py_INCREF(__pyx_6); __pyx_11++;
    } else {
      __pyx_6 = PyIter_Next(__pyx_4);
      if (!__pyx_6) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 352; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    if (PyTuple_CheckExact(__pyx_6) && PyTuple_GET_SIZE(__pyx_6) == 2) {
      PyObject* tuple = __pyx_6;
      __pyx_3 = PyTuple_GET_ITEM(tuple, 0);
      Py_INCREF(__pyx_3);
      Py_DECREF(__pyx_v_dimname);
      __pyx_v_dimname = __pyx_3;
      __pyx_3 = 0;
      __pyx_2 = PyTuple_GET_ITEM(tuple, 1);
      Py_INCREF(__pyx_2);
      Py_DECREF(__pyx_v_dim);
      __pyx_v_dim = __pyx_2;
      __pyx_2 = 0;
      Py_DECREF(__pyx_6); __pyx_6 = 0;
    }
    else {
      __pyx_8 = PyObject_GetIter(__pyx_6); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 352; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_3 = __Pyx_UnpackItem(__pyx_8, 0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 352; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_dimname);
      __pyx_v_dimname = __pyx_3;
      __pyx_3 = 0;
      __pyx_2 = __Pyx_UnpackItem(__pyx_8, 1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 352; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_dim);
      __pyx_v_dim = __pyx_2;
      __pyx_2 = 0;
      if (__Pyx_EndUnpack(__pyx_8) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 352; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_8); __pyx_8 = 0;
    }

    /* "/storage/huardda/repos/netcdf4/utils.pyx":353
 *         self._dims = cdfm.dimensions
 *         for dimname, dim in self._dims.items():
 *             if dim.isunlimited():             # <<<<<<<<<<<<<<
 *                 self._dims[dimname] = _Dimension(dimname, dim, self._cdfVLen, self._cdfTLen)
 *         self._vars = cdfm.variables
 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_dim, __pyx_kp_isunlimited); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 353; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 353; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_1 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 353; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (__pyx_1) {

      /* "/storage/huardda/repos/netcdf4/utils.pyx":354
 *         for dimname, dim in self._dims.items():
 *             if dim.isunlimited():
 *                 self._dims[dimname] = _Dimension(dimname, dim, self._cdfVLen, self._cdfTLen)             # <<<<<<<<<<<<<<
 *         self._vars = cdfm.variables
 *         for varname,var in self._vars.items():
 */
      __pyx_6 = __Pyx_GetName(__pyx_m, __pyx_kp__Dimension); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 354; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_8 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__cdfVLen); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 354; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__cdfTLen); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 354; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_2 = PyTuple_New(4); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 354; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_v_dimname);
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_dimname);
      Py_INCREF(__pyx_v_dim);
      PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_dim);
      PyTuple_SET_ITEM(__pyx_2, 2, __pyx_8);
      PyTuple_SET_ITEM(__pyx_2, 3, __pyx_3);
      __pyx_8 = 0;
      __pyx_3 = 0;
      __pyx_8 = PyObject_Call(__pyx_6, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 354; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__dims); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 354; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (PyObject_SetItem(__pyx_3, __pyx_v_dimname, __pyx_8) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 354; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_8); __pyx_8 = 0;
      goto __pyx_L32;
    }
    __pyx_L32:;
  }
  Py_DECREF(__pyx_4); __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":355
 *             if dim.isunlimited():
 *                 self._dims[dimname] = _Dimension(dimname, dim, self._cdfVLen, self._cdfTLen)
 *         self._vars = cdfm.variables             # <<<<<<<<<<<<<<
 *         for varname,var in self._vars.items():
 *             if varname in self._cdfRecVar.keys():
 */
  __pyx_6 = PyObject_GetAttr(__pyx_v_cdfm, __pyx_kp_variables); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 355; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttr(__pyx_v_self, __pyx_kp__vars, __pyx_6) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 355; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_6); __pyx_6 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":356
 *                 self._dims[dimname] = _Dimension(dimname, dim, self._cdfVLen, self._cdfTLen)
 *         self._vars = cdfm.variables
 *         for varname,var in self._vars.items():             # <<<<<<<<<<<<<<
 *             if varname in self._cdfRecVar.keys():
 *                 self._vars[varname] = _Variable(self, varname, var, unlimDimName)
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__vars); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 356; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_8 = PyObject_GetAttr(__pyx_2, __pyx_kp_items); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 356; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_3 = PyObject_Call(__pyx_8, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 356; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_8); __pyx_8 = 0;
  if (PyList_CheckExact(__pyx_3) || PyTuple_CheckExact(__pyx_3)) {
    __pyx_7 = 0; __pyx_4 = __pyx_3; Py_INCREF(__pyx_4);
  } else {
    __pyx_7 = -1; __pyx_4 = PyObject_GetIter(__pyx_3); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 356; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_4))) {
      if (__pyx_7 >= PyList_GET_SIZE(__pyx_4)) break;
      __pyx_6 = PyList_GET_ITEM(__pyx_4, __pyx_7); Py_INCREF(__pyx_6); __pyx_7++;
    } else if (likely(PyTuple_CheckExact(__pyx_4))) {
      if (__pyx_7 >= PyTuple_GET_SIZE(__pyx_4)) break;
      __pyx_6 = PyTuple_GET_ITEM(__pyx_4, __pyx_7); Py_INCREF(__pyx_6); __pyx_7++;
    } else {
      __pyx_6 = PyIter_Next(__pyx_4);
      if (!__pyx_6) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 356; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    if (PyTuple_CheckExact(__pyx_6) && PyTuple_GET_SIZE(__pyx_6) == 2) {
      PyObject* tuple = __pyx_6;
      __pyx_8 = PyTuple_GET_ITEM(tuple, 0);
      Py_INCREF(__pyx_8);
      Py_DECREF(__pyx_v_varname);
      __pyx_v_varname = __pyx_8;
      __pyx_8 = 0;
      __pyx_3 = PyTuple_GET_ITEM(tuple, 1);
      Py_INCREF(__pyx_3);
      Py_DECREF(__pyx_v_var);
      __pyx_v_var = __pyx_3;
      __pyx_3 = 0;
      Py_DECREF(__pyx_6); __pyx_6 = 0;
    }
    else {
      __pyx_2 = PyObject_GetIter(__pyx_6); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 356; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_8 = __Pyx_UnpackItem(__pyx_2, 0); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 356; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_varname);
      __pyx_v_varname = __pyx_8;
      __pyx_8 = 0;
      __pyx_3 = __Pyx_UnpackItem(__pyx_2, 1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 356; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_var);
      __pyx_v_var = __pyx_3;
      __pyx_3 = 0;
      if (__Pyx_EndUnpack(__pyx_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 356; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
    }

    /* "/storage/huardda/repos/netcdf4/utils.pyx":357
 *         self._vars = cdfm.variables
 *         for varname,var in self._vars.items():
 *             if varname in self._cdfRecVar.keys():             # <<<<<<<<<<<<<<
 *                 self._vars[varname] = _Variable(self, varname, var, unlimDimName)
 *         self._file_format = []
 */
    __pyx_8 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__cdfRecVar); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 357; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyObject_GetAttr(__pyx_8, __pyx_kp_keys); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 357; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_8); __pyx_8 = 0;
    __pyx_6 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 357; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_9 = (PySequence_Contains(__pyx_6, __pyx_v_varname)); if (unlikely(__pyx_9 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 357; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    if (__pyx_9) {

      /* "/storage/huardda/repos/netcdf4/utils.pyx":358
 *         for varname,var in self._vars.items():
 *             if varname in self._cdfRecVar.keys():
 *                 self._vars[varname] = _Variable(self, varname, var, unlimDimName)             # <<<<<<<<<<<<<<
 *         self._file_format = []
 *         for dset in self._cdf:
 */
      __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_kp__Variable); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 358; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_8 = PyTuple_New(4); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 358; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_v_self);
      PyTuple_SET_ITEM(__pyx_8, 0, __pyx_v_self);
      Py_INCREF(__pyx_v_varname);
      PyTuple_SET_ITEM(__pyx_8, 1, __pyx_v_varname);
      Py_INCREF(__pyx_v_var);
      PyTuple_SET_ITEM(__pyx_8, 2, __pyx_v_var);
      Py_INCREF(__pyx_v_unlimDimName);
      PyTuple_SET_ITEM(__pyx_8, 3, __pyx_v_unlimDimName);
      __pyx_3 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_8), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 358; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(((PyObject *)__pyx_8)); __pyx_8 = 0;
      __pyx_6 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__vars); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 358; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (PyObject_SetItem(__pyx_6, __pyx_v_varname, __pyx_3) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 358; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      goto __pyx_L35;
    }
    __pyx_L35:;
  }
  Py_DECREF(__pyx_4); __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":359
 *             if varname in self._cdfRecVar.keys():
 *                 self._vars[varname] = _Variable(self, varname, var, unlimDimName)
 *         self._file_format = []             # <<<<<<<<<<<<<<
 *         for dset in self._cdf:
 *             if dset.file_format == 'NETCDF4':
 */
  __pyx_2 = PyList_New(0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 359; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttr(__pyx_v_self, __pyx_kp__file_format, ((PyObject *)__pyx_2)) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 359; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":360
 *                 self._vars[varname] = _Variable(self, varname, var, unlimDimName)
 *         self._file_format = []
 *         for dset in self._cdf:             # <<<<<<<<<<<<<<
 *             if dset.file_format == 'NETCDF4':
 *                 raise ValueError('MFNetCDF4 only works with NETCDF3_CLASSIC, NETCDF3_64BIT and NETCDF4_CLASSIC formatted files, not NETCDF4')
 */
  __pyx_8 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__cdf); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 360; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyList_CheckExact(__pyx_8) || PyTuple_CheckExact(__pyx_8)) {
    __pyx_10 = 0; __pyx_3 = __pyx_8; Py_INCREF(__pyx_3);
  } else {
    __pyx_10 = -1; __pyx_3 = PyObject_GetIter(__pyx_8); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 360; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_8); __pyx_8 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_3))) {
      if (__pyx_10 >= PyList_GET_SIZE(__pyx_3)) break;
      __pyx_6 = PyList_GET_ITEM(__pyx_3, __pyx_10); Py_INCREF(__pyx_6); __pyx_10++;
    } else if (likely(PyTuple_CheckExact(__pyx_3))) {
      if (__pyx_10 >= PyTuple_GET_SIZE(__pyx_3)) break;
      __pyx_6 = PyTuple_GET_ITEM(__pyx_3, __pyx_10); Py_INCREF(__pyx_6); __pyx_10++;
    } else {
      __pyx_6 = PyIter_Next(__pyx_3);
      if (!__pyx_6) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 360; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    Py_DECREF(__pyx_v_dset);
    __pyx_v_dset = __pyx_6;
    __pyx_6 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":361
 *         self._file_format = []
 *         for dset in self._cdf:
 *             if dset.file_format == 'NETCDF4':             # <<<<<<<<<<<<<<
 *                 raise ValueError('MFNetCDF4 only works with NETCDF3_CLASSIC, NETCDF3_64BIT and NETCDF4_CLASSIC formatted files, not NETCDF4')
 *             self._file_format.append(dset.file_format)
 */
    __pyx_4 = PyObject_GetAttr(__pyx_v_dset, __pyx_kp_file_format); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 361; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = PyObject_RichCompare(__pyx_4, __pyx_kp_220, Py_EQ); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 361; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_1 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 361; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (__pyx_1) {

      /* "/storage/huardda/repos/netcdf4/utils.pyx":362
 *         for dset in self._cdf:
 *             if dset.file_format == 'NETCDF4':
 *                 raise ValueError('MFNetCDF4 only works with NETCDF3_CLASSIC, NETCDF3_64BIT and NETCDF4_CLASSIC formatted files, not NETCDF4')             # <<<<<<<<<<<<<<
 *             self._file_format.append(dset.file_format)
 * 
 */
      __pyx_8 = PyTuple_New(1); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 362; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_kp_221);
      PyTuple_SET_ITEM(__pyx_8, 0, __pyx_kp_221);
      __pyx_6 = PyObject_Call(__pyx_builtin_ValueError, ((PyObject *)__pyx_8), NULL); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 362; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_8)); __pyx_8 = 0;
      __Pyx_Raise(__pyx_6, 0, 0);
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      {__pyx_filename = __pyx_f[1]; __pyx_lineno = 362; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L38;
    }
    __pyx_L38:;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":363
 *             if dset.file_format == 'NETCDF4':
 *                 raise ValueError('MFNetCDF4 only works with NETCDF3_CLASSIC, NETCDF3_64BIT and NETCDF4_CLASSIC formatted files, not NETCDF4')
 *             self._file_format.append(dset.file_format)             # <<<<<<<<<<<<<<
 * 
 *     def __setattr__(self, name, value):
 */
    __pyx_4 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__file_format); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 363; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = PyObject_GetAttr(__pyx_v_dset, __pyx_kp_file_format); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 363; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_8 = __Pyx_PyObject_Append(__pyx_4, __pyx_2); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 363; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_8); __pyx_8 = 0;
  }
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_6);
  Py_XDECREF(__pyx_8);
  __Pyx_AddTraceback("netCDF4.MFDataset.__init__");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_master);
  Py_DECREF(__pyx_v_cdfm);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_value);
  Py_DECREF(__pyx_v_unlimDimId);
  Py_DECREF(__pyx_v_dimname);
  Py_DECREF(__pyx_v_dim);
  Py_DECREF(__pyx_v_unlimDimName);
  Py_DECREF(__pyx_v_masterRecVar);
  Py_DECREF(__pyx_v_vName);
  Py_DECREF(__pyx_v_v);
  Py_DECREF(__pyx_v_dims);
  Py_DECREF(__pyx_v_shape);
  Py_DECREF(__pyx_v_type);
  Py_DECREF(__pyx_v_cdf);
  Py_DECREF(__pyx_v_cdfVLen);
  Py_DECREF(__pyx_v_cdfRecVar);
  Py_DECREF(__pyx_v_f);
  Py_DECREF(__pyx_v_part);
  Py_DECREF(__pyx_v_varInfo);
  Py_DECREF(__pyx_v_vInst);
  Py_DECREF(__pyx_v_masterDims);
  Py_DECREF(__pyx_v_masterShape);
  Py_DECREF(__pyx_v_masterType);
  Py_DECREF(__pyx_v_extDims);
  Py_DECREF(__pyx_v_extShape);
  Py_DECREF(__pyx_v_extType);
  Py_DECREF(__pyx_v_varname);
  Py_DECREF(__pyx_v_var);
  Py_DECREF(__pyx_v_dset);
  Py_DECREF(__pyx_v_files);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":365
 *             self._file_format.append(dset.file_format)
 * 
 *     def __setattr__(self, name, value):             # <<<<<<<<<<<<<<
 *         """override base class attribute creation"""
 *         self.__dict__[name] = value
 */

static PyObject *__pyx_pf_7netCDF4_9MFDataset___setattr__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF4_9MFDataset___setattr__[] = "override base class attribute creation";
static PyMethodDef __pyx_mdef_7netCDF4_9MFDataset___setattr__ = {"__setattr__", (PyCFunction)__pyx_pf_7netCDF4_9MFDataset___setattr__, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF4_9MFDataset___setattr__};
static PyObject *__pyx_pf_7netCDF4_9MFDataset___setattr__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_value = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {"self","name","value",0};
  __pyx_self = __pyx_self;
  if (likely(!__pyx_kwds) && likely(PyTuple_GET_SIZE(__pyx_args) == 3)) {
    __pyx_v_self = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_name = PyTuple_GET_ITEM(__pyx_args, 1);
    __pyx_v_value = PyTuple_GET_ITEM(__pyx_args, 2);
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOO", __pyx_argnames, &__pyx_v_self, &__pyx_v_name, &__pyx_v_value))) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 365; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4.MFDataset.__setattr__");
  return NULL;
  __pyx_L4:;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":367
 *     def __setattr__(self, name, value):
 *         """override base class attribute creation"""
 *         self.__dict__[name] = value             # <<<<<<<<<<<<<<
 * 
 *     def __getattribute__(self, name):
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp___dict__); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetItem(__pyx_1, __pyx_v_name, __pyx_v_value) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("netCDF4.MFDataset.__setattr__");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":369
 *         self.__dict__[name] = value
 * 
 *     def __getattribute__(self, name):             # <<<<<<<<<<<<<<
 *         if name in ['variables','dimensions','file_format']:
 *             if name == 'dimensions': return self._dims
 */

static PyObject *__pyx_pf_7netCDF4_9MFDataset___getattribute__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF4_9MFDataset___getattribute__ = {"__getattribute__", (PyCFunction)__pyx_pf_7netCDF4_9MFDataset___getattribute__, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pf_7netCDF4_9MFDataset___getattribute__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"self","name",0};
  __pyx_self = __pyx_self;
  if (likely(!__pyx_kwds) && likely(PyTuple_GET_SIZE(__pyx_args) == 2)) {
    __pyx_v_self = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_name = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_self, &__pyx_v_name))) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 369; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4.MFDataset.__getattribute__");
  return NULL;
  __pyx_L4:;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":370
 * 
 *     def __getattribute__(self, name):
 *         if name in ['variables','dimensions','file_format']:             # <<<<<<<<<<<<<<
 *             if name == 'dimensions': return self._dims
 *             if name == 'variables': return self._vars
 */
  __pyx_2 = __pyx_v_name;
  Py_INCREF(__pyx_2);
  __pyx_3 = PyObject_RichCompare(__pyx_2, __pyx_kp_222, Py_EQ); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 370; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely((__pyx_4 == (int)-1))) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 370; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_1 = ((int)__pyx_4);
  if (!__pyx_1) {
    __pyx_3 = PyObject_RichCompare(__pyx_2, __pyx_kp_223, Py_EQ); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 370; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely((__pyx_4 == (int)-1))) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 370; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_1 = ((int)__pyx_4);
  }
  if (!__pyx_1) {
    __pyx_3 = PyObject_RichCompare(__pyx_2, __pyx_kp_224, Py_EQ); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 370; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely((__pyx_4 == (int)-1))) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 370; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_1 = ((int)__pyx_4);
  }
  if (__pyx_1) {

    /* "/storage/huardda/repos/netcdf4/utils.pyx":371
 *     def __getattribute__(self, name):
 *         if name in ['variables','dimensions','file_format']:
 *             if name == 'dimensions': return self._dims             # <<<<<<<<<<<<<<
 *             if name == 'variables': return self._vars
 *             if name == 'file_format': return self._file_format
 */
    __pyx_2 = PyObject_RichCompare(__pyx_v_name, __pyx_kp_225, Py_EQ); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 371; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 371; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (__pyx_4) {
      __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__dims); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 371; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_r = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L0;
      goto __pyx_L6;
    }
    __pyx_L6:;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":372
 *         if name in ['variables','dimensions','file_format']:
 *             if name == 'dimensions': return self._dims
 *             if name == 'variables': return self._vars             # <<<<<<<<<<<<<<
 *             if name == 'file_format': return self._file_format
 *         else:
 */
    __pyx_2 = PyObject_RichCompare(__pyx_v_name, __pyx_kp_226, Py_EQ); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 372; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 372; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (__pyx_1) {
      __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__vars); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 372; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_r = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L0;
      goto __pyx_L7;
    }
    __pyx_L7:;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":373
 *             if name == 'dimensions': return self._dims
 *             if name == 'variables': return self._vars
 *             if name == 'file_format': return self._file_format             # <<<<<<<<<<<<<<
 *         else:
 *             return Dataset.__getattribute__(self, name)
 */
    __pyx_2 = PyObject_RichCompare(__pyx_v_name, __pyx_kp_227, Py_EQ); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 373; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 373; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (__pyx_4) {
      __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__file_format); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 373; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_r = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L0;
      goto __pyx_L8;
    }
    __pyx_L8:;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/storage/huardda/repos/netcdf4/utils.pyx":375
 *             if name == 'file_format': return self._file_format
 *         else:
 *             return Dataset.__getattribute__(self, name)             # <<<<<<<<<<<<<<
 * 
 *     def ncattrs(self):
 */
    __pyx_2 = PyObject_GetAttr(((PyObject*)__pyx_ptype_7netCDF4_Dataset), __pyx_kp___getattribute__); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 375; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyTuple_New(2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 375; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_self);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_self);
    Py_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_3, 1, __pyx_v_name);
    __pyx_5 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 375; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    __pyx_r = __pyx_5;
    __pyx_5 = 0;
    goto __pyx_L0;
  }
  __pyx_L5:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("netCDF4.MFDataset.__getattribute__");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":377
 *             return Dataset.__getattribute__(self, name)
 * 
 *     def ncattrs(self):             # <<<<<<<<<<<<<<
 *         return self._cdf[0].__dict__.keys()
 * 
 */

static PyObject *__pyx_pf_7netCDF4_9MFDataset_ncattrs(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF4_9MFDataset_ncattrs = {"ncattrs", (PyCFunction)__pyx_pf_7netCDF4_9MFDataset_ncattrs, METH_O, 0};
static PyObject *__pyx_pf_7netCDF4_9MFDataset_ncattrs(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  __pyx_self = __pyx_self;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":378
 * 
 *     def ncattrs(self):
 *         return self._cdf[0].__dict__.keys()             # <<<<<<<<<<<<<<
 * 
 *     def close(self):
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__cdf); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 378; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __Pyx_GetItemInt(__pyx_1, 0, 0); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 378; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_kp___dict__); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 378; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_kp_keys); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 378; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 378; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("netCDF4.MFDataset.ncattrs");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":380
 *         return self._cdf[0].__dict__.keys()
 * 
 *     def close(self):             # <<<<<<<<<<<<<<
 *         for dset in self._cdf:
 *             dset.close()
 */

static PyObject *__pyx_pf_7netCDF4_9MFDataset_close(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF4_9MFDataset_close = {"close", (PyCFunction)__pyx_pf_7netCDF4_9MFDataset_close, METH_O, 0};
static PyObject *__pyx_pf_7netCDF4_9MFDataset_close(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_v_dset;
  PyObject *__pyx_r;
  Py_ssize_t __pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  __pyx_self = __pyx_self;
  __pyx_v_dset = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/utils.pyx":381
 * 
 *     def close(self):
 *         for dset in self._cdf:             # <<<<<<<<<<<<<<
 *             dset.close()
 * 
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__cdf); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 381; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyList_CheckExact(__pyx_2) || PyTuple_CheckExact(__pyx_2)) {
    __pyx_1 = 0; __pyx_3 = __pyx_2; Py_INCREF(__pyx_3);
  } else {
    __pyx_1 = -1; __pyx_3 = PyObject_GetIter(__pyx_2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 381; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_3))) {
      if (__pyx_1 >= PyList_GET_SIZE(__pyx_3)) break;
      __pyx_2 = PyList_GET_ITEM(__pyx_3, __pyx_1); Py_INCREF(__pyx_2); __pyx_1++;
    } else if (likely(PyTuple_CheckExact(__pyx_3))) {
      if (__pyx_1 >= PyTuple_GET_SIZE(__pyx_3)) break;
      __pyx_2 = PyTuple_GET_ITEM(__pyx_3, __pyx_1); Py_INCREF(__pyx_2); __pyx_1++;
    } else {
      __pyx_2 = PyIter_Next(__pyx_3);
      if (!__pyx_2) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 381; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    Py_DECREF(__pyx_v_dset);
    __pyx_v_dset = __pyx_2;
    __pyx_2 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":382
 *     def close(self):
 *         for dset in self._cdf:
 *             dset.close()             # <<<<<<<<<<<<<<
 * 
 * class _Dimension(object):
 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_dset, __pyx_kp_close); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 382; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 382; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
  }
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("netCDF4.MFDataset.close");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_dset);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":385
 * 
 * class _Dimension(object):
 *     def __init__(self, dimname, dim, dimlens, dimtotlen):             # <<<<<<<<<<<<<<
 *         self.dimlens = dimlens
 *         self.dimtotlen = dimtotlen
 */

static PyObject *__pyx_pf_7netCDF4_10_Dimension___init__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF4_10_Dimension___init__ = {"__init__", (PyCFunction)__pyx_pf_7netCDF4_10_Dimension___init__, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pf_7netCDF4_10_Dimension___init__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_dimname = 0;
  PyObject *__pyx_v_dim = 0;
  PyObject *__pyx_v_dimlens = 0;
  PyObject *__pyx_v_dimtotlen = 0;
  PyObject *__pyx_r;
  static char *__pyx_argnames[] = {"self","dimname","dim","dimlens","dimtotlen",0};
  __pyx_self = __pyx_self;
  if (likely(!__pyx_kwds) && likely(PyTuple_GET_SIZE(__pyx_args) == 5)) {
    __pyx_v_self = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_dimname = PyTuple_GET_ITEM(__pyx_args, 1);
    __pyx_v_dim = PyTuple_GET_ITEM(__pyx_args, 2);
    __pyx_v_dimlens = PyTuple_GET_ITEM(__pyx_args, 3);
    __pyx_v_dimtotlen = PyTuple_GET_ITEM(__pyx_args, 4);
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOOOO", __pyx_argnames, &__pyx_v_self, &__pyx_v_dimname, &__pyx_v_dim, &__pyx_v_dimlens, &__pyx_v_dimtotlen))) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 385; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4._Dimension.__init__");
  return NULL;
  __pyx_L4:;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":386
 * class _Dimension(object):
 *     def __init__(self, dimname, dim, dimlens, dimtotlen):
 *         self.dimlens = dimlens             # <<<<<<<<<<<<<<
 *         self.dimtotlen = dimtotlen
 *     def __len__(self):
 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_kp_dimlens, __pyx_v_dimlens) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 386; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/storage/huardda/repos/netcdf4/utils.pyx":387
 *     def __init__(self, dimname, dim, dimlens, dimtotlen):
 *         self.dimlens = dimlens
 *         self.dimtotlen = dimtotlen             # <<<<<<<<<<<<<<
 *     def __len__(self):
 *         return self.dimtotlen
 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_kp_dimtotlen, __pyx_v_dimtotlen) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 387; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_AddTraceback("netCDF4._Dimension.__init__");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":388
 *         self.dimlens = dimlens
 *         self.dimtotlen = dimtotlen
 *     def __len__(self):             # <<<<<<<<<<<<<<
 *         return self.dimtotlen
 *     def isunlimited(self):
 */

static PyObject *__pyx_pf_7netCDF4_10_Dimension___len__(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF4_10_Dimension___len__ = {"__len__", (PyCFunction)__pyx_pf_7netCDF4_10_Dimension___len__, METH_O, 0};
static PyObject *__pyx_pf_7netCDF4_10_Dimension___len__(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  __pyx_self = __pyx_self;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":389
 *         self.dimtotlen = dimtotlen
 *     def __len__(self):
 *         return self.dimtotlen             # <<<<<<<<<<<<<<
 *     def isunlimited(self):
 *         return True
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_dimtotlen); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 389; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("netCDF4._Dimension.__len__");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":390
 *     def __len__(self):
 *         return self.dimtotlen
 *     def isunlimited(self):             # <<<<<<<<<<<<<<
 *         return True
 * 
 */

static PyObject *__pyx_pf_7netCDF4_10_Dimension_isunlimited(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF4_10_Dimension_isunlimited = {"isunlimited", (PyCFunction)__pyx_pf_7netCDF4_10_Dimension_isunlimited, METH_O, 0};
static PyObject *__pyx_pf_7netCDF4_10_Dimension_isunlimited(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  __pyx_self = __pyx_self;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":391
 *         return self.dimtotlen
 *     def isunlimited(self):
 *         return True             # <<<<<<<<<<<<<<
 * 
 * class _Variable(object):
 */
  __pyx_1 = __Pyx_PyBool_FromLong(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 391; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("netCDF4._Dimension.isunlimited");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":394
 * 
 * class _Variable(object):
 *     def __init__(self, dset, varname, var, recdimname):             # <<<<<<<<<<<<<<
 *         self.dimensions = var.dimensions
 *         self._dset = dset
 */

static PyObject *__pyx_pf_7netCDF4_9_Variable___init__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF4_9_Variable___init__ = {"__init__", (PyCFunction)__pyx_pf_7netCDF4_9_Variable___init__, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pf_7netCDF4_9_Variable___init__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_dset = 0;
  PyObject *__pyx_v_varname = 0;
  PyObject *__pyx_v_var = 0;
  PyObject *__pyx_v_recdimname = 0;
  PyObject *__pyx_v_name;
  PyObject *__pyx_v_value;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_ssize_t __pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"self","dset","varname","var","recdimname",0};
  __pyx_self = __pyx_self;
  if (likely(!__pyx_kwds) && likely(PyTuple_GET_SIZE(__pyx_args) == 5)) {
    __pyx_v_self = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_dset = PyTuple_GET_ITEM(__pyx_args, 1);
    __pyx_v_varname = PyTuple_GET_ITEM(__pyx_args, 2);
    __pyx_v_var = PyTuple_GET_ITEM(__pyx_args, 3);
    __pyx_v_recdimname = PyTuple_GET_ITEM(__pyx_args, 4);
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOOOO", __pyx_argnames, &__pyx_v_self, &__pyx_v_dset, &__pyx_v_varname, &__pyx_v_var, &__pyx_v_recdimname))) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 394; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4._Variable.__init__");
  return NULL;
  __pyx_L4:;
  __pyx_v_name = Py_None; Py_INCREF(Py_None);
  __pyx_v_value = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/utils.pyx":395
 * class _Variable(object):
 *     def __init__(self, dset, varname, var, recdimname):
 *         self.dimensions = var.dimensions             # <<<<<<<<<<<<<<
 *         self._dset = dset
 *         self._mastervar = var
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_var, __pyx_kp_dimensions); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 395; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttr(__pyx_v_self, __pyx_kp_dimensions, __pyx_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 395; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":396
 *     def __init__(self, dset, varname, var, recdimname):
 *         self.dimensions = var.dimensions
 *         self._dset = dset             # <<<<<<<<<<<<<<
 *         self._mastervar = var
 *         self._recVar = dset._cdfRecVar[varname]
 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_kp__dset, __pyx_v_dset) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 396; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/storage/huardda/repos/netcdf4/utils.pyx":397
 *         self.dimensions = var.dimensions
 *         self._dset = dset
 *         self._mastervar = var             # <<<<<<<<<<<<<<
 *         self._recVar = dset._cdfRecVar[varname]
 *         self._recdimname = recdimname
 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_kp__mastervar, __pyx_v_var) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 397; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/storage/huardda/repos/netcdf4/utils.pyx":398
 *         self._dset = dset
 *         self._mastervar = var
 *         self._recVar = dset._cdfRecVar[varname]             # <<<<<<<<<<<<<<
 *         self._recdimname = recdimname
 *         self._recLen = dset._cdfVLen
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_dset, __pyx_kp__cdfRecVar); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 398; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetItem(__pyx_1, __pyx_v_varname); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 398; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (PyObject_SetAttr(__pyx_v_self, __pyx_kp__recVar, __pyx_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 398; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":399
 *         self._mastervar = var
 *         self._recVar = dset._cdfRecVar[varname]
 *         self._recdimname = recdimname             # <<<<<<<<<<<<<<
 *         self._recLen = dset._cdfVLen
 *         self.dtype = var.dtype
 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_kp__recdimname, __pyx_v_recdimname) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 399; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/storage/huardda/repos/netcdf4/utils.pyx":400
 *         self._recVar = dset._cdfRecVar[varname]
 *         self._recdimname = recdimname
 *         self._recLen = dset._cdfVLen             # <<<<<<<<<<<<<<
 *         self.dtype = var.dtype
 *         # copy attributes from master.
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_dset, __pyx_kp__cdfVLen); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 400; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttr(__pyx_v_self, __pyx_kp__recLen, __pyx_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 400; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":401
 *         self._recdimname = recdimname
 *         self._recLen = dset._cdfVLen
 *         self.dtype = var.dtype             # <<<<<<<<<<<<<<
 *         # copy attributes from master.
 *         for name, value in var.__dict__.items():
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_var, __pyx_kp_dtype); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 401; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttr(__pyx_v_self, __pyx_kp_dtype, __pyx_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 401; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":403
 *         self.dtype = var.dtype
 *         # copy attributes from master.
 *         for name, value in var.__dict__.items():             # <<<<<<<<<<<<<<
 *             self.__dict__[name] = value
 *     def typecode(self):
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_var, __pyx_kp___dict__); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 403; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_kp_items); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 403; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 403; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (PyList_CheckExact(__pyx_1) || PyTuple_CheckExact(__pyx_1)) {
    __pyx_3 = 0; __pyx_2 = __pyx_1; Py_INCREF(__pyx_2);
  } else {
    __pyx_3 = -1; __pyx_2 = PyObject_GetIter(__pyx_1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 403; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_2))) {
      if (__pyx_3 >= PyList_GET_SIZE(__pyx_2)) break;
      __pyx_1 = PyList_GET_ITEM(__pyx_2, __pyx_3); Py_INCREF(__pyx_1); __pyx_3++;
    } else if (likely(PyTuple_CheckExact(__pyx_2))) {
      if (__pyx_3 >= PyTuple_GET_SIZE(__pyx_2)) break;
      __pyx_1 = PyTuple_GET_ITEM(__pyx_2, __pyx_3); Py_INCREF(__pyx_1); __pyx_3++;
    } else {
      __pyx_1 = PyIter_Next(__pyx_2);
      if (!__pyx_1) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 403; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    if (PyTuple_CheckExact(__pyx_1) && PyTuple_GET_SIZE(__pyx_1) == 2) {
      PyObject* tuple = __pyx_1;
      __pyx_5 = PyTuple_GET_ITEM(tuple, 0);
      Py_INCREF(__pyx_5);
      Py_DECREF(__pyx_v_name);
      __pyx_v_name = __pyx_5;
      __pyx_5 = 0;
      __pyx_5 = PyTuple_GET_ITEM(tuple, 1);
      Py_INCREF(__pyx_5);
      Py_DECREF(__pyx_v_value);
      __pyx_v_value = __pyx_5;
      __pyx_5 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
    }
    else {
      __pyx_4 = PyObject_GetIter(__pyx_1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 403; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_5 = __Pyx_UnpackItem(__pyx_4, 0); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 403; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_name);
      __pyx_v_name = __pyx_5;
      __pyx_5 = 0;
      __pyx_5 = __Pyx_UnpackItem(__pyx_4, 1); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 403; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_value);
      __pyx_v_value = __pyx_5;
      __pyx_5 = 0;
      if (__Pyx_EndUnpack(__pyx_4) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 403; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
    }

    /* "/storage/huardda/repos/netcdf4/utils.pyx":404
 *         # copy attributes from master.
 *         for name, value in var.__dict__.items():
 *             self.__dict__[name] = value             # <<<<<<<<<<<<<<
 *     def typecode(self):
 *         return self.dtype
 */
    __pyx_5 = PyObject_GetAttr(__pyx_v_self, __pyx_kp___dict__); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 404; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (PyObject_SetItem(__pyx_5, __pyx_v_name, __pyx_v_value) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 404; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
  }
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("netCDF4._Variable.__init__");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_value);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":405
 *         for name, value in var.__dict__.items():
 *             self.__dict__[name] = value
 *     def typecode(self):             # <<<<<<<<<<<<<<
 *         return self.dtype
 *     def ncattrs(self):
 */

static PyObject *__pyx_pf_7netCDF4_9_Variable_typecode(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF4_9_Variable_typecode = {"typecode", (PyCFunction)__pyx_pf_7netCDF4_9_Variable_typecode, METH_O, 0};
static PyObject *__pyx_pf_7netCDF4_9_Variable_typecode(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  __pyx_self = __pyx_self;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":406
 *             self.__dict__[name] = value
 *     def typecode(self):
 *         return self.dtype             # <<<<<<<<<<<<<<
 *     def ncattrs(self):
 *         return self._mastervar.__dict__.keys()
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_dtype); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 406; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("netCDF4._Variable.typecode");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":407
 *     def typecode(self):
 *         return self.dtype
 *     def ncattrs(self):             # <<<<<<<<<<<<<<
 *         return self._mastervar.__dict__.keys()
 *     def __getattr__(self,name):
 */

static PyObject *__pyx_pf_7netCDF4_9_Variable_ncattrs(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF4_9_Variable_ncattrs = {"ncattrs", (PyCFunction)__pyx_pf_7netCDF4_9_Variable_ncattrs, METH_O, 0};
static PyObject *__pyx_pf_7netCDF4_9_Variable_ncattrs(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  __pyx_self = __pyx_self;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":408
 *         return self.dtype
 *     def ncattrs(self):
 *         return self._mastervar.__dict__.keys()             # <<<<<<<<<<<<<<
 *     def __getattr__(self,name):
 *         if name == 'shape': return self._shape()
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__mastervar); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 408; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_kp___dict__); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 408; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_kp_keys); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 408; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 408; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("netCDF4._Variable.ncattrs");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":409
 *     def ncattrs(self):
 *         return self._mastervar.__dict__.keys()
 *     def __getattr__(self,name):             # <<<<<<<<<<<<<<
 *         if name == 'shape': return self._shape()
 *         if name == 'ndim': return len(self._shape())
 */

static PyObject *__pyx_pf_7netCDF4_9_Variable___getattr__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF4_9_Variable___getattr__ = {"__getattr__", (PyCFunction)__pyx_pf_7netCDF4_9_Variable___getattr__, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pf_7netCDF4_9_Variable___getattr__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  Py_ssize_t __pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  PyObject *__pyx_7 = 0;
  static char *__pyx_argnames[] = {"self","name",0};
  __pyx_self = __pyx_self;
  if (likely(!__pyx_kwds) && likely(PyTuple_GET_SIZE(__pyx_args) == 2)) {
    __pyx_v_self = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_name = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_self, &__pyx_v_name))) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 409; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4._Variable.__getattr__");
  return NULL;
  __pyx_L4:;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":410
 *         return self._mastervar.__dict__.keys()
 *     def __getattr__(self,name):
 *         if name == 'shape': return self._shape()             # <<<<<<<<<<<<<<
 *         if name == 'ndim': return len(self._shape())
 *         try:
 */
  __pyx_1 = PyObject_RichCompare(__pyx_v_name, __pyx_kp_228, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 410; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 410; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {
    __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__shape); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 410; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 410; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":411
 *     def __getattr__(self,name):
 *         if name == 'shape': return self._shape()
 *         if name == 'ndim': return len(self._shape())             # <<<<<<<<<<<<<<
 *         try:
 *             return self.__dict__[name]
 */
  __pyx_1 = PyObject_RichCompare(__pyx_v_name, __pyx_kp_229, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 411; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 411; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {
    __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__shape); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 411; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 411; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_4 = PyObject_Length(__pyx_1); if (unlikely(__pyx_4 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 411; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_3 = PyInt_FromSsize_t(__pyx_4); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 411; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":412
 *         if name == 'shape': return self._shape()
 *         if name == 'ndim': return len(self._shape())
 *         try:             # <<<<<<<<<<<<<<
 *             return self.__dict__[name]
 *         except:
 */
  /*try:*/ {

    /* "/storage/huardda/repos/netcdf4/utils.pyx":413
 *         if name == 'ndim': return len(self._shape())
 *         try:
 *             return self.__dict__[name]             # <<<<<<<<<<<<<<
 *         except:
 *             raise AttributeError(name)
 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp___dict__); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 413; __pyx_clineno = __LINE__; goto __pyx_L7_error;}
    __pyx_3 = PyObject_GetItem(__pyx_1, __pyx_v_name); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 413; __pyx_clineno = __LINE__; goto __pyx_L7_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
  }
  goto __pyx_L8;
  __pyx_L7_error:;
  Py_XDECREF(__pyx_1); __pyx_1 = 0;
  Py_XDECREF(__pyx_3); __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":414
 *         try:
 *             return self.__dict__[name]
 *         except:             # <<<<<<<<<<<<<<
 *             raise AttributeError(name)
 *     def _shape(self):
 */
  /*except:*/ {
    __Pyx_AddTraceback("netCDF4.__getattr__");
    if (__Pyx_GetException(&__pyx_1, &__pyx_3, &__pyx_5) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 414; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

    /* "/storage/huardda/repos/netcdf4/utils.pyx":415
 *             return self.__dict__[name]
 *         except:
 *             raise AttributeError(name)             # <<<<<<<<<<<<<<
 *     def _shape(self):
 *         recdimlen = len(self._dset.dimensions[self._recdimname])
 */
    __pyx_6 = PyTuple_New(1); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 415; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_6, 0, __pyx_v_name);
    __pyx_7 = PyObject_Call(__pyx_builtin_AttributeError, ((PyObject *)__pyx_6), NULL); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 415; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_6)); __pyx_6 = 0;
    __Pyx_Raise(__pyx_7, 0, 0);
    Py_DECREF(__pyx_7); __pyx_7 = 0;
    {__pyx_filename = __pyx_f[1]; __pyx_lineno = 415; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    goto __pyx_L8;
  }
  __pyx_L8:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  Py_XDECREF(__pyx_7);
  __Pyx_AddTraceback("netCDF4._Variable.__getattr__");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":416
 *         except:
 *             raise AttributeError(name)
 *     def _shape(self):             # <<<<<<<<<<<<<<
 *         recdimlen = len(self._dset.dimensions[self._recdimname])
 *         return (recdimlen,) + self._mastervar.shape[1:]
 */

static PyObject *__pyx_pf_7netCDF4_9_Variable__shape(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF4_9_Variable__shape = {"_shape", (PyCFunction)__pyx_pf_7netCDF4_9_Variable__shape, METH_O, 0};
static PyObject *__pyx_pf_7netCDF4_9_Variable__shape(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_v_recdimlen;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_ssize_t __pyx_4 = 0;
  __pyx_self = __pyx_self;
  __pyx_v_recdimlen = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/utils.pyx":417
 *             raise AttributeError(name)
 *     def _shape(self):
 *         recdimlen = len(self._dset.dimensions[self._recdimname])             # <<<<<<<<<<<<<<
 *         return (recdimlen,) + self._mastervar.shape[1:]
 *     def set_auto_maskandscale(self,val):
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__dset); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 417; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_kp_dimensions); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 417; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__recdimname); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 417; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyObject_GetItem(__pyx_2, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 417; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_4 = PyObject_Length(__pyx_3); if (unlikely(__pyx_4 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 417; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = PyInt_FromSsize_t(__pyx_4); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 417; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_recdimlen);
  __pyx_v_recdimlen = __pyx_2;
  __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":418
 *     def _shape(self):
 *         recdimlen = len(self._dset.dimensions[self._recdimname])
 *         return (recdimlen,) + self._mastervar.shape[1:]             # <<<<<<<<<<<<<<
 *     def set_auto_maskandscale(self,val):
 *         for v in self._recVar:
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 418; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_recdimlen);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_recdimlen);
  __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__mastervar); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 418; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_3, __pyx_kp_shape); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 418; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_3 = PySequence_GetSlice(__pyx_2, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 418; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyNumber_Add(((PyObject *)__pyx_1), __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 418; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF4._Variable._shape");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_recdimlen);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":419
 *         recdimlen = len(self._dset.dimensions[self._recdimname])
 *         return (recdimlen,) + self._mastervar.shape[1:]
 *     def set_auto_maskandscale(self,val):             # <<<<<<<<<<<<<<
 *         for v in self._recVar:
 *             v.set_auto_maskandscale(val)
 */

static PyObject *__pyx_pf_7netCDF4_9_Variable_set_auto_maskandscale(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF4_9_Variable_set_auto_maskandscale = {"set_auto_maskandscale", (PyCFunction)__pyx_pf_7netCDF4_9_Variable_set_auto_maskandscale, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pf_7netCDF4_9_Variable_set_auto_maskandscale(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_val = 0;
  PyObject *__pyx_v_v;
  PyObject *__pyx_r;
  Py_ssize_t __pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"self","val",0};
  __pyx_self = __pyx_self;
  if (likely(!__pyx_kwds) && likely(PyTuple_GET_SIZE(__pyx_args) == 2)) {
    __pyx_v_self = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_val = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_self, &__pyx_v_val))) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 419; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4._Variable.set_auto_maskandscale");
  return NULL;
  __pyx_L4:;
  __pyx_v_v = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/utils.pyx":420
 *         return (recdimlen,) + self._mastervar.shape[1:]
 *     def set_auto_maskandscale(self,val):
 *         for v in self._recVar:             # <<<<<<<<<<<<<<
 *             v.set_auto_maskandscale(val)
 *     def __getitem__(self, elem):
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__recVar); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 420; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyList_CheckExact(__pyx_2) || PyTuple_CheckExact(__pyx_2)) {
    __pyx_1 = 0; __pyx_3 = __pyx_2; Py_INCREF(__pyx_3);
  } else {
    __pyx_1 = -1; __pyx_3 = PyObject_GetIter(__pyx_2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 420; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_3))) {
      if (__pyx_1 >= PyList_GET_SIZE(__pyx_3)) break;
      __pyx_2 = PyList_GET_ITEM(__pyx_3, __pyx_1); Py_INCREF(__pyx_2); __pyx_1++;
    } else if (likely(PyTuple_CheckExact(__pyx_3))) {
      if (__pyx_1 >= PyTuple_GET_SIZE(__pyx_3)) break;
      __pyx_2 = PyTuple_GET_ITEM(__pyx_3, __pyx_1); Py_INCREF(__pyx_2); __pyx_1++;
    } else {
      __pyx_2 = PyIter_Next(__pyx_3);
      if (!__pyx_2) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 420; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    Py_DECREF(__pyx_v_v);
    __pyx_v_v = __pyx_2;
    __pyx_2 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":421
 *     def set_auto_maskandscale(self,val):
 *         for v in self._recVar:
 *             v.set_auto_maskandscale(val)             # <<<<<<<<<<<<<<
 *     def __getitem__(self, elem):
 *         """Get records from a concatenated set of variables."""
 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_v, __pyx_kp_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 421; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 421; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_val);
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_val);
    __pyx_5 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 421; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
  }
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("netCDF4._Variable.set_auto_maskandscale");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_v);
  return __pyx_r;
}

/* "/storage/huardda/repos/netcdf4/utils.pyx":422
 *         for v in self._recVar:
 *             v.set_auto_maskandscale(val)
 *     def __getitem__(self, elem):             # <<<<<<<<<<<<<<
 *         """Get records from a concatenated set of variables."""
 * 
 */

static PyObject *__pyx_pf_7netCDF4_9_Variable___getitem__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF4_9_Variable___getitem__[] = "Get records from a concatenated set of variables.";
static PyMethodDef __pyx_mdef_7netCDF4_9_Variable___getitem__ = {"__getitem__", (PyCFunction)__pyx_pf_7netCDF4_9_Variable___getitem__, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF4_9_Variable___getitem__};
static PyObject *__pyx_pf_7netCDF4_9_Variable___getitem__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_elem = 0;
  PyObject *__pyx_v_start;
  PyObject *__pyx_v_count;
  PyObject *__pyx_v_stride;
  PyObject *__pyx_v_put_ind;
  PyObject *__pyx_v_datashape;
  PyObject *__pyx_v_data;
  PyObject *__pyx_v_squeeze;
  PyObject *__pyx_v_i;
  PyObject *__pyx_v_n;
  PyObject *__pyx_v_strt;
  PyObject *__pyx_v_cnt;
  PyObject *__pyx_v_strd;
  PyObject *__pyx_v_nv;
  PyObject *__pyx_v_ind;
  PyObject *__pyx_v_sta;
  PyObject *__pyx_v_step;
  PyObject *__pyx_v_stop;
  PyObject *__pyx_v_idx;
  PyObject *__pyx_v_vid;
  PyObject *__pyx_v_k;
  PyObject *__pyx_v_lst;
  PyObject *__pyx_v_newSlice;
  PyObject *__pyx_v_s;
  PyObject *__pyx_v_lstArr;
  PyObject *__pyx_v_dat;
  PyObject *__pyx_v_numv;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  Py_ssize_t __pyx_5 = 0;
  int __pyx_6;
  Py_ssize_t __pyx_7 = 0;
  int __pyx_8;
  PyObject *__pyx_9 = 0;
  Py_ssize_t __pyx_10 = 0;
  PyObject *__pyx_11 = 0;
  PyObject *__pyx_12 = 0;
  static char *__pyx_argnames[] = {"self","elem",0};
  __pyx_self = __pyx_self;
  if (likely(!__pyx_kwds) && likely(PyTuple_GET_SIZE(__pyx_args) == 2)) {
    __pyx_v_self = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_elem = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  else {
    if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_self, &__pyx_v_elem))) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 422; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4;
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF4._Variable.__getitem__");
  return NULL;
  __pyx_L4:;
  __pyx_v_start = Py_None; Py_INCREF(Py_None);
  __pyx_v_count = Py_None; Py_INCREF(Py_None);
  __pyx_v_stride = Py_None; Py_INCREF(Py_None);
  __pyx_v_put_ind = Py_None; Py_INCREF(Py_None);
  __pyx_v_datashape = Py_None; Py_INCREF(Py_None);
  __pyx_v_data = Py_None; Py_INCREF(Py_None);
  __pyx_v_squeeze = Py_None; Py_INCREF(Py_None);
  __pyx_v_i = Py_None; Py_INCREF(Py_None);
  __pyx_v_n = Py_None; Py_INCREF(Py_None);
  __pyx_v_strt = Py_None; Py_INCREF(Py_None);
  __pyx_v_cnt = Py_None; Py_INCREF(Py_None);
  __pyx_v_strd = Py_None; Py_INCREF(Py_None);
  __pyx_v_nv = Py_None; Py_INCREF(Py_None);
  __pyx_v_ind = Py_None; Py_INCREF(Py_None);
  __pyx_v_sta = Py_None; Py_INCREF(Py_None);
  __pyx_v_step = Py_None; Py_INCREF(Py_None);
  __pyx_v_stop = Py_None; Py_INCREF(Py_None);
  __pyx_v_idx = Py_None; Py_INCREF(Py_None);
  __pyx_v_vid = Py_None; Py_INCREF(Py_None);
  __pyx_v_k = Py_None; Py_INCREF(Py_None);
  __pyx_v_lst = Py_None; Py_INCREF(Py_None);
  __pyx_v_newSlice = Py_None; Py_INCREF(Py_None);
  __pyx_v_s = Py_None; Py_INCREF(Py_None);
  __pyx_v_lstArr = Py_None; Py_INCREF(Py_None);
  __pyx_v_dat = Py_None; Py_INCREF(Py_None);
  __pyx_v_numv = Py_None; Py_INCREF(Py_None);

  /* "/storage/huardda/repos/netcdf4/utils.pyx":431
 *         # to use.
 *         start, count, stride, put_ind =\
 *         _StartCountStride(elem, self.shape)             # <<<<<<<<<<<<<<
 *         datashape = _out_array_shape(count)
 *         data = numpy.empty(datashape, dtype=self.dtype)
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp__StartCountStride); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_shape); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyTuple_New(2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_elem);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_elem);
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
  if (PyTuple_CheckExact(__pyx_2) && PyTuple_GET_SIZE(__pyx_2) == 4) {
    PyObject* tuple = __pyx_2;
    __pyx_3 = PyTuple_GET_ITEM(tuple, 0);
    Py_INCREF(__pyx_3);

    /* "/storage/huardda/repos/netcdf4/utils.pyx":430
 *         # arguments to the nc_get_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, put_ind =\             # <<<<<<<<<<<<<<
 *         _StartCountStride(elem, self.shape)
 *         datashape = _out_array_shape(count)
 */
    Py_DECREF(__pyx_v_start);
    __pyx_v_start = __pyx_3;
    __pyx_3 = 0;
    __pyx_3 = PyTuple_GET_ITEM(tuple, 1);
    Py_INCREF(__pyx_3);
    Py_DECREF(__pyx_v_count);
    __pyx_v_count = __pyx_3;
    __pyx_3 = 0;
    __pyx_3 = PyTuple_GET_ITEM(tuple, 2);
    Py_INCREF(__pyx_3);
    Py_DECREF(__pyx_v_stride);
    __pyx_v_stride = __pyx_3;
    __pyx_3 = 0;
    __pyx_3 = PyTuple_GET_ITEM(tuple, 3);
    Py_INCREF(__pyx_3);
    Py_DECREF(__pyx_v_put_ind);
    __pyx_v_put_ind = __pyx_3;
    __pyx_3 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  else {
    __pyx_1 = PyObject_GetIter(__pyx_2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 430; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_3 = __Pyx_UnpackItem(__pyx_1, 0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 430; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_start);
    __pyx_v_start = __pyx_3;
    __pyx_3 = 0;
    __pyx_3 = __Pyx_UnpackItem(__pyx_1, 1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 430; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_count);
    __pyx_v_count = __pyx_3;
    __pyx_3 = 0;
    __pyx_3 = __Pyx_UnpackItem(__pyx_1, 2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 430; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_stride);
    __pyx_v_stride = __pyx_3;
    __pyx_3 = 0;
    __pyx_3 = __Pyx_UnpackItem(__pyx_1, 3); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 430; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_put_ind);
    __pyx_v_put_ind = __pyx_3;
    __pyx_3 = 0;
    if (__Pyx_EndUnpack(__pyx_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 430; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
  }

  /* "/storage/huardda/repos/netcdf4/utils.pyx":432
 *         start, count, stride, put_ind =\
 *         _StartCountStride(elem, self.shape)
 *         datashape = _out_array_shape(count)             # <<<<<<<<<<<<<<
 *         data = numpy.empty(datashape, dtype=self.dtype)
 * 
 */
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_kp__out_array_shape); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 432; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 432; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_count);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_count);
  __pyx_1 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 432; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
  Py_DECREF(__pyx_v_datashape);
  __pyx_v_datashape = __pyx_1;
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":433
 *         _StartCountStride(elem, self.shape)
 *         datashape = _out_array_shape(count)
 *         data = numpy.empty(datashape, dtype=self.dtype)             # <<<<<<<<<<<<<<
 * 
 *         # Determine which dimensions need to be squeezed
 */
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 433; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_3, __pyx_kp_empty); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 433; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 433; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_datashape);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_datashape);
  __pyx_3 = PyDict_New(); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 433; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_dtype); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 433; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_3, __pyx_kp_dtype, __pyx_4) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 433; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_4 = PyEval_CallObjectWithKeywords(__pyx_2, ((PyObject *)__pyx_1), ((PyObject *)__pyx_3)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 433; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
  Py_DECREF(__pyx_v_data);
  __pyx_v_data = __pyx_4;
  __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":439
 *         # The convention used is that for those cases,
 *         # put_ind for this dimension is set to -1 by _StartCountStride.
 *         squeeze = data.ndim * [slice(None),]             # <<<<<<<<<<<<<<
 *         for i,n in enumerate(put_ind.shape[:-1]):
 *             if n == 1 and put_ind[...,i].ravel()[0] == -1:
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_data, __pyx_kp_ndim); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 439; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 439; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(Py_None);
  PyTuple_SET_ITEM(__pyx_1, 0, Py_None);
  __pyx_3 = PyObject_Call(((PyObject*)&PySlice_Type), ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 439; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __pyx_4 = PyList_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 439; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyList_SET_ITEM(__pyx_4, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_1 = PyNumber_Multiply(__pyx_2, ((PyObject *)__pyx_4)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 439; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
  Py_DECREF(__pyx_v_squeeze);
  __pyx_v_squeeze = __pyx_1;
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":440
 *         # put_ind for this dimension is set to -1 by _StartCountStride.
 *         squeeze = data.ndim * [slice(None),]
 *         for i,n in enumerate(put_ind.shape[:-1]):             # <<<<<<<<<<<<<<
 *             if n == 1 and put_ind[...,i].ravel()[0] == -1:
 *                 squeeze[i] = 0
 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_put_ind, __pyx_kp_shape); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 440; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PySequence_GetSlice(__pyx_3, 0, -1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 440; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 440; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_1 = PyObject_Call(__pyx_builtin_enumerate, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 440; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
  if (PyList_CheckExact(__pyx_1) || PyTuple_CheckExact(__pyx_1)) {
    __pyx_5 = 0; __pyx_3 = __pyx_1; Py_INCREF(__pyx_3);
  } else {
    __pyx_5 = -1; __pyx_3 = PyObject_GetIter(__pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 440; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_3))) {
      if (__pyx_5 >= PyList_GET_SIZE(__pyx_3)) break;
      __pyx_2 = PyList_GET_ITEM(__pyx_3, __pyx_5); Py_INCREF(__pyx_2); __pyx_5++;
    } else if (likely(PyTuple_CheckExact(__pyx_3))) {
      if (__pyx_5 >= PyTuple_GET_SIZE(__pyx_3)) break;
      __pyx_2 = PyTuple_GET_ITEM(__pyx_3, __pyx_5); Py_INCREF(__pyx_2); __pyx_5++;
    } else {
      __pyx_2 = PyIter_Next(__pyx_3);
      if (!__pyx_2) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 440; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    if (PyTuple_CheckExact(__pyx_2) && PyTuple_GET_SIZE(__pyx_2) == 2) {
      PyObject* tuple = __pyx_2;
      __pyx_1 = PyTuple_GET_ITEM(tuple, 0);
      Py_INCREF(__pyx_1);
      Py_DECREF(__pyx_v_i);
      __pyx_v_i = __pyx_1;
      __pyx_1 = 0;
      __pyx_1 = PyTuple_GET_ITEM(tuple, 1);
      Py_INCREF(__pyx_1);
      Py_DECREF(__pyx_v_n);
      __pyx_v_n = __pyx_1;
      __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
    }
    else {
      __pyx_4 = PyObject_GetIter(__pyx_2); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 440; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = __Pyx_UnpackItem(__pyx_4, 0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 440; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_i);
      __pyx_v_i = __pyx_1;
      __pyx_1 = 0;
      __pyx_1 = __Pyx_UnpackItem(__pyx_4, 1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 440; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_n);
      __pyx_v_n = __pyx_1;
      __pyx_1 = 0;
      if (__Pyx_EndUnpack(__pyx_4) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 440; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
    }

    /* "/storage/huardda/repos/netcdf4/utils.pyx":441
 *         squeeze = data.ndim * [slice(None),]
 *         for i,n in enumerate(put_ind.shape[:-1]):
 *             if n == 1 and put_ind[...,i].ravel()[0] == -1:             # <<<<<<<<<<<<<<
 *                 squeeze[i] = 0
 * 
 */
    __pyx_1 = PyObject_RichCompare(__pyx_v_n, __pyx_int_1, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_6) {
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_2 = PyTuple_New(2); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(Py_Ellipsis);
      PyTuple_SET_ITEM(__pyx_2, 0, Py_Ellipsis);
      Py_INCREF(__pyx_v_i);
      PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_i);
      __pyx_4 = PyObject_GetItem(__pyx_v_put_ind, ((PyObject *)__pyx_2)); if (!__pyx_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
      __pyx_2 = PyObject_GetAttr(__pyx_4, __pyx_kp_ravel); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __pyx_4 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_2 = __Pyx_GetItemInt(__pyx_4, 0, 0); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __pyx_1 = PyObject_RichCompare(__pyx_2, __pyx_int_neg_1, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
    }
    __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_6) {

      /* "/storage/huardda/repos/netcdf4/utils.pyx":442
 *         for i,n in enumerate(put_ind.shape[:-1]):
 *             if n == 1 and put_ind[...,i].ravel()[0] == -1:
 *                 squeeze[i] = 0             # <<<<<<<<<<<<<<
 * 
 *         # Reshape the arrays so we can iterate over them.
 */
      if (PyObject_SetItem(__pyx_v_squeeze, __pyx_v_i, __pyx_int_0) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 442; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L7;
    }
    __pyx_L7:;
  }
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":445
 * 
 *         # Reshape the arrays so we can iterate over them.
 *         strt = start.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 *         cnt = count.reshape((-1, self.ndim or 1))
 *         strd = stride.reshape((-1, self.ndim or 1))
 */
  __pyx_4 = PyObject_GetAttr(__pyx_v_start, __pyx_kp_reshape); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_ndim); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_6) {
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_2 = __pyx_int_1;
    Py_INCREF(__pyx_2);
  }
  __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_2);
  __pyx_2 = 0;
  __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyTuple_SET_ITEM(__pyx_3, 0, ((PyObject *)__pyx_1));
  __pyx_1 = 0;
  __pyx_2 = PyObject_Call(__pyx_4, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 445; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
  Py_DECREF(__pyx_v_strt);
  __pyx_v_strt = __pyx_2;
  __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":446
 *         # Reshape the arrays so we can iterate over them.
 *         strt = start.reshape((-1, self.ndim or 1))
 *         cnt = count.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 *         strd = stride.reshape((-1, self.ndim or 1))
 *         put_ind = put_ind.reshape((-1, self.ndim or 1))
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_count, __pyx_kp_reshape); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 446; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_4 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_ndim); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 446; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_4); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 446; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_6) {
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_4 = __pyx_int_1;
    Py_INCREF(__pyx_4);
  }
  __pyx_3 = PyTuple_New(2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 446; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_4);
  __pyx_4 = 0;
  __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 446; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyTuple_SET_ITEM(__pyx_2, 0, ((PyObject *)__pyx_3));
  __pyx_3 = 0;
  __pyx_4 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 446; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
  Py_DECREF(__pyx_v_cnt);
  __pyx_v_cnt = __pyx_4;
  __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":447
 *         strt = start.reshape((-1, self.ndim or 1))
 *         cnt = count.reshape((-1, self.ndim or 1))
 *         strd = stride.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 *         put_ind = put_ind.reshape((-1, self.ndim or 1))
 * 
 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_stride, __pyx_kp_reshape); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 447; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_ndim); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 447; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 447; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_6) {
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_1 = __pyx_int_1;
    Py_INCREF(__pyx_1);
  }
  __pyx_2 = PyTuple_New(2); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 447; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_1);
  __pyx_1 = 0;
  __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 447; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyTuple_SET_ITEM(__pyx_4, 0, ((PyObject *)__pyx_2));
  __pyx_2 = 0;
  __pyx_1 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_4), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 447; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(((PyObject *)__pyx_4)); __pyx_4 = 0;
  Py_DECREF(__pyx_v_strd);
  __pyx_v_strd = __pyx_1;
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":448
 *         cnt = count.reshape((-1, self.ndim or 1))
 *         strd = stride.reshape((-1, self.ndim or 1))
 *         put_ind = put_ind.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 * 
 *         # Fill output array with data chunks.
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_put_ind, __pyx_kp_reshape); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_kp_ndim); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_6) {
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_3 = __pyx_int_1;
    Py_INCREF(__pyx_3);
  }
  __pyx_4 = PyTuple_New(2); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_4, 1, __pyx_3);
  __pyx_3 = 0;
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  PyTuple_SET_ITEM(__pyx_1, 0, ((PyObject *)__pyx_4));
  __pyx_4 = 0;
  __pyx_3 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  Py_DECREF(__pyx_v_put_ind);
  __pyx_v_put_ind = __pyx_3;
  __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":452
 *         # Fill output array with data chunks.
 *         # Number of variables making up the MFVariable.Variable.
 *         nv = len(self._recLen)             # <<<<<<<<<<<<<<
 *         for (start,count,stride,ind) in zip(strt, cnt, strd, put_ind):
 *             # make sure count=-1 becomes count=1
 */
  __pyx_4 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__recLen); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 452; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_5 = PyObject_Length(__pyx_4); if (unlikely(__pyx_5 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 452; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_2 = PyInt_FromSsize_t(__pyx_5); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 452; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_v_nv);
  __pyx_v_nv = __pyx_2;
  __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":453
 *         # Number of variables making up the MFVariable.Variable.
 *         nv = len(self._recLen)
 *         for (start,count,stride,ind) in zip(strt, cnt, strd, put_ind):             # <<<<<<<<<<<<<<
 *             # make sure count=-1 becomes count=1
 *             count = [abs(cnt) for cnt in count]
 */
  __pyx_1 = PyTuple_New(4); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 453; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_strt);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_strt);
  Py_INCREF(__pyx_v_cnt);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_cnt);
  Py_INCREF(__pyx_v_strd);
  PyTuple_SET_ITEM(__pyx_1, 2, __pyx_v_strd);
  Py_INCREF(__pyx_v_put_ind);
  PyTuple_SET_ITEM(__pyx_1, 3, __pyx_v_put_ind);
  __pyx_3 = PyObject_Call(__pyx_builtin_zip, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 453; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  if (PyList_CheckExact(__pyx_3) || PyTuple_CheckExact(__pyx_3)) {
    __pyx_5 = 0; __pyx_4 = __pyx_3; Py_INCREF(__pyx_4);
  } else {
    __pyx_5 = -1; __pyx_4 = PyObject_GetIter(__pyx_3); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 453; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_4))) {
      if (__pyx_5 >= PyList_GET_SIZE(__pyx_4)) break;
      __pyx_2 = PyList_GET_ITEM(__pyx_4, __pyx_5); Py_INCREF(__pyx_2); __pyx_5++;
    } else if (likely(PyTuple_CheckExact(__pyx_4))) {
      if (__pyx_5 >= PyTuple_GET_SIZE(__pyx_4)) break;
      __pyx_2 = PyTuple_GET_ITEM(__pyx_4, __pyx_5); Py_INCREF(__pyx_2); __pyx_5++;
    } else {
      __pyx_2 = PyIter_Next(__pyx_4);
      if (!__pyx_2) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 453; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    if (PyTuple_CheckExact(__pyx_2) && PyTuple_GET_SIZE(__pyx_2) == 4) {
      PyObject* tuple = __pyx_2;
      __pyx_3 = PyTuple_GET_ITEM(tuple, 0);
      Py_INCREF(__pyx_3);
      Py_DECREF(__pyx_v_start);
      __pyx_v_start = __pyx_3;
      __pyx_3 = 0;
      __pyx_3 = PyTuple_GET_ITEM(tuple, 1);
      Py_INCREF(__pyx_3);
      Py_DECREF(__pyx_v_count);
      __pyx_v_count = __pyx_3;
      __pyx_3 = 0;
      __pyx_3 = PyTuple_GET_ITEM(tuple, 2);
      Py_INCREF(__pyx_3);
      Py_DECREF(__pyx_v_stride);
      __pyx_v_stride = __pyx_3;
      __pyx_3 = 0;
      __pyx_3 = PyTuple_GET_ITEM(tuple, 3);
      Py_INCREF(__pyx_3);
      Py_DECREF(__pyx_v_ind);
      __pyx_v_ind = __pyx_3;
      __pyx_3 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
    }
    else {
      __pyx_1 = PyObject_GetIter(__pyx_2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 453; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_3 = __Pyx_UnpackItem(__pyx_1, 0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 453; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_start);
      __pyx_v_start = __pyx_3;
      __pyx_3 = 0;
      __pyx_3 = __Pyx_UnpackItem(__pyx_1, 1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 453; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_count);
      __pyx_v_count = __pyx_3;
      __pyx_3 = 0;
      __pyx_3 = __Pyx_UnpackItem(__pyx_1, 2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 453; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_stride);
      __pyx_v_stride = __pyx_3;
      __pyx_3 = 0;
      __pyx_3 = __Pyx_UnpackItem(__pyx_1, 3); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 453; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_v_ind);
      __pyx_v_ind = __pyx_3;
      __pyx_3 = 0;
      if (__Pyx_EndUnpack(__pyx_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 453; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
    }

    /* "/storage/huardda/repos/netcdf4/utils.pyx":455
 *         for (start,count,stride,ind) in zip(strt, cnt, strd, put_ind):
 *             # make sure count=-1 becomes count=1
 *             count = [abs(cnt) for cnt in count]             # <<<<<<<<<<<<<<
 *             if (numpy.array(stride) < 0).any():
 *                 raise IndexError('negative strides not allowed when slicing MFVariable Variable instance')
 */
    __pyx_3 = PyList_New(0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 455; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (PyList_CheckExact(__pyx_v_count) || PyTuple_CheckExact(__pyx_v_count)) {
      __pyx_7 = 0; __pyx_2 = __pyx_v_count; Py_INCREF(__pyx_2);
    } else {
      __pyx_7 = -1; __pyx_2 = PyObject_GetIter(__pyx_v_count); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 455; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    }
    for (;;) {
      if (likely(PyList_CheckExact(__pyx_2))) {
        if (__pyx_7 >= PyList_GET_SIZE(__pyx_2)) break;
        __pyx_1 = PyList_GET_ITEM(__pyx_2, __pyx_7); Py_INCREF(__pyx_1); __pyx_7++;
      } else if (likely(PyTuple_CheckExact(__pyx_2))) {
        if (__pyx_7 >= PyTuple_GET_SIZE(__pyx_2)) break;
        __pyx_1 = PyTuple_GET_ITEM(__pyx_2, __pyx_7); Py_INCREF(__pyx_1); __pyx_7++;
      } else {
        __pyx_1 = PyIter_Next(__pyx_2);
        if (!__pyx_1) {
          if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 455; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          break;
        }
      }
      Py_DECREF(__pyx_v_cnt);
      __pyx_v_cnt = __pyx_1;
      __pyx_1 = 0;
      __pyx_1 = PyNumber_Absolute(__pyx_v_cnt); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 455; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_8 = PyList_Append(__pyx_3, __pyx_1); if (unlikely(__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 455; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
    }
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_v_count);
    __pyx_v_count = ((PyObject *)__pyx_3);
    __pyx_3 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":456
 *             # make sure count=-1 becomes count=1
 *             count = [abs(cnt) for cnt in count]
 *             if (numpy.array(stride) < 0).any():             # <<<<<<<<<<<<<<
 *                 raise IndexError('negative strides not allowed when slicing MFVariable Variable instance')
 *             # Start, stop and step along 1st dimension, eg the unlimited
 */
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 456; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_kp_array); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 456; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 456; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_stride);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_stride);
    __pyx_1 = PyObject_Call(__pyx_2, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 456; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    __pyx_2 = PyObject_RichCompare(__pyx_1, __pyx_int_0, Py_LT); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 456; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_kp_any); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 456; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_1 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 456; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 456; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_6) {

      /* "/storage/huardda/repos/netcdf4/utils.pyx":457
 *             count = [abs(cnt) for cnt in count]
 *             if (numpy.array(stride) < 0).any():
 *                 raise IndexError('negative strides not allowed when slicing MFVariable Variable instance')             # <<<<<<<<<<<<<<
 *             # Start, stop and step along 1st dimension, eg the unlimited
 *             # dimension.
 */
      __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 457; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_kp_230);
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_kp_230);
      __pyx_3 = PyObject_Call(__pyx_builtin_IndexError, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 457; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
      __Pyx_Raise(__pyx_3, 0, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[1]; __pyx_lineno = 457; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L12;
    }
    __pyx_L12:;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":460
 *             # Start, stop and step along 1st dimension, eg the unlimited
 *             # dimension.
 *             sta = start[0]             # <<<<<<<<<<<<<<
 *             step = stride[0]
 *             stop = sta + count[0] * step
 */
    __pyx_1 = __Pyx_GetItemInt(__pyx_v_start, 0, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 460; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_sta);
    __pyx_v_sta = __pyx_1;
    __pyx_1 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":461
 *             # dimension.
 *             sta = start[0]
 *             step = stride[0]             # <<<<<<<<<<<<<<
 *             stop = sta + count[0] * step
 * 
 */
    __pyx_2 = __Pyx_GetItemInt(__pyx_v_stride, 0, 0); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 461; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_step);
    __pyx_v_step = __pyx_2;
    __pyx_2 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":462
 *             sta = start[0]
 *             step = stride[0]
 *             stop = sta + count[0] * step             # <<<<<<<<<<<<<<
 * 
 *             # Build a list representing the concatenated list of all records in
 */
    __pyx_3 = __Pyx_GetItemInt(__pyx_v_count, 0, 0); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 462; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = PyNumber_Multiply(__pyx_3, __pyx_v_step); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 462; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_2 = PyNumber_Add(__pyx_v_sta, __pyx_1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 462; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_v_stop);
    __pyx_v_stop = __pyx_2;
    __pyx_2 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":469
 *             #  the record index inside the variables, from 0 to n
 *             #  the index of the Variable instance to which each record belongs
 *             idx = []    # list of record indices             # <<<<<<<<<<<<<<
 *             vid = []    # list of Variable indices
 *             for n in range(nv):
 */
    __pyx_3 = PyList_New(0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 469; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_idx);
    __pyx_v_idx = ((PyObject *)__pyx_3);
    __pyx_3 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":470
 *             #  the index of the Variable instance to which each record belongs
 *             idx = []    # list of record indices
 *             vid = []    # list of Variable indices             # <<<<<<<<<<<<<<
 *             for n in range(nv):
 *                 k = self._recLen[n]     # number of records in this variable
 */
    __pyx_1 = PyList_New(0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 470; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_vid);
    __pyx_v_vid = ((PyObject *)__pyx_1);
    __pyx_1 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":471
 *             idx = []    # list of record indices
 *             vid = []    # list of Variable indices
 *             for n in range(nv):             # <<<<<<<<<<<<<<
 *                 k = self._recLen[n]     # number of records in this variable
 *                 idx.extend(range(k))
 */
    __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 471; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_nv);
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_nv);
    __pyx_3 = PyObject_Call(__pyx_builtin_range, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 471; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
    if (PyList_CheckExact(__pyx_3) || PyTuple_CheckExact(__pyx_3)) {
      __pyx_7 = 0; __pyx_1 = __pyx_3; Py_INCREF(__pyx_1);
    } else {
      __pyx_7 = -1; __pyx_1 = PyObject_GetIter(__pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 471; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    }
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    for (;;) {
      if (likely(PyList_CheckExact(__pyx_1))) {
        if (__pyx_7 >= PyList_GET_SIZE(__pyx_1)) break;
        __pyx_2 = PyList_GET_ITEM(__pyx_1, __pyx_7); Py_INCREF(__pyx_2); __pyx_7++;
      } else if (likely(PyTuple_CheckExact(__pyx_1))) {
        if (__pyx_7 >= PyTuple_GET_SIZE(__pyx_1)) break;
        __pyx_2 = PyTuple_GET_ITEM(__pyx_1, __pyx_7); Py_INCREF(__pyx_2); __pyx_7++;
      } else {
        __pyx_2 = PyIter_Next(__pyx_1);
        if (!__pyx_2) {
          if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 471; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          break;
        }
      }
      Py_DECREF(__pyx_v_n);
      __pyx_v_n = __pyx_2;
      __pyx_2 = 0;

      /* "/storage/huardda/repos/netcdf4/utils.pyx":472
 *             vid = []    # list of Variable indices
 *             for n in range(nv):
 *                 k = self._recLen[n]     # number of records in this variable             # <<<<<<<<<<<<<<
 *                 idx.extend(range(k))
 *                 vid.extend([n] * k)
 */
      __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__recLen); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 472; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_2 = PyObject_GetItem(__pyx_3, __pyx_v_n); if (!__pyx_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 472; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_v_k);
      __pyx_v_k = __pyx_2;
      __pyx_2 = 0;

      /* "/storage/huardda/repos/netcdf4/utils.pyx":473
 *             for n in range(nv):
 *                 k = self._recLen[n]     # number of records in this variable
 *                 idx.extend(range(k))             # <<<<<<<<<<<<<<
 *                 vid.extend([n] * k)
 * 
 */
      __pyx_3 = PyObject_GetAttr(__pyx_v_idx, __pyx_kp_extend); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 473; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 473; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_v_k);
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_k);
      __pyx_9 = PyObject_Call(__pyx_builtin_range, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 473; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
      __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 473; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_9);
      __pyx_9 = 0;
      __pyx_9 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 473; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
      Py_DECREF(__pyx_9); __pyx_9 = 0;

      /* "/storage/huardda/repos/netcdf4/utils.pyx":474
 *                 k = self._recLen[n]     # number of records in this variable
 *                 idx.extend(range(k))
 *                 vid.extend([n] * k)             # <<<<<<<<<<<<<<
 * 
 *             # Merge the two lists to get a list of 2-elem lists.
 */
      __pyx_3 = PyObject_GetAttr(__pyx_v_vid, __pyx_kp_extend); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 474; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_2 = PyList_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 474; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_INCREF(__pyx_v_n);
      PyList_SET_ITEM(__pyx_2, 0, __pyx_v_n);
      __pyx_9 = PyNumber_Multiply(((PyObject *)__pyx_2), __pyx_v_k); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 474; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
      __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 474; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_9);
      __pyx_9 = 0;
      __pyx_9 = PyObject_Call(__pyx_3, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 474; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
      Py_DECREF(__pyx_9); __pyx_9 = 0;
    }
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":478
 *             # Merge the two lists to get a list of 2-elem lists.
 *             # Slice this list along the first dimension.
 *             lst = zip(idx, vid).__getitem__(slice(sta, stop, step))             # <<<<<<<<<<<<<<
 * 
 *             # Rebuild the slicing expression for dimensions 1 and ssq.
 */
    __pyx_3 = PyTuple_New(2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 478; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_idx);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_idx);
    Py_INCREF(__pyx_v_vid);
    PyTuple_SET_ITEM(__pyx_3, 1, __pyx_v_vid);
    __pyx_2 = PyObject_Call(__pyx_builtin_zip, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 478; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    __pyx_9 = PyObject_GetAttr(__pyx_2, __pyx_kp___getitem__); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 478; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_1 = PyTuple_New(3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 478; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_sta);
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_sta);
    Py_INCREF(__pyx_v_stop);
    PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_stop);
    Py_INCREF(__pyx_v_step);
    PyTuple_SET_ITEM(__pyx_1, 2, __pyx_v_step);
    __pyx_3 = PyObject_Call(((PyObject*)&PySlice_Type), ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 478; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
    __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 478; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_1 = PyObject_Call(__pyx_9, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 478; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_9); __pyx_9 = 0;
    Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
    Py_DECREF(__pyx_v_lst);
    __pyx_v_lst = __pyx_1;
    __pyx_1 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":481
 * 
 *             # Rebuild the slicing expression for dimensions 1 and ssq.
 *             newSlice = [slice(None, None, None)]             # <<<<<<<<<<<<<<
 *             for n in range(1, len(start)):   # skip dimension 0
 *                 s = slice(start[n],start[n] + count[n] * stride[n], stride[n])
 */
    __pyx_3 = PyTuple_New(3); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 481; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(Py_None);
    PyTuple_SET_ITEM(__pyx_3, 0, Py_None);
    Py_INCREF(Py_None);
    PyTuple_SET_ITEM(__pyx_3, 1, Py_None);
    Py_INCREF(Py_None);
    PyTuple_SET_ITEM(__pyx_3, 2, Py_None);
    __pyx_9 = PyObject_Call(((PyObject*)&PySlice_Type), ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 481; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    __pyx_2 = PyList_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 481; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    PyList_SET_ITEM(__pyx_2, 0, __pyx_9);
    __pyx_9 = 0;
    Py_DECREF(__pyx_v_newSlice);
    __pyx_v_newSlice = ((PyObject *)__pyx_2);
    __pyx_2 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":482
 *             # Rebuild the slicing expression for dimensions 1 and ssq.
 *             newSlice = [slice(None, None, None)]
 *             for n in range(1, len(start)):   # skip dimension 0             # <<<<<<<<<<<<<<
 *                 s = slice(start[n],start[n] + count[n] * stride[n], stride[n])
 *                 newSlice.append(s)
 */
    __pyx_10 = PyObject_Length(__pyx_v_start); if (unlikely(__pyx_10 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 482; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = PyInt_FromSsize_t(__pyx_10); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 482; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = PyTuple_New(2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 482; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_int_1);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_int_1);
    PyTuple_SET_ITEM(__pyx_3, 1, __pyx_1);
    __pyx_1 = 0;
    __pyx_9 = PyObject_Call(__pyx_builtin_range, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 482; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    if (PyList_CheckExact(__pyx_9) || PyTuple_CheckExact(__pyx_9)) {
      __pyx_7 = 0; __pyx_2 = __pyx_9; Py_INCREF(__pyx_2);
    } else {
      __pyx_7 = -1; __pyx_2 = PyObject_GetIter(__pyx_9); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 482; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    }
    Py_DECREF(__pyx_9); __pyx_9 = 0;
    for (;;) {
      if (likely(PyList_CheckExact(__pyx_2))) {
        if (__pyx_7 >= PyList_GET_SIZE(__pyx_2)) break;
        __pyx_1 = PyList_GET_ITEM(__pyx_2, __pyx_7); Py_INCREF(__pyx_1); __pyx_7++;
      } else if (likely(PyTuple_CheckExact(__pyx_2))) {
        if (__pyx_7 >= PyTuple_GET_SIZE(__pyx_2)) break;
        __pyx_1 = PyTuple_GET_ITEM(__pyx_2, __pyx_7); Py_INCREF(__pyx_1); __pyx_7++;
      } else {
        __pyx_1 = PyIter_Next(__pyx_2);
        if (!__pyx_1) {
          if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 482; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          break;
        }
      }
      Py_DECREF(__pyx_v_n);
      __pyx_v_n = __pyx_1;
      __pyx_1 = 0;

      /* "/storage/huardda/repos/netcdf4/utils.pyx":483
 *             newSlice = [slice(None, None, None)]
 *             for n in range(1, len(start)):   # skip dimension 0
 *                 s = slice(start[n],start[n] + count[n] * stride[n], stride[n])             # <<<<<<<<<<<<<<
 *                 newSlice.append(s)
 * 
 */
      __pyx_3 = PyObject_GetItem(__pyx_v_start, __pyx_v_n); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_9 = PyObject_GetItem(__pyx_v_start, __pyx_v_n); if (!__pyx_9) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_1 = PyObject_GetItem(__pyx_v_count, __pyx_v_n); if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_11 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (!__pyx_11) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_12 = PyNumber_Multiply(__pyx_1, __pyx_11); if (unlikely(!__pyx_12)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_11); __pyx_11 = 0;
      __pyx_1 = PyNumber_Add(__pyx_9, __pyx_12); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_9); __pyx_9 = 0;
      Py_DECREF(__pyx_12); __pyx_12 = 0;
      __pyx_11 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (!__pyx_11) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_9 = PyTuple_New(3); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_9, 0, __pyx_3);
      PyTuple_SET_ITEM(__pyx_9, 1, __pyx_1);
      PyTuple_SET_ITEM(__pyx_9, 2, __pyx_11);
      __pyx_3 = 0;
      __pyx_1 = 0;
      __pyx_11 = 0;
      __pyx_12 = PyObject_Call(((PyObject*)&PySlice_Type), ((PyObject *)__pyx_9), NULL); if (unlikely(!__pyx_12)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(((PyObject *)__pyx_9)); __pyx_9 = 0;
      Py_DECREF(__pyx_v_s);
      __pyx_v_s = __pyx_12;
      __pyx_12 = 0;

      /* "/storage/huardda/repos/netcdf4/utils.pyx":484
 *             for n in range(1, len(start)):   # skip dimension 0
 *                 s = slice(start[n],start[n] + count[n] * stride[n], stride[n])
 *                 newSlice.append(s)             # <<<<<<<<<<<<<<
 * 
 *             # Apply the slicing expression to each var in turn, extracting records
 */
      __pyx_3 = __Pyx_PyObject_Append(__pyx_v_newSlice, __pyx_v_s); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 484; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
    Py_DECREF(__pyx_2); __pyx_2 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":488
 *             # Apply the slicing expression to each var in turn, extracting records
 *             # in a list of arrays.
 *             lstArr = []             # <<<<<<<<<<<<<<
 *             for n in range(nv):
 *                 # Get the list of indices for variable 'n'.
 */
    __pyx_1 = PyList_New(0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 488; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_v_lstArr);
    __pyx_v_lstArr = ((PyObject *)__pyx_1);
    __pyx_1 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":489
 *             # in a list of arrays.
 *             lstArr = []
 *             for n in range(nv):             # <<<<<<<<<<<<<<
 *                 # Get the list of indices for variable 'n'.
 *                 idx = [i for i,numv in lst if numv == n]
 */
    __pyx_11 = PyTuple_New(1); if (unlikely(!__pyx_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 489; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_nv);
    PyTuple_SET_ITEM(__pyx_11, 0, __pyx_v_nv);
    __pyx_9 = PyObject_Call(__pyx_builtin_range, ((PyObject *)__pyx_11), NULL); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 489; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_11)); __pyx_11 = 0;
    if (PyList_CheckExact(__pyx_9) || PyTuple_CheckExact(__pyx_9)) {
      __pyx_10 = 0; __pyx_12 = __pyx_9; Py_INCREF(__pyx_12);
    } else {
      __pyx_10 = -1; __pyx_12 = PyObject_GetIter(__pyx_9); if (unlikely(!__pyx_12)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 489; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    }
    Py_DECREF(__pyx_9); __pyx_9 = 0;
    for (;;) {
      if (likely(PyList_CheckExact(__pyx_12))) {
        if (__pyx_10 >= PyList_GET_SIZE(__pyx_12)) break;
        __pyx_3 = PyList_GET_ITEM(__pyx_12, __pyx_10); Py_INCREF(__pyx_3); __pyx_10++;
      } else if (likely(PyTuple_CheckExact(__pyx_12))) {
        if (__pyx_10 >= PyTuple_GET_SIZE(__pyx_12)) break;
        __pyx_3 = PyTuple_GET_ITEM(__pyx_12, __pyx_10); Py_INCREF(__pyx_3); __pyx_10++;
      } else {
        __pyx_3 = PyIter_Next(__pyx_12);
        if (!__pyx_3) {
          if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 489; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          break;
        }
      }
      Py_DECREF(__pyx_v_n);
      __pyx_v_n = __pyx_3;
      __pyx_3 = 0;

      /* "/storage/huardda/repos/netcdf4/utils.pyx":491
 *             for n in range(nv):
 *                 # Get the list of indices for variable 'n'.
 *                 idx = [i for i,numv in lst if numv == n]             # <<<<<<<<<<<<<<
 *                 if idx:
 *                     # Rebuild slicing expression for dimension 0.
 */
      __pyx_2 = PyList_New(0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (PyList_CheckExact(__pyx_v_lst) || PyTuple_CheckExact(__pyx_v_lst)) {
        __pyx_7 = 0; __pyx_1 = __pyx_v_lst; Py_INCREF(__pyx_1);
      } else {
        __pyx_7 = -1; __pyx_1 = PyObject_GetIter(__pyx_v_lst); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      }
      for (;;) {
        if (likely(PyList_CheckExact(__pyx_1))) {
          if (__pyx_7 >= PyList_GET_SIZE(__pyx_1)) break;
          __pyx_11 = PyList_GET_ITEM(__pyx_1, __pyx_7); Py_INCREF(__pyx_11); __pyx_7++;
        } else if (likely(PyTuple_CheckExact(__pyx_1))) {
          if (__pyx_7 >= PyTuple_GET_SIZE(__pyx_1)) break;
          __pyx_11 = PyTuple_GET_ITEM(__pyx_1, __pyx_7); Py_INCREF(__pyx_11); __pyx_7++;
        } else {
          __pyx_11 = PyIter_Next(__pyx_1);
          if (!__pyx_11) {
            if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            break;
          }
        }
        if (PyTuple_CheckExact(__pyx_11) && PyTuple_GET_SIZE(__pyx_11) == 2) {
          PyObject* tuple = __pyx_11;
          __pyx_3 = PyTuple_GET_ITEM(tuple, 0);
          Py_INCREF(__pyx_3);
          Py_DECREF(__pyx_v_i);
          __pyx_v_i = __pyx_3;
          __pyx_3 = 0;
          __pyx_3 = PyTuple_GET_ITEM(tuple, 1);
          Py_INCREF(__pyx_3);
          Py_DECREF(__pyx_v_numv);
          __pyx_v_numv = __pyx_3;
          __pyx_3 = 0;
          Py_DECREF(__pyx_11); __pyx_11 = 0;
        }
        else {
          __pyx_9 = PyObject_GetIter(__pyx_11); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_11); __pyx_11 = 0;
          __pyx_3 = __Pyx_UnpackItem(__pyx_9, 0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_v_i);
          __pyx_v_i = __pyx_3;
          __pyx_3 = 0;
          __pyx_3 = __Pyx_UnpackItem(__pyx_9, 1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_v_numv);
          __pyx_v_numv = __pyx_3;
          __pyx_3 = 0;
          if (__Pyx_EndUnpack(__pyx_9) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          Py_DECREF(__pyx_9); __pyx_9 = 0;
        }
        __pyx_3 = PyObject_RichCompare(__pyx_v_numv, __pyx_v_n, Py_EQ); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        if (__pyx_6) {
          __pyx_8 = PyList_Append(__pyx_2, __pyx_v_i); if (unlikely(__pyx_8)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          goto __pyx_L21;
        }
        __pyx_L21:;
      }
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_v_idx);
      __pyx_v_idx = ((PyObject *)__pyx_2);
      __pyx_2 = 0;

      /* "/storage/huardda/repos/netcdf4/utils.pyx":492
 *                 # Get the list of indices for variable 'n'.
 *                 idx = [i for i,numv in lst if numv == n]
 *                 if idx:             # <<<<<<<<<<<<<<
 *                     # Rebuild slicing expression for dimension 0.
 *                     newSlice[0] = slice(idx[0], idx[-1] + 1, step)
 */
      __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_v_idx); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 492; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (__pyx_6) {

        /* "/storage/huardda/repos/netcdf4/utils.pyx":494
 *                 if idx:
 *                     # Rebuild slicing expression for dimension 0.
 *                     newSlice[0] = slice(idx[0], idx[-1] + 1, step)             # <<<<<<<<<<<<<<
 *                     # Extract records from the var, and append them to a list
 *                     # of arrays.
 */
        __pyx_11 = __Pyx_GetItemInt(__pyx_v_idx, 0, 0); if (!__pyx_11) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 494; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_9 = __Pyx_GetItemInt(__pyx_v_idx, -1, 0); if (!__pyx_9) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 494; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_3 = PyNumber_Add(__pyx_9, __pyx_int_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 494; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_9); __pyx_9 = 0;
        __pyx_1 = PyTuple_New(3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 494; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        PyTuple_SET_ITEM(__pyx_1, 0, __pyx_11);
        PyTuple_SET_ITEM(__pyx_1, 1, __pyx_3);
        Py_INCREF(__pyx_v_step);
        PyTuple_SET_ITEM(__pyx_1, 2, __pyx_v_step);
        __pyx_11 = 0;
        __pyx_3 = 0;
        __pyx_2 = PyObject_Call(((PyObject*)&PySlice_Type), ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 494; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
        if (__Pyx_SetItemInt(__pyx_v_newSlice, 0, __pyx_2, 0) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 494; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;

        /* "/storage/huardda/repos/netcdf4/utils.pyx":497
 *                     # Extract records from the var, and append them to a list
 *                     # of arrays.
 *                     dat = Variable.__getitem__(self._recVar[n],tuple(newSlice))             # <<<<<<<<<<<<<<
 *                     lstArr.append(dat)
 *             lstArr = numpy.concatenate(lstArr)
 */
        __pyx_9 = PyObject_GetAttr(((PyObject*)__pyx_ptype_7netCDF4_Variable), __pyx_kp___getitem__); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 497; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_11 = PyObject_GetAttr(__pyx_v_self, __pyx_kp__recVar); if (unlikely(!__pyx_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 497; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_3 = PyObject_GetItem(__pyx_11, __pyx_v_n); if (!__pyx_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 497; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_11); __pyx_11 = 0;
        __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 497; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_INCREF(__pyx_v_newSlice);
        PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_newSlice);
        __pyx_2 = PyObject_Call(((PyObject*)&PyTuple_Type), ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 497; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
        __pyx_11 = PyTuple_New(2); if (unlikely(!__pyx_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 497; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        PyTuple_SET_ITEM(__pyx_11, 0, __pyx_3);
        PyTuple_SET_ITEM(__pyx_11, 1, __pyx_2);
        __pyx_3 = 0;
        __pyx_2 = 0;
        __pyx_1 = PyObject_Call(__pyx_9, ((PyObject *)__pyx_11), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 497; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_9); __pyx_9 = 0;
        Py_DECREF(((PyObject *)__pyx_11)); __pyx_11 = 0;
        Py_DECREF(__pyx_v_dat);
        __pyx_v_dat = __pyx_1;
        __pyx_1 = 0;

        /* "/storage/huardda/repos/netcdf4/utils.pyx":498
 *                     # of arrays.
 *                     dat = Variable.__getitem__(self._recVar[n],tuple(newSlice))
 *                     lstArr.append(dat)             # <<<<<<<<<<<<<<
 *             lstArr = numpy.concatenate(lstArr)
 *             if dat.dtype != data.dtype: data = data.astype(dat.dtype)
 */
        __pyx_3 = __Pyx_PyObject_Append(__pyx_v_lstArr, __pyx_v_dat); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 498; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        goto __pyx_L22;
      }
      __pyx_L22:;
    }
    Py_DECREF(__pyx_12); __pyx_12 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":499
 *                     dat = Variable.__getitem__(self._recVar[n],tuple(newSlice))
 *                     lstArr.append(dat)
 *             lstArr = numpy.concatenate(lstArr)             # <<<<<<<<<<<<<<
 *             if dat.dtype != data.dtype: data = data.astype(dat.dtype)
 *             data[tuple(ind)] = lstArr.squeeze()
 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_kp_numpy); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 499; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_9 = PyObject_GetAttr(__pyx_2, __pyx_kp_concatenate); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 499; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_11 = PyTuple_New(1); if (unlikely(!__pyx_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 499; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_lstArr);
    PyTuple_SET_ITEM(__pyx_11, 0, __pyx_v_lstArr);
    __pyx_1 = PyObject_Call(__pyx_9, ((PyObject *)__pyx_11), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 499; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_9); __pyx_9 = 0;
    Py_DECREF(((PyObject *)__pyx_11)); __pyx_11 = 0;
    Py_DECREF(__pyx_v_lstArr);
    __pyx_v_lstArr = __pyx_1;
    __pyx_1 = 0;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":500
 *                     lstArr.append(dat)
 *             lstArr = numpy.concatenate(lstArr)
 *             if dat.dtype != data.dtype: data = data.astype(dat.dtype)             # <<<<<<<<<<<<<<
 *             data[tuple(ind)] = lstArr.squeeze()
 * 
 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_dat, __pyx_kp_dtype); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_12 = PyObject_GetAttr(__pyx_v_data, __pyx_kp_dtype); if (unlikely(!__pyx_12)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = PyObject_RichCompare(__pyx_3, __pyx_12, Py_NE); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_12); __pyx_12 = 0;
    __pyx_6 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_6 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (__pyx_6) {
      __pyx_9 = PyObject_GetAttr(__pyx_v_data, __pyx_kp_astype); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_11 = PyObject_GetAttr(__pyx_v_dat, __pyx_kp_dtype); if (unlikely(!__pyx_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_11);
      __pyx_11 = 0;
      __pyx_3 = PyObject_Call(__pyx_9, ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_9); __pyx_9 = 0;
      Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
      Py_DECREF(__pyx_v_data);
      __pyx_v_data = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L23;
    }
    __pyx_L23:;

    /* "/storage/huardda/repos/netcdf4/utils.pyx":501
 *             lstArr = numpy.concatenate(lstArr)
 *             if dat.dtype != data.dtype: data = data.astype(dat.dtype)
 *             data[tuple(ind)] = lstArr.squeeze()             # <<<<<<<<<<<<<<
 * 
 *         # Remove extra singleton dimensions.
 */
    __pyx_12 = PyObject_GetAttr(__pyx_v_lstArr, __pyx_kp_squeeze); if (unlikely(!__pyx_12)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 501; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_2 = PyObject_Call(__pyx_12, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 501; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_12); __pyx_12 = 0;
    __pyx_11 = PyTuple_New(1); if (unlikely(!__pyx_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 501; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_v_ind);
    PyTuple_SET_ITEM(__pyx_11, 0, __pyx_v_ind);
    __pyx_9 = PyObject_Call(((PyObject*)&PyTuple_Type), ((PyObject *)__pyx_11), NULL); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 501; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_11)); __pyx_11 = 0;
    if (PyObject_SetItem(__pyx_v_data, __pyx_9, __pyx_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 501; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_9); __pyx_9 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  Py_DECREF(__pyx_4); __pyx_4 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":504
 * 
 *         # Remove extra singleton dimensions.
 *         data = data[tuple(squeeze)]             # <<<<<<<<<<<<<<
 * 
 *         return data
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 504; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_v_squeeze);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_squeeze);
  __pyx_3 = PyObject_Call(((PyObject*)&PyTuple_Type), ((PyObject *)__pyx_1), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 504; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __pyx_12 = PyObject_GetItem(__pyx_v_data, __pyx_3); if (!__pyx_12) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 504; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_data);
  __pyx_v_data = __pyx_12;
  __pyx_12 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":506
 *         data = data[tuple(squeeze)]
 * 
 *         return data             # <<<<<<<<<<<<<<
 */
  Py_INCREF(__pyx_v_data);
  __pyx_r = __pyx_v_data;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_9);
  Py_XDECREF(__pyx_11);
  Py_XDECREF(__pyx_12);
  __Pyx_AddTraceback("netCDF4._Variable.__getitem__");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_start);
  Py_DECREF(__pyx_v_count);
  Py_DECREF(__pyx_v_stride);
  Py_DECREF(__pyx_v_put_ind);
  Py_DECREF(__pyx_v_datashape);
  Py_DECREF(__pyx_v_data);
  Py_DECREF(__pyx_v_squeeze);
  Py_DECREF(__pyx_v_i);
  Py_DECREF(__pyx_v_n);
  Py_DECREF(__pyx_v_strt);
  Py_DECREF(__pyx_v_cnt);
  Py_DECREF(__pyx_v_strd);
  Py_DECREF(__pyx_v_nv);
  Py_DECREF(__pyx_v_ind);
  Py_DECREF(__pyx_v_sta);
  Py_DECREF(__pyx_v_step);
  Py_DECREF(__pyx_v_stop);
  Py_DECREF(__pyx_v_idx);
  Py_DECREF(__pyx_v_vid);
  Py_DECREF(__pyx_v_k);
  Py_DECREF(__pyx_v_lst);
  Py_DECREF(__pyx_v_newSlice);
  Py_DECREF(__pyx_v_s);
  Py_DECREF(__pyx_v_lstArr);
  Py_DECREF(__pyx_v_dat);
  Py_DECREF(__pyx_v_numv);
  return __pyx_r;
}

static PyObject *__pyx_tp_new_7netCDF4_Dataset(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7netCDF4_Dataset *p;
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  p = ((struct __pyx_obj_7netCDF4_Dataset *)o);
  p->groups = Py_None; Py_INCREF(Py_None);
  p->dimensions = Py_None; Py_INCREF(Py_None);
  p->variables = Py_None; Py_INCREF(Py_None);
  p->file_format = Py_None; Py_INCREF(Py_None);
  p->path = Py_None; Py_INCREF(Py_None);
  p->parent = Py_None; Py_INCREF(Py_None);
  p->maskanscale = Py_None; Py_INCREF(Py_None);
  p->_cmptypes = Py_None; Py_INCREF(Py_None);
  return o;
}

static void __pyx_tp_dealloc_7netCDF4_Dataset(PyObject *o) {
  struct __pyx_obj_7netCDF4_Dataset *p = (struct __pyx_obj_7netCDF4_Dataset *)o;
  Py_XDECREF(p->groups);
  Py_XDECREF(p->dimensions);
  Py_XDECREF(p->variables);
  Py_XDECREF(p->file_format);
  Py_XDECREF(p->path);
  Py_XDECREF(p->parent);
  Py_XDECREF(p->maskanscale);
  Py_XDECREF(p->_cmptypes);
  (*Py_TYPE(o)->tp_free)(o);
}

static int __pyx_tp_traverse_7netCDF4_Dataset(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7netCDF4_Dataset *p = (struct __pyx_obj_7netCDF4_Dataset *)o;
  if (p->groups) {
    e = (*v)(p->groups, a); if (e) return e;
  }
  if (p->dimensions) {
    e = (*v)(p->dimensions, a); if (e) return e;
  }
  if (p->variables) {
    e = (*v)(p->variables, a); if (e) return e;
  }
  if (p->file_format) {
    e = (*v)(p->file_format, a); if (e) return e;
  }
  if (p->path) {
    e = (*v)(p->path, a); if (e) return e;
  }
  if (p->parent) {
    e = (*v)(p->parent, a); if (e) return e;
  }
  if (p->maskanscale) {
    e = (*v)(p->maskanscale, a); if (e) return e;
  }
  if (p->_cmptypes) {
    e = (*v)(p->_cmptypes, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7netCDF4_Dataset(PyObject *o) {
  struct __pyx_obj_7netCDF4_Dataset *p = (struct __pyx_obj_7netCDF4_Dataset *)o;
  PyObject* tmp;
  tmp = ((PyObject*)p->groups);
  p->groups = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->dimensions);
  p->dimensions = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->variables);
  p->variables = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->file_format);
  p->file_format = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->path);
  p->path = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->parent);
  p->parent = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->maskanscale);
  p->maskanscale = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->_cmptypes);
  p->_cmptypes = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static PyObject *__pyx_tp_getattro_7netCDF4_Dataset(PyObject *o, PyObject *n) {
  PyObject *v = PyObject_GenericGetAttr(o, n);
  if (!v && PyErr_ExceptionMatches(PyExc_AttributeError)) {
    PyErr_Clear();
    v = __pyx_pf_7netCDF4_7Dataset___getattr__(o, n);
  }
  return v;
}

static int __pyx_tp_setattro_7netCDF4_Dataset(PyObject *o, PyObject *n, PyObject *v) {
  if (v) {
    return __pyx_pf_7netCDF4_7Dataset___setattr__(o, n, v);
  }
  else {
    return __pyx_pf_7netCDF4_7Dataset___delattr__(o, n);
  }
}

static struct PyMethodDef __pyx_methods_7netCDF4_Dataset[] = {
  {"close", (PyCFunction)__pyx_pf_7netCDF4_7Dataset_close, METH_NOARGS, __pyx_doc_7netCDF4_7Dataset_close},
  {"sync", (PyCFunction)__pyx_pf_7netCDF4_7Dataset_sync, METH_NOARGS, __pyx_doc_7netCDF4_7Dataset_sync},
  {"_redef", (PyCFunction)__pyx_pf_7netCDF4_7Dataset__redef, METH_NOARGS, 0},
  {"_enddef", (PyCFunction)__pyx_pf_7netCDF4_7Dataset__enddef, METH_NOARGS, 0},
  {"set_fill_on", (PyCFunction)__pyx_pf_7netCDF4_7Dataset_set_fill_on, METH_NOARGS, __pyx_doc_7netCDF4_7Dataset_set_fill_on},
  {"set_fill_off", (PyCFunction)__pyx_pf_7netCDF4_7Dataset_set_fill_off, METH_NOARGS, __pyx_doc_7netCDF4_7Dataset_set_fill_off},
  {"createDimension", (PyCFunction)__pyx_pf_7netCDF4_7Dataset_createDimension, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF4_7Dataset_createDimension},
  {"renameDimension", (PyCFunction)__pyx_pf_7netCDF4_7Dataset_renameDimension, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF4_7Dataset_renameDimension},
  {"createCompoundType", (PyCFunction)__pyx_pf_7netCDF4_7Dataset_createCompoundType, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF4_7Dataset_createCompoundType},
  {"createVariable", (PyCFunction)__pyx_pf_7netCDF4_7Dataset_createVariable, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF4_7Dataset_createVariable},
  {"renameVariable", (PyCFunction)__pyx_pf_7netCDF4_7Dataset_renameVariable, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF4_7Dataset_renameVariable},
  {"createGroup", (PyCFunction)__pyx_pf_7netCDF4_7Dataset_createGroup, METH_O, __pyx_doc_7netCDF4_7Dataset_createGroup},
  {"ncattrs", (PyCFunction)__pyx_pf_7netCDF4_7Dataset_ncattrs, METH_NOARGS, __pyx_doc_7netCDF4_7Dataset_ncattrs},
  {"__getattr__", (PyCFunction)__pyx_pf_7netCDF4_7Dataset___getattr__, METH_O|METH_COEXIST, 0},
  {0, 0, 0, 0}
};

static struct PyMemberDef __pyx_members_7netCDF4_Dataset[] = {
  {"_grpid", T_INT, offsetof(struct __pyx_obj_7netCDF4_Dataset, _grpid), 0, 0},
  {"groups", T_OBJECT, offsetof(struct __pyx_obj_7netCDF4_Dataset, groups), 0, 0},
  {"dimensions", T_OBJECT, offsetof(struct __pyx_obj_7netCDF4_Dataset, dimensions), 0, 0},
  {"variables", T_OBJECT, offsetof(struct __pyx_obj_7netCDF4_Dataset, variables), 0, 0},
  {"file_format", T_OBJECT, offsetof(struct __pyx_obj_7netCDF4_Dataset, file_format), 0, 0},
  {"path", T_OBJECT, offsetof(struct __pyx_obj_7netCDF4_Dataset, path), 0, 0},
  {"parent", T_OBJECT, offsetof(struct __pyx_obj_7netCDF4_Dataset, parent), 0, 0},
  {"maskanscale", T_OBJECT, offsetof(struct __pyx_obj_7netCDF4_Dataset, maskanscale), 0, 0},
  {"_cmptypes", T_OBJECT, offsetof(struct __pyx_obj_7netCDF4_Dataset, _cmptypes), 0, 0},
  {0, 0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Dataset = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Dataset = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Dataset = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Dataset = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_NEWBUFFER)
  0, /*bf_getbuffer*/
  #endif
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_NEWBUFFER)
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_7netCDF4_Dataset = {
  PyVarObject_HEAD_INIT(0, 0)
  "netCDF4.Dataset", /*tp_name*/
  sizeof(struct __pyx_obj_7netCDF4_Dataset), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7netCDF4_Dataset, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Dataset, /*tp_as_number*/
  &__pyx_tp_as_sequence_Dataset, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Dataset, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  __pyx_tp_getattro_7netCDF4_Dataset, /*tp_getattro*/
  __pyx_tp_setattro_7netCDF4_Dataset, /*tp_setattro*/
  &__pyx_tp_as_buffer_Dataset, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  "\nDataset(self, filename, mode=\"r\", clobber=True, format='NETCDF4')\n\nA netCDF L{Dataset} is a collection of dimensions, groups, variables and \nattributes. Together they describe the meaning of data and relations among \ndata fields stored in a netCDF file.\n\nB{Parameters:}\n\nB{C{filename}} - Name of netCDF file to hold dataset.\n\nB{Keywords}:\n\nB{C{mode}} - access mode. C{r} means read-only; no data can be\nmodified. C{w} means write; a new file is created, an existing file with\nthe same name is deleted. C{a} and C{r+} mean append (in analogy with\nserial files); an existing file is opened for reading and writing.\nAppending C{s} to modes C{w}, C{r+} or C{a} will enable unbuffered shared\naccess to C{NETCDF3_CLASSIC} or C{NETCDF3_64BIT} formatted files.\nUnbuffered acesss may be useful even if you don't need shared \naccess, since it may be faster for programs that don't access data\nsequentially. This option is ignored for C{NETCDF4} and C{NETCDF4_CLASSIC}\nformatted files.\n\nB{C{clobber}} - if C{True} (default), opening a file with C{mode='w'}\nwill clobber an existing file with the same name.  if C{False}, an\nexception will be raised if a file with the same name already exists.\n\nB{C{format}} - underlying file format (one of C{'NETCDF4', \n'NETCDF4_CLASSIC', 'NETCDF3_CLASSIC'} or C{'NETCDF3_64BIT'}.  Only \nrelevant if C{mode = 'w'} (if C{mode = 'r','a'} or C{'r+'} the file format \nis automatically detected). Default C{'NETCDF4'}, which means the data is \nstored in an HDF5 file, using netCDF 4 API features.  Setting \nC{format='NETCDF4_CLASSIC'} will create an HDF5 file, using only netCDF 3 \ncompatibile API features. netCDF 3 clients must be recompiled and linked \nagainst the netCDF 4 library to read files in C{NETCDF4_CLASSIC} format. \nC{'NETCDF3_CLASSIC'} is the classic netCDF 3 file format that does not \nhandle 2+ Gb files very well. C{'NETCDF3_64BIT'} is the 64-bit offset \nversion of the netCDF 3 file format, which fully supports 2+ GB files, but \nis only compatible with clients linked against netCDF version 3.6.0 or \nlater.\n\nB{Returns:}\n\na L{Dataset} instance.  All further operations on the netCDF\nDataset are accomplised via L{Dataset} instance methods.\n\nA list of attribute names corresponding to global netCDF attributes \ndefined for the L{Dataset} can be obtained with the L{ncattrs()} method. \nThese attributes can be created by assigning to an attribute of the \nL{Dataset} instance. A dictionary containing all the netCDF attribute\nname/value pairs is provided by the C{__dict__} attribute of a\nL{Dataset} instance.\n\nThe instance variables C{dimensions, variables, groups, \nfile_format} and C{path} are read-only (and should not be modified by the \nuser).\n\n@ivar dimensions: The C{dimensions} dictionary maps the names of \ndimensions defined for the L{Group} or L{Dataset} to instances of the \nL{Dimension} class.\n\n@ivar variables: The C{variables} dictionary maps the names of variables \ndefined for this L{Dataset} or L{Group} to instances of the L{Variable} \nclass.\n\n@ivar groups: The groups dictionary maps the names of groups created for \nthis L{Dataset} or L{Group} to instances of the L{Group} class (the \nL{Dataset} class is simply a special case of the L{Group} class which \ndescribes the root group in the netCDF file).\n\n@ivar file_format: The C{file_format} attribute describes the netCDF\nfile format version, one of C{NETCDF3_CLASSIC}, C{NETCDF4},\nC{NETCDF4_CLASSIC} or C{NETCDF3_64BIT}.  This module can read and \nwrite all formats.\n\n@ivar path: The C{path} attribute shows the location of the L{Group} in\nthe L{Dataset} in a unix directory format (the names of groups in the\nhierarchy separated by backslashes). A L{Dataset}, instance is the root\ngroup, so the path is simply C{'/'}.", /*tp_doc*/
  __pyx_tp_traverse_7netCDF4_Dataset, /*tp_traverse*/
  __pyx_tp_clear_7netCDF4_Dataset, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7netCDF4_Dataset, /*tp_methods*/
  __pyx_members_7netCDF4_Dataset, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_pf_7netCDF4_7Dataset___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7netCDF4_Dataset, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_7netCDF4_Group(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = __pyx_tp_new_7netCDF4_Dataset(t, a, k);
  if (!o) return 0;
  return o;
}

static struct PyMethodDef __pyx_methods_7netCDF4_Group[] = {
  {"close", (PyCFunction)__pyx_pf_7netCDF4_5Group_close, METH_NOARGS, __pyx_doc_7netCDF4_5Group_close},
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Group = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Group = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Group = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Group = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_NEWBUFFER)
  0, /*bf_getbuffer*/
  #endif
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_NEWBUFFER)
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_7netCDF4_Group = {
  PyVarObject_HEAD_INIT(0, 0)
  "netCDF4.Group", /*tp_name*/
  sizeof(struct __pyx_obj_7netCDF4_Group), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7netCDF4_Dataset, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Group, /*tp_as_number*/
  &__pyx_tp_as_sequence_Group, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Group, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Group, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  "\nGroup(self, parent, name) \n\nGroups define a hierarchical namespace within a netCDF file. They are \nanalagous to directories in a unix filesystem. Each L{Group} behaves like \na L{Dataset} within a Dataset, and can contain it's own variables, \ndimensions and attributes (and other Groups).\n\nL{Group} instances should be created using the\nL{createGroup<Dataset.createGroup>} method of a L{Dataset} instance, or\nanother L{Group} instance, not using this class directly.\n\nB{Parameters:}\n\nB{C{parent}} - L{Group} instance for the parent group.  If being created\nin the root group, use a L{Dataset} instance.\n\nB{C{name}} - Name of the group.\n\nB{Returns:}\n\na L{Group} instance.  All further operations on the netCDF\nGroup are accomplished via L{Group} instance methods.\n\nL{Group} inherits from L{Dataset}, so all the L{Dataset} class methods and \nvariables are available to a L{Group} instance (except the C{close} \nmethod).", /*tp_doc*/
  __pyx_tp_traverse_7netCDF4_Dataset, /*tp_traverse*/
  __pyx_tp_clear_7netCDF4_Dataset, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7netCDF4_Group, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_pf_7netCDF4_5Group___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7netCDF4_Group, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_7netCDF4_Dimension(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7netCDF4_Dimension *p;
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  p = ((struct __pyx_obj_7netCDF4_Dimension *)o);
  p->_file_format = Py_None; Py_INCREF(Py_None);
  return o;
}

static void __pyx_tp_dealloc_7netCDF4_Dimension(PyObject *o) {
  struct __pyx_obj_7netCDF4_Dimension *p = (struct __pyx_obj_7netCDF4_Dimension *)o;
  Py_XDECREF(p->_file_format);
  (*Py_TYPE(o)->tp_free)(o);
}

static int __pyx_tp_traverse_7netCDF4_Dimension(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7netCDF4_Dimension *p = (struct __pyx_obj_7netCDF4_Dimension *)o;
  if (p->_file_format) {
    e = (*v)(p->_file_format, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7netCDF4_Dimension(PyObject *o) {
  struct __pyx_obj_7netCDF4_Dimension *p = (struct __pyx_obj_7netCDF4_Dimension *)o;
  PyObject* tmp;
  tmp = ((PyObject*)p->_file_format);
  p->_file_format = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static struct PyMethodDef __pyx_methods_7netCDF4_Dimension[] = {
  {"isunlimited", (PyCFunction)__pyx_pf_7netCDF4_9Dimension_isunlimited, METH_NOARGS, __pyx_doc_7netCDF4_9Dimension_isunlimited},
  {0, 0, 0, 0}
};

static struct PyMemberDef __pyx_members_7netCDF4_Dimension[] = {
  {"_dimid", T_INT, offsetof(struct __pyx_obj_7netCDF4_Dimension, _dimid), 0, 0},
  {"_grpid", T_INT, offsetof(struct __pyx_obj_7netCDF4_Dimension, _grpid), 0, 0},
  {"_file_format", T_OBJECT, offsetof(struct __pyx_obj_7netCDF4_Dimension, _file_format), 0, 0},
  {0, 0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Dimension = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Dimension = {
  __pyx_pf_7netCDF4_9Dimension___len__, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Dimension = {
  __pyx_pf_7netCDF4_9Dimension___len__, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Dimension = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_NEWBUFFER)
  0, /*bf_getbuffer*/
  #endif
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_NEWBUFFER)
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_7netCDF4_Dimension = {
  PyVarObject_HEAD_INIT(0, 0)
  "netCDF4.Dimension", /*tp_name*/
  sizeof(struct __pyx_obj_7netCDF4_Dimension), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7netCDF4_Dimension, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Dimension, /*tp_as_number*/
  &__pyx_tp_as_sequence_Dimension, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Dimension, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Dimension, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  "\nDimension(self, group, name, size=None)\n\nA netCDF L{Dimension} is used to describe the coordinates of a L{Variable}.\n\nL{Dimension} instances should be created using the\nL{createDimension<Dataset.createDimension>} method of a L{Group} or\nL{Dataset} instance, not using this class directly.\n\nB{Parameters:}\n\nB{C{group}} - L{Group} instance to associate with dimension.\n\nB{C{name}}  - Name of the dimension.\n\nB{Keywords:}\n\nB{C{size}}  - Size of the dimension (Default C{None} means unlimited).\n\nB{Returns:}\n\na L{Dimension} instance.  All further operations on the netCDF Dimension \nare accomplised via L{Dimension} instance methods.\n\nThe current maximum size of a L{Dimension} instance can be obtained by\ncalling the python C{len} function on the L{Dimension} instance. The\nC{isunlimited()} method of a L{Dimension} instance can be used to\ndetermine if the dimension is unlimited", /*tp_doc*/
  __pyx_tp_traverse_7netCDF4_Dimension, /*tp_traverse*/
  __pyx_tp_clear_7netCDF4_Dimension, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7netCDF4_Dimension, /*tp_methods*/
  __pyx_members_7netCDF4_Dimension, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_pf_7netCDF4_9Dimension___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7netCDF4_Dimension, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_7netCDF4_Variable(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7netCDF4_Variable *p;
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  p = ((struct __pyx_obj_7netCDF4_Variable *)o);
  p->_grp = Py_None; Py_INCREF(Py_None);
  p->ndim = Py_None; Py_INCREF(Py_None);
  p->dtype = Py_None; Py_INCREF(Py_None);
  p->maskandscale = Py_None; Py_INCREF(Py_None);
  return o;
}

static void __pyx_tp_dealloc_7netCDF4_Variable(PyObject *o) {
  struct __pyx_obj_7netCDF4_Variable *p = (struct __pyx_obj_7netCDF4_Variable *)o;
  Py_XDECREF(p->_grp);
  Py_XDECREF(p->ndim);
  Py_XDECREF(p->dtype);
  Py_XDECREF(p->maskandscale);
  (*Py_TYPE(o)->tp_free)(o);
}

static int __pyx_tp_traverse_7netCDF4_Variable(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7netCDF4_Variable *p = (struct __pyx_obj_7netCDF4_Variable *)o;
  if (p->_grp) {
    e = (*v)(p->_grp, a); if (e) return e;
  }
  if (p->ndim) {
    e = (*v)(p->ndim, a); if (e) return e;
  }
  if (p->dtype) {
    e = (*v)(p->dtype, a); if (e) return e;
  }
  if (p->maskandscale) {
    e = (*v)(p->maskandscale, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7netCDF4_Variable(PyObject *o) {
  struct __pyx_obj_7netCDF4_Variable *p = (struct __pyx_obj_7netCDF4_Variable *)o;
  PyObject* tmp;
  tmp = ((PyObject*)p->_grp);
  p->_grp = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->ndim);
  p->ndim = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->dtype);
  p->dtype = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->maskandscale);
  p->maskandscale = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}
static PyObject *__pyx_sq_item_7netCDF4_Variable(PyObject *o, Py_ssize_t i) {
  PyObject *r;
  PyObject *x = PyInt_FromSsize_t(i); if(!x) return 0;
  r = Py_TYPE(o)->tp_as_mapping->mp_subscript(o, x);
  Py_DECREF(x);
  return r;
}

static int __pyx_mp_ass_subscript_7netCDF4_Variable(PyObject *o, PyObject *i, PyObject *v) {
  if (v) {
    return __pyx_pf_7netCDF4_8Variable___setitem__(o, i, v);
  }
  else {
    PyErr_Format(PyExc_NotImplementedError,
      "Subscript deletion not supported by %s", Py_TYPE(o)->tp_name);
    return -1;
  }
}

static PyObject *__pyx_tp_getattro_7netCDF4_Variable(PyObject *o, PyObject *n) {
  PyObject *v = PyObject_GenericGetAttr(o, n);
  if (!v && PyErr_ExceptionMatches(PyExc_AttributeError)) {
    PyErr_Clear();
    v = __pyx_pf_7netCDF4_8Variable___getattr__(o, n);
  }
  return v;
}

static int __pyx_tp_setattro_7netCDF4_Variable(PyObject *o, PyObject *n, PyObject *v) {
  if (v) {
    return __pyx_pf_7netCDF4_8Variable___setattr__(o, n, v);
  }
  else {
    return __pyx_pf_7netCDF4_8Variable___delattr__(o, n);
  }
}

static PyObject *__pyx_getprop_7netCDF4_8Variable_shape(PyObject *o, void *x) {
  return __pyx_pf_7netCDF4_8Variable_5shape___get__(o);
}

static int __pyx_setprop_7netCDF4_8Variable_shape(PyObject *o, PyObject *v, void *x) {
  if (v) {
    return __pyx_pf_7netCDF4_8Variable_5shape___set__(o, v);
  }
  else {
    PyErr_SetString(PyExc_NotImplementedError, "__del__");
    return -1;
  }
}

static PyObject *__pyx_getprop_7netCDF4_8Variable_dimensions(PyObject *o, void *x) {
  return __pyx_pf_7netCDF4_8Variable_10dimensions___get__(o);
}

static int __pyx_setprop_7netCDF4_8Variable_dimensions(PyObject *o, PyObject *v, void *x) {
  if (v) {
    return __pyx_pf_7netCDF4_8Variable_10dimensions___set__(o, v);
  }
  else {
    PyErr_SetString(PyExc_NotImplementedError, "__del__");
    return -1;
  }
}

static struct PyMethodDef __pyx_methods_7netCDF4_Variable[] = {
  {"group", (PyCFunction)__pyx_pf_7netCDF4_8Variable_group, METH_NOARGS, __pyx_doc_7netCDF4_8Variable_group},
  {"ncattrs", (PyCFunction)__pyx_pf_7netCDF4_8Variable_ncattrs, METH_NOARGS, __pyx_doc_7netCDF4_8Variable_ncattrs},
  {"filters", (PyCFunction)__pyx_pf_7netCDF4_8Variable_filters, METH_NOARGS, __pyx_doc_7netCDF4_8Variable_filters},
  {"endian", (PyCFunction)__pyx_pf_7netCDF4_8Variable_endian, METH_NOARGS, __pyx_doc_7netCDF4_8Variable_endian},
  {"chunking", (PyCFunction)__pyx_pf_7netCDF4_8Variable_chunking, METH_NOARGS, __pyx_doc_7netCDF4_8Variable_chunking},
  {"__getattr__", (PyCFunction)__pyx_pf_7netCDF4_8Variable___getattr__, METH_O|METH_COEXIST, 0},
  {"__getitem__", (PyCFunction)__pyx_pf_7netCDF4_8Variable___getitem__, METH_O|METH_COEXIST, 0},
  {"assignValue", (PyCFunction)__pyx_pf_7netCDF4_8Variable_assignValue, METH_O, __pyx_doc_7netCDF4_8Variable_assignValue},
  {"getValue", (PyCFunction)__pyx_pf_7netCDF4_8Variable_getValue, METH_NOARGS, __pyx_doc_7netCDF4_8Variable_getValue},
  {"set_auto_maskandscale", (PyCFunction)__pyx_pf_7netCDF4_8Variable_set_auto_maskandscale, METH_O, __pyx_doc_7netCDF4_8Variable_set_auto_maskandscale},
  {"_put", (PyCFunction)__pyx_pf_7netCDF4_8Variable__put, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF4_8Variable__put},
  {"_get", (PyCFunction)__pyx_pf_7netCDF4_8Variable__get, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF4_8Variable__get},
  {0, 0, 0, 0}
};

static struct PyMemberDef __pyx_members_7netCDF4_Variable[] = {
  {"_varid", T_INT, offsetof(struct __pyx_obj_7netCDF4_Variable, _varid), 0, 0},
  {"_grpid", T_INT, offsetof(struct __pyx_obj_7netCDF4_Variable, _grpid), 0, 0},
  {"_nunlimdim", T_INT, offsetof(struct __pyx_obj_7netCDF4_Variable, _nunlimdim), 0, 0},
  {"ndim", T_OBJECT, offsetof(struct __pyx_obj_7netCDF4_Variable, ndim), 0, 0},
  {"dtype", T_OBJECT, offsetof(struct __pyx_obj_7netCDF4_Variable, dtype), 0, 0},
  {"maskandscale", T_OBJECT, offsetof(struct __pyx_obj_7netCDF4_Variable, maskandscale), 0, 0},
  {0, 0, 0, 0, 0}
};

static struct PyGetSetDef __pyx_getsets_7netCDF4_Variable[] = {
  {"shape", __pyx_getprop_7netCDF4_8Variable_shape, __pyx_setprop_7netCDF4_8Variable_shape, __pyx_k_1, 0},
  {"dimensions", __pyx_getprop_7netCDF4_8Variable_dimensions, __pyx_setprop_7netCDF4_8Variable_dimensions, __pyx_k_2, 0},
  {0, 0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Variable = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Variable = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  __pyx_sq_item_7netCDF4_Variable, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Variable = {
  0, /*mp_length*/
  __pyx_pf_7netCDF4_8Variable___getitem__, /*mp_subscript*/
  __pyx_mp_ass_subscript_7netCDF4_Variable, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Variable = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_NEWBUFFER)
  0, /*bf_getbuffer*/
  #endif
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_NEWBUFFER)
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_7netCDF4_Variable = {
  PyVarObject_HEAD_INIT(0, 0)
  "netCDF4.Variable", /*tp_name*/
  sizeof(struct __pyx_obj_7netCDF4_Variable), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7netCDF4_Variable, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Variable, /*tp_as_number*/
  &__pyx_tp_as_sequence_Variable, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Variable, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  __pyx_tp_getattro_7netCDF4_Variable, /*tp_getattro*/
  __pyx_tp_setattro_7netCDF4_Variable, /*tp_setattro*/
  &__pyx_tp_as_buffer_Variable, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  "\nVariable(self, group, name, datatype, dimensions=(), zlib=False, complevel=6, shuffle=True, fletcher32=False, contiguous=False, chunksizes=None, endian='native', least_significant_digit=None,fill_value=None)\n\nA netCDF L{Variable} is used to read and write netCDF data.  They are \nanalagous to numpy array objects.\n\nL{Variable} instances should be created using the\nL{createVariable<Dataset.createVariable>} method of a L{Dataset} or\nL{Group} instance, not using this class directly.\n\nB{Parameters:}\n\nB{C{group}} - L{Group} or L{Dataset} instance to associate with variable.\n\nB{C{name}}  - Name of the variable.\n\nB{C{datatype}} - L{Variable} data type. Can be specified by providing a \nnumpy dtype object, or a string that describes a numpy dtype object. \nSupported values, corresponding to C{str} attribute of numpy dtype \nobjects, include C{'f4'} (32-bit floating point), C{'f8'} (64-bit floating \npoint), C{'i4'} (32-bit signed integer), C{'i2'} (16-bit signed integer), \nC{'i8'} (64-bit singed integer), C{'i4'} (8-bit singed integer), C{'i1'} \n(8-bit signed integer), C{'u1'} (8-bit unsigned integer), C{'u2'} (16-bit \nunsigned integer), C{'u4'} (32-bit unsigned integer), C{'u8'} (64-bit \nunsigned integer), or C{'S1'} (single-character string).  From \ncompatibility with Scientific.IO.NetCDF, the old Numeric single character \ntypecodes can also be used (C{'f'} instead of C{'f4'}, C{'d'} instead of \nC{'f8'}, C{'h'} or C{'s'} instead of C{'i2'}, C{'b'} or C{'B'} instead of \nC{'i1'}, C{'c'} instead of C{'S1'}, and C{'i'} or C{'l'} instead of \nC{'i4'}).\n\nB{Keywords:}\n\nB{C{dimensions}} - a tuple containing the variable's dimension names \n(defined previously with C{createDimension}). Default is an empty tuple \nwhich means the variable is a scalar (and therefore has no dimensions).\n\nB{C{zlib}} - if C{True}, data assigned to the L{Variable}  \ninstance is compressed on disk. Default C{False}.\n\nB{C{complevel}} - the level of zlib compression to use (1 is the fastest, \nbut poorest compression, 9 is the slowest but best compression). Default 6.\nIgnored if C{zlib=False}. \n\nB{C{shuffle}} - if C{True}, the HDF5 shuffle filter is applied \nto improve compression. Default C{True}. Ignored if C{zlib=False}.\n\nB{C{fletcher32}} - if C{True} (default C{False}), the Fletcher32 checksum \nalgorithm is used for error detection.\n\nB{C{contiguous}} - if C{True} (default C{False}), the variable data is\nstored contiguously on disk.  Default C{False}. Setting to C{True} for\na variable with an unlimited dimension will trigger an error.\n\nB{C{chunksizes}} - Can be used to specify the HDF5 chunksizes for each\ndimension of the variable. A detailed discussion of HDF chunking and I/O\nperformance is available U{here\n<http://www.hdfgroup.org/HDF5/doc/H5.user/Chunking.html>}. \nBasically, you want the chunk size for each dimension to match as\nclosely as possible the size of the data block that users will read\nfrom the file. C{chunksizes} cannot be set if C{contiguous=True}.\n\nB{C{endian}} - Can be used to control whether the\ndata is stored in little or big endian format on disk. Possible\nvalues are C{little, big} or C{native} (default). The library\nwill automatically handle endian conversions when the data is read,\nbut if the data is always going to be read on a computer with the\nopposite format as the one used to create the file, there may be\nsome performance advantage to be gained by setting the endian-ness.\n\nThe C{zlib, complevel, shuffle, fletcher32, contiguous, chunksizes} and C{endian}\nkeywords are silently ignored for netCDF 3 files that do not use HDF5.\n\nB{C{least_significant_digit}} - If specified, variable data will be\ntruncated (quantized). In conjunction with C{zlib=True} this produces\n'lossy', but significantly more efficient compression. For example, if\nC{least_significant_digit=1}, data will be quantized using\naround(scale*data)/scale, where scale = 2**bits, and bits is determined\nso that a precision of 0.1 is retained (in this case bits=4). Default is\nC{None}, or no quantization.\n\nB{C{fill_value}} - If specified, the default netCDF C{_FillValue} (the \nvalue that the variable gets filled with before any data is written to it) \nis replaced with this value.  If fill_value is set to C{False}, then\nthe variable is not pre-filled.\n \nB{Returns:}\n\na L{Variable} instance.  All further operations on the netCDF Variable are \naccomplised via L{Variable} instance methods.\n\nA list of attribute names corresponding to netCDF attributes defined for\nthe variable can be obtained with the C{ncattrs()} method. These\nattributes can be created by assigning to an attribute of the\nL{Variable} instance. A dictionary containing all the netCDF attribute\nname/value pairs is provided by the C{__dict__} attribute of a\nL{Variable} instance.\n\nThe instance variables C{dimensions, dtype, ndim, shape}\nand C{least_significant_digit} are read-only (and \nshould not be modified by the user).\n\n@ivar dimensions: A tuple containing the names of the dimensions \nassociated with this variable.\n\n@ivar dtype: A numpy dtype object describing the variable's data type.\n\n@ivar ndim: The number of variable dimensions.\n\n@ivar shape: a tuple describing the current size of all the variable's \ndimensions.\n\n@ivar least_significant_digit: Describes the power of ten of the smallest \ndecimal place in the data the contains a reliable value.  Data is \ntruncated to this decimal place when it is assigned to the L{Variable} \ninstance. If C{None}, the data is not truncated. ", /*tp_doc*/
  __pyx_tp_traverse_7netCDF4_Variable, /*tp_traverse*/
  __pyx_tp_clear_7netCDF4_Variable, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7netCDF4_Variable, /*tp_methods*/
  __pyx_members_7netCDF4_Variable, /*tp_members*/
  __pyx_getsets_7netCDF4_Variable, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_pf_7netCDF4_8Variable___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7netCDF4_Variable, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_7netCDF4_CompoundType(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7netCDF4_CompoundType *p;
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  p = ((struct __pyx_obj_7netCDF4_CompoundType *)o);
  p->dtype = Py_None; Py_INCREF(Py_None);
  p->name = Py_None; Py_INCREF(Py_None);
  return o;
}

static void __pyx_tp_dealloc_7netCDF4_CompoundType(PyObject *o) {
  struct __pyx_obj_7netCDF4_CompoundType *p = (struct __pyx_obj_7netCDF4_CompoundType *)o;
  Py_XDECREF(p->dtype);
  Py_XDECREF(p->name);
  (*Py_TYPE(o)->tp_free)(o);
}

static int __pyx_tp_traverse_7netCDF4_CompoundType(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7netCDF4_CompoundType *p = (struct __pyx_obj_7netCDF4_CompoundType *)o;
  if (p->dtype) {
    e = (*v)(p->dtype, a); if (e) return e;
  }
  if (p->name) {
    e = (*v)(p->name, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7netCDF4_CompoundType(PyObject *o) {
  struct __pyx_obj_7netCDF4_CompoundType *p = (struct __pyx_obj_7netCDF4_CompoundType *)o;
  PyObject* tmp;
  tmp = ((PyObject*)p->dtype);
  p->dtype = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->name);
  p->name = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static struct PyMethodDef __pyx_methods_7netCDF4_CompoundType[] = {
  {0, 0, 0, 0}
};

static struct PyMemberDef __pyx_members_7netCDF4_CompoundType[] = {
  {"_nc_type", T_INT, offsetof(struct __pyx_obj_7netCDF4_CompoundType, _nc_type), 0, 0},
  {"dtype", T_OBJECT, offsetof(struct __pyx_obj_7netCDF4_CompoundType, dtype), 0, 0},
  {"name", T_OBJECT, offsetof(struct __pyx_obj_7netCDF4_CompoundType, name), 0, 0},
  {0, 0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_CompoundType = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_CompoundType = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_CompoundType = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_CompoundType = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_NEWBUFFER)
  0, /*bf_getbuffer*/
  #endif
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_NEWBUFFER)
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_7netCDF4_CompoundType = {
  PyVarObject_HEAD_INIT(0, 0)
  "netCDF4.CompoundType", /*tp_name*/
  sizeof(struct __pyx_obj_7netCDF4_CompoundType), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7netCDF4_CompoundType, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_CompoundType, /*tp_as_number*/
  &__pyx_tp_as_sequence_CompoundType, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_CompoundType, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_CompoundType, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  "\nA L{CompoundType} instance is used to describe a compound data type.\n\nConstructor: C{CompoundType(group, datatype, datatype_name)}\n\n@attention: When creating nested compound data types,\nthe inner compound data types must already be associated with CompoundType\ninstances (so create CompoundType instances for the innermost structures\nfirst).\n\nL{CompoundType} instances should be created using the C{createCompoundType method} \nof a Dataset or L{Group} instance, not using this class directly.\n\nB{Parameters:}\n\nB{C{group}} - L{Group} instance to associate with the compound datatype.\n\nB{C{datatype}} - A numpy dtype object describing a structured (a.k.a record)\narray.  Can be composed of homogeneous numeric or character data types, or \nother structured array data types. \n\nB{C{datatype_name}} - a Python string containing a description of the \ncompound data type.\n\nB{Returns:}\n\na L{CompoundType} instance, which can be passed to the C{createVariable} \nmethod of a L{Dataset} or L{Group} instance.\n\nThe instance variables C{dtype} and C{name} should not be modified by\nthe user.\n\n@ivar dtype: A numpy dtype object describing the compound data type.\n\n@ivar name: A python string describing the compound type.\n", /*tp_doc*/
  __pyx_tp_traverse_7netCDF4_CompoundType, /*tp_traverse*/
  __pyx_tp_clear_7netCDF4_CompoundType, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7netCDF4_CompoundType, /*tp_methods*/
  __pyx_members_7netCDF4_CompoundType, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_pf_7netCDF4_12CompoundType___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7netCDF4_CompoundType, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static struct PyMethodDef __pyx_methods[] = {
  {"_set_default_format", (PyCFunction)__pyx_pf_7netCDF4__set_default_format, METH_VARARGS|METH_KEYWORDS, 0},
  {"stringtoarr", (PyCFunction)__pyx_pf_7netCDF4_stringtoarr, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF4_stringtoarr},
  {"stringtochar", (PyCFunction)__pyx_pf_7netCDF4_stringtochar, METH_O, __pyx_doc_7netCDF4_stringtochar},
  {"chartostring", (PyCFunction)__pyx_pf_7netCDF4_chartostring, METH_O, __pyx_doc_7netCDF4_chartostring},
  {"date2num", (PyCFunction)__pyx_pf_7netCDF4_date2num, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF4_date2num},
  {"num2date", (PyCFunction)__pyx_pf_7netCDF4_num2date, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF4_num2date},
  {"date2index", (PyCFunction)__pyx_pf_7netCDF4_date2index, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF4_date2index},
  {"_check_index", (PyCFunction)__pyx_pf_7netCDF4__check_index, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF4__check_index},
  {"getlibversion", (PyCFunction)__pyx_pf_7netCDF4_getlibversion, METH_NOARGS, __pyx_doc_7netCDF4_getlibversion},
  {0, 0, 0, 0}
};

static void __pyx_init_filenames(void); /*proto*/

#if PY_MAJOR_VERSION >= 3
static struct PyModuleDef __pyx_moduledef = {
    PyModuleDef_HEAD_INIT,
    "netCDF4",
    __pyx_mdoc, /* m_doc */
    -1, /* m_size */
    __pyx_methods /* m_methods */,
    NULL, /* m_reload */
    NULL, /* m_traverse */
    NULL, /* m_clear */
    NULL /* m_free */
};
#endif

static __Pyx_StringTabEntry __pyx_string_tab[] = {
  {&__pyx_kp___init__, __pyx_k___init__, sizeof(__pyx_k___init__), 0, 1, 1},
  {&__pyx_kp_close, __pyx_k_close, sizeof(__pyx_k_close), 0, 1, 1},
  {&__pyx_kp_sync, __pyx_k_sync, sizeof(__pyx_k_sync), 0, 1, 1},
  {&__pyx_kp__redef, __pyx_k__redef, sizeof(__pyx_k__redef), 0, 1, 1},
  {&__pyx_kp__enddef, __pyx_k__enddef, sizeof(__pyx_k__enddef), 0, 1, 1},
  {&__pyx_kp_set_fill_on, __pyx_k_set_fill_on, sizeof(__pyx_k_set_fill_on), 0, 1, 1},
  {&__pyx_kp_set_fill_off, __pyx_k_set_fill_off, sizeof(__pyx_k_set_fill_off), 0, 1, 1},
  {&__pyx_kp_createDimension, __pyx_k_createDimension, sizeof(__pyx_k_createDimension), 0, 1, 1},
  {&__pyx_kp_renameDimension, __pyx_k_renameDimension, sizeof(__pyx_k_renameDimension), 0, 1, 1},
  {&__pyx_kp_createCompoundType, __pyx_k_createCompoundType, sizeof(__pyx_k_createCompoundType), 0, 1, 1},
  {&__pyx_kp_createVariable, __pyx_k_createVariable, sizeof(__pyx_k_createVariable), 0, 1, 1},
  {&__pyx_kp_renameVariable, __pyx_k_renameVariable, sizeof(__pyx_k_renameVariable), 0, 1, 1},
  {&__pyx_kp_createGroup, __pyx_k_createGroup, sizeof(__pyx_k_createGroup), 0, 1, 1},
  {&__pyx_kp_ncattrs, __pyx_k_ncattrs, sizeof(__pyx_k_ncattrs), 0, 1, 1},
  {&__pyx_kp___delattr__, __pyx_k___delattr__, sizeof(__pyx_k___delattr__), 0, 1, 1},
  {&__pyx_kp___setattr__, __pyx_k___setattr__, sizeof(__pyx_k___setattr__), 0, 1, 1},
  {&__pyx_kp___getattr__, __pyx_k___getattr__, sizeof(__pyx_k___getattr__), 0, 1, 1},
  {&__pyx_kp___len__, __pyx_k___len__, sizeof(__pyx_k___len__), 0, 1, 1},
  {&__pyx_kp_isunlimited, __pyx_k_isunlimited, sizeof(__pyx_k_isunlimited), 0, 1, 1},
  {&__pyx_kp_group, __pyx_k_group, sizeof(__pyx_k_group), 0, 1, 1},
  {&__pyx_kp_filters, __pyx_k_filters, sizeof(__pyx_k_filters), 0, 1, 1},
  {&__pyx_kp_endian, __pyx_k_endian, sizeof(__pyx_k_endian), 0, 1, 1},
  {&__pyx_kp_chunking, __pyx_k_chunking, sizeof(__pyx_k_chunking), 0, 1, 1},
  {&__pyx_kp___getitem__, __pyx_k___getitem__, sizeof(__pyx_k___getitem__), 0, 1, 1},
  {&__pyx_kp___setitem__, __pyx_k___setitem__, sizeof(__pyx_k___setitem__), 0, 1, 1},
  {&__pyx_kp_assignValue, __pyx_k_assignValue, sizeof(__pyx_k_assignValue), 0, 1, 1},
  {&__pyx_kp_getValue, __pyx_k_getValue, sizeof(__pyx_k_getValue), 0, 1, 1},
  {&__pyx_kp_3, __pyx_k_3, sizeof(__pyx_k_3), 0, 1, 1},
  {&__pyx_kp__put, __pyx_k__put, sizeof(__pyx_k__put), 0, 1, 1},
  {&__pyx_kp__get, __pyx_k__get, sizeof(__pyx_k__get), 0, 1, 1},
  {&__pyx_kp_4, __pyx_k_4, sizeof(__pyx_k_4), 1, 1, 1},
  {&__pyx_kp__StartCountStride, __pyx_k__StartCountStride, sizeof(__pyx_k__StartCountStride), 1, 1, 1},
  {&__pyx_kp__quantize, __pyx_k__quantize, sizeof(__pyx_k__quantize), 1, 1, 1},
  {&__pyx_kp__find_dim, __pyx_k__find_dim, sizeof(__pyx_k__find_dim), 1, 1, 1},
  {&__pyx_kp__out_array_shape, __pyx_k__out_array_shape, sizeof(__pyx_k__out_array_shape), 1, 1, 1},
  {&__pyx_kp__sortbylist, __pyx_k__sortbylist, sizeof(__pyx_k__sortbylist), 1, 1, 1},
  {&__pyx_kp___version__, __pyx_k___version__, sizeof(__pyx_k___version__), 1, 1, 1},
  {&__pyx_kp_os, __pyx_k_os, sizeof(__pyx_k_os), 1, 1, 1},
  {&__pyx_kp_netcdftime, __pyx_k_netcdftime, sizeof(__pyx_k_netcdftime), 1, 1, 1},
  {&__pyx_kp_numpy, __pyx_k_numpy, sizeof(__pyx_k_numpy), 1, 1, 1},
  {&__pyx_kp_glob, __pyx_k_glob, sizeof(__pyx_k_glob), 1, 1, 1},
  {&__pyx_kp_ma, __pyx_k_ma, sizeof(__pyx_k_ma), 1, 1, 1},
  {&__pyx_kp__npversion, __pyx_k__npversion, sizeof(__pyx_k__npversion), 0, 1, 1},
  {&__pyx_kp_split, __pyx_k_split, sizeof(__pyx_k_split), 1, 1, 1},
  {&__pyx_kp_ImportError, __pyx_k_ImportError, sizeof(__pyx_k_ImportError), 1, 1, 1},
  {&__pyx_kp_9, __pyx_k_9, sizeof(__pyx_k_9), 0, 1, 0},
  {&__pyx_kp_10, __pyx_k_10, sizeof(__pyx_k_10), 0, 1, 0},
  {&__pyx_kp_11, __pyx_k_11, sizeof(__pyx_k_11), 0, 1, 0},
  {&__pyx_kp_12, __pyx_k_12, sizeof(__pyx_k_12), 0, 1, 0},
  {&__pyx_kp_13, __pyx_k_13, sizeof(__pyx_k_13), 0, 1, 0},
  {&__pyx_kp_14, __pyx_k_14, sizeof(__pyx_k_14), 0, 1, 0},
  {&__pyx_kp_15, __pyx_k_15, sizeof(__pyx_k_15), 0, 1, 0},
  {&__pyx_kp_16, __pyx_k_16, sizeof(__pyx_k_16), 0, 1, 0},
  {&__pyx_kp_17, __pyx_k_17, sizeof(__pyx_k_17), 0, 1, 0},
  {&__pyx_kp_18, __pyx_k_18, sizeof(__pyx_k_18), 0, 1, 0},
  {&__pyx_kp_19, __pyx_k_19, sizeof(__pyx_k_19), 0, 1, 0},
  {&__pyx_kp__nptonctype, __pyx_k__nptonctype, sizeof(__pyx_k__nptonctype), 1, 1, 1},
  {&__pyx_kp_20, __pyx_k_20, sizeof(__pyx_k_20), 0, 1, 0},
  {&__pyx_kp_22, __pyx_k_22, sizeof(__pyx_k_22), 0, 1, 0},
  {&__pyx_kp_23, __pyx_k_23, sizeof(__pyx_k_23), 0, 1, 0},
  {&__pyx_kp_24, __pyx_k_24, sizeof(__pyx_k_24), 0, 1, 0},
  {&__pyx_kp_25, __pyx_k_25, sizeof(__pyx_k_25), 0, 1, 0},
  {&__pyx_kp_26, __pyx_k_26, sizeof(__pyx_k_26), 0, 1, 0},
  {&__pyx_kp_27, __pyx_k_27, sizeof(__pyx_k_27), 0, 1, 0},
  {&__pyx_kp_28, __pyx_k_28, sizeof(__pyx_k_28), 0, 1, 0},
  {&__pyx_kp_29, __pyx_k_29, sizeof(__pyx_k_29), 0, 1, 0},
  {&__pyx_kp_30, __pyx_k_30, sizeof(__pyx_k_30), 0, 1, 0},
  {&__pyx_kp_31, __pyx_k_31, sizeof(__pyx_k_31), 0, 1, 0},
  {&__pyx_kp__default_fillvals, __pyx_k__default_fillvals, sizeof(__pyx_k__default_fillvals), 1, 1, 1},
  {&__pyx_kp__nctonptype, __pyx_k__nctonptype, sizeof(__pyx_k__nctonptype), 1, 1, 1},
  {&__pyx_kp__key, __pyx_k__key, sizeof(__pyx_k__key), 1, 1, 1},
  {&__pyx_kp__value, __pyx_k__value, sizeof(__pyx_k__value), 1, 1, 1},
  {&__pyx_kp_iteritems, __pyx_k_iteritems, sizeof(__pyx_k_iteritems), 1, 1, 1},
  {&__pyx_kp_keys, __pyx_k_keys, sizeof(__pyx_k_keys), 1, 1, 1},
  {&__pyx_kp__supportedtypes, __pyx_k__supportedtypes, sizeof(__pyx_k__supportedtypes), 1, 1, 1},
  {&__pyx_kp_32, __pyx_k_32, sizeof(__pyx_k_32), 0, 1, 0},
  {&__pyx_kp_34, __pyx_k_34, sizeof(__pyx_k_34), 0, 1, 0},
  {&__pyx_kp_35, __pyx_k_35, sizeof(__pyx_k_35), 0, 1, 0},
  {&__pyx_kp_36, __pyx_k_36, sizeof(__pyx_k_36), 0, 1, 0},
  {&__pyx_kp_37, __pyx_k_37, sizeof(__pyx_k_37), 0, 1, 0},
  {&__pyx_kp_38, __pyx_k_38, sizeof(__pyx_k_38), 0, 1, 0},
  {&__pyx_kp_39, __pyx_k_39, sizeof(__pyx_k_39), 0, 1, 0},
  {&__pyx_kp_40, __pyx_k_40, sizeof(__pyx_k_40), 0, 1, 0},
  {&__pyx_kp_41, __pyx_k_41, sizeof(__pyx_k_41), 0, 1, 0},
  {&__pyx_kp_42, __pyx_k_42, sizeof(__pyx_k_42), 0, 1, 0},
  {&__pyx_kp_43, __pyx_k_43, sizeof(__pyx_k_43), 0, 1, 0},
  {&__pyx_kp_44, __pyx_k_44, sizeof(__pyx_k_44), 0, 1, 0},
  {&__pyx_kp_45, __pyx_k_45, sizeof(__pyx_k_45), 0, 1, 0},
  {&__pyx_kp_46, __pyx_k_46, sizeof(__pyx_k_46), 0, 1, 0},
  {&__pyx_kp__private_atts, __pyx_k__private_atts, sizeof(__pyx_k__private_atts), 1, 1, 1},
  {&__pyx_kp_47, __pyx_k_47, sizeof(__pyx_k_47), 0, 1, 0},
  {&__pyx_kp_49, __pyx_k_49, sizeof(__pyx_k_49), 0, 1, 0},
  {&__pyx_kp_54, __pyx_k_54, sizeof(__pyx_k_54), 0, 1, 0},
  {&__pyx_kp_59, __pyx_k_59, sizeof(__pyx_k_59), 0, 1, 0},
  {&__pyx_kp_60, __pyx_k_60, sizeof(__pyx_k_60), 0, 1, 0},
  {&__pyx_kp_61, __pyx_k_61, sizeof(__pyx_k_61), 0, 1, 0},
  {&__pyx_kp_MFDataset, __pyx_k_MFDataset, sizeof(__pyx_k_MFDataset), 0, 1, 1},
  {&__pyx_kp___getattribute__, __pyx_k___getattribute__, sizeof(__pyx_k___getattribute__), 0, 1, 1},
  {&__pyx_kp__Dimension, __pyx_k__Dimension, sizeof(__pyx_k__Dimension), 0, 1, 1},
  {&__pyx_kp_object, __pyx_k_object, sizeof(__pyx_k_object), 1, 1, 1},
  {&__pyx_kp__Variable, __pyx_k__Variable, sizeof(__pyx_k__Variable), 0, 1, 1},
  {&__pyx_kp_typecode, __pyx_k_typecode, sizeof(__pyx_k_typecode), 0, 1, 1},
  {&__pyx_kp__shape, __pyx_k__shape, sizeof(__pyx_k__shape), 0, 1, 1},
  {&__pyx_kp_RuntimeError, __pyx_k_RuntimeError, sizeof(__pyx_k_RuntimeError), 1, 1, 1},
  {&__pyx_kp_append, __pyx_k_append, sizeof(__pyx_k_append), 1, 1, 1},
  {&__pyx_kp__grpid, __pyx_k__grpid, sizeof(__pyx_k__grpid), 1, 1, 1},
  {&__pyx_kp_AttributeError, __pyx_k_AttributeError, sizeof(__pyx_k_AttributeError), 1, 1, 1},
  {&__pyx_kp_empty, __pyx_k_empty, sizeof(__pyx_k_empty), 1, 1, 1},
  {&__pyx_kp_65, __pyx_k_65, sizeof(__pyx_k_65), 0, 1, 0},
  {&__pyx_kp_tostring, __pyx_k_tostring, sizeof(__pyx_k_tostring), 1, 1, 1},
  {&__pyx_kp_replace, __pyx_k_replace, sizeof(__pyx_k_replace), 1, 1, 1},
  {&__pyx_kp_KeyError, __pyx_k_KeyError, sizeof(__pyx_k_KeyError), 1, 1, 1},
  {&__pyx_kp_shape, __pyx_k_shape, sizeof(__pyx_k_shape), 1, 1, 1},
  {&__pyx_kp_item, __pyx_k_item, sizeof(__pyx_k_item), 1, 1, 1},
  {&__pyx_kp_69, __pyx_k_69, sizeof(__pyx_k_69), 0, 1, 0},
  {&__pyx_kp_71, __pyx_k_71, sizeof(__pyx_k_71), 0, 1, 0},
  {&__pyx_kp_73, __pyx_k_73, sizeof(__pyx_k_73), 0, 1, 0},
  {&__pyx_kp_75, __pyx_k_75, sizeof(__pyx_k_75), 0, 1, 0},
  {&__pyx_kp_ValueError, __pyx_k_ValueError, sizeof(__pyx_k_ValueError), 1, 1, 1},
  {&__pyx_kp_78, __pyx_k_78, sizeof(__pyx_k_78), 0, 1, 0},
  {&__pyx_kp_79, __pyx_k_79, sizeof(__pyx_k_79), 0, 1, 0},
  {&__pyx_kp_80, __pyx_k_80, sizeof(__pyx_k_80), 0, 1, 0},
  {&__pyx_kp_81, __pyx_k_81, sizeof(__pyx_k_81), 0, 1, 0},
  {&__pyx_kp_array, __pyx_k_array, sizeof(__pyx_k_array), 1, 1, 1},
  {&__pyx_kp_dtype, __pyx_k_dtype, sizeof(__pyx_k_dtype), 1, 1, 1},
  {&__pyx_kp_str, __pyx_k_str, sizeof(__pyx_k_str), 1, 1, 1},
  {&__pyx_kp_82, __pyx_k_82, sizeof(__pyx_k_82), 0, 1, 0},
  {&__pyx_kp_83, __pyx_k_83, sizeof(__pyx_k_83), 0, 1, 0},
  {&__pyx_kp_startswith, __pyx_k_startswith, sizeof(__pyx_k_startswith), 1, 1, 1},
  {&__pyx_kp_84, __pyx_k_84, sizeof(__pyx_k_84), 0, 1, 0},
  {&__pyx_kp_astype, __pyx_k_astype, sizeof(__pyx_k_astype), 1, 1, 1},
  {&__pyx_kp_85, __pyx_k_85, sizeof(__pyx_k_85), 0, 1, 0},
  {&__pyx_kp_char, __pyx_k_char, sizeof(__pyx_k_char), 1, 1, 1},
  {&__pyx_kp_86, __pyx_k_86, sizeof(__pyx_k_86), 0, 1, 0},
  {&__pyx_kp_kind, __pyx_k_kind, sizeof(__pyx_k_kind), 1, 1, 1},
  {&__pyx_kp_87, __pyx_k_87, sizeof(__pyx_k_87), 0, 1, 0},
  {&__pyx_kp_TypeError, __pyx_k_TypeError, sizeof(__pyx_k_TypeError), 1, 1, 1},
  {&__pyx_kp_file_format, __pyx_k_file_format, sizeof(__pyx_k_file_format), 1, 1, 1},
  {&__pyx_kp_89, __pyx_k_89, sizeof(__pyx_k_89), 0, 1, 0},
  {&__pyx_kp_id, __pyx_k_id, sizeof(__pyx_k_id), 1, 1, 1},
  {&__pyx_kp_90, __pyx_k_90, sizeof(__pyx_k_90), 0, 1, 0},
  {&__pyx_kp_dimensions, __pyx_k_dimensions, sizeof(__pyx_k_dimensions), 1, 1, 1},
  {&__pyx_kp__dimid, __pyx_k__dimid, sizeof(__pyx_k__dimid), 1, 1, 1},
  {&__pyx_kp_parent, __pyx_k_parent, sizeof(__pyx_k_parent), 1, 1, 1},
  {&__pyx_kp_92, __pyx_k_92, sizeof(__pyx_k_92), 0, 1, 0},
  {&__pyx_kp__set_default_format, __pyx_k__set_default_format, sizeof(__pyx_k__set_default_format), 0, 1, 1},
  {&__pyx_kp_format, __pyx_k_format, sizeof(__pyx_k_format), 1, 1, 1},
  {&__pyx_kp_93, __pyx_k_93, sizeof(__pyx_k_93), 0, 1, 0},
  {&__pyx_kp_95, __pyx_k_95, sizeof(__pyx_k_95), 0, 1, 0},
  {&__pyx_kp_96, __pyx_k_96, sizeof(__pyx_k_96), 0, 1, 0},
  {&__pyx_kp_98, __pyx_k_98, sizeof(__pyx_k_98), 0, 1, 0},
  {&__pyx_kp_101, __pyx_k_101, sizeof(__pyx_k_101), 0, 1, 0},
  {&__pyx_kp_size, __pyx_k_size, sizeof(__pyx_k_size), 1, 1, 1},
  {&__pyx_kp_102, __pyx_k_102, sizeof(__pyx_k_102), 0, 1, 0},
  {&__pyx_kp_103, __pyx_k_103, sizeof(__pyx_k_103), 0, 1, 0},
  {&__pyx_kp_pop, __pyx_k_pop, sizeof(__pyx_k_pop), 1, 1, 1},
  {&__pyx_kp_zlib, __pyx_k_zlib, sizeof(__pyx_k_zlib), 1, 1, 1},
  {&__pyx_kp_complevel, __pyx_k_complevel, sizeof(__pyx_k_complevel), 1, 1, 1},
  {&__pyx_kp_shuffle, __pyx_k_shuffle, sizeof(__pyx_k_shuffle), 1, 1, 1},
  {&__pyx_kp_104, __pyx_k_104, sizeof(__pyx_k_104), 1, 1, 1},
  {&__pyx_kp_contiguous, __pyx_k_contiguous, sizeof(__pyx_k_contiguous), 1, 1, 1},
  {&__pyx_kp_chunksizes, __pyx_k_chunksizes, sizeof(__pyx_k_chunksizes), 1, 1, 1},
  {&__pyx_kp_105, __pyx_k_105, sizeof(__pyx_k_105), 1, 1, 1},
  {&__pyx_kp_fill_value, __pyx_k_fill_value, sizeof(__pyx_k_fill_value), 1, 1, 1},
  {&__pyx_kp_107, __pyx_k_107, sizeof(__pyx_k_107), 0, 1, 0},
  {&__pyx_kp__varid, __pyx_k__varid, sizeof(__pyx_k__varid), 1, 1, 1},
  {&__pyx_kp_108, __pyx_k_108, sizeof(__pyx_k_108), 0, 1, 0},
  {&__pyx_kp_109, __pyx_k_109, sizeof(__pyx_k_109), 0, 1, 0},
  {&__pyx_kp_110, __pyx_k_110, sizeof(__pyx_k_110), 0, 1, 0},
  {&__pyx_kp_112, __pyx_k_112, sizeof(__pyx_k_112), 0, 1, 0},
  {&__pyx_kp_113, __pyx_k_113, sizeof(__pyx_k_113), 0, 1, 0},
  {&__pyx_kp_endswith, __pyx_k_endswith, sizeof(__pyx_k_endswith), 1, 1, 1},
  {&__pyx_kp_114, __pyx_k_114, sizeof(__pyx_k_114), 0, 1, 0},
  {&__pyx_kp___dict__, __pyx_k___dict__, sizeof(__pyx_k___dict__), 1, 1, 1},
  {&__pyx_kp_116, __pyx_k_116, sizeof(__pyx_k_116), 0, 1, 0},
  {&__pyx_kp_117, __pyx_k_117, sizeof(__pyx_k_117), 0, 1, 0},
  {&__pyx_kp_118, __pyx_k_118, sizeof(__pyx_k_118), 0, 1, 0},
  {&__pyx_kp_zip, __pyx_k_zip, sizeof(__pyx_k_zip), 1, 1, 1},
  {&__pyx_kp_has_key, __pyx_k_has_key, sizeof(__pyx_k_has_key), 1, 1, 1},
  {&__pyx_kp_119, __pyx_k_119, sizeof(__pyx_k_119), 0, 1, 0},
  {&__pyx_kp_120, __pyx_k_120, sizeof(__pyx_k_120), 0, 1, 0},
  {&__pyx_kp_path, __pyx_k_path, sizeof(__pyx_k_path), 1, 1, 1},
  {&__pyx_kp_join, __pyx_k_join, sizeof(__pyx_k_join), 1, 1, 1},
  {&__pyx_kp_IOError, __pyx_k_IOError, sizeof(__pyx_k_IOError), 1, 1, 1},
  {&__pyx_kp_122, __pyx_k_122, sizeof(__pyx_k_122), 0, 1, 0},
  {&__pyx_kp_123, __pyx_k_123, sizeof(__pyx_k_123), 0, 1, 0},
  {&__pyx_kp_124, __pyx_k_124, sizeof(__pyx_k_124), 0, 1, 0},
  {&__pyx_kp_125, __pyx_k_125, sizeof(__pyx_k_125), 0, 1, 0},
  {&__pyx_kp_126, __pyx_k_126, sizeof(__pyx_k_126), 0, 1, 0},
  {&__pyx_kp__nc_type, __pyx_k__nc_type, sizeof(__pyx_k__nc_type), 1, 1, 1},
  {&__pyx_kp_129, __pyx_k_129, sizeof(__pyx_k_129), 0, 1, 0},
  {&__pyx_kp_130, __pyx_k_130, sizeof(__pyx_k_130), 0, 1, 0},
  {&__pyx_kp_132, __pyx_k_132, sizeof(__pyx_k_132), 0, 1, 0},
  {&__pyx_kp_133, __pyx_k_133, sizeof(__pyx_k_133), 0, 1, 0},
  {&__pyx_kp_134, __pyx_k_134, sizeof(__pyx_k_134), 0, 1, 0},
  {&__pyx_kp_135, __pyx_k_135, sizeof(__pyx_k_135), 0, 1, 0},
  {&__pyx_kp_136, __pyx_k_136, sizeof(__pyx_k_136), 0, 1, 0},
  {&__pyx_kp_137, __pyx_k_137, sizeof(__pyx_k_137), 0, 1, 0},
  {&__pyx_kp_139, __pyx_k_139, sizeof(__pyx_k_139), 0, 1, 0},
  {&__pyx_kp_141, __pyx_k_141, sizeof(__pyx_k_141), 0, 1, 0},
  {&__pyx_kp_142, __pyx_k_142, sizeof(__pyx_k_142), 0, 1, 0},
  {&__pyx_kp_143, __pyx_k_143, sizeof(__pyx_k_143), 0, 1, 0},
  {&__pyx_kp_144, __pyx_k_144, sizeof(__pyx_k_144), 0, 1, 0},
  {&__pyx_kp_146, __pyx_k_146, sizeof(__pyx_k_146), 0, 1, 0},
  {&__pyx_kp_bool, __pyx_k_bool, sizeof(__pyx_k_bool), 1, 1, 1},
  {&__pyx_kp_147, __pyx_k_147, sizeof(__pyx_k_147), 0, 1, 0},
  {&__pyx_kp_148, __pyx_k_148, sizeof(__pyx_k_148), 0, 1, 0},
  {&__pyx_kp_149, __pyx_k_149, sizeof(__pyx_k_149), 0, 1, 0},
  {&__pyx_kp_152, __pyx_k_152, sizeof(__pyx_k_152), 0, 1, 0},
  {&__pyx_kp_153, __pyx_k_153, sizeof(__pyx_k_153), 0, 1, 0},
  {&__pyx_kp_154, __pyx_k_154, sizeof(__pyx_k_154), 0, 1, 0},
  {&__pyx_kp_155, __pyx_k_155, sizeof(__pyx_k_155), 0, 1, 0},
  {&__pyx_kp_156, __pyx_k_156, sizeof(__pyx_k_156), 0, 1, 0},
  {&__pyx_kp_157, __pyx_k_157, sizeof(__pyx_k_157), 0, 1, 0},
  {&__pyx_kp_158, __pyx_k_158, sizeof(__pyx_k_158), 0, 1, 0},
  {&__pyx_kp_159, __pyx_k_159, sizeof(__pyx_k_159), 0, 1, 0},
  {&__pyx_kp_160, __pyx_k_160, sizeof(__pyx_k_160), 0, 1, 0},
  {&__pyx_kp_161, __pyx_k_161, sizeof(__pyx_k_161), 0, 1, 0},
  {&__pyx_kp_162, __pyx_k_162, sizeof(__pyx_k_162), 0, 1, 0},
  {&__pyx_kp_163, __pyx_k_163, sizeof(__pyx_k_163), 0, 1, 0},
  {&__pyx_kp_164, __pyx_k_164, sizeof(__pyx_k_164), 0, 1, 0},
  {&__pyx_kp_165, __pyx_k_165, sizeof(__pyx_k_165), 0, 1, 0},
  {&__pyx_kp_166, __pyx_k_166, sizeof(__pyx_k_166), 0, 1, 0},
  {&__pyx_kp_167, __pyx_k_167, sizeof(__pyx_k_167), 0, 1, 0},
  {&__pyx_kp_168, __pyx_k_168, sizeof(__pyx_k_168), 0, 1, 0},
  {&__pyx_kp_169, __pyx_k_169, sizeof(__pyx_k_169), 0, 1, 0},
  {&__pyx_kp_170, __pyx_k_170, sizeof(__pyx_k_170), 0, 1, 0},
  {&__pyx_kp_171, __pyx_k_171, sizeof(__pyx_k_171), 0, 1, 0},
  {&__pyx_kp_173, __pyx_k_173, sizeof(__pyx_k_173), 0, 1, 0},
  {&__pyx_kp_174, __pyx_k_174, sizeof(__pyx_k_174), 0, 1, 0},
  {&__pyx_kp_175, __pyx_k_175, sizeof(__pyx_k_175), 0, 1, 0},
  {&__pyx_kp_176, __pyx_k_176, sizeof(__pyx_k_176), 0, 1, 0},
  {&__pyx_kp_178, __pyx_k_178, sizeof(__pyx_k_178), 0, 1, 0},
  {&__pyx_kp_179, __pyx_k_179, sizeof(__pyx_k_179), 0, 1, 0},
  {&__pyx_kp_180, __pyx_k_180, sizeof(__pyx_k_180), 0, 1, 0},
  {&__pyx_kp_ndim, __pyx_k_ndim, sizeof(__pyx_k_ndim), 1, 1, 1},
  {&__pyx_kp_enumerate, __pyx_k_enumerate, sizeof(__pyx_k_enumerate), 1, 1, 1},
  {&__pyx_kp_ravel, __pyx_k_ravel, sizeof(__pyx_k_ravel), 1, 1, 1},
  {&__pyx_kp_reshape, __pyx_k_reshape, sizeof(__pyx_k_reshape), 1, 1, 1},
  {&__pyx_kp_squeeze, __pyx_k_squeeze, sizeof(__pyx_k_squeeze), 1, 1, 1},
  {&__pyx_kp_zeros, __pyx_k_zeros, sizeof(__pyx_k_zeros), 1, 1, 1},
  {&__pyx_kp_181, __pyx_k_181, sizeof(__pyx_k_181), 0, 1, 0},
  {&__pyx_kp_missing_value, __pyx_k_missing_value, sizeof(__pyx_k_missing_value), 1, 1, 1},
  {&__pyx_kp_any, __pyx_k_any, sizeof(__pyx_k_any), 1, 1, 1},
  {&__pyx_kp_182, __pyx_k_182, sizeof(__pyx_k_182), 0, 1, 0},
  {&__pyx_kp__FillValue, __pyx_k__FillValue, sizeof(__pyx_k__FillValue), 1, 1, 1},
  {&__pyx_kp_masked_array, __pyx_k_masked_array, sizeof(__pyx_k_masked_array), 1, 1, 1},
  {&__pyx_kp_mask, __pyx_k_mask, sizeof(__pyx_k_mask), 1, 1, 1},
  {&__pyx_kp_183, __pyx_k_183, sizeof(__pyx_k_183), 0, 1, 0},
  {&__pyx_kp_184, __pyx_k_184, sizeof(__pyx_k_184), 0, 1, 0},
  {&__pyx_kp_scale_factor, __pyx_k_scale_factor, sizeof(__pyx_k_scale_factor), 1, 1, 1},
  {&__pyx_kp_add_offset, __pyx_k_add_offset, sizeof(__pyx_k_add_offset), 1, 1, 1},
  {&__pyx_kp_ndarray, __pyx_k_ndarray, sizeof(__pyx_k_ndarray), 1, 1, 1},
  {&__pyx_kp_datashape, __pyx_k_datashape, sizeof(__pyx_k_datashape), 1, 1, 1},
  {&__pyx_kp_tile, __pyx_k_tile, sizeof(__pyx_k_tile), 1, 1, 1},
  {&__pyx_kp_185, __pyx_k_185, sizeof(__pyx_k_185), 0, 1, 0},
  {&__pyx_kp_186, __pyx_k_186, sizeof(__pyx_k_186), 0, 1, 0},
  {&__pyx_kp_187, __pyx_k_187, sizeof(__pyx_k_187), 0, 1, 0},
  {&__pyx_kp_188, __pyx_k_188, sizeof(__pyx_k_188), 0, 1, 0},
  {&__pyx_kp_filled, __pyx_k_filled, sizeof(__pyx_k_filled), 1, 1, 1},
  {&__pyx_kp_189, __pyx_k_189, sizeof(__pyx_k_189), 0, 1, 0},
  {&__pyx_kp_190, __pyx_k_190, sizeof(__pyx_k_190), 0, 1, 0},
  {&__pyx_kp_IndexError, __pyx_k_IndexError, sizeof(__pyx_k_IndexError), 1, 1, 1},
  {&__pyx_kp_copy, __pyx_k_copy, sizeof(__pyx_k_copy), 1, 1, 1},
  {&__pyx_kp_sum, __pyx_k_sum, sizeof(__pyx_k_sum), 1, 1, 1},
  {&__pyx_kp_194, __pyx_k_194, sizeof(__pyx_k_194), 0, 1, 0},
  {&__pyx_kp_195, __pyx_k_195, sizeof(__pyx_k_195), 0, 1, 0},
  {&__pyx_kp__cmptypes, __pyx_k__cmptypes, sizeof(__pyx_k__cmptypes), 1, 1, 1},
  {&__pyx_kp_itemsize, __pyx_k_itemsize, sizeof(__pyx_k_itemsize), 1, 1, 1},
  {&__pyx_kp_fields, __pyx_k_fields, sizeof(__pyx_k_fields), 1, 1, 1},
  {&__pyx_kp_values, __pyx_k_values, sizeof(__pyx_k_values), 1, 1, 1},
  {&__pyx_kp_sort, __pyx_k_sort, sizeof(__pyx_k_sort), 1, 1, 1},
  {&__pyx_kp_196, __pyx_k_196, sizeof(__pyx_k_196), 0, 1, 0},
  {&__pyx_kp_subdtype, __pyx_k_subdtype, sizeof(__pyx_k_subdtype), 1, 1, 1},
  {&__pyx_kp_198, __pyx_k_198, sizeof(__pyx_k_198), 0, 1, 0},
  {&__pyx_kp_203, __pyx_k_203, sizeof(__pyx_k_203), 0, 1, 0},
  {&__pyx_kp_204, __pyx_k_204, sizeof(__pyx_k_204), 0, 1, 0},
  {&__pyx_kp_205, __pyx_k_205, sizeof(__pyx_k_205), 0, 1, 0},
  {&__pyx_kp_typeid, __pyx_k_typeid, sizeof(__pyx_k_typeid), 1, 1, 1},
  {&__pyx_kp_206, __pyx_k_206, sizeof(__pyx_k_206), 0, 1, 0},
  {&__pyx_kp_207, __pyx_k_207, sizeof(__pyx_k_207), 0, 1, 0},
  {&__pyx_kp_208, __pyx_k_208, sizeof(__pyx_k_208), 0, 1, 0},
  {&__pyx_kp_range, __pyx_k_range, sizeof(__pyx_k_range), 1, 1, 1},
  {&__pyx_kp_utime, __pyx_k_utime, sizeof(__pyx_k_utime), 1, 1, 1},
  {&__pyx_kp_calendar, __pyx_k_calendar, sizeof(__pyx_k_calendar), 1, 1, 1},
  {&__pyx_kp_209, __pyx_k_209, sizeof(__pyx_k_209), 1, 1, 1},
  {&__pyx_kp_210, __pyx_k_210, sizeof(__pyx_k_210), 1, 1, 1},
  {&__pyx_kp_211, __pyx_k_211, sizeof(__pyx_k_211), 1, 1, 1},
  {&__pyx_kp_all, __pyx_k_all, sizeof(__pyx_k_all), 1, 1, 1},
  {&__pyx_kp_units, __pyx_k_units, sizeof(__pyx_k_units), 1, 1, 1},
  {&__pyx_kp_sorted, __pyx_k_sorted, sizeof(__pyx_k_sorted), 1, 1, 1},
  {&__pyx_kp_items, __pyx_k_items, sizeof(__pyx_k_items), 1, 1, 1},
  {&__pyx_kp_variables, __pyx_k_variables, sizeof(__pyx_k_variables), 1, 1, 1},
  {&__pyx_kp__cdf, __pyx_k__cdf, sizeof(__pyx_k__cdf), 1, 1, 1},
  {&__pyx_kp__files, __pyx_k__files, sizeof(__pyx_k__files), 1, 1, 1},
  {&__pyx_kp__cdfVLen, __pyx_k__cdfVLen, sizeof(__pyx_k__cdfVLen), 1, 1, 1},
  {&__pyx_kp__cdfTLen, __pyx_k__cdfTLen, sizeof(__pyx_k__cdfTLen), 1, 1, 1},
  {&__pyx_kp__cdfRecVar, __pyx_k__cdfRecVar, sizeof(__pyx_k__cdfRecVar), 1, 1, 1},
  {&__pyx_kp__dims, __pyx_k__dims, sizeof(__pyx_k__dims), 1, 1, 1},
  {&__pyx_kp__vars, __pyx_k__vars, sizeof(__pyx_k__vars), 1, 1, 1},
  {&__pyx_kp__file_format, __pyx_k__file_format, sizeof(__pyx_k__file_format), 1, 1, 1},
  {&__pyx_kp_220, __pyx_k_220, sizeof(__pyx_k_220), 0, 1, 0},
  {&__pyx_kp_222, __pyx_k_222, sizeof(__pyx_k_222), 0, 1, 0},
  {&__pyx_kp_223, __pyx_k_223, sizeof(__pyx_k_223), 0, 1, 0},
  {&__pyx_kp_224, __pyx_k_224, sizeof(__pyx_k_224), 0, 1, 0},
  {&__pyx_kp_225, __pyx_k_225, sizeof(__pyx_k_225), 0, 1, 0},
  {&__pyx_kp_226, __pyx_k_226, sizeof(__pyx_k_226), 0, 1, 0},
  {&__pyx_kp_227, __pyx_k_227, sizeof(__pyx_k_227), 0, 1, 0},
  {&__pyx_kp_dimlens, __pyx_k_dimlens, sizeof(__pyx_k_dimlens), 1, 1, 1},
  {&__pyx_kp_dimtotlen, __pyx_k_dimtotlen, sizeof(__pyx_k_dimtotlen), 1, 1, 1},
  {&__pyx_kp__dset, __pyx_k__dset, sizeof(__pyx_k__dset), 1, 1, 1},
  {&__pyx_kp__mastervar, __pyx_k__mastervar, sizeof(__pyx_k__mastervar), 1, 1, 1},
  {&__pyx_kp__recVar, __pyx_k__recVar, sizeof(__pyx_k__recVar), 1, 1, 1},
  {&__pyx_kp__recdimname, __pyx_k__recdimname, sizeof(__pyx_k__recdimname), 1, 1, 1},
  {&__pyx_kp__recLen, __pyx_k__recLen, sizeof(__pyx_k__recLen), 1, 1, 1},
  {&__pyx_kp_228, __pyx_k_228, sizeof(__pyx_k_228), 0, 1, 0},
  {&__pyx_kp_229, __pyx_k_229, sizeof(__pyx_k_229), 0, 1, 0},
  {&__pyx_kp_extend, __pyx_k_extend, sizeof(__pyx_k_extend), 1, 1, 1},
  {&__pyx_kp_concatenate, __pyx_k_concatenate, sizeof(__pyx_k_concatenate), 1, 1, 1},
  {&__pyx_kp_5, __pyx_k_5, sizeof(__pyx_k_5), 0, 0, 0},
  {&__pyx_kp_6, __pyx_k_6, sizeof(__pyx_k_6), 0, 0, 0},
  {&__pyx_kp_7, __pyx_k_7, sizeof(__pyx_k_7), 0, 0, 0},
  {&__pyx_kp_8, __pyx_k_8, sizeof(__pyx_k_8), 0, 0, 0},
  {&__pyx_kp_21, __pyx_k_21, sizeof(__pyx_k_21), 0, 0, 0},
  {&__pyx_kp_62, __pyx_k_62, sizeof(__pyx_k_62), 0, 0, 0},
  {&__pyx_kp_66, __pyx_k_66, sizeof(__pyx_k_66), 0, 0, 0},
  {&__pyx_kp_67, __pyx_k_67, sizeof(__pyx_k_67), 0, 0, 0},
  {&__pyx_kp_68, __pyx_k_68, sizeof(__pyx_k_68), 0, 0, 0},
  {&__pyx_kp_70, __pyx_k_70, sizeof(__pyx_k_70), 0, 0, 0},
  {&__pyx_kp_72, __pyx_k_72, sizeof(__pyx_k_72), 0, 0, 0},
  {&__pyx_kp_74, __pyx_k_74, sizeof(__pyx_k_74), 0, 0, 0},
  {&__pyx_kp_76, __pyx_k_76, sizeof(__pyx_k_76), 0, 0, 0},
  {&__pyx_kp_77, __pyx_k_77, sizeof(__pyx_k_77), 0, 0, 0},
  {&__pyx_kp_88, __pyx_k_88, sizeof(__pyx_k_88), 0, 0, 0},
  {&__pyx_kp_91, __pyx_k_91, sizeof(__pyx_k_91), 0, 0, 0},
  {&__pyx_kp_94, __pyx_k_94, sizeof(__pyx_k_94), 0, 0, 0},
  {&__pyx_kp_97, __pyx_k_97, sizeof(__pyx_k_97), 0, 0, 0},
  {&__pyx_kp_99, __pyx_k_99, sizeof(__pyx_k_99), 0, 0, 0},
  {&__pyx_kp_100, __pyx_k_100, sizeof(__pyx_k_100), 0, 0, 0},
  {&__pyx_kp_106, __pyx_k_106, sizeof(__pyx_k_106), 0, 0, 0},
  {&__pyx_kp_111, __pyx_k_111, sizeof(__pyx_k_111), 0, 0, 0},
  {&__pyx_kp_115, __pyx_k_115, sizeof(__pyx_k_115), 0, 0, 0},
  {&__pyx_kp_121, __pyx_k_121, sizeof(__pyx_k_121), 0, 0, 0},
  {&__pyx_kp_127, __pyx_k_127, sizeof(__pyx_k_127), 0, 0, 0},
  {&__pyx_kp_128, __pyx_k_128, sizeof(__pyx_k_128), 0, 0, 0},
  {&__pyx_kp_131, __pyx_k_131, sizeof(__pyx_k_131), 0, 0, 0},
  {&__pyx_kp_138, __pyx_k_138, sizeof(__pyx_k_138), 0, 0, 0},
  {&__pyx_kp_140, __pyx_k_140, sizeof(__pyx_k_140), 0, 0, 0},
  {&__pyx_kp_145, __pyx_k_145, sizeof(__pyx_k_145), 0, 0, 0},
  {&__pyx_kp_150, __pyx_k_150, sizeof(__pyx_k_150), 0, 0, 0},
  {&__pyx_kp_151, __pyx_k_151, sizeof(__pyx_k_151), 0, 0, 0},
  {&__pyx_kp_172, __pyx_k_172, sizeof(__pyx_k_172), 0, 0, 0},
  {&__pyx_kp_177, __pyx_k_177, sizeof(__pyx_k_177), 0, 0, 0},
  {&__pyx_kp_191, __pyx_k_191, sizeof(__pyx_k_191), 0, 0, 0},
  {&__pyx_kp_192, __pyx_k_192, sizeof(__pyx_k_192), 0, 0, 0},
  {&__pyx_kp_193, __pyx_k_193, sizeof(__pyx_k_193), 0, 0, 0},
  {&__pyx_kp_197, __pyx_k_197, sizeof(__pyx_k_197), 0, 0, 0},
  {&__pyx_kp_199, __pyx_k_199, sizeof(__pyx_k_199), 0, 0, 0},
  {&__pyx_kp_200, __pyx_k_200, sizeof(__pyx_k_200), 0, 0, 0},
  {&__pyx_kp_201, __pyx_k_201, sizeof(__pyx_k_201), 0, 0, 0},
  {&__pyx_kp_202, __pyx_k_202, sizeof(__pyx_k_202), 0, 0, 0},
  {&__pyx_kp_212, __pyx_k_212, sizeof(__pyx_k_212), 0, 0, 0},
  {&__pyx_kp_213, __pyx_k_213, sizeof(__pyx_k_213), 0, 0, 0},
  {&__pyx_kp_214, __pyx_k_214, sizeof(__pyx_k_214), 0, 0, 0},
  {&__pyx_kp_215, __pyx_k_215, sizeof(__pyx_k_215), 0, 0, 0},
  {&__pyx_kp_216, __pyx_k_216, sizeof(__pyx_k_216), 0, 0, 0},
  {&__pyx_kp_217, __pyx_k_217, sizeof(__pyx_k_217), 0, 0, 0},
  {&__pyx_kp_218, __pyx_k_218, sizeof(__pyx_k_218), 0, 0, 0},
  {&__pyx_kp_219, __pyx_k_219, sizeof(__pyx_k_219), 0, 0, 0},
  {&__pyx_kp_221, __pyx_k_221, sizeof(__pyx_k_221), 0, 0, 0},
  {&__pyx_kp_230, __pyx_k_230, sizeof(__pyx_k_230), 0, 0, 0},
  {0, 0, 0, 0, 0, 0}
};
static int __Pyx_InitCachedBuiltins(void) {
  __pyx_builtin_ImportError = __Pyx_GetName(__pyx_b, __pyx_kp_ImportError); if (!__pyx_builtin_ImportError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 720; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_object = __Pyx_GetName(__pyx_b, __pyx_kp_object); if (!__pyx_builtin_object) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_RuntimeError = __Pyx_GetName(__pyx_b, __pyx_kp_RuntimeError); if (!__pyx_builtin_RuntimeError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 767; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_AttributeError = __Pyx_GetName(__pyx_b, __pyx_kp_AttributeError); if (!__pyx_builtin_AttributeError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 786; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_KeyError = __Pyx_GetName(__pyx_b, __pyx_kp_KeyError); if (!__pyx_builtin_KeyError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 802; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_ValueError = __Pyx_GetName(__pyx_b, __pyx_kp_ValueError); if (!__pyx_builtin_ValueError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 840; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_TypeError = __Pyx_GetName(__pyx_b, __pyx_kp_TypeError); if (!__pyx_builtin_TypeError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 883; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_zip = __Pyx_GetName(__pyx_b, __pyx_kp_zip); if (!__pyx_builtin_zip) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1445; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_IOError = __Pyx_GetName(__pyx_b, __pyx_kp_IOError); if (!__pyx_builtin_IOError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1516; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_bool = __Pyx_GetName(__pyx_b, __pyx_kp_bool); if (!__pyx_builtin_bool) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1857; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_enumerate = __Pyx_GetName(__pyx_b, __pyx_kp_enumerate); if (!__pyx_builtin_enumerate) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2068; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_IndexError = __Pyx_GetName(__pyx_b, __pyx_kp_IndexError); if (!__pyx_builtin_IndexError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2191; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_sum = __Pyx_GetName(__pyx_b, __pyx_kp_sum); if (!__pyx_builtin_sum) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2289; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_range = __Pyx_GetName(__pyx_b, __pyx_kp_range); if (!__pyx_builtin_range) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_sorted = __Pyx_GetName(__pyx_b, __pyx_kp_sorted); if (!__pyx_builtin_sorted) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 239; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  return 0;
  __pyx_L1_error:;
  return -1;
}

static int __Pyx_InitGlobals(void) {
  __pyx_int_6 = PyInt_FromLong(6); if (unlikely(!__pyx_int_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  __pyx_int_0 = PyInt_FromLong(0); if (unlikely(!__pyx_int_0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  __pyx_int_1 = PyInt_FromLong(1); if (unlikely(!__pyx_int_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  __pyx_int_neg_1 = PyInt_FromLong(-1); if (unlikely(!__pyx_int_neg_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  if (__Pyx_InitStrings(__pyx_string_tab) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  return 0;
  __pyx_L1_error:;
  return -1;
}

#if PY_MAJOR_VERSION < 3
PyMODINIT_FUNC initnetCDF4(void); /*proto*/
PyMODINIT_FUNC initnetCDF4(void)
#else
PyMODINIT_FUNC PyInit_netCDF4(void); /*proto*/
PyMODINIT_FUNC PyInit_netCDF4(void)
#endif
{
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  Py_ssize_t __pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  PyObject *__pyx_7 = 0;
  PyObject *__pyx_8 = 0;
  PyObject *__pyx_9 = 0;
  PyObject *__pyx_10 = 0;
  PyObject *__pyx_11 = 0;
  PyObject *__pyx_12 = 0;
  PyObject *__pyx_13 = 0;
  PyObject *__pyx_14 = 0;
  PyObject *__pyx_15 = 0;
  PyObject *__pyx_16 = 0;
  PyObject *__pyx_17 = 0;
  PyObject *__pyx_18 = 0;
  __pyx_empty_tuple = PyTuple_New(0); if (unlikely(!__pyx_empty_tuple)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  /*--- Libary function declarations ---*/
  __pyx_init_filenames();
  /*--- Initialize various global constants etc. ---*/
  if (unlikely(__Pyx_InitGlobals() < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  /*--- Module creation code ---*/
  #if PY_MAJOR_VERSION < 3
  __pyx_m = Py_InitModule4("netCDF4", __pyx_methods, __pyx_mdoc, 0, PYTHON_API_VERSION);
  #else
  __pyx_m = PyModule_Create(&__pyx_moduledef);
  #endif
  if (!__pyx_m) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  #if PY_MAJOR_VERSION < 3
  Py_INCREF(__pyx_m);
  #endif
  __pyx_b = PyImport_AddModule(__Pyx_BUILTIN_MODULE_NAME);
  if (!__pyx_b) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  if (PyObject_SetAttrString(__pyx_m, "__builtins__", __pyx_b) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  /*--- Builtin init code ---*/
  if (unlikely(__Pyx_InitCachedBuiltins() < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_skip_dispatch = 0;
  /*--- Global init code ---*/
  /*--- Function export code ---*/
  /*--- Type init code ---*/
  __pyx_ptype_7netCDF4_ndarray = __Pyx_ImportType("numpy", "ndarray", sizeof(PyArrayObject)); if (unlikely(!__pyx_ptype_7netCDF4_ndarray)) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 682; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyType_Ready(&__pyx_type_7netCDF4_Dataset) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1030; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttrString(__pyx_m, "Dataset", (PyObject *)&__pyx_type_7netCDF4_Dataset) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1030; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_7netCDF4_Dataset = &__pyx_type_7netCDF4_Dataset;
  __pyx_type_7netCDF4_Group.tp_base = __pyx_ptype_7netCDF4_Dataset;
  if (PyType_Ready(&__pyx_type_7netCDF4_Group) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1453; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttrString(__pyx_m, "Group", (PyObject *)&__pyx_type_7netCDF4_Group) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1453; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_7netCDF4_Group = &__pyx_type_7netCDF4_Group;
  if (PyType_Ready(&__pyx_type_7netCDF4_Dimension) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1519; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttrString(__pyx_m, "Dimension", (PyObject *)&__pyx_type_7netCDF4_Dimension) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1519; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_7netCDF4_Dimension = &__pyx_type_7netCDF4_Dimension;
  if (PyType_Ready(&__pyx_type_7netCDF4_Variable) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1613; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttrString(__pyx_m, "Variable", (PyObject *)&__pyx_type_7netCDF4_Variable) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1613; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_7netCDF4_Variable = &__pyx_type_7netCDF4_Variable;
  if (PyType_Ready(&__pyx_type_7netCDF4_CompoundType) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2360; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttrString(__pyx_m, "CompoundType", (PyObject *)&__pyx_type_7netCDF4_CompoundType) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2360; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_7netCDF4_CompoundType = &__pyx_type_7netCDF4_CompoundType;
  /*--- Type import code ---*/
  /*--- Function import code ---*/
  /*--- Execution code ---*/

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":708
 * # pure python utilities
 * from netCDF4_utils import _StartCountStride, _quantize, _find_dim, \
 *                           _out_array_shape, _sortbylist             # <<<<<<<<<<<<<<
 * 
 * __version__ = "0.8.1"
 */
  __pyx_1 = PyList_New(5); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 707; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_kp__StartCountStride);
  PyList_SET_ITEM(__pyx_1, 0, __pyx_kp__StartCountStride);
  Py_INCREF(__pyx_kp__quantize);
  PyList_SET_ITEM(__pyx_1, 1, __pyx_kp__quantize);
  Py_INCREF(__pyx_kp__find_dim);
  PyList_SET_ITEM(__pyx_1, 2, __pyx_kp__find_dim);
  Py_INCREF(__pyx_kp__out_array_shape);
  PyList_SET_ITEM(__pyx_1, 3, __pyx_kp__out_array_shape);
  Py_INCREF(__pyx_kp__sortbylist);
  PyList_SET_ITEM(__pyx_1, 4, __pyx_kp__sortbylist);
  __pyx_2 = __Pyx_Import(__pyx_kp_4, ((PyObject *)__pyx_1)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 707; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_kp__StartCountStride); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 707; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttr(__pyx_m, __pyx_kp__StartCountStride, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 707; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_kp__quantize); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 707; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttr(__pyx_m, __pyx_kp__quantize, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 707; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_kp__find_dim); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 707; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttr(__pyx_m, __pyx_kp__find_dim, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 707; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_kp__out_array_shape); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 707; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttr(__pyx_m, __pyx_kp__out_array_shape, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 708; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_kp__sortbylist); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 707; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttr(__pyx_m, __pyx_kp__sortbylist, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 708; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":710
 *                           _out_array_shape, _sortbylist
 * 
 * __version__ = "0.8.1"             # <<<<<<<<<<<<<<
 * 
 * # Initialize numpy
 */
  if (PyObject_SetAttr(__pyx_m, __pyx_kp___version__, __pyx_kp_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 710; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":713
 * 
 * # Initialize numpy
 * import os             # <<<<<<<<<<<<<<
 * import netcdftime
 * import numpy
 */
  __pyx_2 = __Pyx_Import(__pyx_kp_os, 0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 713; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttr(__pyx_m, __pyx_kp_os, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 713; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":714
 * # Initialize numpy
 * import os
 * import netcdftime             # <<<<<<<<<<<<<<
 * import numpy
 * from glob import glob
 */
  __pyx_1 = __Pyx_Import(__pyx_kp_netcdftime, 0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 714; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttr(__pyx_m, __pyx_kp_netcdftime, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 714; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":715
 * import os
 * import netcdftime
 * import numpy             # <<<<<<<<<<<<<<
 * from glob import glob
 * from numpy import ma
 */
  __pyx_2 = __Pyx_Import(__pyx_kp_numpy, 0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 715; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttr(__pyx_m, __pyx_kp_numpy, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 715; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":716
 * import netcdftime
 * import numpy
 * from glob import glob             # <<<<<<<<<<<<<<
 * from numpy import ma
 * from numpy import __version__ as _npversion
 */
  __pyx_1 = PyList_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 716; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_kp_glob);
  PyList_SET_ITEM(__pyx_1, 0, __pyx_kp_glob);
  __pyx_2 = __Pyx_Import(__pyx_kp_glob, ((PyObject *)__pyx_1)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 716; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_kp_glob); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 716; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttr(__pyx_m, __pyx_kp_glob, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 716; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":717
 * import numpy
 * from glob import glob
 * from numpy import ma             # <<<<<<<<<<<<<<
 * from numpy import __version__ as _npversion
 * if _npversion.split('.')[0] < '1':
 */
  __pyx_2 = PyList_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 717; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_kp_ma);
  PyList_SET_ITEM(__pyx_2, 0, __pyx_kp_ma);
  __pyx_1 = __Pyx_Import(__pyx_kp_numpy, ((PyObject *)__pyx_2)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 717; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_kp_ma); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 717; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttr(__pyx_m, __pyx_kp_ma, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 717; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":718
 * from glob import glob
 * from numpy import ma
 * from numpy import __version__ as _npversion             # <<<<<<<<<<<<<<
 * if _npversion.split('.')[0] < '1':
 *     raise ImportError('requires numpy version 1.0rc1 or later')
 */
  __pyx_1 = PyList_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 718; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_kp___version__);
  PyList_SET_ITEM(__pyx_1, 0, __pyx_kp___version__);
  __pyx_2 = __Pyx_Import(__pyx_kp_numpy, ((PyObject *)__pyx_1)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 718; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_kp___version__); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 718; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttr(__pyx_m, __pyx_kp__npversion, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 718; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":719
 * from numpy import ma
 * from numpy import __version__ as _npversion
 * if _npversion.split('.')[0] < '1':             # <<<<<<<<<<<<<<
 *     raise ImportError('requires numpy version 1.0rc1 or later')
 * import_array()
 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_kp__npversion); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 719; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_kp_split); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 719; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 719; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_kp_6);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_kp_6);
  __pyx_3 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_2), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 719; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;
  __pyx_1 = __Pyx_GetItemInt(__pyx_3, 0, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 719; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = PyObject_RichCompare(__pyx_1, __pyx_kp_7, Py_LT); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 719; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 719; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_4) {

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":720
 * from numpy import __version__ as _npversion
 * if _npversion.split('.')[0] < '1':
 *     raise ImportError('requires numpy version 1.0rc1 or later')             # <<<<<<<<<<<<<<
 * import_array()
 * include "netCDF4.pxi"
 */
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 720; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_INCREF(__pyx_kp_8);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_kp_8);
    __pyx_1 = PyObject_Call(__pyx_builtin_ImportError, ((PyObject *)__pyx_3), NULL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 720; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 720; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":721
 * if _npversion.split('.')[0] < '1':
 *     raise ImportError('requires numpy version 1.0rc1 or later')
 * import_array()             # <<<<<<<<<<<<<<
 * include "netCDF4.pxi"
 * 
 */
  import_array();

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":726
 * # numpy data type <--> netCDF 4 data type mapping.
 * 
 * _nptonctype  = {'S1' : NC_CHAR,             # <<<<<<<<<<<<<<
 *                 'i1' : NC_BYTE,
 *                 'u1' : NC_UBYTE,
 */
  __pyx_2 = PyDict_New(); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 726; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_3 = PyInt_FromLong(NC_CHAR); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 726; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_9, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 726; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":727
 * 
 * _nptonctype  = {'S1' : NC_CHAR,
 *                 'i1' : NC_BYTE,             # <<<<<<<<<<<<<<
 *                 'u1' : NC_UBYTE,
 *                 'i2' : NC_SHORT,
 */
  __pyx_1 = PyInt_FromLong(NC_BYTE); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 727; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_10, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 726; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":728
 * _nptonctype  = {'S1' : NC_CHAR,
 *                 'i1' : NC_BYTE,
 *                 'u1' : NC_UBYTE,             # <<<<<<<<<<<<<<
 *                 'i2' : NC_SHORT,
 *                 'u2' : NC_USHORT,
 */
  __pyx_3 = PyInt_FromLong(NC_UBYTE); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 728; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_11, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 726; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":729
 *                 'i1' : NC_BYTE,
 *                 'u1' : NC_UBYTE,
 *                 'i2' : NC_SHORT,             # <<<<<<<<<<<<<<
 *                 'u2' : NC_USHORT,
 *                 'i4' : NC_INT,
 */
  __pyx_1 = PyInt_FromLong(NC_SHORT); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 729; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_12, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 726; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":730
 *                 'u1' : NC_UBYTE,
 *                 'i2' : NC_SHORT,
 *                 'u2' : NC_USHORT,             # <<<<<<<<<<<<<<
 *                 'i4' : NC_INT,
 *                 'u4' : NC_UINT,
 */
  __pyx_3 = PyInt_FromLong(NC_USHORT); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 730; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_13, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 726; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":731
 *                 'i2' : NC_SHORT,
 *                 'u2' : NC_USHORT,
 *                 'i4' : NC_INT,             # <<<<<<<<<<<<<<
 *                 'u4' : NC_UINT,
 *                 'i8' : NC_INT64,
 */
  __pyx_1 = PyInt_FromLong(NC_INT); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 731; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_14, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 726; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":732
 *                 'u2' : NC_USHORT,
 *                 'i4' : NC_INT,
 *                 'u4' : NC_UINT,             # <<<<<<<<<<<<<<
 *                 'i8' : NC_INT64,
 *                 'u8' : NC_UINT64,
 */
  __pyx_3 = PyInt_FromLong(NC_UINT); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 732; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_15, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 726; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":733
 *                 'i4' : NC_INT,
 *                 'u4' : NC_UINT,
 *                 'i8' : NC_INT64,             # <<<<<<<<<<<<<<
 *                 'u8' : NC_UINT64,
 *                 'f4' : NC_FLOAT,
 */
  __pyx_1 = PyInt_FromLong(NC_INT64); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 733; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_16, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 726; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":734
 *                 'u4' : NC_UINT,
 *                 'i8' : NC_INT64,
 *                 'u8' : NC_UINT64,             # <<<<<<<<<<<<<<
 *                 'f4' : NC_FLOAT,
 *                 'f8' : NC_DOUBLE}
 */
  __pyx_3 = PyInt_FromLong(NC_UINT64); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 734; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_17, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 726; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":735
 *                 'i8' : NC_INT64,
 *                 'u8' : NC_UINT64,
 *                 'f4' : NC_FLOAT,             # <<<<<<<<<<<<<<
 *                 'f8' : NC_DOUBLE}
 * 
 */
  __pyx_1 = PyInt_FromLong(NC_FLOAT); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 735; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_18, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 726; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":736
 *                 'u8' : NC_UINT64,
 *                 'f4' : NC_FLOAT,
 *                 'f8' : NC_DOUBLE}             # <<<<<<<<<<<<<<
 * 
 * _default_fillvals = {#'S1':NC_FILL_CHAR,
 */
  __pyx_3 = PyInt_FromLong(NC_DOUBLE); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 736; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_2, __pyx_kp_19, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 726; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_kp__nptonctype, ((PyObject *)__pyx_2)) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 726; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_2)); __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":738
 *                 'f8' : NC_DOUBLE}
 * 
 * _default_fillvals = {#'S1':NC_FILL_CHAR,             # <<<<<<<<<<<<<<
 *                      'S1':'\0',
 *                      'i1':NC_FILL_BYTE,
 */
  __pyx_1 = PyDict_New(); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 738; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":739
 * 
 * _default_fillvals = {#'S1':NC_FILL_CHAR,
 *                      'S1':'\0',             # <<<<<<<<<<<<<<
 *                      'i1':NC_FILL_BYTE,
 *                      'u1':NC_FILL_UBYTE,
 */
  if (PyDict_SetItem(__pyx_1, __pyx_kp_20, __pyx_kp_21) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 738; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":740
 * _default_fillvals = {#'S1':NC_FILL_CHAR,
 *                      'S1':'\0',
 *                      'i1':NC_FILL_BYTE,             # <<<<<<<<<<<<<<
 *                      'u1':NC_FILL_UBYTE,
 *                      'i2':NC_FILL_SHORT,
 */
  __pyx_3 = PyInt_FromLong(NC_FILL_BYTE); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 740; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_1, __pyx_kp_22, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 738; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":741
 *                      'S1':'\0',
 *                      'i1':NC_FILL_BYTE,
 *                      'u1':NC_FILL_UBYTE,             # <<<<<<<<<<<<<<
 *                      'i2':NC_FILL_SHORT,
 *                      'u2':NC_FILL_USHORT,
 */
  __pyx_2 = PyInt_FromLong(NC_FILL_UBYTE); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 741; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_1, __pyx_kp_23, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 738; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":742
 *                      'i1':NC_FILL_BYTE,
 *                      'u1':NC_FILL_UBYTE,
 *                      'i2':NC_FILL_SHORT,             # <<<<<<<<<<<<<<
 *                      'u2':NC_FILL_USHORT,
 *                      'i4':NC_FILL_INT,
 */
  __pyx_3 = PyInt_FromLong(NC_FILL_SHORT); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 742; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_1, __pyx_kp_24, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 738; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":743
 *                      'u1':NC_FILL_UBYTE,
 *                      'i2':NC_FILL_SHORT,
 *                      'u2':NC_FILL_USHORT,             # <<<<<<<<<<<<<<
 *                      'i4':NC_FILL_INT,
 *                      'u4':NC_FILL_UINT,
 */
  __pyx_2 = PyInt_FromLong(NC_FILL_USHORT); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 743; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_1, __pyx_kp_25, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 738; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":744
 *                      'i2':NC_FILL_SHORT,
 *                      'u2':NC_FILL_USHORT,
 *                      'i4':NC_FILL_INT,             # <<<<<<<<<<<<<<
 *                      'u4':NC_FILL_UINT,
 *                      'i8':NC_FILL_INT64,
 */
  __pyx_3 = PyInt_FromLong(NC_FILL_INT); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 744; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_1, __pyx_kp_26, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 738; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":745
 *                      'u2':NC_FILL_USHORT,
 *                      'i4':NC_FILL_INT,
 *                      'u4':NC_FILL_UINT,             # <<<<<<<<<<<<<<
 *                      'i8':NC_FILL_INT64,
 *                      'u8':NC_FILL_UINT64,
 */
  __pyx_2 = PyLong_FromUnsignedLong(NC_FILL_UINT); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 745; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_1, __pyx_kp_27, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 738; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":746
 *                      'i4':NC_FILL_INT,
 *                      'u4':NC_FILL_UINT,
 *                      'i8':NC_FILL_INT64,             # <<<<<<<<<<<<<<
 *                      'u8':NC_FILL_UINT64,
 *                      'f4':NC_FILL_FLOAT,
 */
  __pyx_3 = PyLong_FromLongLong(NC_FILL_INT64); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 746; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_1, __pyx_kp_28, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 738; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":747
 *                      'u4':NC_FILL_UINT,
 *                      'i8':NC_FILL_INT64,
 *                      'u8':NC_FILL_UINT64,             # <<<<<<<<<<<<<<
 *                      'f4':NC_FILL_FLOAT,
 *                      'f8':NC_FILL_DOUBLE}
 */
  __pyx_2 = PyLong_FromUnsignedLongLong(NC_FILL_UINT64); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 747; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_1, __pyx_kp_29, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 738; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":748
 *                      'i8':NC_FILL_INT64,
 *                      'u8':NC_FILL_UINT64,
 *                      'f4':NC_FILL_FLOAT,             # <<<<<<<<<<<<<<
 *                      'f8':NC_FILL_DOUBLE}
 * 
 */
  __pyx_3 = PyFloat_FromDouble(NC_FILL_FLOAT); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 748; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_1, __pyx_kp_30, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 738; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":749
 *                      'u8':NC_FILL_UINT64,
 *                      'f4':NC_FILL_FLOAT,
 *                      'f8':NC_FILL_DOUBLE}             # <<<<<<<<<<<<<<
 * 
 * _nctonptype = {}
 */
  __pyx_2 = PyFloat_FromDouble(NC_FILL_DOUBLE); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 749; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_1, __pyx_kp_31, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 738; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_kp__default_fillvals, ((PyObject *)__pyx_1)) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 738; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_1)); __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":751
 *                      'f8':NC_FILL_DOUBLE}
 * 
 * _nctonptype = {}             # <<<<<<<<<<<<<<
 * for _key,_value in _nptonctype.iteritems():
 *     _nctonptype[_value] = _key
 */
  __pyx_3 = PyDict_New(); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 751; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyObject_SetAttr(__pyx_m, __pyx_kp__nctonptype, ((PyObject *)__pyx_3)) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 751; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_3)); __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":752
 * 
 * _nctonptype = {}
 * for _key,_value in _nptonctype.iteritems():             # <<<<<<<<<<<<<<
 *     _nctonptype[_value] = _key
 * _supportedtypes = _nptonctype.keys()
 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_kp__nptonctype); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 752; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_kp_iteritems); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 752; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_3 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 752; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (PyList_CheckExact(__pyx_3) || PyTuple_CheckExact(__pyx_3)) {
    __pyx_5 = 0; __pyx_2 = __pyx_3; Py_INCREF(__pyx_2);
  } else {
    __pyx_5 = -1; __pyx_2 = PyObject_GetIter(__pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 752; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_2))) {
      if (__pyx_5 >= PyList_GET_SIZE(__pyx_2)) break;
      __pyx_1 = PyList_GET_ITEM(__pyx_2, __pyx_5); Py_INCREF(__pyx_1); __pyx_5++;
    } else if (likely(PyTuple_CheckExact(__pyx_2))) {
      if (__pyx_5 >= PyTuple_GET_SIZE(__pyx_2)) break;
      __pyx_1 = PyTuple_GET_ITEM(__pyx_2, __pyx_5); Py_INCREF(__pyx_1); __pyx_5++;
    } else {
      __pyx_1 = PyIter_Next(__pyx_2);
      if (!__pyx_1) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 752; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
    }
    if (PyTuple_CheckExact(__pyx_1) && PyTuple_GET_SIZE(__pyx_1) == 2) {
      PyObject* tuple = __pyx_1;
      __pyx_6 = PyTuple_GET_ITEM(tuple, 0);
      Py_INCREF(__pyx_6);
      if (PyObject_SetAttr(__pyx_m, __pyx_kp__key, __pyx_6) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 752; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_6 = PyTuple_GET_ITEM(tuple, 1);
      Py_INCREF(__pyx_6);
      if (PyObject_SetAttr(__pyx_m, __pyx_kp__value, __pyx_6) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 752; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
    }
    else {
      __pyx_3 = PyObject_GetIter(__pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 752; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_6 = __Pyx_UnpackItem(__pyx_3, 0); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 752; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (PyObject_SetAttr(__pyx_m, __pyx_kp__key, __pyx_6) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 752; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_6 = __Pyx_UnpackItem(__pyx_3, 1); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 752; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (PyObject_SetAttr(__pyx_m, __pyx_kp__value, __pyx_6) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 752; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      if (__Pyx_EndUnpack(__pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 752; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }

    /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":753
 * _nctonptype = {}
 * for _key,_value in _nptonctype.iteritems():
 *     _nctonptype[_value] = _key             # <<<<<<<<<<<<<<
 * _supportedtypes = _nptonctype.keys()
 * 
 */
    __pyx_6 = __Pyx_GetName(__pyx_m, __pyx_kp__key); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 753; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_kp__nctonptype); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 753; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_kp__value); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 753; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (PyObject_SetItem(__pyx_1, __pyx_3, __pyx_6) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 753; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_6); __pyx_6 = 0;
  }
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":754
 * for _key,_value in _nptonctype.iteritems():
 *     _nctonptype[_value] = _key
 * _supportedtypes = _nptonctype.keys()             # <<<<<<<<<<<<<<
 * 
 * # internal C functions.
 */
  __pyx_6 = __Pyx_GetName(__pyx_m, __pyx_kp__nptonctype); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 754; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_1 = PyObject_GetAttr(__pyx_6, __pyx_kp_keys); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 754; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  __pyx_3 = PyObject_Call(__pyx_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 754; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_kp__supportedtypes, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 754; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":821
 *             return value_arr
 * 
 * def _set_default_format(object format='NETCDF4',object verbose=False):             # <<<<<<<<<<<<<<
 *     # Private function to set the netCDF file format
 *     if format == 'NETCDF4':
 */
  __pyx_2 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 821; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_k_33 = __pyx_2;
  __pyx_2 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1027
 * # only exist at the python level (not in the netCDF file).
 * 
 * _private_atts = ['_grpid','_grp','_varid','groups','dimensions','variables','dtype','file_format', '_nunlimdim','path','parent','ndim','maskandscale']             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __pyx_6 = PyList_New(13); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1027; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_kp_34);
  PyList_SET_ITEM(__pyx_6, 0, __pyx_kp_34);
  Py_INCREF(__pyx_kp_35);
  PyList_SET_ITEM(__pyx_6, 1, __pyx_kp_35);
  Py_INCREF(__pyx_kp_36);
  PyList_SET_ITEM(__pyx_6, 2, __pyx_kp_36);
  Py_INCREF(__pyx_kp_37);
  PyList_SET_ITEM(__pyx_6, 3, __pyx_kp_37);
  Py_INCREF(__pyx_kp_38);
  PyList_SET_ITEM(__pyx_6, 4, __pyx_kp_38);
  Py_INCREF(__pyx_kp_39);
  PyList_SET_ITEM(__pyx_6, 5, __pyx_kp_39);
  Py_INCREF(__pyx_kp_40);
  PyList_SET_ITEM(__pyx_6, 6, __pyx_kp_40);
  Py_INCREF(__pyx_kp_41);
  PyList_SET_ITEM(__pyx_6, 7, __pyx_kp_41);
  Py_INCREF(__pyx_kp_42);
  PyList_SET_ITEM(__pyx_6, 8, __pyx_kp_42);
  Py_INCREF(__pyx_kp_43);
  PyList_SET_ITEM(__pyx_6, 9, __pyx_kp_43);
  Py_INCREF(__pyx_kp_44);
  PyList_SET_ITEM(__pyx_6, 10, __pyx_kp_44);
  Py_INCREF(__pyx_kp_45);
  PyList_SET_ITEM(__pyx_6, 11, __pyx_kp_45);
  Py_INCREF(__pyx_kp_46);
  PyList_SET_ITEM(__pyx_6, 12, __pyx_kp_46);
  if (PyObject_SetAttr(__pyx_m, __pyx_kp__private_atts, ((PyObject *)__pyx_6)) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1027; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_6)); __pyx_6 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1115
 *     maskanscale, _cmptypes
 * 
 *     def __init__(self, filename, mode='r', clobber=True, format='NETCDF4', **kwargs):             # <<<<<<<<<<<<<<
 *         cdef int grpid, ierr, numgrps, numdims, numvars
 *         cdef char *path
 */
  __pyx_1 = __Pyx_PyBool_FromLong(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1115; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_k_48 = __pyx_1;
  __pyx_1 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1269
 *         return CompoundType(self, datatype, datatype_name)
 * 
 *     def createVariable(self, varname, datatype, dimensions=(), zlib=False, complevel=6, shuffle=True, fletcher32=False, contiguous=False, chunksizes=None, endian='native', least_significant_digit=None, fill_value=None):             # <<<<<<<<<<<<<<
 *         """
 * createVariable(self, varname, datatype, dimensions=(), zlib=False, complevel=6, shuffle=True, fletcher32=False, contiguous=False, chunksizes=None, endian='native', least_significant_digit=None, fill_value=None)
 */
  __pyx_3 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1269; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_k_50 = __pyx_3;
  __pyx_3 = 0;
  __pyx_6 = __Pyx_PyBool_FromLong(1); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1269; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_k_51 = __pyx_6;
  __pyx_6 = 0;
  __pyx_7 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1269; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_k_52 = __pyx_7;
  __pyx_7 = 0;
  __pyx_8 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1269; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_k_53 = __pyx_8;
  __pyx_8 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1734
 *     cdef public ndim, dtype, maskandscale
 * 
 *     def __init__(self, grp, name, datatype, dimensions=(), zlib=False,             # <<<<<<<<<<<<<<
 *             complevel=6, shuffle=True, fletcher32=False, contiguous=False,
 *             chunksizes=None, endian='native', least_significant_digit=None,
 */
  __pyx_9 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1734; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_k_55 = __pyx_9;
  __pyx_9 = 0;

  /* "/storage/huardda/repos/netcdf4/netCDF4.pyx":1735
 * 
 *     def __init__(self, grp, name, datatype, dimensions=(), zlib=False,
 *             complevel=6, shuffle=True, fletcher32=False, contiguous=False,             # <<<<<<<<<<<<<<
 *             chunksizes=None, endian='native', least_significant_digit=None,
 *             fill_value=None, **kwargs):
 */
  __pyx_10 = __Pyx_PyBool_FromLong(1); if (unlikely(!__pyx_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1735; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_k_56 = __pyx_10;
  __pyx_10 = 0;
  __pyx_11 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_11)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1735; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_k_57 = __pyx_11;
  __pyx_11 = 0;
  __pyx_12 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_12)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1735; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_k_58 = __pyx_12;
  __pyx_12 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":176
 *     return PyString_FromString(libstring)
 * 
 * class MFDataset(Dataset):             # <<<<<<<<<<<<<<
 *     """
 * MFDataset(self, files, check=False, exclude=[])
 */
  __pyx_13 = PyDict_New(); if (unlikely(!__pyx_13)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 176; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_14 = PyTuple_New(1); if (unlikely(!__pyx_14)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 176; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(((PyObject*)__pyx_ptype_7netCDF4_Dataset));
  PyTuple_SET_ITEM(__pyx_14, 0, ((PyObject*)__pyx_ptype_7netCDF4_Dataset));
  if (PyDict_SetItemString(((PyObject *)__pyx_13), "__doc__", __pyx_kp_62) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 176; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_15 = __Pyx_CreateClass(((PyObject *)__pyx_14), ((PyObject *)__pyx_13), __pyx_kp_MFDataset, "netCDF4"); if (unlikely(!__pyx_15)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 176; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_14)); __pyx_14 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":208
 *     """
 * 
 *     def __init__(self, files, check=False, exclude=[]):             # <<<<<<<<<<<<<<
 *         """
 * Open a Dataset spanning multiple files, making it look as if it was a
 */
  __pyx_14 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_14)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 208; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_k_63 = __pyx_14;
  __pyx_14 = 0;
  __pyx_16 = PyList_New(0); if (unlikely(!__pyx_16)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 208; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_k_64 = ((PyObject *)__pyx_16);
  __pyx_16 = 0;
  __pyx_17 = PyCFunction_New(&__pyx_mdef_7netCDF4_9MFDataset___init__, 0); if (unlikely(!__pyx_17)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 208; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_18 = PyMethod_New(__pyx_17, 0, __pyx_15); if (unlikely(!__pyx_18)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 208; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_17); __pyx_17 = 0;
  if (PyObject_SetAttr(__pyx_15, __pyx_kp___init__, __pyx_18) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 208; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_18); __pyx_18 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":365
 *             self._file_format.append(dset.file_format)
 * 
 *     def __setattr__(self, name, value):             # <<<<<<<<<<<<<<
 *         """override base class attribute creation"""
 *         self.__dict__[name] = value
 */
  __pyx_17 = PyCFunction_New(&__pyx_mdef_7netCDF4_9MFDataset___setattr__, 0); if (unlikely(!__pyx_17)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 365; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_18 = PyMethod_New(__pyx_17, 0, __pyx_15); if (unlikely(!__pyx_18)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 365; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_17); __pyx_17 = 0;
  if (PyObject_SetAttr(__pyx_15, __pyx_kp___setattr__, __pyx_18) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 365; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_18); __pyx_18 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":369
 *         self.__dict__[name] = value
 * 
 *     def __getattribute__(self, name):             # <<<<<<<<<<<<<<
 *         if name in ['variables','dimensions','file_format']:
 *             if name == 'dimensions': return self._dims
 */
  __pyx_17 = PyCFunction_New(&__pyx_mdef_7netCDF4_9MFDataset___getattribute__, 0); if (unlikely(!__pyx_17)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 369; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_18 = PyMethod_New(__pyx_17, 0, __pyx_15); if (unlikely(!__pyx_18)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 369; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_17); __pyx_17 = 0;
  if (PyObject_SetAttr(__pyx_15, __pyx_kp___getattribute__, __pyx_18) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 369; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_18); __pyx_18 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":377
 *             return Dataset.__getattribute__(self, name)
 * 
 *     def ncattrs(self):             # <<<<<<<<<<<<<<
 *         return self._cdf[0].__dict__.keys()
 * 
 */
  __pyx_17 = PyCFunction_New(&__pyx_mdef_7netCDF4_9MFDataset_ncattrs, 0); if (unlikely(!__pyx_17)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 377; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_18 = PyMethod_New(__pyx_17, 0, __pyx_15); if (unlikely(!__pyx_18)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 377; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_17); __pyx_17 = 0;
  if (PyObject_SetAttr(__pyx_15, __pyx_kp_ncattrs, __pyx_18) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 377; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_18); __pyx_18 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":380
 *         return self._cdf[0].__dict__.keys()
 * 
 *     def close(self):             # <<<<<<<<<<<<<<
 *         for dset in self._cdf:
 *             dset.close()
 */
  __pyx_17 = PyCFunction_New(&__pyx_mdef_7netCDF4_9MFDataset_close, 0); if (unlikely(!__pyx_17)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_18 = PyMethod_New(__pyx_17, 0, __pyx_15); if (unlikely(!__pyx_18)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_17); __pyx_17 = 0;
  if (PyObject_SetAttr(__pyx_15, __pyx_kp_close, __pyx_18) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_18); __pyx_18 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_kp_MFDataset, __pyx_15) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 176; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_15); __pyx_15 = 0;
  Py_DECREF(((PyObject *)__pyx_13)); __pyx_13 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":384
 *             dset.close()
 * 
 * class _Dimension(object):             # <<<<<<<<<<<<<<
 *     def __init__(self, dimname, dim, dimlens, dimtotlen):
 *         self.dimlens = dimlens
 */
  __pyx_17 = PyDict_New(); if (unlikely(!__pyx_17)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_18 = PyTuple_New(1); if (unlikely(!__pyx_18)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_builtin_object);
  PyTuple_SET_ITEM(__pyx_18, 0, __pyx_builtin_object);
  __pyx_15 = __Pyx_CreateClass(((PyObject *)__pyx_18), ((PyObject *)__pyx_17), __pyx_kp__Dimension, "netCDF4"); if (unlikely(!__pyx_15)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_18)); __pyx_18 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":385
 * 
 * class _Dimension(object):
 *     def __init__(self, dimname, dim, dimlens, dimtotlen):             # <<<<<<<<<<<<<<
 *         self.dimlens = dimlens
 *         self.dimtotlen = dimtotlen
 */
  __pyx_13 = PyCFunction_New(&__pyx_mdef_7netCDF4_10_Dimension___init__, 0); if (unlikely(!__pyx_13)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 385; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_18 = PyMethod_New(__pyx_13, 0, __pyx_15); if (unlikely(!__pyx_18)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 385; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_13); __pyx_13 = 0;
  if (PyObject_SetAttr(__pyx_15, __pyx_kp___init__, __pyx_18) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 385; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_18); __pyx_18 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":388
 *         self.dimlens = dimlens
 *         self.dimtotlen = dimtotlen
 *     def __len__(self):             # <<<<<<<<<<<<<<
 *         return self.dimtotlen
 *     def isunlimited(self):
 */
  __pyx_13 = PyCFunction_New(&__pyx_mdef_7netCDF4_10_Dimension___len__, 0); if (unlikely(!__pyx_13)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 388; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_18 = PyMethod_New(__pyx_13, 0, __pyx_15); if (unlikely(!__pyx_18)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 388; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_13); __pyx_13 = 0;
  if (PyObject_SetAttr(__pyx_15, __pyx_kp___len__, __pyx_18) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 388; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_18); __pyx_18 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":390
 *     def __len__(self):
 *         return self.dimtotlen
 *     def isunlimited(self):             # <<<<<<<<<<<<<<
 *         return True
 * 
 */
  __pyx_13 = PyCFunction_New(&__pyx_mdef_7netCDF4_10_Dimension_isunlimited, 0); if (unlikely(!__pyx_13)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 390; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_18 = PyMethod_New(__pyx_13, 0, __pyx_15); if (unlikely(!__pyx_18)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 390; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_13); __pyx_13 = 0;
  if (PyObject_SetAttr(__pyx_15, __pyx_kp_isunlimited, __pyx_18) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 390; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_18); __pyx_18 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_kp__Dimension, __pyx_15) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_15); __pyx_15 = 0;
  Py_DECREF(((PyObject *)__pyx_17)); __pyx_17 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":393
 *         return True
 * 
 * class _Variable(object):             # <<<<<<<<<<<<<<
 *     def __init__(self, dset, varname, var, recdimname):
 *         self.dimensions = var.dimensions
 */
  __pyx_13 = PyDict_New(); if (unlikely(!__pyx_13)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 393; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_18 = PyTuple_New(1); if (unlikely(!__pyx_18)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 393; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_INCREF(__pyx_builtin_object);
  PyTuple_SET_ITEM(__pyx_18, 0, __pyx_builtin_object);
  __pyx_15 = __Pyx_CreateClass(((PyObject *)__pyx_18), ((PyObject *)__pyx_13), __pyx_kp__Variable, "netCDF4"); if (unlikely(!__pyx_15)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 393; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(((PyObject *)__pyx_18)); __pyx_18 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":394
 * 
 * class _Variable(object):
 *     def __init__(self, dset, varname, var, recdimname):             # <<<<<<<<<<<<<<
 *         self.dimensions = var.dimensions
 *         self._dset = dset
 */
  __pyx_17 = PyCFunction_New(&__pyx_mdef_7netCDF4_9_Variable___init__, 0); if (unlikely(!__pyx_17)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 394; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_18 = PyMethod_New(__pyx_17, 0, __pyx_15); if (unlikely(!__pyx_18)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 394; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_17); __pyx_17 = 0;
  if (PyObject_SetAttr(__pyx_15, __pyx_kp___init__, __pyx_18) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 394; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_18); __pyx_18 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":405
 *         for name, value in var.__dict__.items():
 *             self.__dict__[name] = value
 *     def typecode(self):             # <<<<<<<<<<<<<<
 *         return self.dtype
 *     def ncattrs(self):
 */
  __pyx_17 = PyCFunction_New(&__pyx_mdef_7netCDF4_9_Variable_typecode, 0); if (unlikely(!__pyx_17)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 405; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_18 = PyMethod_New(__pyx_17, 0, __pyx_15); if (unlikely(!__pyx_18)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 405; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_17); __pyx_17 = 0;
  if (PyObject_SetAttr(__pyx_15, __pyx_kp_typecode, __pyx_18) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 405; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_18); __pyx_18 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":407
 *     def typecode(self):
 *         return self.dtype
 *     def ncattrs(self):             # <<<<<<<<<<<<<<
 *         return self._mastervar.__dict__.keys()
 *     def __getattr__(self,name):
 */
  __pyx_17 = PyCFunction_New(&__pyx_mdef_7netCDF4_9_Variable_ncattrs, 0); if (unlikely(!__pyx_17)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 407; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_18 = PyMethod_New(__pyx_17, 0, __pyx_15); if (unlikely(!__pyx_18)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 407; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_17); __pyx_17 = 0;
  if (PyObject_SetAttr(__pyx_15, __pyx_kp_ncattrs, __pyx_18) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 407; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_18); __pyx_18 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":409
 *     def ncattrs(self):
 *         return self._mastervar.__dict__.keys()
 *     def __getattr__(self,name):             # <<<<<<<<<<<<<<
 *         if name == 'shape': return self._shape()
 *         if name == 'ndim': return len(self._shape())
 */
  __pyx_17 = PyCFunction_New(&__pyx_mdef_7netCDF4_9_Variable___getattr__, 0); if (unlikely(!__pyx_17)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 409; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_18 = PyMethod_New(__pyx_17, 0, __pyx_15); if (unlikely(!__pyx_18)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 409; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_17); __pyx_17 = 0;
  if (PyObject_SetAttr(__pyx_15, __pyx_kp___getattr__, __pyx_18) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 409; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_18); __pyx_18 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":416
 *         except:
 *             raise AttributeError(name)
 *     def _shape(self):             # <<<<<<<<<<<<<<
 *         recdimlen = len(self._dset.dimensions[self._recdimname])
 *         return (recdimlen,) + self._mastervar.shape[1:]
 */
  __pyx_17 = PyCFunction_New(&__pyx_mdef_7netCDF4_9_Variable__shape, 0); if (unlikely(!__pyx_17)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 416; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_18 = PyMethod_New(__pyx_17, 0, __pyx_15); if (unlikely(!__pyx_18)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 416; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_17); __pyx_17 = 0;
  if (PyObject_SetAttr(__pyx_15, __pyx_kp__shape, __pyx_18) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 416; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_18); __pyx_18 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":419
 *         recdimlen = len(self._dset.dimensions[self._recdimname])
 *         return (recdimlen,) + self._mastervar.shape[1:]
 *     def set_auto_maskandscale(self,val):             # <<<<<<<<<<<<<<
 *         for v in self._recVar:
 *             v.set_auto_maskandscale(val)
 */
  __pyx_17 = PyCFunction_New(&__pyx_mdef_7netCDF4_9_Variable_set_auto_maskandscale, 0); if (unlikely(!__pyx_17)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 419; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_18 = PyMethod_New(__pyx_17, 0, __pyx_15); if (unlikely(!__pyx_18)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 419; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_17); __pyx_17 = 0;
  if (PyObject_SetAttr(__pyx_15, __pyx_kp_3, __pyx_18) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 419; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_18); __pyx_18 = 0;

  /* "/storage/huardda/repos/netcdf4/utils.pyx":422
 *         for v in self._recVar:
 *             v.set_auto_maskandscale(val)
 *     def __getitem__(self, elem):             # <<<<<<<<<<<<<<
 *         """Get records from a concatenated set of variables."""
 * 
 */
  __pyx_17 = PyCFunction_New(&__pyx_mdef_7netCDF4_9_Variable___getitem__, 0); if (unlikely(!__pyx_17)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 422; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_18 = PyMethod_New(__pyx_17, 0, __pyx_15); if (unlikely(!__pyx_18)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 422; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_17); __pyx_17 = 0;
  if (PyObject_SetAttr(__pyx_15, __pyx_kp___getitem__, __pyx_18) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 422; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_18); __pyx_18 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_kp__Variable, __pyx_15) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 393; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  Py_DECREF(__pyx_15); __pyx_15 = 0;
  Py_DECREF(((PyObject *)__pyx_13)); __pyx_13 = 0;
  #if PY_MAJOR_VERSION < 3
  return;
  #else
  return __pyx_m;
  #endif
  __pyx_L1_error:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_6);
  Py_XDECREF(__pyx_7);
  Py_XDECREF(__pyx_8);
  Py_XDECREF(__pyx_9);
  Py_XDECREF(__pyx_10);
  Py_XDECREF(__pyx_11);
  Py_XDECREF(__pyx_12);
  Py_XDECREF(__pyx_13);
  Py_XDECREF(__pyx_14);
  Py_XDECREF(__pyx_15);
  Py_XDECREF(__pyx_16);
  Py_XDECREF(__pyx_17);
  Py_XDECREF(__pyx_18);
  __Pyx_AddTraceback("netCDF4");
  #if PY_MAJOR_VERSION >= 3
  return NULL;
  #endif
}

static const char *__pyx_filenames[] = {
  "netCDF4.pyx",
  "utils.pyx",
  "netCDF4.pxi",
};

/* Runtime support code */

static void __pyx_init_filenames(void) {
  __pyx_f = __pyx_filenames;
}

static INLINE void __Pyx_RaiseArgtupleTooLong(
    Py_ssize_t num_expected,
    Py_ssize_t num_found)
{
    const char* error_message =
    #if PY_VERSION_HEX < 0x02050000
        "function takes at most %d positional arguments (%d given)";
    #else
        "function takes at most %zd positional arguments (%zd given)";
    #endif
    PyErr_Format(PyExc_TypeError, error_message, num_expected, num_found);
}

static int __Pyx_SplitKeywords(
    PyObject **kwds,
    char *kwd_list[], 
    PyObject **kwds2,
    char rqd_kwds[])
{
    PyObject *s = 0, *x = 0, *kwds1 = 0;
    int i;
    char **p;
    
    if (*kwds) {
        kwds1 = PyDict_New();
        if (!kwds1)
            goto bad;
        *kwds2 = PyDict_Copy(*kwds);
        if (!*kwds2)
            goto bad;
        for (i = 0, p = kwd_list; *p; i++, p++) {
            #if PY_MAJOR_VERSION < 3
            s = PyString_FromString(*p);
            #else
            s = PyUnicode_FromString(*p);
            #endif
            x = PyDict_GetItem(*kwds, s);
            if (x) {
                if (PyDict_SetItem(kwds1, s, x) < 0)
                    goto bad;
                if (PyDict_DelItem(*kwds2, s) < 0)
                    goto bad;
            }
            else if (rqd_kwds && rqd_kwds[i])
                goto missing_kwarg;
            Py_DECREF(s);
        }
        s = 0;
    }
    else {
        if (rqd_kwds) {
            for (i = 0, p = kwd_list; *p; i++, p++)
                if (rqd_kwds[i])
                    goto missing_kwarg;
        }
        *kwds2 = PyDict_New();
        if (!*kwds2)
            goto bad;
    }

    *kwds = kwds1;
    return 0;
missing_kwarg:
    PyErr_Format(PyExc_TypeError,
        "required keyword argument '%s' is missing", *p);
bad:
    Py_XDECREF(s);
    Py_XDECREF(kwds1);
    Py_XDECREF(*kwds2);
    return -1;
}

static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed, char *name, int exact) {
    if (!type) {
        PyErr_Format(PyExc_SystemError, "Missing type object");
        return 0;
    }
    if (none_allowed && obj == Py_None) return 1;
    else if (exact) {
        if (Py_TYPE(obj) == type) return 1;
    }
    else {
        if (PyObject_TypeCheck(obj, type)) return 1;
    }
    PyErr_Format(PyExc_TypeError,
        "Argument '%s' has incorrect type (expected %s, got %s)",
        name, type->tp_name, Py_TYPE(obj)->tp_name);
    return 0;
}

static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list) {
    PyObject *__import__ = 0;
    PyObject *empty_list = 0;
    PyObject *module = 0;
    PyObject *global_dict = 0;
    PyObject *empty_dict = 0;
    PyObject *list;
    __import__ = PyObject_GetAttrString(__pyx_b, "__import__");
    if (!__import__)
        goto bad;
    if (from_list)
        list = from_list;
    else {
        empty_list = PyList_New(0);
        if (!empty_list)
            goto bad;
        list = empty_list;
    }
    global_dict = PyModule_GetDict(__pyx_m);
    if (!global_dict)
        goto bad;
    empty_dict = PyDict_New();
    if (!empty_dict)
        goto bad;
    module = PyObject_CallFunction(__import__, "OOOO",
        name, global_dict, empty_dict, list);
bad:
    Py_XDECREF(empty_list);
    Py_XDECREF(__import__);
    Py_XDECREF(empty_dict);
    return module;
}

static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name) {
    PyObject *result;
    result = PyObject_GetAttr(dict, name);
    if (!result)
        PyErr_SetObject(PyExc_NameError, name);
    return result;
}


static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb) {
    Py_XINCREF(type);
    Py_XINCREF(value);
    Py_XINCREF(tb);
    /* First, check the traceback argument, replacing None with NULL. */
    if (tb == Py_None) {
        Py_DECREF(tb);
        tb = 0;
    }
    else if (tb != NULL && !PyTraceBack_Check(tb)) {
        PyErr_SetString(PyExc_TypeError,
            "raise: arg 3 must be a traceback or None");
        goto raise_error;
    }
    /* Next, replace a missing value with None */
    if (value == NULL) {
        value = Py_None;
        Py_INCREF(value);
    }
    #if PY_VERSION_HEX < 0x02050000
    if (!PyClass_Check(type))
    #else
    if (!PyType_Check(type))
    #endif
    {
        /* Raising an instance.  The value should be a dummy. */
        if (value != Py_None) {
            PyErr_SetString(PyExc_TypeError,
                "instance exception may not have a separate value");
            goto raise_error;
        }
        /* Normalize to raise <class>, <instance> */
        Py_DECREF(value);
        value = type;
        #if PY_VERSION_HEX < 0x02050000
            if (PyInstance_Check(type)) {
                type = (PyObject*) ((PyInstanceObject*)type)->in_class;
                Py_INCREF(type);
            }
            else {
                type = 0;
                PyErr_SetString(PyExc_TypeError,
                    "raise: exception must be an old-style class or instance");
                goto raise_error;
            }
        #else
            type = (PyObject*) Py_TYPE(type);
            Py_INCREF(type);
            if (!PyType_IsSubtype((PyTypeObject *)type, (PyTypeObject *)PyExc_BaseException)) {
                PyErr_SetString(PyExc_TypeError,
                    "raise: exception class must be a subclass of BaseException");
                goto raise_error;
            }
        #endif
    }
    PyErr_Restore(type, value, tb);
    return;
raise_error:
    Py_XDECREF(value);
    Py_XDECREF(type);
    Py_XDECREF(tb);
    return;
}

static PyObject *__Pyx_UnpackItem(PyObject *iter, Py_ssize_t index) {
    PyObject *item;
    if (!(item = PyIter_Next(iter))) {
        if (!PyErr_Occurred()) {
            PyErr_Format(PyExc_ValueError,
                #if PY_VERSION_HEX < 0x02050000
                    "need more than %d values to unpack", (int)index);
                #else
                    "need more than %zd values to unpack", index);
                #endif
        }
    }
    return item;
}

static int __Pyx_EndUnpack(PyObject *iter) {
    PyObject *item;
    if ((item = PyIter_Next(iter))) {
        Py_DECREF(item);
        PyErr_SetString(PyExc_ValueError, "too many values to unpack");
        return -1;
    }
    else if (!PyErr_Occurred())
        return 0;
    else
        return -1;
}

static PyObject *__Pyx_CreateClass(
    PyObject *bases, PyObject *dict, PyObject *name, char *modname)
{
    PyObject *py_modname;
    PyObject *result = 0;

    #if PY_MAJOR_VERSION < 3
    py_modname = PyString_FromString(modname);
    #else
    py_modname = PyUnicode_FromString(modname);
    #endif
    if (!py_modname)
        goto bad;
    if (PyDict_SetItemString(dict, "__module__", py_modname) < 0)
        goto bad;
    #if PY_MAJOR_VERSION < 3
    result = PyClass_New(bases, dict, name);
    #else
    result = PyObject_CallFunctionObjArgs((PyObject *)&PyType_Type, name, bases, dict, NULL);
    #endif
bad:
    Py_XDECREF(py_modname);
    return result;
}

static int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type) {
    if (!type) {
        PyErr_Format(PyExc_SystemError, "Missing type object");
        return 0;
    }
    if (obj == Py_None || PyObject_TypeCheck(obj, type))
        return 1;
    PyErr_Format(PyExc_TypeError, "Cannot convert %s to %s",
        Py_TYPE(obj)->tp_name, type->tp_name);
    return 0;
}

static int __Pyx_GetException(PyObject **type, PyObject **value, PyObject **tb) {
    PyObject *tmp_type, *tmp_value, *tmp_tb;
    PyThreadState *tstate = PyThreadState_Get();
    PyErr_Fetch(type, value, tb);
    PyErr_NormalizeException(type, value, tb);
    if (PyErr_Occurred())
        goto bad;
    Py_INCREF(*type);
    Py_INCREF(*value);
    Py_INCREF(*tb);
    tmp_type = tstate->exc_type;
    tmp_value = tstate->exc_value;
    tmp_tb = tstate->exc_traceback;
    tstate->exc_type = *type;
    tstate->exc_value = *value;
    tstate->exc_traceback = *tb;
    /* Make sure tstate is in a consistent state when we XDECREF
    these objects (XDECREF may run arbitrary code). */
    Py_XDECREF(tmp_type);
    Py_XDECREF(tmp_value);
    Py_XDECREF(tmp_tb);
    return 0;
bad:
    Py_XDECREF(*type);
    Py_XDECREF(*value);
    Py_XDECREF(*tb);
    return -1;
}


#if PY_MAJOR_VERSION < 3
static PyObject *__Pyx_GetStdout(void) {
    PyObject *f = PySys_GetObject("stdout");
    if (!f) {
        PyErr_SetString(PyExc_RuntimeError, "lost sys.stdout");
    }
    return f;
}

static int __Pyx_Print(PyObject *arg_tuple, int newline) {
    PyObject *f;
    PyObject* v;
    int i;
    
    if (!(f = __Pyx_GetStdout()))
        return -1;
    for (i=0; i < PyTuple_GET_SIZE(arg_tuple); i++) {
        if (PyFile_SoftSpace(f, 1)) {
            if (PyFile_WriteString(" ", f) < 0)
                return -1;
        }
        v = PyTuple_GET_ITEM(arg_tuple, i);
        if (PyFile_WriteObject(v, f, Py_PRINT_RAW) < 0)
            return -1;
        if (PyString_Check(v)) {
            char *s = PyString_AsString(v);
            Py_ssize_t len = PyString_Size(v);
            if (len > 0 &&
                isspace(Py_CHARMASK(s[len-1])) &&
                s[len-1] != ' ')
                    PyFile_SoftSpace(f, 0);
        }
    }
    if (newline) {
        if (PyFile_WriteString("\n", f) < 0)
            return -1;
        PyFile_SoftSpace(f, 0);
    }
    return 0;
}

#else /* Python 3 has a print function */
static int __Pyx_Print(PyObject *arg_tuple, int newline) {
    PyObject* kwargs = 0;
    PyObject* result = 0;
    PyObject* end_string;
    if (!__pyx_print) {
        __pyx_print = PyObject_GetAttrString(__pyx_b, "print");
        if (!__pyx_print)
            return -1;
    }
    if (!newline) {
        if (!__pyx_print_kwargs) {
            __pyx_print_kwargs = PyDict_New();
            if (!__pyx_print_kwargs)
                return -1;
            end_string = PyUnicode_FromStringAndSize(" ", 1);
            if (!end_string)
                return -1;
            if (PyDict_SetItemString(__pyx_print_kwargs, "end", end_string) < 0) {
                Py_DECREF(end_string);
                return -1;
            }
            Py_DECREF(end_string);
        }
        kwargs = __pyx_print_kwargs;
    }
    result = PyObject_Call(__pyx_print, arg_tuple, kwargs);
    if (!result)
        return -1;
    Py_DECREF(result);
    return 0;
}
#endif


#ifndef __PYX_HAVE_RT_ImportType
#define __PYX_HAVE_RT_ImportType
static PyTypeObject *__Pyx_ImportType(char *module_name, char *class_name,
    long size)
{
    PyObject *py_module = 0;
    PyObject *result = 0;
    PyObject *py_name = 0;

    #if PY_MAJOR_VERSION < 3
    py_name = PyString_FromString(module_name);
    #else
    py_name = PyUnicode_FromString(module_name);
    #endif
    if (!py_name)
        goto bad;

    py_module = __Pyx_ImportModule(module_name);
    if (!py_module)
        goto bad;
    result = PyObject_GetAttrString(py_module, class_name);
    if (!result)
        goto bad;
    if (!PyType_Check(result)) {
        PyErr_Format(PyExc_TypeError, 
            "%s.%s is not a type object",
            module_name, class_name);
        goto bad;
    }
    if (((PyTypeObject *)result)->tp_basicsize != size) {
        PyErr_Format(PyExc_ValueError, 
            "%s.%s does not appear to be the correct type object",
            module_name, class_name);
        goto bad;
    }
    return (PyTypeObject *)result;
bad:
    Py_XDECREF(py_name);
    Py_XDECREF(result);
    return 0;
}
#endif

#ifndef __PYX_HAVE_RT_ImportModule
#define __PYX_HAVE_RT_ImportModule
static PyObject *__Pyx_ImportModule(char *name) {
    PyObject *py_name = 0;
    PyObject *py_module = 0;

    #if PY_MAJOR_VERSION < 3
    py_name = PyString_FromString(name);
    #else
    py_name = PyUnicode_FromString(name);
    #endif
    if (!py_name)
        goto bad;
    py_module = PyImport_Import(py_name);
    Py_DECREF(py_name);
    return py_module;
bad:
    Py_XDECREF(py_name);
    return 0;
}
#endif

#include "compile.h"
#include "frameobject.h"
#include "traceback.h"

static void __Pyx_AddTraceback(const char *funcname) {
    PyObject *py_srcfile = 0;
    PyObject *py_funcname = 0;
    PyObject *py_globals = 0;
    PyObject *empty_string = 0;
    PyCodeObject *py_code = 0;
    PyFrameObject *py_frame = 0;

    #if PY_MAJOR_VERSION < 3
    py_srcfile = PyString_FromString(__pyx_filename);
    #else
    py_srcfile = PyUnicode_FromString(__pyx_filename);
    #endif
    if (!py_srcfile) goto bad;
    if (__pyx_clineno) {
        #if PY_MAJOR_VERSION < 3
        py_funcname = PyString_FromFormat( "%s (%s:%d)", funcname, __pyx_cfilenm, __pyx_clineno);
        #else
        py_funcname = PyUnicode_FromFormat( "%s (%s:%d)", funcname, __pyx_cfilenm, __pyx_clineno);
        #endif
    }
    else {
        #if PY_MAJOR_VERSION < 3
        py_funcname = PyString_FromString(funcname);
        #else
        py_funcname = PyUnicode_FromString(funcname);
        #endif
    }
    if (!py_funcname) goto bad;
    py_globals = PyModule_GetDict(__pyx_m);
    if (!py_globals) goto bad;
    #if PY_MAJOR_VERSION < 3
    empty_string = PyString_FromStringAndSize("", 0);
    #else
    empty_string = PyBytes_FromStringAndSize("", 0);
    #endif
    if (!empty_string) goto bad;
    py_code = PyCode_New(
        0,            /*int argcount,*/
        #if PY_MAJOR_VERSION >= 3
        0,            /*int kwonlyargcount,*/
        #endif
        0,            /*int nlocals,*/
        0,            /*int stacksize,*/
        0,            /*int flags,*/
        empty_string, /*PyObject *code,*/
        __pyx_empty_tuple,  /*PyObject *consts,*/
        __pyx_empty_tuple,  /*PyObject *names,*/
        __pyx_empty_tuple,  /*PyObject *varnames,*/
        __pyx_empty_tuple,  /*PyObject *freevars,*/
        __pyx_empty_tuple,  /*PyObject *cellvars,*/
        py_srcfile,   /*PyObject *filename,*/
        py_funcname,  /*PyObject *name,*/
        __pyx_lineno,   /*int firstlineno,*/
        empty_string  /*PyObject *lnotab*/
    );
    if (!py_code) goto bad;
    py_frame = PyFrame_New(
        PyThreadState_Get(), /*PyThreadState *tstate,*/
        py_code,             /*PyCodeObject *code,*/
        py_globals,          /*PyObject *globals,*/
        0                    /*PyObject *locals*/
    );
    if (!py_frame) goto bad;
    py_frame->f_lineno = __pyx_lineno;
    PyTraceBack_Here(py_frame);
bad:
    Py_XDECREF(py_srcfile);
    Py_XDECREF(py_funcname);
    Py_XDECREF(empty_string);
    Py_XDECREF(py_code);
    Py_XDECREF(py_frame);
}

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t) {
    while (t->p) {
        #if PY_MAJOR_VERSION < 3
        if (t->is_unicode && (!t->is_identifier)) {
            *t->p = PyUnicode_DecodeUTF8(t->s, t->n - 1, NULL);
        } else if (t->intern) {
            *t->p = PyString_InternFromString(t->s);
        } else {
            *t->p = PyString_FromStringAndSize(t->s, t->n - 1);
        }
        #else  /* Python 3+ has unicode identifiers */
        if (t->is_identifier || (t->is_unicode && t->intern)) {
            *t->p = PyUnicode_InternFromString(t->s);
        } else if (t->is_unicode) {
            *t->p = PyUnicode_FromStringAndSize(t->s, t->n - 1);
        } else {
            *t->p = PyBytes_FromStringAndSize(t->s, t->n - 1);
        }
        #endif
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

/* Type Conversion Functions */

static INLINE Py_ssize_t __pyx_PyIndex_AsSsize_t(PyObject* b) {
  Py_ssize_t ival;
  PyObject* x = PyNumber_Index(b);
  if (!x) return -1;
  ival = PyInt_AsSsize_t(x);
  Py_DECREF(x);
  return ival;
}

static INLINE int __Pyx_PyObject_IsTrue(PyObject* x) {
   if (x == Py_True) return 1;
   else if (x == Py_False) return 0;
   else return PyObject_IsTrue(x);
}

static INLINE PY_LONG_LONG __pyx_PyInt_AsLongLong(PyObject* x) {
    if (PyInt_CheckExact(x)) {
        return PyInt_AS_LONG(x);
    }
    else if (PyLong_CheckExact(x)) {
        return PyLong_AsLongLong(x);
    }
    else {
        PY_LONG_LONG val;
        PyObject* tmp = PyNumber_Int(x); if (!tmp) return (PY_LONG_LONG)-1;
        val = __pyx_PyInt_AsLongLong(tmp);
        Py_DECREF(tmp);
        return val;
    }
}

static INLINE unsigned PY_LONG_LONG __pyx_PyInt_AsUnsignedLongLong(PyObject* x) {
    if (PyInt_CheckExact(x)) {
        long val = PyInt_AS_LONG(x);
        if (unlikely(val < 0)) {
            PyErr_SetString(PyExc_TypeError, "Negative assignment to unsigned type.");
            return (unsigned PY_LONG_LONG)-1;
        }
        return val;
    }
    else if (PyLong_CheckExact(x)) {
        return PyLong_AsUnsignedLongLong(x);
    }
    else {
        PY_LONG_LONG val;
        PyObject* tmp = PyNumber_Int(x); if (!tmp) return (PY_LONG_LONG)-1;
        val = __pyx_PyInt_AsUnsignedLongLong(tmp);
        Py_DECREF(tmp);
        return val;
    }
}


static INLINE unsigned char __pyx_PyInt_unsigned_char(PyObject* x) {
    if (sizeof(unsigned char) < sizeof(long)) {
        long long_val = __pyx_PyInt_AsLong(x);
        unsigned char val = (unsigned char)long_val;
        if (unlikely((val != long_val)  || (long_val < 0))) {
            PyErr_SetString(PyExc_OverflowError, "value too large to convert to unsigned char");
            return (unsigned char)-1;
        }
        return val;
    }
    else {
        return __pyx_PyInt_AsLong(x);
    }
}

static INLINE unsigned short __pyx_PyInt_unsigned_short(PyObject* x) {
    if (sizeof(unsigned short) < sizeof(long)) {
        long long_val = __pyx_PyInt_AsLong(x);
        unsigned short val = (unsigned short)long_val;
        if (unlikely((val != long_val)  || (long_val < 0))) {
            PyErr_SetString(PyExc_OverflowError, "value too large to convert to unsigned short");
            return (unsigned short)-1;
        }
        return val;
    }
    else {
        return __pyx_PyInt_AsLong(x);
    }
}

static INLINE char __pyx_PyInt_char(PyObject* x) {
    if (sizeof(char) < sizeof(long)) {
        long long_val = __pyx_PyInt_AsLong(x);
        char val = (char)long_val;
        if (unlikely((val != long_val) )) {
            PyErr_SetString(PyExc_OverflowError, "value too large to convert to char");
            return (char)-1;
        }
        return val;
    }
    else {
        return __pyx_PyInt_AsLong(x);
    }
}

static INLINE short __pyx_PyInt_short(PyObject* x) {
    if (sizeof(short) < sizeof(long)) {
        long long_val = __pyx_PyInt_AsLong(x);
        short val = (short)long_val;
        if (unlikely((val != long_val) )) {
            PyErr_SetString(PyExc_OverflowError, "value too large to convert to short");
            return (short)-1;
        }
        return val;
    }
    else {
        return __pyx_PyInt_AsLong(x);
    }
}

static INLINE int __pyx_PyInt_int(PyObject* x) {
    if (sizeof(int) < sizeof(long)) {
        long long_val = __pyx_PyInt_AsLong(x);
        int val = (int)long_val;
        if (unlikely((val != long_val) )) {
            PyErr_SetString(PyExc_OverflowError, "value too large to convert to int");
            return (int)-1;
        }
        return val;
    }
    else {
        return __pyx_PyInt_AsLong(x);
    }
}

static INLINE long __pyx_PyInt_long(PyObject* x) {
    if (sizeof(long) < sizeof(long)) {
        long long_val = __pyx_PyInt_AsLong(x);
        long val = (long)long_val;
        if (unlikely((val != long_val) )) {
            PyErr_SetString(PyExc_OverflowError, "value too large to convert to long");
            return (long)-1;
        }
        return val;
    }
    else {
        return __pyx_PyInt_AsLong(x);
    }
}

static INLINE signed char __pyx_PyInt_signed_char(PyObject* x) {
    if (sizeof(signed char) < sizeof(long)) {
        long long_val = __pyx_PyInt_AsLong(x);
        signed char val = (signed char)long_val;
        if (unlikely((val != long_val) )) {
            PyErr_SetString(PyExc_OverflowError, "value too large to convert to signed char");
            return (signed char)-1;
        }
        return val;
    }
    else {
        return __pyx_PyInt_AsLong(x);
    }
}

static INLINE signed short __pyx_PyInt_signed_short(PyObject* x) {
    if (sizeof(signed short) < sizeof(long)) {
        long long_val = __pyx_PyInt_AsLong(x);
        signed short val = (signed short)long_val;
        if (unlikely((val != long_val) )) {
            PyErr_SetString(PyExc_OverflowError, "value too large to convert to signed short");
            return (signed short)-1;
        }
        return val;
    }
    else {
        return __pyx_PyInt_AsLong(x);
    }
}

static INLINE signed int __pyx_PyInt_signed_int(PyObject* x) {
    if (sizeof(signed int) < sizeof(long)) {
        long long_val = __pyx_PyInt_AsLong(x);
        signed int val = (signed int)long_val;
        if (unlikely((val != long_val) )) {
            PyErr_SetString(PyExc_OverflowError, "value too large to convert to signed int");
            return (signed int)-1;
        }
        return val;
    }
    else {
        return __pyx_PyInt_AsLong(x);
    }
}

static INLINE signed long __pyx_PyInt_signed_long(PyObject* x) {
    if (sizeof(signed long) < sizeof(long)) {
        long long_val = __pyx_PyInt_AsLong(x);
        signed long val = (signed long)long_val;
        if (unlikely((val != long_val) )) {
            PyErr_SetString(PyExc_OverflowError, "value too large to convert to signed long");
            return (signed long)-1;
        }
        return val;
    }
    else {
        return __pyx_PyInt_AsLong(x);
    }
}

static INLINE long double __pyx_PyInt_long_double(PyObject* x) {
    if (sizeof(long double) < sizeof(long)) {
        long long_val = __pyx_PyInt_AsLong(x);
        long double val = (long double)long_val;
        if (unlikely((val != long_val) )) {
            PyErr_SetString(PyExc_OverflowError, "value too large to convert to long double");
            return (long double)-1;
        }
        return val;
    }
    else {
        return __pyx_PyInt_AsLong(x);
    }
}

