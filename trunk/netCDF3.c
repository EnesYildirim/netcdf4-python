/* Generated by Cython 0.9.6.9 on Wed Dec 26 17:07:22 2007 */

#define PY_SSIZE_T_CLEAN
#include "Python.h"
#include "structmember.h"
#ifndef PY_LONG_LONG
  #define PY_LONG_LONG LONG_LONG
#endif
#if PY_VERSION_HEX < 0x02050000
  typedef int Py_ssize_t;
  #define PY_SSIZE_T_MAX INT_MAX
  #define PY_SSIZE_T_MIN INT_MIN
  #define PyInt_FromSsize_t(z) PyInt_FromLong(z)
  #define PyInt_AsSsize_t(o)   PyInt_AsLong(o)
  #define PyNumber_Index(o)    PyNumber_Int(o)
  #define PyIndex_Check(o)     PyNumber_Check(o)
#endif
#if PY_VERSION_HEX < 0x02040000
  #define METH_COEXIST 0
#endif
#ifndef WIN32
  #define __stdcall
  #define __cdecl
#endif
#ifdef __cplusplus
#define __PYX_EXTERN_C extern "C"
#else
#define __PYX_EXTERN_C extern
#endif
#include <math.h>
#include "stdlib.h"
#include "netcdf.h"
#include "numpy/arrayobject.h"


#ifdef __GNUC__
#define INLINE __inline__
#elif _WIN32
#define INLINE __inline
#else
#define INLINE 
#endif

typedef struct {PyObject **p; char *s;} __Pyx_InternTabEntry; /*proto*/
typedef struct {PyObject **p; char *s; long n; int is_unicode;} __Pyx_StringTabEntry; /*proto*/

static INLINE Py_ssize_t __pyx_PyIndex_AsSsize_t(PyObject* b) {
  Py_ssize_t ival;
  PyObject* x = PyNumber_Index(b);
  if (!x) return -1;
  ival = PyInt_AsSsize_t(x);
  Py_DECREF(x);
  return ival;
}

#define __Pyx_PyBool_FromLong(b) ((b) ? (Py_INCREF(Py_True), Py_True) : (Py_INCREF(Py_False), Py_False))
static INLINE int __Pyx_PyObject_IsTrue(PyObject* x) {
   if (x == Py_True) return 1;
   else if (x == Py_False) return 0;
   else return PyObject_IsTrue(x);
}



static int __pyx_skip_dispatch = 0;


#ifdef __GNUC__
/* Test for GCC > 2.95 */
#if __GNUC__ > 2 ||               (__GNUC__ == 2 && (__GNUC_MINOR__ > 95)) 
#define likely(x)   __builtin_expect(!!(x), 1)
#define unlikely(x) __builtin_expect(!!(x), 0)
#else /* __GNUC__ > 2 ... */
#define likely(x)   (x)
#define unlikely(x) (x)
#endif /* __GNUC__ > 2 ... */
#else /* __GNUC__ */
#define likely(x)   (x)
#define unlikely(x) (x)
#endif /* __GNUC__ */
    
static PyObject *__pyx_m;
static PyObject *__pyx_b;
static int __pyx_lineno;
static char *__pyx_filename;
static char **__pyx_f;

static char __pyx_mdoc[] = "\nIntroduction\n============\n\nPython interface to the netCDF version 3 library. The API modelled after \nU{Scientific.IO.NetCDF \n<http://starship.python.net/~hinsen/ScientificPython>}, and should be \nfamiliar to users of that module.\n\nDownload \n========\n\n - U{Project page <http://code.google.com/p/netcdf4-python/>}.\n - U{Subversion repository <http://code.google.com/p/netcdf4-python/source>}.\n - U{Source tar.gz <http://code.google.com/p/netcdf4-python/downloads/list>}.\n\nRequires \n======== \n\n - numpy array module U{http://numpy.scipy.org}, version 1.0 or later.\n - The netCDF-3 C library (version 3.6 or later), available at\n U{ftp://ftp.unidata.ucar.edu/pub/netcdf/snapshot}.\n\n\nInstall\n=======\n\n - install the requisite python modules and C libraries (see above).\n netCDF version 3 library and headers are installed.\n - run \'python setup-nc3.py install\'\n - run some of the tests in the \'test3\' directory.\n\nTutorial\n========\n\n1) Creating/Opening/Closing a netCDF file\n-----------------------------------------\n\nTo create a netCDF file from python, you simply call the L{Dataset}\nconstructor. This is also the method used to open an existing netCDF\nfile.  If the file is open for write access (C{w, r+} or C{a}), you may\nwrite any type of data including new dimensions, variables and\nattributes.  netCDF files come in several flavors (C{NETCDF3_CLASSIC,\nNETCDF3_64BIT, NETCDF4_CLASSIC}, and C{NETCDF4}). The first two flavors\nare supported by version 3 of the netCDF library, and are supported\nin this module. To read or write C{NETCDF4} and C{NETCDF4_CLASSIC}\nfiles use the companion L{netCDF4} python module. The default format\nC{NETCDF3_64BIT}. To see how a given file is formatted, you can examine the\nC{file_format} L{Dataset} attribute.  Closing the netCDF file is\naccomplished via the L{close<Dataset.close>} method of the L{Dataset}\ninstance.\n\nHere\'s an example:\n\n>>> import netCDF3\n>>> ncfile = netCDF3.Dataset(\'test.nc\', \'w\')\n>>> print ncfile.file_format\nNETCDF3_64BIT\n>>>\n>>> ncfile.close()\n            \n2) Dimensions in a netCDF file\n------------------------------\n\nnetCDF defines the sizes of all variables in terms of dimensions, so\nbefore any variables can be created the dimensions they use must be\ncreated first. A special case, not often used in practice, is that of a\nscalar variable, which has no dimensions. A dimension is created using\nthe L{createDimension<Dataset.createDimension>} method of a L{Dataset}\ninstance. A Python string is used to set the name of the\ndimension, and an integer value is used to set the size. To create an\nunlimited dimension (a dimension that can be appended to), the size\nvalue is set to C{None}. netCDF 3 files can only have one unlimited\ndimension, and it must be the first (leftmost) dimension of the variable.\n\n>>> ncfile.createDimension(\'level\', 16)\n>>> ncfile.createDimension(\'time\', None)\n>>> ncfile.createDimension(\'lat\', 73)\n>>> ncfile.createDimension(\'lon\', 144)\n            \n\nAll of the L{Dimension} instances are stored in a python dictionary.\n\n>>> print ncfile.dimensions\n{\'lat\': <netCDF3.Dimension object at 0x24a5f7b0>, \n \'time\': <netCDF3.Dimension object at 0x24a5f788>, \n \'lon\': <netCDF3.Dimension object at 0x24a5f7d8>, \n \'level\': <netCDF3.Dimension object at 0x24a5f760>}\n>>>\n\nCalling the python C{len} function with a L{Dimension} instance returns\nthe current size of that dimension. The\nL{isunlimited<Dimension.isunlimited>} method of a L{Dimension} instance\ncan be used to determine if the dimensions is unlimited, or appendable.\n\n>>> for dimname, dimobj in ncfile.dimensions.iteritems():\n>>>    print dimname, len(dimobj), dimobj.isunlimited()\nlat 73 False\ntime 0 True\nlon 144 False\nlevel 16 False\n>>>\n\nL{Dimension} names can be changed using the\nL{renameDimension<Dataset.renameDimension>} method of a L{Dataset} instance.\n            \n3) Variables in a netCDF file\n-----------------------------\n\nnetCDF variables behave much like python multidimensional array objects\nsupplied by the U{numpy module <http://numpy.scipy.org>}. However,\nunlike numpy arrays, netCDF3 variables can be appended to along one \n\'unlimited\' dimension. To create a netCDF variable, use the\nL{createVariable<Dataset.createVariable>} method of a L{Dataset}\ninstance. The L{createVariable<Dataset.createVariable>} method\nhas two mandatory arguments, the variable name (a Python string), and\nthe variable datatype. The variable\'s dimensions are given by a tuple\ncontaining the dimension names (defined previously with\nL{createDimension<Dataset.createDimension>}). To create a scalar\nvariable, simply leave out the dimensions keyword. The variable\nprimitive datatypes correspond to the dtype attribute of a numpy array. \nYou can specify the datatype as a numpy dtype object, or anything that\ncan be converted to a numpy dtype object.  Valid datatype specifiers\ninclude: C{\'f4\'} (32-bit floating point), C{\'f8\'} (64-bit floating\npoint), C{\'i4\'} (32-bit signed integer), C{\'i2\'} (16-bit signed\ninteger), C{\'i1\'} (8-bit signed integer), or C{\'S1\'} (single-character string)\nThe old Numeric single-character typecodes (C{\'f\'},C{\'d\'},C{\'h\'},\nC{\'s\'},C{\'b\'},C{\'B\'},C{\'c\'},C{\'i\'},C{\'l\'}), corresponding to\n(C{\'f4\'},C{\'f8\'},C{\'i2\'},C{\'i2\'},C{\'i1\'},C{\'i1\'},C{\'S1\'},C{\'i4\'},C{\'i4\'}),\nwill also work. \n\nThe dimensions themselves are usually also defined as variables, called\ncoordinate variables. The L{createVariable<Dataset.createVariable>}\nmethod returns an instance of the L{Variable} class whose methods can be\nused later to access and set variable data and attributes.\n\n>>> times = ncfile.createVariable(\'time\',\'f8\',(\'time\',))\n>>> levels = ncfile.createVariable(\'level\',\'i4\',(\'level\',))\n>>> latitudes = ncfile.createVariable(\'latitude\',\'f4\',(\'lat\',))\n>>> longitudes = ncfile.createVariable(\'longitude\',\'f4\',(\'lon\',))\n>>> # two dimensions unlimited.\n>>> temp = ncfile.createVariable(\'temp\',\'f4\',(\'time\',\'level\',\'lat\',\'lon\',))\n\nAll of the variables in the L{Dataset} are stored in a\nPython dictionary, in the same way as the dimensions:\n\n>>> print ncfile.variables\n{\'temp\': <netCDF3.Variable object at 0x24a61068>,\n \'level\': <netCDF3.Variable object at 0.35f0f80>, \n \'longitude\': <netCDF3.Variable object at 0x24a61030>,\n \'pressure\': <netCDF3.Variable object at 0x24a610a0>, \n \'time\': <netCDF3.Variable object at 02x45f0.4.58>, \n \'latitude\': <netCDF3.Variable object at 0.3f0fb8>}\n>>>\n\nL{Variable} names can be changed using the\nL{renameVariable<Dataset.renameVariable>} method of a L{Dataset}\ninstance.\n            \n\n4) Attributes in a netCDF file\n------------------------------\n\nThere are two types of attributes in a netCDF file, global and variable. \nGlobal attributes provide information about a dataset as a whole.\nL{Variable} attributes provide information about\none of the variables in a dataset. Global attributes are set by assigning\nvalues to L{Dataset} instance variables. L{Variable}\nattributes are set by assigning values to L{Variable} instance\nvariables. Attributes can be strings, numbers or sequences. Returning to\nour example,\n\n>>> import time\n>>> ncfile.description = \'bogus example script\'\n>>> ncfile.history = \'Created \' + time.ctime(time.time())\n>>> ncfile.source = \'netCDF3 python module tutorial\'\n>>> latitudes.units = \'degrees north\'\n>>> longitudes.units = \'degrees east\'\n>>> pressure.units = \'hPa\'\n>>> temp.units = \'K\'\n>>> times.units = \'hours since 0001-01-01 00:00:00.0\'\n>>> times.calendar = \'gregorian\'\n\nThe L{ncattrs<Dataset.ncattrs>} method of a L{Dataset} or\nL{Variable} instance can be used to retrieve the names of all the netCDF\nattributes. This method is provided as a convenience, since using the\nbuilt-in C{dir} Python function will return a bunch of private methods\nand attributes that cannot (or should not) be modified by the user.\n\n>>> for name in ncfile.ncattrs():\n>>>     print \'Global attr\', name, \'=\', getattr(ncfile,name)\nGlobal attr description = bogus example script\nGlobal attr history = Created Mon Nov  7 10.30:56 2005\nGlobal attr source = netCDF3 python module tutorial\n\nThe C{__dict__} attribute of a L{Dataset} or L{Variable} \ninstance provides all the netCDF attribute name/value pairs in a python \ndictionary:\n\n>>> print ncfile.__dict__\n{\'source\': \'netCDF3 python module tutorial\',\n\'description\': \'bogus example script\',\n\'history\': \'Created Mon Nov  7 10.30:56 2005\'}\n\nAttributes can be deleted from a netCDF L{Dataset} or\nL{Variable} using the python C{del} statement (i.e. C{del var.foo}\nremoves the attribute C{foo} the the variable C{var}).\n\n6) Writing data to and retrieving data from a netCDF variable\n-------------------------------------------------------------\n\nNow that you have a netCDF L{Variable} instance, how do you put data\ninto it? You can just treat it like an array and assign data to a slice.\n\n>>> import numpy as NP\n>>> latitudes[:] = NP.arange(-90,91,2.5)\n>>> levels[:] = NP.arange(arange(1,17,1))\n>>> print \'latitudes =\\n\',latitudes[:]\nlatitudes =\n[-90.  -87.5 -85.  -82.5 -80.  -77.5 -75.  -72.5 -70.  -67.5 -65.  -62.5\n -60.  -57.5 -55.  -52.5 -50.  -47.5 -45.  -42.5 -40.  -37.5 -35.  -32.5\n -30.  -27.5 -25.  -22.5 -20.  -17.5 -15.  -12.5 -10.   -7.5  -5.   -2.5\n   0.    2.5   5.    7.5  10.   12.5  15.   17.5  20.   22.5  25.   27.5\n  30.   32.5  35.   37.5  40.   42.5  45.   47.5  50.   52.5  55.   57.5\n  60.   62.5  65.   67.5  70.   72.5  75.   77.5  80.   82.5  85.   87.5\n  90. ]\n>>>\n\nUnlike numpy array objects, netCDF L{Variable} objects with unlimited\ndimensions will grow along those dimensions if you assign data outside\nthe currently defined range of indices.\n\n>>> # append along two unlimited dimensions by assigning to slice.\n>>> nlats = len(ncfile.dimensions[\'lat\'])\n>>> nlons = len(ncfile.dimensions[\'lon\'])\n>>> print \'temp shape before adding data = \',temp.shape\ntemp shape before adding data =  (0, 16, 73, 144)\n>>>\n>>> from numpy.random.mtrand import uniform\n>>> temp[0:5,:,:,:] = uniform(size=(5,16,nlats,nlons))\n>>> print \'temp shape after adding data = \',temp.shape\ntemp shape after adding data =  (5, 16, 73, 144)\n>>>\n\nTime coordinate values pose a special challenge to netCDF users.  Most\nmetadata standards (such as CF and COARDS) specify that time should be\nmeasure relative to a fixed date using a certain calendar, with units\nspecified like C{hours since YY:MM:DD hh-mm-ss}.  These units can be\nawkward to deal with, without a utility to convert the values to and\nfrom calendar dates.  The functione called L{num2date} and L{date2num} are\nprovided with this package to do just that.  Here\'s an example of how they\ncan be used:\n\n>>> # fill in times.\n>>> from datetime import datetime, timedelta\n>>> from netCDF3 import num2date, date2num\n>>> dates = [datetime(2001,3,1)+n*timedelta(hours=12) for n in range(temp.shape[0])]\n>>> times[:] = date2num(dates,units=times.units,calendar=times.calendar)\n>>> print \'time values (in units %s): \' % times.units+\'\\n\',times[:]\ntime values (in units hours since January 1, 0001): \n[ 17533056.  17533068.  17533080.  17533092.  17533104.]\n>>>\n>>> dates = num2date(times[:],units=times.units,calendar=times.calendar)\n>>> print \'dates corresponding to time values:\\n\',dates\ndates corresponding to time values:\n[2001-03-01 00:00:00 2001-03-01 12:00:00 2001-03-02 00:00:00\n 2001-03-02 12:00:00 2001-03-03 00:00:00]\n>>>\n\nL{num2date} converts numeric values of time in the specified C{units}\nand C{calendar} to datetime objectecs, and L{date2num} does the reverse.\nAll the calendars currently defined in the U{CF metadata convention \n<http://cf-pcmdi.llnl.gov/documents/cf-conventions/>} are supported.\n            \nAll of the code in this tutorial is available in C{examples/tutorial-nc3.py},\nUnit tests are in the C{test3} directory.\n\n@contact: Jeffrey Whitaker <jeffrey.s.whitaker@noaa.gov>\n\n@copyright: 2007 by Jeffrey Whitaker.\n\n@license: Permission to use, copy, modify, and distribute this software and\nits documentation for any purpose and without fee is hereby granted,\nprovided that the above copyright notice appear in all copies and that\nboth the copyright notice and this permission notice appear in\nsupporting documentation.\nTHE AUTHOR DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE,\nINCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO\nEVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, INDIRECT OR\nCONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF\nUSE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.";

static int __Pyx_GetStarArgs(PyObject **args, PyObject **kwds, char *kwd_list[],     Py_ssize_t nargs, PyObject **args2, PyObject **kwds2, char rqd_kwds[]); /*proto*/

static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed, char *name); /*proto*/

static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list); /*proto*/

static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name); /*proto*/

static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb); /*proto*/

static PyObject *__Pyx_UnpackItem(PyObject *); /*proto*/
static int __Pyx_EndUnpack(PyObject *); /*proto*/

static int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type); /*proto*/

static int __Pyx_GetException(PyObject **type, PyObject **value, PyObject **tb); /*proto*/

static int __Pyx_PrintItem(PyObject *); /*proto*/
static int __Pyx_PrintNewline(void); /*proto*/

static int __Pyx_InternStrings(__Pyx_InternTabEntry *t); /*proto*/

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t); /*proto*/

static PyTypeObject *__Pyx_ImportType(char *module_name, char *class_name, long size);  /*proto*/

static PyObject *__Pyx_ImportModule(char *name); /*proto*/

static void __Pyx_AddTraceback(char *funcname); /*proto*/

static int __Pyx_RegisterCleanup(); /*proto*/
static PyObject* cleanup(PyObject *self, PyObject *unused); /*proto*/
static PyMethodDef cleanup_def = {"__cleanup", (PyCFunction)&cleanup, METH_NOARGS, 0};

/* Declarations from numpy */


/* Declarations from netCDF3 */

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":665
 * 
 * 
 * cdef class Dataset:             # <<<<<<<<<<<<<< 
 *     """
 * Dataset(self, filename, mode="r", clobber=True, format='NETCDF3_64BIT')
 */

struct __pyx_obj_7netCDF3_Dataset {
  PyObject_HEAD
  int _grpid;
  PyObject *dimensions;
  PyObject *variables;
  PyObject *file_format;
  PyObject *maskanscale;
};

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":969
 *             return _get_att(self._grpid, NC_GLOBAL, name)
 * 
 * cdef class Dimension:             # <<<<<<<<<<<<<< 
 *     """
 * Dimension(self, dset, name, size=None)
 */

struct __pyx_obj_7netCDF3_Dimension {
  PyObject_HEAD
  int _dimid;
  int _grpid;
  PyObject *_file_format;
};

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1043
 *             return False
 * 
 * cdef class Variable:             # <<<<<<<<<<<<<< 
 *     """
 * Variable(self, dset, name, datatype, dimensions=(), fill_value=None)
 */

struct __pyx_obj_7netCDF3_Variable {
  PyObject_HEAD
  int _varid;
  int _grpid;
  int _nunlimdim;
  PyObject *_grp;
  PyObject *ndim;
  PyObject *dtype;
  PyObject *maskandscale;
};


/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":665
 * 
 * 
 * cdef class Dataset:             # <<<<<<<<<<<<<< 
 *     """
 * Dataset(self, filename, mode="r", clobber=True, format='NETCDF3_64BIT')
 */


/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":969
 *             return _get_att(self._grpid, NC_GLOBAL, name)
 * 
 * cdef class Dimension:             # <<<<<<<<<<<<<< 
 *     """
 * Dimension(self, dset, name, size=None)
 */


/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1043
 *             return False
 * 
 * cdef class Variable:             # <<<<<<<<<<<<<< 
 *     """
 * Variable(self, dset, name, datatype, dimensions=(), fill_value=None)
 */

static PyTypeObject *__pyx_ptype_7netCDF3_ndarray = 0;
static PyTypeObject *__pyx_ptype_7netCDF3_Dataset = 0;
static PyTypeObject *__pyx_ptype_7netCDF3_Dimension = 0;
static PyTypeObject *__pyx_ptype_7netCDF3_Variable = 0;
static PyObject *__pyx_k30;
static PyObject *__pyx_k32;
static PyObject *__pyx_k34;
static PyObject *__pyx_k35;
static PyObject *__pyx_k46;
static PyObject *__pyx_k47;
static PyObject *__pyx_k49;
static PyObject *__pyx_k50;
static PyObject *__pyx_k51;
static PyObject *__pyx_k52;
static PyObject *__pyx_k53;
static PyObject *__pyx_k54;
static PyObject *__pyx_k55;
static PyObject *__pyx_f_7netCDF3__get_att_names(int,int); /*proto*/
static PyObject *__pyx_f_7netCDF3__get_att(int,int,PyObject *); /*proto*/
static PyObject *__pyx_f_7netCDF3__get_format(int); /*proto*/
static PyObject *__pyx_f_7netCDF3__set_att(int,int,PyObject *,PyObject *); /*proto*/
static PyObject *__pyx_f_7netCDF3__get_dims(PyObject *); /*proto*/
static PyObject *__pyx_f_7netCDF3__get_vars(PyObject *); /*proto*/


/* Implementation of netCDF3 */

static char __pyx_k1[] = "find current sizes of all variable dimensions";
static char __pyx_k2[] = "get variables\'s dimension names";
static char __pyx_k5[] = "0.7.3";
static char __pyx_k13[] = ".";
static char __pyx_k14[] = "1";
static char __pyx_k15[] = "requires numpy version 1.0rc1 or later";
static char __pyx_k23[] = "\0";

static PyObject *__pyx_n___init__;
static PyObject *__pyx_n_close;
static PyObject *__pyx_n_sync;
static PyObject *__pyx_n__redef;
static PyObject *__pyx_n__enddef;
static PyObject *__pyx_n_set_fill_on;
static PyObject *__pyx_n_set_fill_off;
static PyObject *__pyx_n_createDimension;
static PyObject *__pyx_n_renameDimension;
static PyObject *__pyx_n_createVariable;
static PyObject *__pyx_n_renameVariable;
static PyObject *__pyx_n_ncattrs;
static PyObject *__pyx_n___delattr__;
static PyObject *__pyx_n___setattr__;
static PyObject *__pyx_n___getattr__;
static PyObject *__pyx_n___len__;
static PyObject *__pyx_n_isunlimited;
static PyObject *__pyx_n___getitem__;
static PyObject *__pyx_n___setitem__;
static PyObject *__pyx_n_assignValue;
static PyObject *__pyx_n_getValue;
static PyObject *__pyx_n_set_auto_maskandscale;
static PyObject *__pyx_n__put;
static PyObject *__pyx_n__get;
static PyObject *__pyx_n_netCDF4_utils;
static PyObject *__pyx_n__buildStartCountStride;
static PyObject *__pyx_n___version__;
static PyObject *__pyx_n_os;
static PyObject *__pyx_n_netcdftime;
static PyObject *__pyx_n_numpy;
static PyObject *__pyx_n_NP;
static PyObject *__pyx_n_ma;
static PyObject *__pyx_n__npversion;
static PyObject *__pyx_n_split;
static PyObject *__pyx_n_ImportError;
static PyObject *__pyx_n_S1;
static PyObject *__pyx_n_i1;
static PyObject *__pyx_n_i2;
static PyObject *__pyx_n_i4;
static PyObject *__pyx_n_f8;
static PyObject *__pyx_n_f4;
static PyObject *__pyx_n__nptonctype;
static PyObject *__pyx_n__default_fillvals;
static PyObject *__pyx_n__nctonptype;
static PyObject *__pyx_n_iteritems;
static PyObject *__pyx_n__key;
static PyObject *__pyx_n__value;
static PyObject *__pyx_n_keys;
static PyObject *__pyx_n__supportedtypes;
static PyObject *__pyx_n_standard;
static PyObject *__pyx_n_NETCDF3_64BIT;
static PyObject *__pyx_n__grpid;
static PyObject *__pyx_n__grp;
static PyObject *__pyx_n__varid;
static PyObject *__pyx_n_dimensions;
static PyObject *__pyx_n_variables;
static PyObject *__pyx_n_dtype;
static PyObject *__pyx_n_file_format;
static PyObject *__pyx_n_ndim;
static PyObject *__pyx_n_maskandscale;
static PyObject *__pyx_n__private_atts;
static PyObject *__pyx_n_r;

static PyObject *__pyx_k5p;
static PyObject *__pyx_k13p;
static PyObject *__pyx_k14p;
static PyObject *__pyx_k15p;
static PyObject *__pyx_k23p;

static PyObject *__pyx_builtin_ImportError;

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":337
 * # utility functions (visible from python).
 * 
 * def stringtochar(a):             # <<<<<<<<<<<<<< 
 *     """
 * stringtochar(a)
 */

static PyObject *__pyx_n_array;
static PyObject *__pyx_n_tostring;
static PyObject *__pyx_n_shape;
static PyObject *__pyx_n_itemsize;


static PyObject *__pyx_pf_7netCDF3_stringtochar(PyObject *__pyx_self, PyObject *__pyx_v_a); /*proto*/
static char __pyx_doc_7netCDF3_stringtochar[] = "\nstringtochar(a)\n\nconvert a string array to a character array with one extra dimension\n\n@param a:  Input numpy string array with numpy datatype \'SN\', where N\nis the number of characters in each string.  Will be converted to\nan array of characters (datatype \'S1\') of shape a.shape + (N,).\n\n@return: A numpy character array with datatype \'S1\' and shape \na.shape + (N,), where N is the length of each string in a.";
static PyObject *__pyx_pf_7netCDF3_stringtochar(PyObject *__pyx_self, PyObject *__pyx_v_a) {
  PyObject *__pyx_v_b;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_a);
  __pyx_v_b = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":349
 * @return: A numpy character array with datatype 'S1' and shape 
 * a.shape + (N,), where N is the length of each string in a."""
 *     b = NP.array(tuple(a.tostring()),'S1')             # <<<<<<<<<<<<<< 
 *     b.shape = a.shape + (a.itemsize,)
 *     return b
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_NP); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 349; goto __pyx_L1;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_array); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 349; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":349
 * @return: A numpy character array with datatype 'S1' and shape 
 * a.shape + (N,), where N is the length of each string in a."""
 *     b = NP.array(tuple(a.tostring()),'S1')             # <<<<<<<<<<<<<< 
 *     b.shape = a.shape + (a.itemsize,)
 *     return b
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_a, __pyx_n_tostring); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 349; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_1, 0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 349; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 349; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(((PyObject*)&PyTuple_Type), __pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 349; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":349
 * @return: A numpy character array with datatype 'S1' and shape 
 * a.shape + (N,), where N is the length of each string in a."""
 *     b = NP.array(tuple(a.tostring()),'S1')             # <<<<<<<<<<<<<< 
 *     b.shape = a.shape + (a.itemsize,)
 *     return b
 */
  __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 349; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_3);
  Py_INCREF(__pyx_n_S1);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_n_S1);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 349; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_b);
  __pyx_v_b = __pyx_3;
  __pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":350
 * a.shape + (N,), where N is the length of each string in a."""
 *     b = NP.array(tuple(a.tostring()),'S1')
 *     b.shape = a.shape + (a.itemsize,)             # <<<<<<<<<<<<<< 
 *     return b
 * 
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_a, __pyx_n_shape); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 350; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":350
 * a.shape + (N,), where N is the length of each string in a."""
 *     b = NP.array(tuple(a.tostring()),'S1')
 *     b.shape = a.shape + (a.itemsize,)             # <<<<<<<<<<<<<< 
 *     return b
 * 
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_a, __pyx_n_itemsize); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 350; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 350; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
  __pyx_1 = 0;
  __pyx_1 = PyNumber_Add(__pyx_2, __pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 350; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":350
 * a.shape + (N,), where N is the length of each string in a."""
 *     b = NP.array(tuple(a.tostring()),'S1')
 *     b.shape = a.shape + (a.itemsize,)             # <<<<<<<<<<<<<< 
 *     return b
 * 
 */
  if (PyObject_SetAttr(__pyx_v_b, __pyx_n_shape, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 350; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":351
 *     b = NP.array(tuple(a.tostring()),'S1')
 *     b.shape = a.shape + (a.itemsize,)
 *     return b             # <<<<<<<<<<<<<< 
 * 
 * def chartostring(b):
 */
  Py_INCREF(__pyx_v_b);
  __pyx_r = __pyx_v_b;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF3.stringtochar");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_b);
  Py_DECREF(__pyx_v_a);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":353
 *     return b
 * 
 * def chartostring(b):             # <<<<<<<<<<<<<< 
 *     """
 * chartostring(b)
 */

static PyObject *__pyx_num_0;

static PyObject *__pyx_n_S;
static PyObject *__pyx_n_range;

static PyObject *__pyx_builtin_range;


static PyObject *__pyx_pf_7netCDF3_chartostring(PyObject *__pyx_self, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7netCDF3_chartostring[] = "\nchartostring(b)\n\nconvert a character array to a string array with one less dimension.\n\n@param b:  Input character array (numpy datatype \'S1\').\nWill be converted to a array of strings, where each string has a fixed\nlength of b.shape[-1] characters.\n\n@return: A numpy string array with datatype \'SN\' and shape b.shape[:-1],\nwhere N=b.shape[-1].";
static PyObject *__pyx_pf_7netCDF3_chartostring(PyObject *__pyx_self, PyObject *__pyx_v_b) {
  PyObject *__pyx_v_bs;
  PyObject *__pyx_v_slen;
  PyObject *__pyx_v_a;
  PyObject *__pyx_v_n1;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_ssize_t __pyx_4;
  Py_ssize_t __pyx_5;
  PyObject *__pyx_6 = 0;
  Py_ssize_t __pyx_7;
  int __pyx_8;
  Py_INCREF(__pyx_v_b);
  __pyx_v_bs = Py_None; Py_INCREF(Py_None);
  __pyx_v_slen = Py_None; Py_INCREF(Py_None);
  __pyx_v_a = Py_None; Py_INCREF(Py_None);
  __pyx_v_n1 = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":365
 * @return: A numpy string array with datatype 'SN' and shape b.shape[:-1],
 * where N=b.shape[-1]."""
 *     bs = b.tostring()             # <<<<<<<<<<<<<< 
 *     slen = b.shape[-1]
 *     a = NP.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_b, __pyx_n_tostring); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 365; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(__pyx_1, 0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 365; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_bs);
  __pyx_v_bs = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":366
 * where N=b.shape[-1]."""
 *     bs = b.tostring()
 *     slen = b.shape[-1]             # <<<<<<<<<<<<<< 
 *     a = NP.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))
 *     a.shape = b.shape[:-1]
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_b, __pyx_n_shape); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 366; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":366
 * where N=b.shape[-1]."""
 *     bs = b.tostring()
 *     slen = b.shape[-1]             # <<<<<<<<<<<<<< 
 *     a = NP.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))
 *     a.shape = b.shape[:-1]
 */
  if (PyList_CheckExact(__pyx_1) && 0 <= -1 && -1 < PyList_GET_SIZE(__pyx_1)) {
    __pyx_3 = PyList_GET_ITEM(__pyx_1, -1); Py_INCREF(__pyx_3);
    } else if (PyTuple_CheckExact(__pyx_1) && 0 <= -1 && -1 < PyTuple_GET_SIZE(__pyx_1)) {
    __pyx_3 = PyTuple_GET_ITEM(__pyx_1, -1); Py_INCREF(__pyx_3);
    } else {
    __pyx_2 = PyInt_FromLong(-1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 366; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_1, __pyx_2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 366; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_slen);
  __pyx_v_slen = __pyx_3;
  __pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":367
 *     bs = b.tostring()
 *     slen = b.shape[-1]
 *     a = NP.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))             # <<<<<<<<<<<<<< 
 *     a.shape = b.shape[:-1]
 *     return a
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_NP); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; goto __pyx_L1;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_array); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":367
 *     bs = b.tostring()
 *     slen = b.shape[-1]
 *     a = NP.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))             # <<<<<<<<<<<<<< 
 *     a.shape = b.shape[:-1]
 *     return a
 */
  __pyx_3 = PyList_New(0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":367
 *     bs = b.tostring()
 *     slen = b.shape[-1]
 *     a = NP.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))             # <<<<<<<<<<<<<< 
 *     a.shape = b.shape[:-1]
 *     return a
 */
  __pyx_5 = PyObject_Length(__pyx_v_bs); if (unlikely(__pyx_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; goto __pyx_L1;}
  __pyx_1 = PyInt_FromSsize_t(__pyx_5); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":367
 *     bs = b.tostring()
 *     slen = b.shape[-1]
 *     a = NP.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))             # <<<<<<<<<<<<<< 
 *     a.shape = b.shape[:-1]
 *     return a
 */
  __pyx_6 = PyTuple_New(3); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; goto __pyx_L1;}
  Py_INCREF(__pyx_num_0);
  PyTuple_SET_ITEM(__pyx_6, 0, __pyx_num_0);
  PyTuple_SET_ITEM(__pyx_6, 1, __pyx_1);
  Py_INCREF(__pyx_v_slen);
  PyTuple_SET_ITEM(__pyx_6, 2, __pyx_v_slen);
  __pyx_1 = 0;
  __pyx_1 = PyObject_CallObject(__pyx_builtin_range, __pyx_6); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; goto __pyx_L1;}
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  if (PyList_CheckExact(__pyx_1)) { __pyx_4 = 0; __pyx_6 = __pyx_1; Py_INCREF(__pyx_6); }
  else { __pyx_6 = PyObject_GetIter(__pyx_1); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; goto __pyx_L1;} }
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  for (;;) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":367
 *     bs = b.tostring()
 *     slen = b.shape[-1]
 *     a = NP.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))             # <<<<<<<<<<<<<< 
 *     a.shape = b.shape[:-1]
 *     return a
 */
    if (PyList_CheckExact(__pyx_6)) { if (__pyx_4 >= PyList_GET_SIZE(__pyx_6)) break; __pyx_1 = PyList_GET_ITEM(__pyx_6, __pyx_4++); Py_INCREF(__pyx_1); }
    else {
      __pyx_1 = PyIter_Next(__pyx_6);
      if (!__pyx_1) {
        break;
      }
    }
    Py_DECREF(__pyx_v_n1);
    __pyx_v_n1 = __pyx_1;
    __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":367
 *     bs = b.tostring()
 *     slen = b.shape[-1]
 *     a = NP.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))             # <<<<<<<<<<<<<< 
 *     a.shape = b.shape[:-1]
 *     return a
 */
    __pyx_5 = __pyx_PyIndex_AsSsize_t(__pyx_v_n1); if (unlikely((__pyx_5 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":367
 *     bs = b.tostring()
 *     slen = b.shape[-1]
 *     a = NP.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))             # <<<<<<<<<<<<<< 
 *     a.shape = b.shape[:-1]
 *     return a
 */
    __pyx_1 = PyNumber_Add(__pyx_v_n1, __pyx_v_slen); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; goto __pyx_L1;}
    __pyx_7 = __pyx_PyIndex_AsSsize_t(__pyx_1); if (unlikely((__pyx_7 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_1 = PySequence_GetSlice(__pyx_v_bs, __pyx_5, __pyx_7); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; goto __pyx_L1;}
    __pyx_8 = PyList_Append(__pyx_3, __pyx_1); if (unlikely(__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
  }
  Py_DECREF(__pyx_6); __pyx_6 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":367
 *     bs = b.tostring()
 *     slen = b.shape[-1]
 *     a = NP.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))             # <<<<<<<<<<<<<< 
 *     a.shape = b.shape[:-1]
 *     return a
 */
  __pyx_1 = PyObject_Repr(__pyx_v_slen); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; goto __pyx_L1;}
  __pyx_6 = PyNumber_Add(__pyx_n_S, __pyx_1); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_3);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_6);
  __pyx_3 = 0;
  __pyx_6 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_a);
  __pyx_v_a = __pyx_3;
  __pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":368
 *     slen = b.shape[-1]
 *     a = NP.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))
 *     a.shape = b.shape[:-1]             # <<<<<<<<<<<<<< 
 *     return a
 * 
 */
  __pyx_6 = PyObject_GetAttr(__pyx_v_b, __pyx_n_shape); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 368; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":368
 *     slen = b.shape[-1]
 *     a = NP.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))
 *     a.shape = b.shape[:-1]             # <<<<<<<<<<<<<< 
 *     return a
 * 
 */
  __pyx_2 = PySequence_GetSlice(__pyx_6, 0, -1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 368; goto __pyx_L1;}
  Py_DECREF(__pyx_6); __pyx_6 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":368
 *     slen = b.shape[-1]
 *     a = NP.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))
 *     a.shape = b.shape[:-1]             # <<<<<<<<<<<<<< 
 *     return a
 * 
 */
  if (PyObject_SetAttr(__pyx_v_a, __pyx_n_shape, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 368; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":369
 *     a = NP.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))
 *     a.shape = b.shape[:-1]
 *     return a             # <<<<<<<<<<<<<< 
 * 
 * def date2num(dates,units,calendar='standard'):
 */
  Py_INCREF(__pyx_v_a);
  __pyx_r = __pyx_v_a;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("netCDF3.chartostring");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_bs);
  Py_DECREF(__pyx_v_slen);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_n1);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":371
 *     return a
 * 
 * def date2num(dates,units,calendar='standard'):             # <<<<<<<<<<<<<< 
 *     """
 * date2num(dates,units,calendar='standard')
 */

static PyObject *__pyx_n_utime;
static PyObject *__pyx_n_calendar;
static PyObject *__pyx_n_date2num;


static PyObject *__pyx_pf_7netCDF3_date2num(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_date2num[] = "\ndate2num(dates,units,calendar=\'standard\')\n\nReturn numeric time values given datetime objects. The units\nof the numeric time values are described by the L{units} argument\nand the L{calendar} keyword. The datetime objects must\nbe in UTC with no time-zone offset.  If there is a \ntime-zone offset in C{units}, it will be applied to the\nreturned numeric values.\n\nLike the matplotlib C{date2num} function, except that it allows\nfor different units and calendars.  Behaves the same if\nC{units = \'days since 0001-01-01 00:00:00\'} and \nC{calendar = \'proleptic_gregorian\'}.\n\n@param dates: A datetime object or a sequence of datetime objects.\n The datetime objects should not include a time-zone offset.\n\n@param units: a string of the form C{\'B{time units} since B{reference time}}\'\n describing the time units. B{C{time units}} can be days, hours, minutes\n or seconds.  B{C{reference time}} is the time origin. A valid choice\n would be units=C{\'hours since 1800-01-01 00:00:00 -6:00\'}.\n\n@param calendar: describes the calendar used in the time calculations. \n All the values currently defined in the U{CF metadata convention \n <http://cf-pcmdi.llnl.gov/documents/cf-conventions/>} are supported.\n Valid calendars C{\'standard\', \'gregorian\', \'proleptic_gregorian\'\n \'noleap\', \'365_day\', \'360_day\', \'julian\', \'all_leap\', \'366_day\'}.\n Default is C{\'standard\'}, which is a mixed Julian/Gregorian calendar.\n\n@return: a numeric time value, or an array of numeric time values.\n\nThe maximum resolution of the numeric time values is 1 second.\n    ";
static PyObject *__pyx_pf_7netCDF3_date2num(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_dates = 0;
  PyObject *__pyx_v_units = 0;
  PyObject *__pyx_v_calendar = 0;
  PyObject *__pyx_v_cdftime;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {"dates","units","calendar",0};
  __pyx_v_calendar = __pyx_k30;
  if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO|O", __pyx_argnames, &__pyx_v_dates, &__pyx_v_units, &__pyx_v_calendar))) return NULL;
  Py_INCREF(__pyx_v_dates);
  Py_INCREF(__pyx_v_units);
  Py_INCREF(__pyx_v_calendar);
  __pyx_v_cdftime = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":406
 * The maximum resolution of the numeric time values is 1 second.
 *     """
 *     cdftime = netcdftime.utime(units,calendar=calendar)             # <<<<<<<<<<<<<< 
 *     return cdftime.date2num(dates)
 * 
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_netcdftime); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 406; goto __pyx_L1;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_utime); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 406; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":406
 * The maximum resolution of the numeric time values is 1 second.
 *     """
 *     cdftime = netcdftime.utime(units,calendar=calendar)             # <<<<<<<<<<<<<< 
 *     return cdftime.date2num(dates)
 * 
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 406; goto __pyx_L1;}
  Py_INCREF(__pyx_v_units);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_units);
  __pyx_3 = PyDict_New(); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 406; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":406
 * The maximum resolution of the numeric time values is 1 second.
 *     """
 *     cdftime = netcdftime.utime(units,calendar=calendar)             # <<<<<<<<<<<<<< 
 *     return cdftime.date2num(dates)
 * 
 */
  if (PyDict_SetItem(__pyx_3, __pyx_n_calendar, __pyx_v_calendar) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 406; goto __pyx_L1;}
  __pyx_4 = PyEval_CallObjectWithKeywords(__pyx_2, __pyx_1, __pyx_3); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 406; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_cdftime);
  __pyx_v_cdftime = __pyx_4;
  __pyx_4 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":407
 *     """
 *     cdftime = netcdftime.utime(units,calendar=calendar)
 *     return cdftime.date2num(dates)             # <<<<<<<<<<<<<< 
 * 
 * def num2date(times,units,calendar='standard'):
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_cdftime, __pyx_n_date2num); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 407; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":407
 *     """
 *     cdftime = netcdftime.utime(units,calendar=calendar)
 *     return cdftime.date2num(dates)             # <<<<<<<<<<<<<< 
 * 
 * def num2date(times,units,calendar='standard'):
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 407; goto __pyx_L1;}
  Py_INCREF(__pyx_v_dates);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_dates);
  __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 407; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("netCDF3.date2num");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_cdftime);
  Py_DECREF(__pyx_v_dates);
  Py_DECREF(__pyx_v_units);
  Py_DECREF(__pyx_v_calendar);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":409
 *     return cdftime.date2num(dates)
 * 
 * def num2date(times,units,calendar='standard'):             # <<<<<<<<<<<<<< 
 *     """
 * num2date(times,units,calendar='standard')
 */

static PyObject *__pyx_n_num2date;


static PyObject *__pyx_pf_7netCDF3_num2date(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_num2date[] = "\nnum2date(times,units,calendar=\'standard\')\n\nReturn datetime objects given numeric time values. The units\nof the numeric time values are described by the C{units} argument\nand the C{calendar} keyword. The returned datetime objects represent \nUTC with no time-zone offset, even if the specified \nC{units} contain a time-zone offset.\n\nLike the matplotlib C{num2date} function, except that it allows\nfor different units and calendars.  Behaves the same if\nC{units = \'days since 001-01-01 00:00:00\'} and \nC{calendar = \'proleptic_gregorian\'}.\n\n@param times: numeric time values. Maximum resolution is 1 second.\n\n@param units: a string of the form C{\'B{time units} since B{reference time}}\'\ndescribing the time units. B{C{time units}} can be days, hours, minutes\nor seconds.  B{C{reference time}} is the time origin. A valid choice\nwould be units=C{\'hours since 1800-01-01 00:00:00 -6:00\'}.\n\n@param calendar: describes the calendar used in the time calculations. \nAll the values currently defined in the U{CF metadata convention \n<http://cf-pcmdi.llnl.gov/documents/cf-conventions/>} are supported.\nValid calendars C{\'standard\', \'gregorian\', \'proleptic_gregorian\'\n\'noleap\', \'365_day\', \'360_day\', \'julian\', \'all_leap\', \'366_day\'}.\nDefault is C{\'standard\'}, which is a mixed Julian/Gregorian calendar.\n\n@return: a datetime instance, or an array of datetime instances.\n\nThe datetime instances returned are \'real\' python datetime \nobjects if the date falls in the Gregorian calendar (i.e. \nC{calendar=\'proleptic_gregorian\'}, or C{calendar = \'standard\'} or C{\'gregorian\'}\nand the date is after 1582-10-15). Otherwise, they are \'phony\' datetime \nobjects which support some but not all the methods of \'real\' python\ndatetime objects.  This is because the python datetime module cannot\nthe uses the C{\'proleptic_gregorian\'} calendar, even before the switch\noccured from the Julian calendar in 1582. The datetime instances\ndo not contain a time-zone offset, even if the specified C{units}\ncontains one.\n    ";
static PyObject *__pyx_pf_7netCDF3_num2date(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_times = 0;
  PyObject *__pyx_v_units = 0;
  PyObject *__pyx_v_calendar = 0;
  PyObject *__pyx_v_cdftime;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {"times","units","calendar",0};
  __pyx_v_calendar = __pyx_k32;
  if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO|O", __pyx_argnames, &__pyx_v_times, &__pyx_v_units, &__pyx_v_calendar))) return NULL;
  Py_INCREF(__pyx_v_times);
  Py_INCREF(__pyx_v_units);
  Py_INCREF(__pyx_v_calendar);
  __pyx_v_cdftime = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":451
 * contains one.
 *     """
 *     cdftime = netcdftime.utime(units,calendar=calendar)             # <<<<<<<<<<<<<< 
 *     return cdftime.num2date(times)
 * 
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_netcdftime); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 451; goto __pyx_L1;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_utime); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 451; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":451
 * contains one.
 *     """
 *     cdftime = netcdftime.utime(units,calendar=calendar)             # <<<<<<<<<<<<<< 
 *     return cdftime.num2date(times)
 * 
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 451; goto __pyx_L1;}
  Py_INCREF(__pyx_v_units);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_units);
  __pyx_3 = PyDict_New(); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 451; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":451
 * contains one.
 *     """
 *     cdftime = netcdftime.utime(units,calendar=calendar)             # <<<<<<<<<<<<<< 
 *     return cdftime.num2date(times)
 * 
 */
  if (PyDict_SetItem(__pyx_3, __pyx_n_calendar, __pyx_v_calendar) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 451; goto __pyx_L1;}
  __pyx_4 = PyEval_CallObjectWithKeywords(__pyx_2, __pyx_1, __pyx_3); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 451; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_cdftime);
  __pyx_v_cdftime = __pyx_4;
  __pyx_4 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":452
 *     """
 *     cdftime = netcdftime.utime(units,calendar=calendar)
 *     return cdftime.num2date(times)             # <<<<<<<<<<<<<< 
 * 
 * def getlibversion():
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_cdftime, __pyx_n_num2date); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 452; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":452
 *     """
 *     cdftime = netcdftime.utime(units,calendar=calendar)
 *     return cdftime.num2date(times)             # <<<<<<<<<<<<<< 
 * 
 * def getlibversion():
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 452; goto __pyx_L1;}
  Py_INCREF(__pyx_v_times);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_times);
  __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 452; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("netCDF3.num2date");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_cdftime);
  Py_DECREF(__pyx_v_times);
  Py_DECREF(__pyx_v_units);
  Py_DECREF(__pyx_v_calendar);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":454
 *     return cdftime.num2date(times)
 * 
 * def getlibversion():             # <<<<<<<<<<<<<< 
 *     """
 * getlibversion()
 */

static PyObject *__pyx_pf_7netCDF3_getlibversion(PyObject *__pyx_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF3_getlibversion[] = "\ngetlibversion()\n\nreturns a string describing the version of the netcdf-4 library\nused to build the module, and when it was built.\n    ";
static PyObject *__pyx_pf_7netCDF3_getlibversion(PyObject *__pyx_self, PyObject *unused) {
  char *__pyx_v_libstring;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":462
 *     """
 *     cdef char *libstring
 *     libstring = nc_inq_libvers()             # <<<<<<<<<<<<<< 
 *     return PyString_FromString(libstring)
 * 
 */
  __pyx_v_libstring = nc_inq_libvers();

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":463
 *     cdef char *libstring
 *     libstring = nc_inq_libvers()
 *     return PyString_FromString(libstring)             # <<<<<<<<<<<<<< 
 * 
 * # internal C functions.
 */
  __pyx_1 = PyString_FromString(__pyx_v_libstring); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 463; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("netCDF3.getlibversion");
  __pyx_r = NULL;
  __pyx_L0:;
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":467
 * # internal C functions.
 * 
 * cdef _get_att_names(int grpid, int varid):             # <<<<<<<<<<<<<< 
 *     # Private function to get all the attribute names in a group
 *     cdef int ierr, numatts, n
 */

static PyObject *__pyx_n_RuntimeError;
static PyObject *__pyx_n_append;

static PyObject *__pyx_builtin_RuntimeError;

static  PyObject *__pyx_f_7netCDF3__get_att_names(int __pyx_v_grpid,int __pyx_v_varid) {
  int __pyx_v_ierr;
  int __pyx_v_numatts;
  int __pyx_v_n;
  char __pyx_v_namstring[(NC_MAX_NAME + 1)];
  PyObject *__pyx_v_attslist;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  __pyx_v_attslist = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":471
 *     cdef int ierr, numatts, n
 *     cdef char namstring[NC_MAX_NAME+1]
 *     if varid == NC_GLOBAL:             # <<<<<<<<<<<<<< 
 *         ierr = nc_inq_natts(grpid, &numatts)
 *     else:
 */
  __pyx_1 = (__pyx_v_varid == NC_GLOBAL);
  if (__pyx_1) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":472
 *     cdef char namstring[NC_MAX_NAME+1]
 *     if varid == NC_GLOBAL:
 *         ierr = nc_inq_natts(grpid, &numatts)             # <<<<<<<<<<<<<< 
 *     else:
 *         ierr = nc_inq_varnatts(grpid, varid, &numatts)
 */
    __pyx_v_ierr = nc_inq_natts(__pyx_v_grpid,(&__pyx_v_numatts));
    goto __pyx_L2;
  }
  /*else*/ {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":474
 *         ierr = nc_inq_natts(grpid, &numatts)
 *     else:
 *         ierr = nc_inq_varnatts(grpid, varid, &numatts)             # <<<<<<<<<<<<<< 
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_inq_varnatts(__pyx_v_grpid,__pyx_v_varid,(&__pyx_v_numatts));
  }
  __pyx_L2:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":475
 *     else:
 *         ierr = nc_inq_varnatts(grpid, varid, &numatts)
 *     if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *         raise RuntimeError(nc_strerror(ierr))
 *     attslist = []
 */
  __pyx_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_1) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":476
 *         ierr = nc_inq_varnatts(grpid, varid, &numatts)
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *     attslist = []
 *     for n from 0 <= n < numatts:
 */
    __pyx_2 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 476; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 476; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 476; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 476; goto __pyx_L1;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":477
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 *     attslist = []             # <<<<<<<<<<<<<< 
 *     for n from 0 <= n < numatts:
 *         ierr = nc_inq_attname(grpid, varid, n, namstring)
 */
  __pyx_3 = PyList_New(0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 477; goto __pyx_L1;}
  Py_DECREF(__pyx_v_attslist);
  __pyx_v_attslist = __pyx_3;
  __pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":478
 *         raise RuntimeError(nc_strerror(ierr))
 *     attslist = []
 *     for n from 0 <= n < numatts:             # <<<<<<<<<<<<<< 
 *         ierr = nc_inq_attname(grpid, varid, n, namstring)
 *         if ierr != NC_NOERR:
 */
  for (__pyx_v_n = 0; __pyx_v_n < __pyx_v_numatts; __pyx_v_n++) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":479
 *     attslist = []
 *     for n from 0 <= n < numatts:
 *         ierr = nc_inq_attname(grpid, varid, n, namstring)             # <<<<<<<<<<<<<< 
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_inq_attname(__pyx_v_grpid,__pyx_v_varid,__pyx_v_n,__pyx_v_namstring);

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":480
 *     for n from 0 <= n < numatts:
 *         ierr = nc_inq_attname(grpid, varid, n, namstring)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *             raise RuntimeError(nc_strerror(ierr))
 *         attslist.append(namstring)
 */
    __pyx_1 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_1) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":481
 *         ierr = nc_inq_attname(grpid, varid, n, namstring)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *         attslist.append(namstring)
 *     return attslist
 */
      __pyx_2 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 481; goto __pyx_L1;}
      __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 481; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
      __pyx_2 = 0;
      __pyx_2 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 481; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __Pyx_Raise(__pyx_2, 0, 0);
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 481; goto __pyx_L1;}
      goto __pyx_L6;
    }
    __pyx_L6:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":482
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         attslist.append(namstring)             # <<<<<<<<<<<<<< 
 *     return attslist
 * 
 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_attslist, __pyx_n_append); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 482; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":482
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         attslist.append(namstring)             # <<<<<<<<<<<<<< 
 *     return attslist
 * 
 */
    __pyx_2 = PyString_FromString(__pyx_v_namstring); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 482; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 482; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 482; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":483
 *             raise RuntimeError(nc_strerror(ierr))
 *         attslist.append(namstring)
 *     return attslist             # <<<<<<<<<<<<<< 
 * 
 * cdef _get_att(int grpid, int varid, name):
 */
  Py_INCREF(__pyx_v_attslist);
  __pyx_r = __pyx_v_attslist;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("netCDF3._get_att_names");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_attslist);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":485
 *     return attslist
 * 
 * cdef _get_att(int grpid, int varid, name):             # <<<<<<<<<<<<<< 
 *     # Private function to get an attribute value given its name
 *     cdef int ierr, n
 */

static PyObject *__pyx_n_empty;
static PyObject *__pyx_n_replace;
static PyObject *__pyx_n_ValueError;
static PyObject *__pyx_n_KeyError;
static PyObject *__pyx_n_item;

static PyObject *__pyx_k61p;
static PyObject *__pyx_k62p;
static PyObject *__pyx_k63p;
static PyObject *__pyx_k64p;

static PyObject *__pyx_builtin_ValueError;
static PyObject *__pyx_builtin_KeyError;

static char __pyx_k61[] = "\x000";
static char __pyx_k62[] = "";
static char __pyx_k63[] = "unsupported attribute type";
static char __pyx_k64[] = "attribute %s has unsupported datatype";

static  PyObject *__pyx_f_7netCDF3__get_att(int __pyx_v_grpid,int __pyx_v_varid,PyObject *__pyx_v_name) {
  int __pyx_v_ierr;
  size_t __pyx_v_att_len;
  char *__pyx_v_attname;
  nc_type __pyx_v_att_type;
  PyArrayObject *__pyx_v_value_arr;
  PyObject *__pyx_v_pstring;
  PyObject *__pyx_v_type_att;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  Py_INCREF(__pyx_v_name);
  __pyx_v_value_arr = ((PyArrayObject *)Py_None); Py_INCREF(Py_None);
  __pyx_v_pstring = Py_None; Py_INCREF(Py_None);
  __pyx_v_type_att = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":493
 *     cdef ndarray value_arr
 *     cdef char *strdata 
 *     attname = PyString_AsString(name)             # <<<<<<<<<<<<<< 
 *     ierr = nc_inq_att(grpid, varid, attname, &att_type, &att_len)
 *     if ierr != NC_NOERR:
 */
  __pyx_v_attname = PyString_AsString(__pyx_v_name);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":494
 *     cdef char *strdata 
 *     attname = PyString_AsString(name)
 *     ierr = nc_inq_att(grpid, varid, attname, &att_type, &att_len)             # <<<<<<<<<<<<<< 
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_att(__pyx_v_grpid,__pyx_v_varid,__pyx_v_attname,(&__pyx_v_att_type),(&__pyx_v_att_len));

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":495
 *     attname = PyString_AsString(name)
 *     ierr = nc_inq_att(grpid, varid, attname, &att_type, &att_len)
 *     if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *         raise RuntimeError(nc_strerror(ierr))
 *     # attribute is a character or string ...
 */
  __pyx_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_1) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":496
 *     ierr = nc_inq_att(grpid, varid, attname, &att_type, &att_len)
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *     # attribute is a character or string ...
 *     if att_type == NC_CHAR:
 */
    __pyx_2 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 496; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 496; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 496; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 496; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":498
 *         raise RuntimeError(nc_strerror(ierr))
 *     # attribute is a character or string ...
 *     if att_type == NC_CHAR:             # <<<<<<<<<<<<<< 
 *         value_arr = NP.empty(att_len,'S1')
 *         ierr = nc_get_att_text(grpid, varid, attname, <char *>value_arr.data)
 */
  __pyx_1 = (__pyx_v_att_type == NC_CHAR);
  if (__pyx_1) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":499
 *     # attribute is a character or string ...
 *     if att_type == NC_CHAR:
 *         value_arr = NP.empty(att_len,'S1')             # <<<<<<<<<<<<<< 
 *         ierr = nc_get_att_text(grpid, varid, attname, <char *>value_arr.data)
 *         if ierr != NC_NOERR:
 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_NP); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 499; goto __pyx_L1;}
    __pyx_2 = PyObject_GetAttr(__pyx_3, __pyx_n_empty); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 499; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":499
 *     # attribute is a character or string ...
 *     if att_type == NC_CHAR:
 *         value_arr = NP.empty(att_len,'S1')             # <<<<<<<<<<<<<< 
 *         ierr = nc_get_att_text(grpid, varid, attname, <char *>value_arr.data)
 *         if ierr != NC_NOERR:
 */
    __pyx_3 = PyInt_FromLong(__pyx_v_att_len); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 499; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":499
 *     # attribute is a character or string ...
 *     if att_type == NC_CHAR:
 *         value_arr = NP.empty(att_len,'S1')             # <<<<<<<<<<<<<< 
 *         ierr = nc_get_att_text(grpid, varid, attname, <char *>value_arr.data)
 *         if ierr != NC_NOERR:
 */
    __pyx_4 = PyTuple_New(2); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 499; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    Py_INCREF(__pyx_n_S1);
    PyTuple_SET_ITEM(__pyx_4, 1, __pyx_n_S1);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 499; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7netCDF3_ndarray)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 499; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_value_arr));
    __pyx_v_value_arr = ((PyArrayObject *)__pyx_3);
    __pyx_3 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":500
 *     if att_type == NC_CHAR:
 *         value_arr = NP.empty(att_len,'S1')
 *         ierr = nc_get_att_text(grpid, varid, attname, <char *>value_arr.data)             # <<<<<<<<<<<<<< 
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_get_att_text(__pyx_v_grpid,__pyx_v_varid,__pyx_v_attname,((char *)__pyx_v_value_arr->data));

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":501
 *         value_arr = NP.empty(att_len,'S1')
 *         ierr = nc_get_att_text(grpid, varid, attname, <char *>value_arr.data)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *             raise RuntimeError(nc_strerror(ierr))
 *         pstring = value_arr.tostring()
 */
    __pyx_1 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_1) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":502
 *         ierr = nc_get_att_text(grpid, varid, attname, <char *>value_arr.data)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *         pstring = value_arr.tostring()
 *         # remove NULL characters from python string
 */
      __pyx_2 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 502; goto __pyx_L1;}
      __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 502; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
      __pyx_2 = 0;
      __pyx_3 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_4); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 502; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __Pyx_Raise(__pyx_3, 0, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 502; goto __pyx_L1;}
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":503
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         pstring = value_arr.tostring()             # <<<<<<<<<<<<<< 
 *         # remove NULL characters from python string
 *         return pstring.replace('\x00','')
 */
    __pyx_2 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_n_tostring); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 503; goto __pyx_L1;}
    __pyx_4 = PyObject_CallObject(__pyx_2, 0); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 503; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_v_pstring);
    __pyx_v_pstring = __pyx_4;
    __pyx_4 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":505
 *         pstring = value_arr.tostring()
 *         # remove NULL characters from python string
 *         return pstring.replace('\x00','')             # <<<<<<<<<<<<<< 
 *     # a regular numeric type.
 *     else:
 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_pstring, __pyx_n_replace); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 505; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":505
 *         pstring = value_arr.tostring()
 *         # remove NULL characters from python string
 *         return pstring.replace('\x00','')             # <<<<<<<<<<<<<< 
 *     # a regular numeric type.
 *     else:
 */
    __pyx_2 = PyTuple_New(2); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 505; goto __pyx_L1;}
    Py_INCREF(__pyx_k61p);
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_k61p);
    Py_INCREF(__pyx_k62p);
    PyTuple_SET_ITEM(__pyx_2, 1, __pyx_k62p);
    __pyx_4 = PyObject_CallObject(__pyx_3, __pyx_2); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 505; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_r = __pyx_4;
    __pyx_4 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":508
 *     # a regular numeric type.
 *     else:
 *         if att_type == NC_LONG:             # <<<<<<<<<<<<<< 
 *             att_type = NC_INT
 *         if att_type not in _nctonptype.keys():
 */
    __pyx_1 = (__pyx_v_att_type == NC_LONG);
    if (__pyx_1) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":509
 *     else:
 *         if att_type == NC_LONG:
 *             att_type = NC_INT             # <<<<<<<<<<<<<< 
 *         if att_type not in _nctonptype.keys():
 *             raise ValueError, 'unsupported attribute type'
 */
      __pyx_v_att_type = NC_INT;
      goto __pyx_L5;
    }
    __pyx_L5:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":510
 *         if att_type == NC_LONG:
 *             att_type = NC_INT
 *         if att_type not in _nctonptype.keys():             # <<<<<<<<<<<<<< 
 *             raise ValueError, 'unsupported attribute type'
 *         try:
 */
    __pyx_3 = PyInt_FromLong(__pyx_v_att_type); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 510; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":510
 *         if att_type == NC_LONG:
 *             att_type = NC_INT
 *         if att_type not in _nctonptype.keys():             # <<<<<<<<<<<<<< 
 *             raise ValueError, 'unsupported attribute type'
 *         try:
 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n__nctonptype); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 510; goto __pyx_L1;}
    __pyx_4 = PyObject_GetAttr(__pyx_2, __pyx_n_keys); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 510; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_4, 0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 510; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_1 = (!PySequence_Contains(__pyx_2, __pyx_3)); if (unlikely(__pyx_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 510; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (__pyx_1) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":511
 *             att_type = NC_INT
 *         if att_type not in _nctonptype.keys():
 *             raise ValueError, 'unsupported attribute type'             # <<<<<<<<<<<<<< 
 *         try:
 *             type_att = _nctonptype[att_type]
 */
      __Pyx_Raise(__pyx_builtin_ValueError, __pyx_k63p, 0);
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 511; goto __pyx_L1;}
      goto __pyx_L6;
    }
    __pyx_L6:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":512
 *         if att_type not in _nctonptype.keys():
 *             raise ValueError, 'unsupported attribute type'
 *         try:             # <<<<<<<<<<<<<< 
 *             type_att = _nctonptype[att_type]
 *         except:
 */
    /*try:*/ {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":513
 *             raise ValueError, 'unsupported attribute type'
 *         try:
 *             type_att = _nctonptype[att_type]             # <<<<<<<<<<<<<< 
 *         except:
 *             raise KeyError('attribute %s has unsupported datatype' % attname)
 */
      __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n__nctonptype); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 513; goto __pyx_L7;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":513
 *             raise ValueError, 'unsupported attribute type'
 *         try:
 *             type_att = _nctonptype[att_type]             # <<<<<<<<<<<<<< 
 *         except:
 *             raise KeyError('attribute %s has unsupported datatype' % attname)
 */
      if (PyList_CheckExact(__pyx_4) && 0 <= __pyx_v_att_type && __pyx_v_att_type < PyList_GET_SIZE(__pyx_4)) {
        __pyx_2 = PyList_GET_ITEM(__pyx_4, __pyx_v_att_type); Py_INCREF(__pyx_2);
        } else if (PyTuple_CheckExact(__pyx_4) && 0 <= __pyx_v_att_type && __pyx_v_att_type < PyTuple_GET_SIZE(__pyx_4)) {
        __pyx_2 = PyTuple_GET_ITEM(__pyx_4, __pyx_v_att_type); Py_INCREF(__pyx_2);
        } else {
        __pyx_3 = PyInt_FromLong(__pyx_v_att_type); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 513; goto __pyx_L7;}
        __pyx_2 = PyObject_GetItem(__pyx_4, __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 513; goto __pyx_L7;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
      }
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_v_type_att);
      __pyx_v_type_att = __pyx_2;
      __pyx_2 = 0;
    }
    goto __pyx_L8;
    __pyx_L7:;
    Py_XDECREF(__pyx_4); __pyx_4 = 0;
    Py_XDECREF(__pyx_3); __pyx_3 = 0;
    Py_XDECREF(__pyx_2); __pyx_2 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":514
 *         try:
 *             type_att = _nctonptype[att_type]
 *         except:             # <<<<<<<<<<<<<< 
 *             raise KeyError('attribute %s has unsupported datatype' % attname)
 *         value_arr = NP.empty(att_len,type_att)
 */
    /*except:*/ {
      __Pyx_AddTraceback("netCDF3._get_att");
      if (__Pyx_GetException(&__pyx_4, &__pyx_3, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 514; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":515
 *             type_att = _nctonptype[att_type]
 *         except:
 *             raise KeyError('attribute %s has unsupported datatype' % attname)             # <<<<<<<<<<<<<< 
 *         value_arr = NP.empty(att_len,type_att)
 *         ierr = nc_get_att(grpid, varid, attname, value_arr.data)
 */
      __pyx_5 = PyString_FromString(__pyx_v_attname); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; goto __pyx_L1;}
      __pyx_6 = PyNumber_Remainder(__pyx_k64p, __pyx_5); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; goto __pyx_L1;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __pyx_5 = PyTuple_New(1); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_5, 0, __pyx_6);
      __pyx_6 = 0;
      __pyx_6 = PyObject_CallObject(__pyx_builtin_KeyError, __pyx_5); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; goto __pyx_L1;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __Pyx_Raise(__pyx_6, 0, 0);
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      goto __pyx_L8;
    }
    __pyx_L8:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":516
 *         except:
 *             raise KeyError('attribute %s has unsupported datatype' % attname)
 *         value_arr = NP.empty(att_len,type_att)             # <<<<<<<<<<<<<< 
 *         ierr = nc_get_att(grpid, varid, attname, value_arr.data)
 *         if ierr != NC_NOERR:
 */
    __pyx_5 = __Pyx_GetName(__pyx_m, __pyx_n_NP); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 516; goto __pyx_L1;}
    __pyx_6 = PyObject_GetAttr(__pyx_5, __pyx_n_empty); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 516; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":516
 *         except:
 *             raise KeyError('attribute %s has unsupported datatype' % attname)
 *         value_arr = NP.empty(att_len,type_att)             # <<<<<<<<<<<<<< 
 *         ierr = nc_get_att(grpid, varid, attname, value_arr.data)
 *         if ierr != NC_NOERR:
 */
    __pyx_4 = PyInt_FromLong(__pyx_v_att_len); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 516; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":516
 *         except:
 *             raise KeyError('attribute %s has unsupported datatype' % attname)
 *         value_arr = NP.empty(att_len,type_att)             # <<<<<<<<<<<<<< 
 *         ierr = nc_get_att(grpid, varid, attname, value_arr.data)
 *         if ierr != NC_NOERR:
 */
    __pyx_3 = PyTuple_New(2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 516; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_4);
    Py_INCREF(__pyx_v_type_att);
    PyTuple_SET_ITEM(__pyx_3, 1, __pyx_v_type_att);
    __pyx_4 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_6, __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 516; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7netCDF3_ndarray)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 516; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_value_arr));
    __pyx_v_value_arr = ((PyArrayObject *)__pyx_2);
    __pyx_2 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":517
 *             raise KeyError('attribute %s has unsupported datatype' % attname)
 *         value_arr = NP.empty(att_len,type_att)
 *         ierr = nc_get_att(grpid, varid, attname, value_arr.data)             # <<<<<<<<<<<<<< 
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_get_att(__pyx_v_grpid,__pyx_v_varid,__pyx_v_attname,__pyx_v_value_arr->data);

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":518
 *         value_arr = NP.empty(att_len,type_att)
 *         ierr = nc_get_att(grpid, varid, attname, value_arr.data)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *             raise RuntimeError(nc_strerror(ierr))
 *         if value_arr.shape == ():
 */
    __pyx_1 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_1) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":519
 *         ierr = nc_get_att(grpid, varid, attname, value_arr.data)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *         if value_arr.shape == ():
 *             # return a scalar for a scalar array
 */
      __pyx_5 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 519; goto __pyx_L1;}
      __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 519; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_4, 0, __pyx_5);
      __pyx_5 = 0;
      __pyx_6 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_4); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 519; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __Pyx_Raise(__pyx_6, 0, 0);
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 519; goto __pyx_L1;}
      goto __pyx_L9;
    }
    __pyx_L9:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":520
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         if value_arr.shape == ():             # <<<<<<<<<<<<<< 
 *             # return a scalar for a scalar array
 *             return value_arr.item()
 */
    __pyx_3 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_n_shape); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 520; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":520
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         if value_arr.shape == ():             # <<<<<<<<<<<<<< 
 *             # return a scalar for a scalar array
 *             return value_arr.item()
 */
    __pyx_2 = PyTuple_New(0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 520; goto __pyx_L1;}
    __pyx_5 = PyObject_RichCompare(__pyx_3, __pyx_2, Py_EQ); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 520; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_1 = __Pyx_PyObject_IsTrue(__pyx_5); if (unlikely(__pyx_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 520; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    if (__pyx_1) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":522
 *         if value_arr.shape == ():
 *             # return a scalar for a scalar array
 *             return value_arr.item()             # <<<<<<<<<<<<<< 
 *         elif att_len == 1:
 *             # return a scalar for a single element array
 */
      __pyx_4 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_n_item); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 522; goto __pyx_L1;}
      __pyx_6 = PyObject_CallObject(__pyx_4, 0); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 522; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __pyx_r = __pyx_6;
      __pyx_6 = 0;
      goto __pyx_L0;
      goto __pyx_L10;
    }

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":523
 *             # return a scalar for a scalar array
 *             return value_arr.item()
 *         elif att_len == 1:             # <<<<<<<<<<<<<< 
 *             # return a scalar for a single element array
 *             return value_arr[0]
 */
    __pyx_1 = (__pyx_v_att_len == 1);
    if (__pyx_1) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":525
 *         elif att_len == 1:
 *             # return a scalar for a single element array
 *             return value_arr[0]             # <<<<<<<<<<<<<< 
 *         else:
 *             return value_arr
 */
      if (PyList_CheckExact(((PyObject *)__pyx_v_value_arr)) && 0 <= 0 && 0 < PyList_GET_SIZE(((PyObject *)__pyx_v_value_arr))) {
        __pyx_2 = PyList_GET_ITEM(((PyObject *)__pyx_v_value_arr), 0); Py_INCREF(__pyx_2);
        } else if (PyTuple_CheckExact(((PyObject *)__pyx_v_value_arr)) && 0 <= 0 && 0 < PyTuple_GET_SIZE(((PyObject *)__pyx_v_value_arr))) {
        __pyx_2 = PyTuple_GET_ITEM(((PyObject *)__pyx_v_value_arr), 0); Py_INCREF(__pyx_2);
        } else {
        __pyx_3 = PyInt_FromLong(0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 525; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(((PyObject *)__pyx_v_value_arr), __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 525; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
      }
      __pyx_r = __pyx_2;
      __pyx_2 = 0;
      goto __pyx_L0;
      goto __pyx_L10;
    }
    /*else*/ {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":527
 *             return value_arr[0]
 *         else:
 *             return value_arr             # <<<<<<<<<<<<<< 
 * 
 * def _set_default_format(object format='NETCDF3_64BIT',object verbose=False):
 */
      Py_INCREF(((PyObject *)__pyx_v_value_arr));
      __pyx_r = ((PyObject *)__pyx_v_value_arr);
      goto __pyx_L0;
    }
    __pyx_L10:;
  }
  __pyx_L3:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("netCDF3._get_att");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_value_arr);
  Py_DECREF(__pyx_v_pstring);
  Py_DECREF(__pyx_v_type_att);
  Py_DECREF(__pyx_v_name);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":529
 *             return value_arr
 * 
 * def _set_default_format(object format='NETCDF3_64BIT',object verbose=False):             # <<<<<<<<<<<<<< 
 *     # Private function to set the netCDF file format
 *     if format == 'NETCDF3_64BIT':
 */

static PyObject *__pyx_n_NETCDF3_CLASSIC;

static PyObject *__pyx_k66p;
static PyObject *__pyx_k68p;
static PyObject *__pyx_k69p;

static char __pyx_k66[] = "Switching to 64-bit offset format";
static char __pyx_k68[] = "Switching to netCDF classic format";
static char __pyx_k69[] = "format must be 'NETCDF3_64BIT' or 'NETCDF3_CLASSIC', got '%s'";

static PyObject *__pyx_pf_7netCDF3__set_default_format(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_pf_7netCDF3__set_default_format(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_format = 0;
  PyObject *__pyx_v_verbose = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  static char *__pyx_argnames[] = {"format","verbose",0};
  __pyx_v_format = __pyx_k34;
  __pyx_v_verbose = __pyx_k35;
  if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "|OO", __pyx_argnames, &__pyx_v_format, &__pyx_v_verbose))) return NULL;
  Py_INCREF(__pyx_v_format);
  Py_INCREF(__pyx_v_verbose);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":531
 * def _set_default_format(object format='NETCDF3_64BIT',object verbose=False):
 *     # Private function to set the netCDF file format
 *     if format == 'NETCDF3_64BIT':             # <<<<<<<<<<<<<< 
 *         if verbose:
 *             print "Switching to 64-bit offset format"
 */
  __pyx_1 = PyObject_RichCompare(__pyx_v_format, __pyx_n_NETCDF3_64BIT, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 531; goto __pyx_L1;}
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 531; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":532
 *     # Private function to set the netCDF file format
 *     if format == 'NETCDF3_64BIT':
 *         if verbose:             # <<<<<<<<<<<<<< 
 *             print "Switching to 64-bit offset format"
 *         nc_set_default_format(NC_FORMAT_64BIT, NULL)
 */
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_v_verbose); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 532; goto __pyx_L1;}
    if (__pyx_2) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":533
 *     if format == 'NETCDF3_64BIT':
 *         if verbose:
 *             print "Switching to 64-bit offset format"             # <<<<<<<<<<<<<< 
 *         nc_set_default_format(NC_FORMAT_64BIT, NULL)
 *     elif format == 'NETCDF3_CLASSIC':
 */
      if (__Pyx_PrintItem(__pyx_k66p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 533; goto __pyx_L1;}
      if (__Pyx_PrintNewline() < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 533; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":534
 *         if verbose:
 *             print "Switching to 64-bit offset format"
 *         nc_set_default_format(NC_FORMAT_64BIT, NULL)             # <<<<<<<<<<<<<< 
 *     elif format == 'NETCDF3_CLASSIC':
 *         if verbose:
 */
    nc_set_default_format(NC_FORMAT_64BIT,NULL);
    goto __pyx_L2;
  }

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":535
 *             print "Switching to 64-bit offset format"
 *         nc_set_default_format(NC_FORMAT_64BIT, NULL)
 *     elif format == 'NETCDF3_CLASSIC':             # <<<<<<<<<<<<<< 
 *         if verbose:
 *             print "Switching to netCDF classic format"
 */
  __pyx_1 = PyObject_RichCompare(__pyx_v_format, __pyx_n_NETCDF3_CLASSIC, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 535; goto __pyx_L1;}
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 535; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":536
 *         nc_set_default_format(NC_FORMAT_64BIT, NULL)
 *     elif format == 'NETCDF3_CLASSIC':
 *         if verbose:             # <<<<<<<<<<<<<< 
 *             print "Switching to netCDF classic format"
 *         nc_set_default_format(NC_FORMAT_CLASSIC, NULL)
 */
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_v_verbose); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 536; goto __pyx_L1;}
    if (__pyx_2) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":537
 *     elif format == 'NETCDF3_CLASSIC':
 *         if verbose:
 *             print "Switching to netCDF classic format"             # <<<<<<<<<<<<<< 
 *         nc_set_default_format(NC_FORMAT_CLASSIC, NULL)
 *     else:
 */
      if (__Pyx_PrintItem(__pyx_k68p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 537; goto __pyx_L1;}
      if (__Pyx_PrintNewline() < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 537; goto __pyx_L1;}
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":538
 *         if verbose:
 *             print "Switching to netCDF classic format"
 *         nc_set_default_format(NC_FORMAT_CLASSIC, NULL)             # <<<<<<<<<<<<<< 
 *     else:
 *         raise ValueError, "format must be 'NETCDF3_64BIT' or 'NETCDF3_CLASSIC', got '%s'" % format
 */
    nc_set_default_format(NC_FORMAT_CLASSIC,NULL);
    goto __pyx_L2;
  }
  /*else*/ {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":540
 *         nc_set_default_format(NC_FORMAT_CLASSIC, NULL)
 *     else:
 *         raise ValueError, "format must be 'NETCDF3_64BIT' or 'NETCDF3_CLASSIC', got '%s'" % format             # <<<<<<<<<<<<<< 
 * 
 * cdef _get_format(int grpid):
 */
    __pyx_1 = PyNumber_Remainder(__pyx_k69p, __pyx_v_format); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 540; goto __pyx_L1;}
    __Pyx_Raise(__pyx_builtin_ValueError, __pyx_1, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 540; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("netCDF3._set_default_format");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_format);
  Py_DECREF(__pyx_v_verbose);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":542
 *         raise ValueError, "format must be 'NETCDF3_64BIT' or 'NETCDF3_CLASSIC', got '%s'" % format
 * 
 * cdef _get_format(int grpid):             # <<<<<<<<<<<<<< 
 *     # Private function to get the netCDF file format
 *     cdef int ierr, formatp
 */

static PyObject *__pyx_n_NETCDF4;
static PyObject *__pyx_n_NETCDF4_CLASSIC;


static  PyObject *__pyx_f_7netCDF3__get_format(int __pyx_v_grpid) {
  int __pyx_v_ierr;
  int __pyx_v_formatp;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":545
 *     # Private function to get the netCDF file format
 *     cdef int ierr, formatp
 *     ierr = nc_inq_format(grpid, &formatp)             # <<<<<<<<<<<<<< 
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_format(__pyx_v_grpid,(&__pyx_v_formatp));

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":546
 *     cdef int ierr, formatp
 *     ierr = nc_inq_format(grpid, &formatp)
 *     if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *         raise RuntimeError(nc_strerror(ierr))
 *     if formatp == NC_FORMAT_NETCDF4:
 */
  __pyx_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_1) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":547
 *     ierr = nc_inq_format(grpid, &formatp)
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *     if formatp == NC_FORMAT_NETCDF4:
 *         return 'NETCDF4'
 */
    __pyx_2 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 547; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 547; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 547; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 547; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":548
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 *     if formatp == NC_FORMAT_NETCDF4:             # <<<<<<<<<<<<<< 
 *         return 'NETCDF4'
 *     elif formatp == NC_FORMAT_NETCDF4_CLASSIC:
 */
  __pyx_1 = (__pyx_v_formatp == NC_FORMAT_NETCDF4);
  if (__pyx_1) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":549
 *         raise RuntimeError(nc_strerror(ierr))
 *     if formatp == NC_FORMAT_NETCDF4:
 *         return 'NETCDF4'             # <<<<<<<<<<<<<< 
 *     elif formatp == NC_FORMAT_NETCDF4_CLASSIC:
 *         return 'NETCDF4_CLASSIC'
 */
    Py_INCREF(__pyx_n_NETCDF4);
    __pyx_r = __pyx_n_NETCDF4;
    goto __pyx_L0;
    goto __pyx_L3;
  }

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":550
 *     if formatp == NC_FORMAT_NETCDF4:
 *         return 'NETCDF4'
 *     elif formatp == NC_FORMAT_NETCDF4_CLASSIC:             # <<<<<<<<<<<<<< 
 *         return 'NETCDF4_CLASSIC'
 *     elif formatp == NC_FORMAT_64BIT:
 */
  __pyx_1 = (__pyx_v_formatp == NC_FORMAT_NETCDF4_CLASSIC);
  if (__pyx_1) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":551
 *         return 'NETCDF4'
 *     elif formatp == NC_FORMAT_NETCDF4_CLASSIC:
 *         return 'NETCDF4_CLASSIC'             # <<<<<<<<<<<<<< 
 *     elif formatp == NC_FORMAT_64BIT:
 *         return 'NETCDF3_64BIT'
 */
    Py_INCREF(__pyx_n_NETCDF4_CLASSIC);
    __pyx_r = __pyx_n_NETCDF4_CLASSIC;
    goto __pyx_L0;
    goto __pyx_L3;
  }

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":552
 *     elif formatp == NC_FORMAT_NETCDF4_CLASSIC:
 *         return 'NETCDF4_CLASSIC'
 *     elif formatp == NC_FORMAT_64BIT:             # <<<<<<<<<<<<<< 
 *         return 'NETCDF3_64BIT'
 *     elif formatp == NC_FORMAT_CLASSIC:
 */
  __pyx_1 = (__pyx_v_formatp == NC_FORMAT_64BIT);
  if (__pyx_1) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":553
 *         return 'NETCDF4_CLASSIC'
 *     elif formatp == NC_FORMAT_64BIT:
 *         return 'NETCDF3_64BIT'             # <<<<<<<<<<<<<< 
 *     elif formatp == NC_FORMAT_CLASSIC:
 *         return 'NETCDF3_CLASSIC'
 */
    Py_INCREF(__pyx_n_NETCDF3_64BIT);
    __pyx_r = __pyx_n_NETCDF3_64BIT;
    goto __pyx_L0;
    goto __pyx_L3;
  }

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":554
 *     elif formatp == NC_FORMAT_64BIT:
 *         return 'NETCDF3_64BIT'
 *     elif formatp == NC_FORMAT_CLASSIC:             # <<<<<<<<<<<<<< 
 *         return 'NETCDF3_CLASSIC'
 * 
 */
  __pyx_1 = (__pyx_v_formatp == NC_FORMAT_CLASSIC);
  if (__pyx_1) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":555
 *         return 'NETCDF3_64BIT'
 *     elif formatp == NC_FORMAT_CLASSIC:
 *         return 'NETCDF3_CLASSIC'             # <<<<<<<<<<<<<< 
 * 
 * cdef _set_att(int grpid, int varid, name, value):
 */
    Py_INCREF(__pyx_n_NETCDF3_CLASSIC);
    __pyx_r = __pyx_n_NETCDF3_CLASSIC;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF3._get_format");
  __pyx_r = 0;
  __pyx_L0:;
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":557
 *         return 'NETCDF3_CLASSIC'
 * 
 * cdef _set_att(int grpid, int varid, name, value):             # <<<<<<<<<<<<<< 
 *     # Private function to set an attribute name/value pair
 *     cdef int i, ierr, lenarr, n
 */

static PyObject *__pyx_n_str;
static PyObject *__pyx_n_i8;
static PyObject *__pyx_n_astype;
static PyObject *__pyx_n_char;
static PyObject *__pyx_n_TypeError;

static PyObject *__pyx_k78p;

static PyObject *__pyx_builtin_TypeError;

static char __pyx_k78[] = "illegal data type for attribute, must be one of %s, got %s";

static  PyObject *__pyx_f_7netCDF3__set_att(int __pyx_v_grpid,int __pyx_v_varid,PyObject *__pyx_v_name,PyObject *__pyx_v_value) {
  int __pyx_v_ierr;
  int __pyx_v_lenarr;
  char *__pyx_v_attname;
  char *__pyx_v_datstring;
  PyArrayObject *__pyx_v_value_arr;
  PyObject *__pyx_v_dats;
  PyObject *__pyx_v_xtype;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  char *__pyx_5;
  Py_ssize_t __pyx_6;
  nc_type __pyx_7;
  Py_INCREF(__pyx_v_name);
  Py_INCREF(__pyx_v_value);
  __pyx_v_value_arr = ((PyArrayObject *)Py_None); Py_INCREF(Py_None);
  __pyx_v_dats = Py_None; Py_INCREF(Py_None);
  __pyx_v_xtype = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":562
 *     cdef char *attname, *datstring, *strdata
 *     cdef ndarray value_arr 
 *     attname = PyString_AsString(name)             # <<<<<<<<<<<<<< 
 *     # put attribute value into a numpy array.
 *     value_arr = NP.array(value)
 */
  __pyx_v_attname = PyString_AsString(__pyx_v_name);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":564
 *     attname = PyString_AsString(name)
 *     # put attribute value into a numpy array.
 *     value_arr = NP.array(value)             # <<<<<<<<<<<<<< 
 *     # if array is 64 bit integers, cast to 32 bit integers
 *     # if 64-bit datatype not supported.
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_NP); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 564; goto __pyx_L1;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_array); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 564; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":564
 *     attname = PyString_AsString(name)
 *     # put attribute value into a numpy array.
 *     value_arr = NP.array(value)             # <<<<<<<<<<<<<< 
 *     # if array is 64 bit integers, cast to 32 bit integers
 *     # if 64-bit datatype not supported.
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 564; goto __pyx_L1;}
  Py_INCREF(__pyx_v_value);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_value);
  __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 564; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7netCDF3_ndarray)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 564; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_value_arr));
  __pyx_v_value_arr = ((PyArrayObject *)__pyx_3);
  __pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":567
 *     # if array is 64 bit integers, cast to 32 bit integers
 *     # if 64-bit datatype not supported.
 *     if value_arr.dtype.str[1:] == 'i8' and 'i8' not in _supportedtypes:             # <<<<<<<<<<<<<< 
 *         value_arr = value_arr.astype('i4')
 *     # if array contains strings, write a text attribute.
 */
  __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_n_dtype); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 567; goto __pyx_L1;}
  __pyx_3 = PyObject_GetAttr(__pyx_1, __pyx_n_str); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 567; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":567
 *     # if array is 64 bit integers, cast to 32 bit integers
 *     # if 64-bit datatype not supported.
 *     if value_arr.dtype.str[1:] == 'i8' and 'i8' not in _supportedtypes:             # <<<<<<<<<<<<<< 
 *         value_arr = value_arr.astype('i4')
 *     # if array contains strings, write a text attribute.
 */
  __pyx_1 = PySequence_GetSlice(__pyx_3, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 567; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":567
 *     # if array is 64 bit integers, cast to 32 bit integers
 *     # if 64-bit datatype not supported.
 *     if value_arr.dtype.str[1:] == 'i8' and 'i8' not in _supportedtypes:             # <<<<<<<<<<<<<< 
 *         value_arr = value_arr.astype('i4')
 *     # if array contains strings, write a text attribute.
 */
  __pyx_2 = PyObject_RichCompare(__pyx_1, __pyx_n_i8, Py_EQ); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 567; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 567; goto __pyx_L1;}
  if (__pyx_4) {
    Py_DECREF(__pyx_2); __pyx_2 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":567
 *     # if array is 64 bit integers, cast to 32 bit integers
 *     # if 64-bit datatype not supported.
 *     if value_arr.dtype.str[1:] == 'i8' and 'i8' not in _supportedtypes:             # <<<<<<<<<<<<<< 
 *         value_arr = value_arr.astype('i4')
 *     # if array contains strings, write a text attribute.
 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n__supportedtypes); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 567; goto __pyx_L1;}
    __pyx_4 = (!PySequence_Contains(__pyx_3, __pyx_n_i8)); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 567; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_2 = __Pyx_PyBool_FromLong(__pyx_4); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 567; goto __pyx_L1;}
  }
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 567; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_4) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":568
 *     # if 64-bit datatype not supported.
 *     if value_arr.dtype.str[1:] == 'i8' and 'i8' not in _supportedtypes:
 *         value_arr = value_arr.astype('i4')             # <<<<<<<<<<<<<< 
 *     # if array contains strings, write a text attribute.
 *     if value_arr.dtype.char == 'S':
 */
    __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_n_astype); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 568; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":568
 *     # if 64-bit datatype not supported.
 *     if value_arr.dtype.str[1:] == 'i8' and 'i8' not in _supportedtypes:
 *         value_arr = value_arr.astype('i4')             # <<<<<<<<<<<<<< 
 *     # if array contains strings, write a text attribute.
 *     if value_arr.dtype.char == 'S':
 */
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 568; goto __pyx_L1;}
    Py_INCREF(__pyx_n_i4);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_n_i4);
    __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 568; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7netCDF3_ndarray)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 568; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_value_arr));
    __pyx_v_value_arr = ((PyArrayObject *)__pyx_2);
    __pyx_2 = 0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":570
 *         value_arr = value_arr.astype('i4')
 *     # if array contains strings, write a text attribute.
 *     if value_arr.dtype.char == 'S':             # <<<<<<<<<<<<<< 
 *         dats = value_arr.tostring()
 *         datstring = dats
 */
  __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_n_dtype); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 570; goto __pyx_L1;}
  __pyx_3 = PyObject_GetAttr(__pyx_1, __pyx_n_char); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 570; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":570
 *         value_arr = value_arr.astype('i4')
 *     # if array contains strings, write a text attribute.
 *     if value_arr.dtype.char == 'S':             # <<<<<<<<<<<<<< 
 *         dats = value_arr.tostring()
 *         datstring = dats
 */
  __pyx_2 = PyObject_RichCompare(__pyx_3, __pyx_n_S, Py_EQ); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 570; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 570; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_4) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":571
 *     # if array contains strings, write a text attribute.
 *     if value_arr.dtype.char == 'S':
 *         dats = value_arr.tostring()             # <<<<<<<<<<<<<< 
 *         datstring = dats
 *         lenarr = len(dats)
 */
    __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_n_tostring); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 571; goto __pyx_L1;}
    __pyx_3 = PyObject_CallObject(__pyx_1, 0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 571; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_v_dats);
    __pyx_v_dats = __pyx_3;
    __pyx_3 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":572
 *     if value_arr.dtype.char == 'S':
 *         dats = value_arr.tostring()
 *         datstring = dats             # <<<<<<<<<<<<<< 
 *         lenarr = len(dats)
 *         ierr = nc_put_att_text(grpid, varid, attname, lenarr, datstring)
 */
    __pyx_5 = PyString_AsString(__pyx_v_dats); if (unlikely((!__pyx_5) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 572; goto __pyx_L1;}
    __pyx_v_datstring = __pyx_5;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":573
 *         dats = value_arr.tostring()
 *         datstring = dats
 *         lenarr = len(dats)             # <<<<<<<<<<<<<< 
 *         ierr = nc_put_att_text(grpid, varid, attname, lenarr, datstring)
 *         if ierr != NC_NOERR:
 */
    __pyx_6 = PyObject_Length(__pyx_v_dats); if (unlikely(__pyx_6 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 573; goto __pyx_L1;}
    __pyx_v_lenarr = __pyx_6;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":574
 *         datstring = dats
 *         lenarr = len(dats)
 *         ierr = nc_put_att_text(grpid, varid, attname, lenarr, datstring)             # <<<<<<<<<<<<<< 
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_put_att_text(__pyx_v_grpid,__pyx_v_varid,__pyx_v_attname,__pyx_v_lenarr,__pyx_v_datstring);

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":575
 *         lenarr = len(dats)
 *         ierr = nc_put_att_text(grpid, varid, attname, lenarr, datstring)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *             raise RuntimeError(nc_strerror(ierr))
 *     # a 'regular' array type ('f4','i4','f8' etc)
 */
    __pyx_4 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_4) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":576
 *         ierr = nc_put_att_text(grpid, varid, attname, lenarr, datstring)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *     # a 'regular' array type ('f4','i4','f8' etc)
 *     else:
 */
      __pyx_2 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 576; goto __pyx_L1;}
      __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 576; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
      __pyx_2 = 0;
      __pyx_3 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 576; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __Pyx_Raise(__pyx_3, 0, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 576; goto __pyx_L1;}
      goto __pyx_L4;
    }
    __pyx_L4:;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":579
 *     # a 'regular' array type ('f4','i4','f8' etc)
 *     else:
 *         if value_arr.dtype.str[1:] not in _supportedtypes:             # <<<<<<<<<<<<<< 
 *             raise TypeError, 'illegal data type for attribute, must be one of %s, got %s' % (_supportedtypes, value_arr.dtype.str[1:])
 *         xtype = _nptonctype[value_arr.dtype.str[1:]]
 */
    __pyx_2 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_n_dtype); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 579; goto __pyx_L1;}
    __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_n_str); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 579; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":579
 *     # a 'regular' array type ('f4','i4','f8' etc)
 *     else:
 *         if value_arr.dtype.str[1:] not in _supportedtypes:             # <<<<<<<<<<<<<< 
 *             raise TypeError, 'illegal data type for attribute, must be one of %s, got %s' % (_supportedtypes, value_arr.dtype.str[1:])
 *         xtype = _nptonctype[value_arr.dtype.str[1:]]
 */
    __pyx_3 = PySequence_GetSlice(__pyx_1, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 579; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":579
 *     # a 'regular' array type ('f4','i4','f8' etc)
 *     else:
 *         if value_arr.dtype.str[1:] not in _supportedtypes:             # <<<<<<<<<<<<<< 
 *             raise TypeError, 'illegal data type for attribute, must be one of %s, got %s' % (_supportedtypes, value_arr.dtype.str[1:])
 *         xtype = _nptonctype[value_arr.dtype.str[1:]]
 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n__supportedtypes); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 579; goto __pyx_L1;}
    __pyx_4 = (!PySequence_Contains(__pyx_2, __pyx_3)); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 579; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (__pyx_4) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":580
 *     else:
 *         if value_arr.dtype.str[1:] not in _supportedtypes:
 *             raise TypeError, 'illegal data type for attribute, must be one of %s, got %s' % (_supportedtypes, value_arr.dtype.str[1:])             # <<<<<<<<<<<<<< 
 *         xtype = _nptonctype[value_arr.dtype.str[1:]]
 *         lenarr = PyArray_SIZE(value_arr)
 */
      __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__supportedtypes); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":580
 *     else:
 *         if value_arr.dtype.str[1:] not in _supportedtypes:
 *             raise TypeError, 'illegal data type for attribute, must be one of %s, got %s' % (_supportedtypes, value_arr.dtype.str[1:])             # <<<<<<<<<<<<<< 
 *         xtype = _nptonctype[value_arr.dtype.str[1:]]
 *         lenarr = PyArray_SIZE(value_arr)
 */
      __pyx_3 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_n_dtype); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L1;}
      __pyx_2 = PyObject_GetAttr(__pyx_3, __pyx_n_str); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":580
 *     else:
 *         if value_arr.dtype.str[1:] not in _supportedtypes:
 *             raise TypeError, 'illegal data type for attribute, must be one of %s, got %s' % (_supportedtypes, value_arr.dtype.str[1:])             # <<<<<<<<<<<<<< 
 *         xtype = _nptonctype[value_arr.dtype.str[1:]]
 *         lenarr = PyArray_SIZE(value_arr)
 */
      __pyx_3 = PySequence_GetSlice(__pyx_2, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_2 = PyTuple_New(2); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
      PyTuple_SET_ITEM(__pyx_2, 1, __pyx_3);
      __pyx_1 = 0;
      __pyx_3 = 0;
      __pyx_1 = PyNumber_Remainder(__pyx_k78p, __pyx_2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __Pyx_Raise(__pyx_builtin_TypeError, __pyx_1, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L1;}
      goto __pyx_L5;
    }
    __pyx_L5:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":581
 *         if value_arr.dtype.str[1:] not in _supportedtypes:
 *             raise TypeError, 'illegal data type for attribute, must be one of %s, got %s' % (_supportedtypes, value_arr.dtype.str[1:])
 *         xtype = _nptonctype[value_arr.dtype.str[1:]]             # <<<<<<<<<<<<<< 
 *         lenarr = PyArray_SIZE(value_arr)
 *         ierr = nc_put_att(grpid, varid, attname, xtype, lenarr, value_arr.data)
 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n__nptonctype); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 581; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":581
 *         if value_arr.dtype.str[1:] not in _supportedtypes:
 *             raise TypeError, 'illegal data type for attribute, must be one of %s, got %s' % (_supportedtypes, value_arr.dtype.str[1:])
 *         xtype = _nptonctype[value_arr.dtype.str[1:]]             # <<<<<<<<<<<<<< 
 *         lenarr = PyArray_SIZE(value_arr)
 *         ierr = nc_put_att(grpid, varid, attname, xtype, lenarr, value_arr.data)
 */
    __pyx_2 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_n_dtype); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 581; goto __pyx_L1;}
    __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_n_str); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 581; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":581
 *         if value_arr.dtype.str[1:] not in _supportedtypes:
 *             raise TypeError, 'illegal data type for attribute, must be one of %s, got %s' % (_supportedtypes, value_arr.dtype.str[1:])
 *         xtype = _nptonctype[value_arr.dtype.str[1:]]             # <<<<<<<<<<<<<< 
 *         lenarr = PyArray_SIZE(value_arr)
 *         ierr = nc_put_att(grpid, varid, attname, xtype, lenarr, value_arr.data)
 */
    __pyx_2 = PySequence_GetSlice(__pyx_1, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 581; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_1 = PyObject_GetItem(__pyx_3, __pyx_2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 581; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_v_xtype);
    __pyx_v_xtype = __pyx_1;
    __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":582
 *             raise TypeError, 'illegal data type for attribute, must be one of %s, got %s' % (_supportedtypes, value_arr.dtype.str[1:])
 *         xtype = _nptonctype[value_arr.dtype.str[1:]]
 *         lenarr = PyArray_SIZE(value_arr)             # <<<<<<<<<<<<<< 
 *         ierr = nc_put_att(grpid, varid, attname, xtype, lenarr, value_arr.data)
 *         if ierr != NC_NOERR:
 */
    __pyx_v_lenarr = PyArray_SIZE(__pyx_v_value_arr);

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":583
 *         xtype = _nptonctype[value_arr.dtype.str[1:]]
 *         lenarr = PyArray_SIZE(value_arr)
 *         ierr = nc_put_att(grpid, varid, attname, xtype, lenarr, value_arr.data)             # <<<<<<<<<<<<<< 
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_7 = PyInt_AsLong(__pyx_v_xtype); if (unlikely((__pyx_7 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 583; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":583
 *         xtype = _nptonctype[value_arr.dtype.str[1:]]
 *         lenarr = PyArray_SIZE(value_arr)
 *         ierr = nc_put_att(grpid, varid, attname, xtype, lenarr, value_arr.data)             # <<<<<<<<<<<<<< 
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_put_att(__pyx_v_grpid,__pyx_v_varid,__pyx_v_attname,__pyx_7,__pyx_v_lenarr,__pyx_v_value_arr->data);

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":584
 *         lenarr = PyArray_SIZE(value_arr)
 *         ierr = nc_put_att(grpid, varid, attname, xtype, lenarr, value_arr.data)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 */
    __pyx_4 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_4) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":585
 *         ierr = nc_put_att(grpid, varid, attname, xtype, lenarr, value_arr.data)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 * 
 * cdef _get_dims(group):
 */
      __pyx_3 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 585; goto __pyx_L1;}
      __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 585; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
      __pyx_3 = 0;
      __pyx_1 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 585; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __Pyx_Raise(__pyx_1, 0, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 585; goto __pyx_L1;}
      goto __pyx_L6;
    }
    __pyx_L6:;
  }
  __pyx_L3:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF3._set_att");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_value_arr);
  Py_DECREF(__pyx_v_dats);
  Py_DECREF(__pyx_v_xtype);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_value);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":587
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 * cdef _get_dims(group):             # <<<<<<<<<<<<<< 
 *     # Private function to create L{Dimension} instances for all the
 *     # dimensions in a L{Dataset}.
 */

static PyObject *__pyx_n_id;


static  PyObject *__pyx_f_7netCDF3__get_dims(PyObject *__pyx_v_group) {
  int __pyx_v_ierr;
  int __pyx_v_numdims;
  int __pyx_v_n;
  char __pyx_v_namstring[(NC_MAX_NAME + 1)];
  PyObject *__pyx_v_dimensions;
  PyObject *__pyx_v_name;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  int __pyx_3;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  Py_INCREF(__pyx_v_group);
  __pyx_v_dimensions = Py_None; Py_INCREF(Py_None);
  __pyx_v_name = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":593
 *     cdef char namstring[NC_MAX_NAME+1]
 *     # get number of dimensions in this Dataset.
 *     ierr = nc_inq_ndims(group._grpid, &numdims)             # <<<<<<<<<<<<<< 
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_group, __pyx_n__grpid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 593; goto __pyx_L1;}
  __pyx_2 = PyInt_AsLong(__pyx_1); if (unlikely((__pyx_2 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 593; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":593
 *     cdef char namstring[NC_MAX_NAME+1]
 *     # get number of dimensions in this Dataset.
 *     ierr = nc_inq_ndims(group._grpid, &numdims)             # <<<<<<<<<<<<<< 
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_ndims(__pyx_2,(&__pyx_v_numdims));

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":594
 *     # get number of dimensions in this Dataset.
 *     ierr = nc_inq_ndims(group._grpid, &numdims)
 *     if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *         raise RuntimeError(nc_strerror(ierr))
 *     # create empty dictionary for dimensions.
 */
  __pyx_3 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_3) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":595
 *     ierr = nc_inq_ndims(group._grpid, &numdims)
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *     # create empty dictionary for dimensions.
 *     dimensions = {}
 */
    __pyx_1 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 595; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 595; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_4); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 595; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 595; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":597
 *         raise RuntimeError(nc_strerror(ierr))
 *     # create empty dictionary for dimensions.
 *     dimensions = {}             # <<<<<<<<<<<<<< 
 *     if numdims > 0:
 *         for n from 0 <= n < numdims:
 */
  __pyx_4 = PyDict_New(); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 597; goto __pyx_L1;}
  Py_DECREF(__pyx_v_dimensions);
  __pyx_v_dimensions = __pyx_4;
  __pyx_4 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":598
 *     # create empty dictionary for dimensions.
 *     dimensions = {}
 *     if numdims > 0:             # <<<<<<<<<<<<<< 
 *         for n from 0 <= n < numdims:
 *             ierr = nc_inq_dimname(group._grpid, n, namstring)
 */
  __pyx_3 = (__pyx_v_numdims > 0);
  if (__pyx_3) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":599
 *     dimensions = {}
 *     if numdims > 0:
 *         for n from 0 <= n < numdims:             # <<<<<<<<<<<<<< 
 *             ierr = nc_inq_dimname(group._grpid, n, namstring)
 *             if ierr != NC_NOERR:
 */
    for (__pyx_v_n = 0; __pyx_v_n < __pyx_v_numdims; __pyx_v_n++) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":600
 *     if numdims > 0:
 *         for n from 0 <= n < numdims:
 *             ierr = nc_inq_dimname(group._grpid, n, namstring)             # <<<<<<<<<<<<<< 
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_1 = PyObject_GetAttr(__pyx_v_group, __pyx_n__grpid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 600; goto __pyx_L1;}
      __pyx_2 = PyInt_AsLong(__pyx_1); if (unlikely((__pyx_2 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 600; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":600
 *     if numdims > 0:
 *         for n from 0 <= n < numdims:
 *             ierr = nc_inq_dimname(group._grpid, n, namstring)             # <<<<<<<<<<<<<< 
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_v_ierr = nc_inq_dimname(__pyx_2,__pyx_v_n,__pyx_v_namstring);

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":601
 *         for n from 0 <= n < numdims:
 *             ierr = nc_inq_dimname(group._grpid, n, namstring)
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *                 raise RuntimeError(nc_strerror(ierr))
 *             name = namstring
 */
      __pyx_3 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_3) {

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":602
 *             ierr = nc_inq_dimname(group._grpid, n, namstring)
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *             name = namstring
 *             dimensions[name] = Dimension(group, name, id=n)
 */
        __pyx_4 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 602; goto __pyx_L1;}
        __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 602; goto __pyx_L1;}
        PyTuple_SET_ITEM(__pyx_1, 0, __pyx_4);
        __pyx_4 = 0;
        __pyx_4 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 602; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        __Pyx_Raise(__pyx_4, 0, 0);
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 602; goto __pyx_L1;}
        goto __pyx_L6;
      }
      __pyx_L6:;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":603
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 *             name = namstring             # <<<<<<<<<<<<<< 
 *             dimensions[name] = Dimension(group, name, id=n)
 *     return dimensions
 */
      __pyx_1 = PyString_FromString(__pyx_v_namstring); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 603; goto __pyx_L1;}
      Py_DECREF(__pyx_v_name);
      __pyx_v_name = __pyx_1;
      __pyx_1 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":604
 *                 raise RuntimeError(nc_strerror(ierr))
 *             name = namstring
 *             dimensions[name] = Dimension(group, name, id=n)             # <<<<<<<<<<<<<< 
 *     return dimensions
 * 
 */
      __pyx_4 = PyTuple_New(2); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 604; goto __pyx_L1;}
      Py_INCREF(__pyx_v_group);
      PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_group);
      Py_INCREF(__pyx_v_name);
      PyTuple_SET_ITEM(__pyx_4, 1, __pyx_v_name);
      __pyx_1 = PyDict_New(); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 604; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":604
 *                 raise RuntimeError(nc_strerror(ierr))
 *             name = namstring
 *             dimensions[name] = Dimension(group, name, id=n)             # <<<<<<<<<<<<<< 
 *     return dimensions
 * 
 */
      __pyx_5 = PyInt_FromLong(__pyx_v_n); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 604; goto __pyx_L1;}
      if (PyDict_SetItem(__pyx_1, __pyx_n_id, __pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 604; goto __pyx_L1;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __pyx_5 = PyEval_CallObjectWithKeywords(((PyObject*)__pyx_ptype_7netCDF3_Dimension), __pyx_4, __pyx_1); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 604; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":604
 *                 raise RuntimeError(nc_strerror(ierr))
 *             name = namstring
 *             dimensions[name] = Dimension(group, name, id=n)             # <<<<<<<<<<<<<< 
 *     return dimensions
 * 
 */
      if (PyObject_SetItem(__pyx_v_dimensions, __pyx_v_name, __pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 604; goto __pyx_L1;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
    }
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":605
 *             name = namstring
 *             dimensions[name] = Dimension(group, name, id=n)
 *     return dimensions             # <<<<<<<<<<<<<< 
 * 
 * cdef _get_vars(group):
 */
  Py_INCREF(__pyx_v_dimensions);
  __pyx_r = __pyx_v_dimensions;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("netCDF3._get_dims");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_dimensions);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_group);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":607
 *     return dimensions
 * 
 * cdef _get_vars(group):             # <<<<<<<<<<<<<< 
 *     # Private function to create L{Variable} instances for all the
 *     # variables in a L{Dataset}.
 */

static PyObject *__pyx_n__dimid;

static PyObject *__pyx_k80p;

static char __pyx_k80[] = "variable %s has unsupported data type";

static  PyObject *__pyx_f_7netCDF3__get_vars(PyObject *__pyx_v_group) {
  int __pyx_v_ierr;
  int __pyx_v_numvars;
  int __pyx_v_n;
  int __pyx_v_nn;
  int __pyx_v_numdims;
  int __pyx_v_varid;
  int __pyx_v_dimids[NC_MAX_DIMS];
  nc_type __pyx_v_xtype;
  char __pyx_v_namstring[(NC_MAX_NAME + 1)];
  PyObject *__pyx_v_variables;
  PyObject *__pyx_v_name;
  PyObject *__pyx_v_datatype;
  PyObject *__pyx_v_dimensions;
  PyObject *__pyx_v_key;
  PyObject *__pyx_v_value;
  PyObject *__pyx_v_found;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  int __pyx_3;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  PyObject *__pyx_7 = 0;
  Py_ssize_t __pyx_8;
  Py_INCREF(__pyx_v_group);
  __pyx_v_variables = Py_None; Py_INCREF(Py_None);
  __pyx_v_name = Py_None; Py_INCREF(Py_None);
  __pyx_v_datatype = Py_None; Py_INCREF(Py_None);
  __pyx_v_dimensions = Py_None; Py_INCREF(Py_None);
  __pyx_v_key = Py_None; Py_INCREF(Py_None);
  __pyx_v_value = Py_None; Py_INCREF(Py_None);
  __pyx_v_found = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":616
 *     cdef char namstring[NC_MAX_NAME+1]
 *     # get number of variables in this Dataset.
 *     ierr = nc_inq_nvars(group._grpid, &numvars)             # <<<<<<<<<<<<<< 
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_group, __pyx_n__grpid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 616; goto __pyx_L1;}
  __pyx_2 = PyInt_AsLong(__pyx_1); if (unlikely((__pyx_2 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 616; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":616
 *     cdef char namstring[NC_MAX_NAME+1]
 *     # get number of variables in this Dataset.
 *     ierr = nc_inq_nvars(group._grpid, &numvars)             # <<<<<<<<<<<<<< 
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_nvars(__pyx_2,(&__pyx_v_numvars));

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":617
 *     # get number of variables in this Dataset.
 *     ierr = nc_inq_nvars(group._grpid, &numvars)
 *     if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *         raise RuntimeError(nc_strerror(ierr))
 *     # create empty dictionary for variables.
 */
  __pyx_3 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_3) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":618
 *     ierr = nc_inq_nvars(group._grpid, &numvars)
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *     # create empty dictionary for variables.
 *     variables = {}
 */
    __pyx_1 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 618; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 618; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_4); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 618; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 618; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":620
 *         raise RuntimeError(nc_strerror(ierr))
 *     # create empty dictionary for variables.
 *     variables = {}             # <<<<<<<<<<<<<< 
 *     if numvars > 0:
 *         # loop over variables. 
 */
  __pyx_4 = PyDict_New(); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 620; goto __pyx_L1;}
  Py_DECREF(__pyx_v_variables);
  __pyx_v_variables = __pyx_4;
  __pyx_4 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":621
 *     # create empty dictionary for variables.
 *     variables = {}
 *     if numvars > 0:             # <<<<<<<<<<<<<< 
 *         # loop over variables. 
 *         for n from 0 <= n < numvars:
 */
  __pyx_3 = (__pyx_v_numvars > 0);
  if (__pyx_3) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":623
 *     if numvars > 0:
 *         # loop over variables. 
 *         for n from 0 <= n < numvars:             # <<<<<<<<<<<<<< 
 *              varid = n
 *              # get variable name.
 */
    for (__pyx_v_n = 0; __pyx_v_n < __pyx_v_numvars; __pyx_v_n++) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":624
 *         # loop over variables. 
 *         for n from 0 <= n < numvars:
 *              varid = n             # <<<<<<<<<<<<<< 
 *              # get variable name.
 *              ierr = nc_inq_varname(group._grpid, varid, namstring)
 */
      __pyx_v_varid = __pyx_v_n;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":626
 *              varid = n
 *              # get variable name.
 *              ierr = nc_inq_varname(group._grpid, varid, namstring)             # <<<<<<<<<<<<<< 
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_1 = PyObject_GetAttr(__pyx_v_group, __pyx_n__grpid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 626; goto __pyx_L1;}
      __pyx_2 = PyInt_AsLong(__pyx_1); if (unlikely((__pyx_2 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 626; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":626
 *              varid = n
 *              # get variable name.
 *              ierr = nc_inq_varname(group._grpid, varid, namstring)             # <<<<<<<<<<<<<< 
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_v_ierr = nc_inq_varname(__pyx_2,__pyx_v_varid,__pyx_v_namstring);

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":627
 *              # get variable name.
 *              ierr = nc_inq_varname(group._grpid, varid, namstring)
 *              if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *                  raise RuntimeError(nc_strerror(ierr))
 *              name = namstring
 */
      __pyx_3 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_3) {

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":628
 *              ierr = nc_inq_varname(group._grpid, varid, namstring)
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *              name = namstring
 *              # get variable type.
 */
        __pyx_4 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 628; goto __pyx_L1;}
        __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 628; goto __pyx_L1;}
        PyTuple_SET_ITEM(__pyx_1, 0, __pyx_4);
        __pyx_4 = 0;
        __pyx_4 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 628; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        __Pyx_Raise(__pyx_4, 0, 0);
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 628; goto __pyx_L1;}
        goto __pyx_L6;
      }
      __pyx_L6:;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":629
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 *              name = namstring             # <<<<<<<<<<<<<< 
 *              # get variable type.
 *              ierr = nc_inq_vartype(group._grpid, varid, &xtype)
 */
      __pyx_1 = PyString_FromString(__pyx_v_namstring); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 629; goto __pyx_L1;}
      Py_DECREF(__pyx_v_name);
      __pyx_v_name = __pyx_1;
      __pyx_1 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":631
 *              name = namstring
 *              # get variable type.
 *              ierr = nc_inq_vartype(group._grpid, varid, &xtype)             # <<<<<<<<<<<<<< 
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_4 = PyObject_GetAttr(__pyx_v_group, __pyx_n__grpid); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 631; goto __pyx_L1;}
      __pyx_2 = PyInt_AsLong(__pyx_4); if (unlikely((__pyx_2 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 631; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":631
 *              name = namstring
 *              # get variable type.
 *              ierr = nc_inq_vartype(group._grpid, varid, &xtype)             # <<<<<<<<<<<<<< 
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_v_ierr = nc_inq_vartype(__pyx_2,__pyx_v_varid,(&__pyx_v_xtype));

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":632
 *              # get variable type.
 *              ierr = nc_inq_vartype(group._grpid, varid, &xtype)
 *              if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *                  raise RuntimeError(nc_strerror(ierr))
 *              try:
 */
      __pyx_3 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_3) {

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":633
 *              ierr = nc_inq_vartype(group._grpid, varid, &xtype)
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *              try:
 *                  datatype = _nctonptype[xtype]
 */
        __pyx_1 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 633; goto __pyx_L1;}
        __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 633; goto __pyx_L1;}
        PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
        __pyx_1 = 0;
        __pyx_1 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_4); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 633; goto __pyx_L1;}
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        __Pyx_Raise(__pyx_1, 0, 0);
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 633; goto __pyx_L1;}
        goto __pyx_L7;
      }
      __pyx_L7:;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":634
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 *              try:             # <<<<<<<<<<<<<< 
 *                  datatype = _nctonptype[xtype]
 *              except:
 */
      /*try:*/ {

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":635
 *                  raise RuntimeError(nc_strerror(ierr))
 *              try:
 *                  datatype = _nctonptype[xtype]             # <<<<<<<<<<<<<< 
 *              except:
 *                  raise KeyError('variable %s has unsupported data type' % name)
 */
        __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n__nctonptype); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 635; goto __pyx_L8;}

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":635
 *                  raise RuntimeError(nc_strerror(ierr))
 *              try:
 *                  datatype = _nctonptype[xtype]             # <<<<<<<<<<<<<< 
 *              except:
 *                  raise KeyError('variable %s has unsupported data type' % name)
 */
        if (PyList_CheckExact(__pyx_4) && 0 <= __pyx_v_xtype && __pyx_v_xtype < PyList_GET_SIZE(__pyx_4)) {
          __pyx_5 = PyList_GET_ITEM(__pyx_4, __pyx_v_xtype); Py_INCREF(__pyx_5);
          } else if (PyTuple_CheckExact(__pyx_4) && 0 <= __pyx_v_xtype && __pyx_v_xtype < PyTuple_GET_SIZE(__pyx_4)) {
          __pyx_5 = PyTuple_GET_ITEM(__pyx_4, __pyx_v_xtype); Py_INCREF(__pyx_5);
          } else {
          __pyx_1 = PyInt_FromLong(__pyx_v_xtype); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 635; goto __pyx_L8;}
          __pyx_5 = PyObject_GetItem(__pyx_4, __pyx_1); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 635; goto __pyx_L8;}
          Py_DECREF(__pyx_1); __pyx_1 = 0;
        }
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        Py_DECREF(__pyx_v_datatype);
        __pyx_v_datatype = __pyx_5;
        __pyx_5 = 0;
      }
      goto __pyx_L9;
      __pyx_L8:;
      Py_XDECREF(__pyx_4); __pyx_4 = 0;
      Py_XDECREF(__pyx_1); __pyx_1 = 0;
      Py_XDECREF(__pyx_5); __pyx_5 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":636
 *              try:
 *                  datatype = _nctonptype[xtype]
 *              except:             # <<<<<<<<<<<<<< 
 *                  raise KeyError('variable %s has unsupported data type' % name)
 *                  continue
 */
      /*except:*/ {
        __Pyx_AddTraceback("netCDF3._get_vars");
        if (__Pyx_GetException(&__pyx_4, &__pyx_1, &__pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 636; goto __pyx_L1;}

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":637
 *                  datatype = _nctonptype[xtype]
 *              except:
 *                  raise KeyError('variable %s has unsupported data type' % name)             # <<<<<<<<<<<<<< 
 *                  continue
 *              # get number of dimensions.
 */
        __pyx_6 = PyNumber_Remainder(__pyx_k80p, __pyx_v_name); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 637; goto __pyx_L1;}
        __pyx_7 = PyTuple_New(1); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 637; goto __pyx_L1;}
        PyTuple_SET_ITEM(__pyx_7, 0, __pyx_6);
        __pyx_6 = 0;
        __pyx_6 = PyObject_CallObject(__pyx_builtin_KeyError, __pyx_7); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 637; goto __pyx_L1;}
        Py_DECREF(__pyx_7); __pyx_7 = 0;
        __Pyx_Raise(__pyx_6, 0, 0);
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 637; goto __pyx_L1;}

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":638
 *              except:
 *                  raise KeyError('variable %s has unsupported data type' % name)
 *                  continue             # <<<<<<<<<<<<<< 
 *              # get number of dimensions.
 *              ierr = nc_inq_varndims(group._grpid, varid, &numdims)
 */
        goto __pyx_L4;
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        Py_DECREF(__pyx_5); __pyx_5 = 0;
        goto __pyx_L9;
      }
      __pyx_L9:;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":640
 *                  continue
 *              # get number of dimensions.
 *              ierr = nc_inq_varndims(group._grpid, varid, &numdims)             # <<<<<<<<<<<<<< 
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_7 = PyObject_GetAttr(__pyx_v_group, __pyx_n__grpid); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 640; goto __pyx_L1;}
      __pyx_2 = PyInt_AsLong(__pyx_7); if (unlikely((__pyx_2 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 640; goto __pyx_L1;}
      Py_DECREF(__pyx_7); __pyx_7 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":640
 *                  continue
 *              # get number of dimensions.
 *              ierr = nc_inq_varndims(group._grpid, varid, &numdims)             # <<<<<<<<<<<<<< 
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_v_ierr = nc_inq_varndims(__pyx_2,__pyx_v_varid,(&__pyx_v_numdims));

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":641
 *              # get number of dimensions.
 *              ierr = nc_inq_varndims(group._grpid, varid, &numdims)
 *              if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *                  raise RuntimeError(nc_strerror(ierr))
 *              # get dimension ids.
 */
      __pyx_3 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_3) {

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":642
 *              ierr = nc_inq_varndims(group._grpid, varid, &numdims)
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *              # get dimension ids.
 *              ierr = nc_inq_vardimid(group._grpid, varid, dimids)
 */
        __pyx_6 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 642; goto __pyx_L1;}
        __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 642; goto __pyx_L1;}
        PyTuple_SET_ITEM(__pyx_4, 0, __pyx_6);
        __pyx_6 = 0;
        __pyx_1 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_4); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 642; goto __pyx_L1;}
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        __Pyx_Raise(__pyx_1, 0, 0);
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 642; goto __pyx_L1;}
        goto __pyx_L10;
      }
      __pyx_L10:;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":644
 *                  raise RuntimeError(nc_strerror(ierr))
 *              # get dimension ids.
 *              ierr = nc_inq_vardimid(group._grpid, varid, dimids)             # <<<<<<<<<<<<<< 
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_5 = PyObject_GetAttr(__pyx_v_group, __pyx_n__grpid); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 644; goto __pyx_L1;}
      __pyx_2 = PyInt_AsLong(__pyx_5); if (unlikely((__pyx_2 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 644; goto __pyx_L1;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":644
 *                  raise RuntimeError(nc_strerror(ierr))
 *              # get dimension ids.
 *              ierr = nc_inq_vardimid(group._grpid, varid, dimids)             # <<<<<<<<<<<<<< 
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_v_ierr = nc_inq_vardimid(__pyx_2,__pyx_v_varid,__pyx_v_dimids);

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":645
 *              # get dimension ids.
 *              ierr = nc_inq_vardimid(group._grpid, varid, dimids)
 *              if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *                  raise RuntimeError(nc_strerror(ierr))
 *              # loop over dimensions, retrieve names.
 */
      __pyx_3 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_3) {

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":646
 *              ierr = nc_inq_vardimid(group._grpid, varid, dimids)
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *              # loop over dimensions, retrieve names.
 *              dimensions = []
 */
        __pyx_7 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 646; goto __pyx_L1;}
        __pyx_6 = PyTuple_New(1); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 646; goto __pyx_L1;}
        PyTuple_SET_ITEM(__pyx_6, 0, __pyx_7);
        __pyx_7 = 0;
        __pyx_4 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_6); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 646; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __Pyx_Raise(__pyx_4, 0, 0);
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 646; goto __pyx_L1;}
        goto __pyx_L11;
      }
      __pyx_L11:;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":648
 *                  raise RuntimeError(nc_strerror(ierr))
 *              # loop over dimensions, retrieve names.
 *              dimensions = []             # <<<<<<<<<<<<<< 
 *              for nn from 0 <= nn < numdims:
 *                  for key, value in group.dimensions.iteritems():
 */
      __pyx_1 = PyList_New(0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 648; goto __pyx_L1;}
      Py_DECREF(__pyx_v_dimensions);
      __pyx_v_dimensions = __pyx_1;
      __pyx_1 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":649
 *              # loop over dimensions, retrieve names.
 *              dimensions = []
 *              for nn from 0 <= nn < numdims:             # <<<<<<<<<<<<<< 
 *                  for key, value in group.dimensions.iteritems():
 *                      if value._dimid == dimids[nn]:
 */
      for (__pyx_v_nn = 0; __pyx_v_nn < __pyx_v_numdims; __pyx_v_nn++) {

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":650
 *              dimensions = []
 *              for nn from 0 <= nn < numdims:
 *                  for key, value in group.dimensions.iteritems():             # <<<<<<<<<<<<<< 
 *                      if value._dimid == dimids[nn]:
 *                          dimensions.append(key)
 */
        __pyx_5 = PyObject_GetAttr(__pyx_v_group, __pyx_n_dimensions); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 650; goto __pyx_L1;}
        __pyx_7 = PyObject_GetAttr(__pyx_5, __pyx_n_iteritems); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 650; goto __pyx_L1;}
        Py_DECREF(__pyx_5); __pyx_5 = 0;
        __pyx_6 = PyObject_CallObject(__pyx_7, 0); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 650; goto __pyx_L1;}
        Py_DECREF(__pyx_7); __pyx_7 = 0;
        if (PyList_CheckExact(__pyx_6)) { __pyx_8 = 0; __pyx_4 = __pyx_6; Py_INCREF(__pyx_4); }
        else { __pyx_4 = PyObject_GetIter(__pyx_6); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 650; goto __pyx_L1;} }
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        for (;;) {

          /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":650
 *              dimensions = []
 *              for nn from 0 <= nn < numdims:
 *                  for key, value in group.dimensions.iteritems():             # <<<<<<<<<<<<<< 
 *                      if value._dimid == dimids[nn]:
 *                          dimensions.append(key)
 */
          if (PyList_CheckExact(__pyx_4)) { if (__pyx_8 >= PyList_GET_SIZE(__pyx_4)) break; __pyx_1 = PyList_GET_ITEM(__pyx_4, __pyx_8++); Py_INCREF(__pyx_1); }
          else {
            __pyx_1 = PyIter_Next(__pyx_4);
            if (!__pyx_1) {
              break;
            }
          }
          if (PyTuple_CheckExact(__pyx_1) && PyTuple_GET_SIZE(__pyx_1) == 2) {
            __pyx_7 = PyTuple_GET_ITEM(__pyx_1, 0);
            Py_INCREF(__pyx_7);

            /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":650
 *              dimensions = []
 *              for nn from 0 <= nn < numdims:
 *                  for key, value in group.dimensions.iteritems():             # <<<<<<<<<<<<<< 
 *                      if value._dimid == dimids[nn]:
 *                          dimensions.append(key)
 */
            Py_DECREF(__pyx_v_key);
            __pyx_v_key = __pyx_7;
            __pyx_7 = 0;
            __pyx_6 = PyTuple_GET_ITEM(__pyx_1, 1);
            Py_INCREF(__pyx_6);

            /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":650
 *              dimensions = []
 *              for nn from 0 <= nn < numdims:
 *                  for key, value in group.dimensions.iteritems():             # <<<<<<<<<<<<<< 
 *                      if value._dimid == dimids[nn]:
 *                          dimensions.append(key)
 */
            Py_DECREF(__pyx_v_value);
            __pyx_v_value = __pyx_6;
            __pyx_6 = 0;
            Py_DECREF(__pyx_1); __pyx_1 = 0;
          }
          else {
            __pyx_5 = PyObject_GetIter(__pyx_1); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 650; goto __pyx_L1;}
            Py_DECREF(__pyx_1); __pyx_1 = 0;
            __pyx_7 = __Pyx_UnpackItem(__pyx_5); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 650; goto __pyx_L1;}

            /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":650
 *              dimensions = []
 *              for nn from 0 <= nn < numdims:
 *                  for key, value in group.dimensions.iteritems():             # <<<<<<<<<<<<<< 
 *                      if value._dimid == dimids[nn]:
 *                          dimensions.append(key)
 */
            Py_DECREF(__pyx_v_key);
            __pyx_v_key = __pyx_7;
            __pyx_7 = 0;
            __pyx_6 = __Pyx_UnpackItem(__pyx_5); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 650; goto __pyx_L1;}

            /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":650
 *              dimensions = []
 *              for nn from 0 <= nn < numdims:
 *                  for key, value in group.dimensions.iteritems():             # <<<<<<<<<<<<<< 
 *                      if value._dimid == dimids[nn]:
 *                          dimensions.append(key)
 */
            Py_DECREF(__pyx_v_value);
            __pyx_v_value = __pyx_6;
            __pyx_6 = 0;
            if (__Pyx_EndUnpack(__pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 650; goto __pyx_L1;}
            Py_DECREF(__pyx_5); __pyx_5 = 0;
          }

          /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":651
 *              for nn from 0 <= nn < numdims:
 *                  for key, value in group.dimensions.iteritems():
 *                      if value._dimid == dimids[nn]:             # <<<<<<<<<<<<<< 
 *                          dimensions.append(key)
 *                          found = True
 */
          __pyx_7 = PyObject_GetAttr(__pyx_v_value, __pyx_n__dimid); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 651; goto __pyx_L1;}

          /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":651
 *              for nn from 0 <= nn < numdims:
 *                  for key, value in group.dimensions.iteritems():
 *                      if value._dimid == dimids[nn]:             # <<<<<<<<<<<<<< 
 *                          dimensions.append(key)
 *                          found = True
 */
          __pyx_6 = PyInt_FromLong((__pyx_v_dimids[__pyx_v_nn])); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 651; goto __pyx_L1;}
          __pyx_1 = PyObject_RichCompare(__pyx_7, __pyx_6, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 651; goto __pyx_L1;}
          Py_DECREF(__pyx_7); __pyx_7 = 0;
          Py_DECREF(__pyx_6); __pyx_6 = 0;
          __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 651; goto __pyx_L1;}
          Py_DECREF(__pyx_1); __pyx_1 = 0;
          if (__pyx_3) {

            /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":652
 *                  for key, value in group.dimensions.iteritems():
 *                      if value._dimid == dimids[nn]:
 *                          dimensions.append(key)             # <<<<<<<<<<<<<< 
 *                          found = True
 *                          break
 */
            __pyx_5 = PyObject_GetAttr(__pyx_v_dimensions, __pyx_n_append); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 652; goto __pyx_L1;}

            /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":652
 *                  for key, value in group.dimensions.iteritems():
 *                      if value._dimid == dimids[nn]:
 *                          dimensions.append(key)             # <<<<<<<<<<<<<< 
 *                          found = True
 *                          break
 */
            __pyx_7 = PyTuple_New(1); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 652; goto __pyx_L1;}
            Py_INCREF(__pyx_v_key);
            PyTuple_SET_ITEM(__pyx_7, 0, __pyx_v_key);
            __pyx_6 = PyObject_CallObject(__pyx_5, __pyx_7); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 652; goto __pyx_L1;}
            Py_DECREF(__pyx_5); __pyx_5 = 0;
            Py_DECREF(__pyx_7); __pyx_7 = 0;
            Py_DECREF(__pyx_6); __pyx_6 = 0;

            /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":653
 *                      if value._dimid == dimids[nn]:
 *                          dimensions.append(key)
 *                          found = True             # <<<<<<<<<<<<<< 
 *                          break
 *              # create new variable instance.
 */
            Py_INCREF(Py_True);
            Py_DECREF(__pyx_v_found);
            __pyx_v_found = Py_True;

            /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":654
 *                          dimensions.append(key)
 *                          found = True
 *                          break             # <<<<<<<<<<<<<< 
 *              # create new variable instance.
 *              variables[name] = Variable(group, name, datatype, dimensions, id=varid)
 */
            goto __pyx_L15;
            goto __pyx_L16;
          }
          __pyx_L16:;
        }
        __pyx_L15:;
        Py_DECREF(__pyx_4); __pyx_4 = 0;
      }

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":656
 *                          break
 *              # create new variable instance.
 *              variables[name] = Variable(group, name, datatype, dimensions, id=varid)             # <<<<<<<<<<<<<< 
 *     return variables
 * 
 */
      __pyx_1 = PyTuple_New(4); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 656; goto __pyx_L1;}
      Py_INCREF(__pyx_v_group);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_group);
      Py_INCREF(__pyx_v_name);
      PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_name);
      Py_INCREF(__pyx_v_datatype);
      PyTuple_SET_ITEM(__pyx_1, 2, __pyx_v_datatype);
      Py_INCREF(__pyx_v_dimensions);
      PyTuple_SET_ITEM(__pyx_1, 3, __pyx_v_dimensions);
      __pyx_5 = PyDict_New(); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 656; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":656
 *                          break
 *              # create new variable instance.
 *              variables[name] = Variable(group, name, datatype, dimensions, id=varid)             # <<<<<<<<<<<<<< 
 *     return variables
 * 
 */
      __pyx_7 = PyInt_FromLong(__pyx_v_varid); if (unlikely(!__pyx_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 656; goto __pyx_L1;}
      if (PyDict_SetItem(__pyx_5, __pyx_n_id, __pyx_7) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 656; goto __pyx_L1;}
      Py_DECREF(__pyx_7); __pyx_7 = 0;
      __pyx_6 = PyEval_CallObjectWithKeywords(((PyObject*)__pyx_ptype_7netCDF3_Variable), __pyx_1, __pyx_5); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 656; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_5); __pyx_5 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":656
 *                          break
 *              # create new variable instance.
 *              variables[name] = Variable(group, name, datatype, dimensions, id=varid)             # <<<<<<<<<<<<<< 
 *     return variables
 * 
 */
      if (PyObject_SetItem(__pyx_v_variables, __pyx_v_name, __pyx_6) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 656; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_L4:;
    }
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":657
 *              # create new variable instance.
 *              variables[name] = Variable(group, name, datatype, dimensions, id=varid)
 *     return variables             # <<<<<<<<<<<<<< 
 * 
 * # these are class attributes that 
 */
  Py_INCREF(__pyx_v_variables);
  __pyx_r = __pyx_v_variables;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  Py_XDECREF(__pyx_7);
  __Pyx_AddTraceback("netCDF3._get_vars");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_variables);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_datatype);
  Py_DECREF(__pyx_v_dimensions);
  Py_DECREF(__pyx_v_key);
  Py_DECREF(__pyx_v_value);
  Py_DECREF(__pyx_v_found);
  Py_DECREF(__pyx_v_group);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":726
 *     cdef public dimensions, variables, file_format, maskanscale
 * 
 *     def __init__(self, filename, mode='r', clobber=True, format='NETCDF3_64BIT', **kwargs):             # <<<<<<<<<<<<<< 
 *         cdef int grpid, ierr, numgrps, numdims, numvars
 *         cdef char *path
 */

static PyObject *__pyx_n_w;
static PyObject *__pyx_n__set_default_format;
static PyObject *__pyx_n_format;
static PyObject *__pyx_n_a;

static PyObject *__pyx_k85p;
static PyObject *__pyx_k87p;

static char __pyx_k85[] = "r+";
static char __pyx_k87[] = "mode must be 'w', 'r', 'a' or 'r+', got '%s'";

static int __pyx_pf_7netCDF3_7Dataset___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_7netCDF3_7Dataset___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_filename = 0;
  PyObject *__pyx_v_mode = 0;
  PyObject *__pyx_v_clobber = 0;
  PyObject *__pyx_v_format = 0;
  PyObject *__pyx_v_kwargs = 0;
  int __pyx_v_grpid;
  int __pyx_v_ierr;
  char *__pyx_v_path;
  int __pyx_r;
  char *__pyx_1;
  PyObject *__pyx_2 = 0;
  int __pyx_3;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  static char *__pyx_argnames[] = {"filename","mode","clobber","format",0};
  __pyx_v_mode = __pyx_k46;
  __pyx_v_clobber = __pyx_k47;
  __pyx_v_format = __pyx_k49;
  if (__Pyx_GetStarArgs(&__pyx_args, &__pyx_kwds, __pyx_argnames, 4, 0, &__pyx_v_kwargs, 0) < 0) return -1;
  if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|OOO", __pyx_argnames, &__pyx_v_filename, &__pyx_v_mode, &__pyx_v_clobber, &__pyx_v_format))) {
    Py_XDECREF(__pyx_args);
    Py_XDECREF(__pyx_kwds);
    Py_XDECREF(__pyx_v_kwargs);
    return -1;
  }
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_filename);
  Py_INCREF(__pyx_v_mode);
  Py_INCREF(__pyx_v_clobber);
  Py_INCREF(__pyx_v_format);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":731
 *         cdef int *grpids, *dimids
 *         cdef char namstring[NC_MAX_NAME+1]
 *         path = filename             # <<<<<<<<<<<<<< 
 *         if mode == 'w':
 *             _set_default_format(format=format)
 */
  __pyx_1 = PyString_AsString(__pyx_v_filename); if (unlikely((!__pyx_1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 731; goto __pyx_L1;}
  __pyx_v_path = __pyx_1;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":732
 *         cdef char namstring[NC_MAX_NAME+1]
 *         path = filename
 *         if mode == 'w':             # <<<<<<<<<<<<<< 
 *             _set_default_format(format=format)
 *             if clobber:
 */
  __pyx_2 = PyObject_RichCompare(__pyx_v_mode, __pyx_n_w, Py_EQ); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 732; goto __pyx_L1;}
  __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 732; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_3) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":733
 *         path = filename
 *         if mode == 'w':
 *             _set_default_format(format=format)             # <<<<<<<<<<<<<< 
 *             if clobber:
 *                 ierr = nc_create(path, NC_CLOBBER, &grpid)
 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n__set_default_format); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 733; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":733
 *         path = filename
 *         if mode == 'w':
 *             _set_default_format(format=format)             # <<<<<<<<<<<<<< 
 *             if clobber:
 *                 ierr = nc_create(path, NC_CLOBBER, &grpid)
 */
    __pyx_4 = PyTuple_New(0); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 733; goto __pyx_L1;}
    __pyx_5 = PyDict_New(); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 733; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":733
 *         path = filename
 *         if mode == 'w':
 *             _set_default_format(format=format)             # <<<<<<<<<<<<<< 
 *             if clobber:
 *                 ierr = nc_create(path, NC_CLOBBER, &grpid)
 */
    if (PyDict_SetItem(__pyx_5, __pyx_n_format, __pyx_v_format) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 733; goto __pyx_L1;}
    __pyx_6 = PyEval_CallObjectWithKeywords(__pyx_2, __pyx_4, __pyx_5); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 733; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_6); __pyx_6 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":734
 *         if mode == 'w':
 *             _set_default_format(format=format)
 *             if clobber:             # <<<<<<<<<<<<<< 
 *                 ierr = nc_create(path, NC_CLOBBER, &grpid)
 *             else:
 */
    __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_v_clobber); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 734; goto __pyx_L1;}
    if (__pyx_3) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":735
 *             _set_default_format(format=format)
 *             if clobber:
 *                 ierr = nc_create(path, NC_CLOBBER, &grpid)             # <<<<<<<<<<<<<< 
 *             else:
 *                 ierr = nc_create(path, NC_NOCLOBBER, &grpid)
 */
      __pyx_v_ierr = nc_create(__pyx_v_path,NC_CLOBBER,(&__pyx_v_grpid));
      goto __pyx_L3;
    }
    /*else*/ {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":737
 *                 ierr = nc_create(path, NC_CLOBBER, &grpid)
 *             else:
 *                 ierr = nc_create(path, NC_NOCLOBBER, &grpid)             # <<<<<<<<<<<<<< 
 *             # initialize group dict.
 *         elif mode == 'r':
 */
      __pyx_v_ierr = nc_create(__pyx_v_path,NC_NOCLOBBER,(&__pyx_v_grpid));
    }
    __pyx_L3:;
    goto __pyx_L2;
  }

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":739
 *                 ierr = nc_create(path, NC_NOCLOBBER, &grpid)
 *             # initialize group dict.
 *         elif mode == 'r':             # <<<<<<<<<<<<<< 
 *             ierr = nc_open(path, NC_NOWRITE, &grpid)
 *         elif mode == 'r+' or mode == 'a':
 */
  __pyx_2 = PyObject_RichCompare(__pyx_v_mode, __pyx_n_r, Py_EQ); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 739; goto __pyx_L1;}
  __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 739; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_3) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":740
 *             # initialize group dict.
 *         elif mode == 'r':
 *             ierr = nc_open(path, NC_NOWRITE, &grpid)             # <<<<<<<<<<<<<< 
 *         elif mode == 'r+' or mode == 'a':
 *             ierr = nc_open(path, NC_WRITE, &grpid)
 */
    __pyx_v_ierr = nc_open(__pyx_v_path,NC_NOWRITE,(&__pyx_v_grpid));
    goto __pyx_L2;
  }

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":741
 *         elif mode == 'r':
 *             ierr = nc_open(path, NC_NOWRITE, &grpid)
 *         elif mode == 'r+' or mode == 'a':             # <<<<<<<<<<<<<< 
 *             ierr = nc_open(path, NC_WRITE, &grpid)
 *         else:
 */
  __pyx_4 = PyObject_RichCompare(__pyx_v_mode, __pyx_k85p, Py_EQ); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 741; goto __pyx_L1;}
  __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_4); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 741; goto __pyx_L1;}
  if (!__pyx_3) {
    Py_DECREF(__pyx_4); __pyx_4 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":741
 *         elif mode == 'r':
 *             ierr = nc_open(path, NC_NOWRITE, &grpid)
 *         elif mode == 'r+' or mode == 'a':             # <<<<<<<<<<<<<< 
 *             ierr = nc_open(path, NC_WRITE, &grpid)
 *         else:
 */
    __pyx_4 = PyObject_RichCompare(__pyx_v_mode, __pyx_n_a, Py_EQ); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 741; goto __pyx_L1;}
  }
  __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_4); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 741; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (__pyx_3) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":742
 *             ierr = nc_open(path, NC_NOWRITE, &grpid)
 *         elif mode == 'r+' or mode == 'a':
 *             ierr = nc_open(path, NC_WRITE, &grpid)             # <<<<<<<<<<<<<< 
 *         else:
 *             raise ValueError("mode must be 'w', 'r', 'a' or 'r+', got '%s'" % mode)
 */
    __pyx_v_ierr = nc_open(__pyx_v_path,NC_WRITE,(&__pyx_v_grpid));
    goto __pyx_L2;
  }
  /*else*/ {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":744
 *             ierr = nc_open(path, NC_WRITE, &grpid)
 *         else:
 *             raise ValueError("mode must be 'w', 'r', 'a' or 'r+', got '%s'" % mode)             # <<<<<<<<<<<<<< 
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_5 = PyNumber_Remainder(__pyx_k87p, __pyx_v_mode); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 744; goto __pyx_L1;}
    __pyx_6 = PyTuple_New(1); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 744; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_6, 0, __pyx_5);
    __pyx_5 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_builtin_ValueError, __pyx_6); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 744; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 744; goto __pyx_L1;}
  }
  __pyx_L2:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":745
 *         else:
 *             raise ValueError("mode must be 'w', 'r', 'a' or 'r+', got '%s'" % mode)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *             raise RuntimeError(nc_strerror(ierr))
 *         # file format attribute.
 */
  __pyx_3 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_3) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":746
 *             raise ValueError("mode must be 'w', 'r', 'a' or 'r+', got '%s'" % mode)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *         # file format attribute.
 *         self.file_format = _get_format(grpid)
 */
    __pyx_4 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 746; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(1); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 746; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_4);
    __pyx_4 = 0;
    __pyx_6 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_5); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 746; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __Pyx_Raise(__pyx_6, 0, 0);
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 746; goto __pyx_L1;}
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":748
 *             raise RuntimeError(nc_strerror(ierr))
 *         # file format attribute.
 *         self.file_format = _get_format(grpid)             # <<<<<<<<<<<<<< 
 *         self._grpid = grpid
 *         # get dimensions in the root group.
 */
  __pyx_2 = __pyx_f_7netCDF3__get_format(__pyx_v_grpid); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 748; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":748
 *             raise RuntimeError(nc_strerror(ierr))
 *         # file format attribute.
 *         self.file_format = _get_format(grpid)             # <<<<<<<<<<<<<< 
 *         self._grpid = grpid
 *         # get dimensions in the root group.
 */
  Py_DECREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->file_format);
  ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->file_format = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":749
 *         # file format attribute.
 *         self.file_format = _get_format(grpid)
 *         self._grpid = grpid             # <<<<<<<<<<<<<< 
 *         # get dimensions in the root group.
 *         self.dimensions = _get_dims(self)
 */
  ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid = __pyx_v_grpid;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":751
 *         self._grpid = grpid
 *         # get dimensions in the root group.
 *         self.dimensions = _get_dims(self)             # <<<<<<<<<<<<<< 
 *         # get variables in the Dataset.
 *         self.variables = _get_vars(self)
 */
  __pyx_4 = __pyx_f_7netCDF3__get_dims(__pyx_v_self); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 751; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":751
 *         self._grpid = grpid
 *         # get dimensions in the root group.
 *         self.dimensions = _get_dims(self)             # <<<<<<<<<<<<<< 
 *         # get variables in the Dataset.
 *         self.variables = _get_vars(self)
 */
  Py_DECREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions);
  ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions = __pyx_4;
  __pyx_4 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":753
 *         self.dimensions = _get_dims(self)
 *         # get variables in the Dataset.
 *         self.variables = _get_vars(self)             # <<<<<<<<<<<<<< 
 * 
 *     def close(self):
 */
  __pyx_5 = __pyx_f_7netCDF3__get_vars(__pyx_v_self); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 753; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":753
 *         self.dimensions = _get_dims(self)
 *         # get variables in the Dataset.
 *         self.variables = _get_vars(self)             # <<<<<<<<<<<<<< 
 * 
 *     def close(self):
 */
  Py_DECREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables);
  ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables = __pyx_5;
  __pyx_5 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("netCDF3.Dataset.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_XDECREF(__pyx_v_kwargs);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_filename);
  Py_DECREF(__pyx_v_mode);
  Py_DECREF(__pyx_v_clobber);
  Py_DECREF(__pyx_v_format);
  Py_XDECREF(__pyx_args);
  Py_XDECREF(__pyx_kwds);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":755
 *         self.variables = _get_vars(self)
 * 
 *     def close(self):             # <<<<<<<<<<<<<< 
 *         """
 * close(self)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset_close(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_close[] = "\nclose(self)\n\nClose the Dataset.";
static PyObject *__pyx_pf_7netCDF3_7Dataset_close(PyObject *__pyx_v_self, PyObject *unused) {
  int __pyx_v_ierr;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":761
 * Close the Dataset."""
 *         cdef int ierr 
 *         ierr = nc_close(self._grpid)             # <<<<<<<<<<<<<< 
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_close(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":762
 *         cdef int ierr 
 *         ierr = nc_close(self._grpid)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 */
  __pyx_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_1) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":763
 *         ierr = nc_close(self._grpid)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 * 
 *     def sync(self):
 */
    __pyx_2 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 763; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 763; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 763; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 763; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF3.Dataset.close");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":765
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 *     def sync(self):             # <<<<<<<<<<<<<< 
 *         """
 * sync(self)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset_sync(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_sync[] = "\nsync(self)\n\nWrites all buffered data in the L{Dataset} to the disk file.";
static PyObject *__pyx_pf_7netCDF3_7Dataset_sync(PyObject *__pyx_v_self, PyObject *unused) {
  int __pyx_v_ierr;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":771
 * Writes all buffered data in the L{Dataset} to the disk file."""
 *         cdef int ierr
 *         ierr = nc_sync(self._grpid)             # <<<<<<<<<<<<<< 
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_sync(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":772
 *         cdef int ierr
 *         ierr = nc_sync(self._grpid)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 */
  __pyx_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_1) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":773
 *         ierr = nc_sync(self._grpid)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 * 
 *     def _redef(self):
 */
    __pyx_2 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 773; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 773; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 773; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 773; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF3.Dataset.sync");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":775
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 *     def _redef(self):             # <<<<<<<<<<<<<< 
 *         cdef int ierr
 *         ierr = nc_redef(self._grpid)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset__redef(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static PyObject *__pyx_pf_7netCDF3_7Dataset__redef(PyObject *__pyx_v_self, PyObject *unused) {
  int __pyx_v_ierr;
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":777
 *     def _redef(self):
 *         cdef int ierr
 *         ierr = nc_redef(self._grpid)             # <<<<<<<<<<<<<< 
 * 
 *     def _enddef(self):
 */
  __pyx_v_ierr = nc_redef(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid);

  __pyx_r = Py_None; Py_INCREF(Py_None);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":779
 *         ierr = nc_redef(self._grpid)
 * 
 *     def _enddef(self):             # <<<<<<<<<<<<<< 
 *         cdef int ierr
 *         ierr = nc_enddef(self._grpid)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset__enddef(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static PyObject *__pyx_pf_7netCDF3_7Dataset__enddef(PyObject *__pyx_v_self, PyObject *unused) {
  int __pyx_v_ierr;
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":781
 *     def _enddef(self):
 *         cdef int ierr
 *         ierr = nc_enddef(self._grpid)             # <<<<<<<<<<<<<< 
 * 
 *     def set_fill_on(self):
 */
  __pyx_v_ierr = nc_enddef(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid);

  __pyx_r = Py_None; Py_INCREF(Py_None);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":783
 *         ierr = nc_enddef(self._grpid)
 * 
 *     def set_fill_on(self):             # <<<<<<<<<<<<<< 
 *         """
 * set_fill_on(self)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset_set_fill_on(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_set_fill_on[] = "\nset_fill_on(self)\n\nSets the fill mode for a L{Dataset} open for writing to C{on}.\n\nThis causes data to be pre-filled with fill values. The fill values can be \ncontrolled by the variable\'s C{_Fill_Value} attribute, but is usually \nsufficient to the use the netCDF default C{_Fill_Value} (defined \nseparately for each variable type). The default behavior of the netCDF \nlibrary correspongs to C{set_fill_on}.  Data which are equal to the \nC{_Fill_Value} indicate that the variable was created, but never written \nto.";
static PyObject *__pyx_pf_7netCDF3_7Dataset_set_fill_on(PyObject *__pyx_v_self, PyObject *unused) {
  int __pyx_v_ierr;
  int __pyx_v_oldmode;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":797
 * to."""
 *         cdef int ierr, oldmode
 *         ierr = nc_set_fill (self._grpid, NC_FILL, &oldmode)             # <<<<<<<<<<<<<< 
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_set_fill(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid,NC_FILL,(&__pyx_v_oldmode));

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":798
 *         cdef int ierr, oldmode
 *         ierr = nc_set_fill (self._grpid, NC_FILL, &oldmode)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 */
  __pyx_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_1) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":799
 *         ierr = nc_set_fill (self._grpid, NC_FILL, &oldmode)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 * 
 *     def set_fill_off(self):
 */
    __pyx_2 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 799; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 799; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 799; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 799; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF3.Dataset.set_fill_on");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":801
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 *     def set_fill_off(self):             # <<<<<<<<<<<<<< 
 *         """
 * set_fill_off(self)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset_set_fill_off(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_set_fill_off[] = "\nset_fill_off(self)\n\nSets the fill mode for a L{Dataset} open for writing to C{off}. \n\nThis will prevent the data from being pre-filled with fill values, which \nmay result in some performance improvements. However, you must then make \nsure the data is actually written before being read.";
static PyObject *__pyx_pf_7netCDF3_7Dataset_set_fill_off(PyObject *__pyx_v_self, PyObject *unused) {
  int __pyx_v_ierr;
  int __pyx_v_oldmode;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":811
 * sure the data is actually written before being read."""
 *         cdef int ierr, oldmode
 *         ierr = nc_set_fill (self._grpid, NC_NOFILL, &oldmode)             # <<<<<<<<<<<<<< 
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_set_fill(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid,NC_NOFILL,(&__pyx_v_oldmode));

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":812
 *         cdef int ierr, oldmode
 *         ierr = nc_set_fill (self._grpid, NC_NOFILL, &oldmode)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 */
  __pyx_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_1) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":813
 *         ierr = nc_set_fill (self._grpid, NC_NOFILL, &oldmode)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 * 
 *     def createDimension(self, dimname, size=None):
 */
    __pyx_2 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 813; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 813; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 813; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 813; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF3.Dataset.set_fill_off");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":815
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 *     def createDimension(self, dimname, size=None):             # <<<<<<<<<<<<<< 
 *         """
 * createDimension(self, dimname, size=None)
 */

static PyObject *__pyx_n_size;


static PyObject *__pyx_pf_7netCDF3_7Dataset_createDimension(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_createDimension[] = "\ncreateDimension(self, dimname, size=None)\n\nCreates a new dimension with the given C{dimname} and C{size}. \n\nC{size} must be a positive integer or C{None}, which stands for \n\"unlimited\" (default is C{None}). The return value is the L{Dimension} \nclass instance describing the new dimension.  To determine the current \nmaximum size of the dimension, use the C{len} function on the L{Dimension} \ninstance. To determine if a dimension is \'unlimited\', use the \nC{isunlimited()} method of the L{Dimension} instance.";
static PyObject *__pyx_pf_7netCDF3_7Dataset_createDimension(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_dimname = 0;
  PyObject *__pyx_v_size = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"dimname","size",0};
  __pyx_v_size = __pyx_k50;
  if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_dimname, &__pyx_v_size))) return NULL;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_dimname);
  Py_INCREF(__pyx_v_size);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":827
 * instance. To determine if a dimension is 'unlimited', use the 
 * C{isunlimited()} method of the L{Dimension} instance."""
 *         self.dimensions[dimname] = Dimension(self, dimname, size=size)             # <<<<<<<<<<<<<< 
 *         return self.dimensions[dimname]
 * 
 */
  __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 827; goto __pyx_L1;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_self);
  Py_INCREF(__pyx_v_dimname);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_dimname);
  __pyx_2 = PyDict_New(); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 827; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":827
 * instance. To determine if a dimension is 'unlimited', use the 
 * C{isunlimited()} method of the L{Dimension} instance."""
 *         self.dimensions[dimname] = Dimension(self, dimname, size=size)             # <<<<<<<<<<<<<< 
 *         return self.dimensions[dimname]
 * 
 */
  if (PyDict_SetItem(__pyx_2, __pyx_n_size, __pyx_v_size) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 827; goto __pyx_L1;}
  __pyx_3 = PyEval_CallObjectWithKeywords(((PyObject*)__pyx_ptype_7netCDF3_Dimension), __pyx_1, __pyx_2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 827; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":827
 * instance. To determine if a dimension is 'unlimited', use the 
 * C{isunlimited()} method of the L{Dimension} instance."""
 *         self.dimensions[dimname] = Dimension(self, dimname, size=size)             # <<<<<<<<<<<<<< 
 *         return self.dimensions[dimname]
 * 
 */
  if (PyObject_SetItem(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions, __pyx_v_dimname, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 827; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":828
 * C{isunlimited()} method of the L{Dimension} instance."""
 *         self.dimensions[dimname] = Dimension(self, dimname, size=size)
 *         return self.dimensions[dimname]             # <<<<<<<<<<<<<< 
 * 
 *     def renameDimension(self, oldname, newname):
 */
  __pyx_1 = PyObject_GetItem(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions, __pyx_v_dimname); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 828; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF3.Dataset.createDimension");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_dimname);
  Py_DECREF(__pyx_v_size);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":830
 *         return self.dimensions[dimname]
 * 
 *     def renameDimension(self, oldname, newname):             # <<<<<<<<<<<<<< 
 *         """
 * renameDimension(self, oldname, newname)
 */

static PyObject *__pyx_n_pop;

static PyObject *__pyx_pf_7netCDF3_7Dataset_renameDimension(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_renameDimension[] = "\nrenameDimension(self, oldname, newname)\n\nrename a L{Dimension} named C{oldname} to C{newname}.";
static PyObject *__pyx_pf_7netCDF3_7Dataset_renameDimension(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_oldname = 0;
  PyObject *__pyx_v_newname = 0;
  char *__pyx_v_namstring;
  PyObject *__pyx_v_dim;
  PyObject *__pyx_v_ierr;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  int __pyx_3;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"oldname","newname",0};
  if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_oldname, &__pyx_v_newname))) return NULL;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_oldname);
  Py_INCREF(__pyx_v_newname);
  __pyx_v_dim = Py_None; Py_INCREF(Py_None);
  __pyx_v_ierr = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":836
 * rename a L{Dimension} named C{oldname} to C{newname}."""
 *         cdef char *namstring
 *         dim = self.dimensions[oldname]             # <<<<<<<<<<<<<< 
 *         namstring = PyString_AsString(newname)
 *         self._redef()
 */
  __pyx_1 = PyObject_GetItem(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions, __pyx_v_oldname); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 836; goto __pyx_L1;}
  Py_DECREF(__pyx_v_dim);
  __pyx_v_dim = __pyx_1;
  __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":837
 *         cdef char *namstring
 *         dim = self.dimensions[oldname]
 *         namstring = PyString_AsString(newname)             # <<<<<<<<<<<<<< 
 *         self._redef()
 *         ierr = nc_rename_dim(self._grpid, dim._dimid, namstring)
 */
  __pyx_v_namstring = PyString_AsString(__pyx_v_newname);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":838
 *         dim = self.dimensions[oldname]
 *         namstring = PyString_AsString(newname)
 *         self._redef()             # <<<<<<<<<<<<<< 
 *         ierr = nc_rename_dim(self._grpid, dim._dimid, namstring)
 *         self._enddef()
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n__redef); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 838; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(__pyx_1, 0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 838; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":839
 *         namstring = PyString_AsString(newname)
 *         self._redef()
 *         ierr = nc_rename_dim(self._grpid, dim._dimid, namstring)             # <<<<<<<<<<<<<< 
 *         self._enddef()
 *         if ierr != NC_NOERR:
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_dim, __pyx_n__dimid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 839; goto __pyx_L1;}
  __pyx_3 = PyInt_AsLong(__pyx_1); if (unlikely((__pyx_3 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 839; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":839
 *         namstring = PyString_AsString(newname)
 *         self._redef()
 *         ierr = nc_rename_dim(self._grpid, dim._dimid, namstring)             # <<<<<<<<<<<<<< 
 *         self._enddef()
 *         if ierr != NC_NOERR:
 */
  __pyx_2 = PyInt_FromLong(nc_rename_dim(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid,__pyx_3,__pyx_v_namstring)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 839; goto __pyx_L1;}
  Py_DECREF(__pyx_v_ierr);
  __pyx_v_ierr = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":840
 *         self._redef()
 *         ierr = nc_rename_dim(self._grpid, dim._dimid, namstring)
 *         self._enddef()             # <<<<<<<<<<<<<< 
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n__enddef); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 840; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(__pyx_1, 0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 840; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":841
 *         ierr = nc_rename_dim(self._grpid, dim._dimid, namstring)
 *         self._enddef()
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *             raise RuntimeError(nc_strerror(ierr))
 *         # remove old key from dimensions dict.
 */
  __pyx_1 = PyInt_FromLong(NC_NOERR); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 841; goto __pyx_L1;}
  __pyx_2 = PyObject_RichCompare(__pyx_v_ierr, __pyx_1, Py_NE); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 841; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 841; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_4) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":842
 *         self._enddef()
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *         # remove old key from dimensions dict.
 *         self.dimensions.pop(oldname)
 */
    __pyx_3 = PyInt_AsLong(__pyx_v_ierr); if (unlikely((__pyx_3 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 842; goto __pyx_L1;}
    __pyx_1 = PyString_FromString(nc_strerror(__pyx_3)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 842; goto __pyx_L1;}
    __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 842; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 842; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 842; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":844
 *             raise RuntimeError(nc_strerror(ierr))
 *         # remove old key from dimensions dict.
 *         self.dimensions.pop(oldname)             # <<<<<<<<<<<<<< 
 *         # add new key.
 *         self.dimensions[newname] = dim
 */
  __pyx_2 = PyObject_GetAttr(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions, __pyx_n_pop); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 844; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":844
 *             raise RuntimeError(nc_strerror(ierr))
 *         # remove old key from dimensions dict.
 *         self.dimensions.pop(oldname)             # <<<<<<<<<<<<<< 
 *         # add new key.
 *         self.dimensions[newname] = dim
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 844; goto __pyx_L1;}
  Py_INCREF(__pyx_v_oldname);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_oldname);
  __pyx_5 = PyObject_CallObject(__pyx_2, __pyx_1); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 844; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":846
 *         self.dimensions.pop(oldname)
 *         # add new key.
 *         self.dimensions[newname] = dim             # <<<<<<<<<<<<<< 
 *         # Variable.dimensions is determined by a method that
 *         # looks in the file, so no need to manually update.
 */
  if (PyObject_SetItem(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions, __pyx_v_newname, __pyx_v_dim) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 846; goto __pyx_L1;}

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("netCDF3.Dataset.renameDimension");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_dim);
  Py_DECREF(__pyx_v_ierr);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_oldname);
  Py_DECREF(__pyx_v_newname);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":851
 * 
 * 
 *     def createVariable(self, varname, datatype, dimensions=(), fill_value=None):             # <<<<<<<<<<<<<< 
 *         """
 * createVariable(self, varname, datatype, dimensions=(), fill_value=None)
 */

static PyObject *__pyx_n_fill_value;


static PyObject *__pyx_pf_7netCDF3_7Dataset_createVariable(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_createVariable[] = "\ncreateVariable(self, varname, datatype, dimensions=(), fill_value=None)\n\nCreates a new variable with the given C{varname}, C{datatype}, and \nC{dimensions}. If dimensions are not given, the variable is assumed to be \na scalar.\n\nThe C{datatype} can be a numpy datatype object, or a string that describes \na numpy dtype object (like the C{dtype.str} attribue of a numpy array). \nSupported specifiers include: C{\'S1\' or \'c\' (NC_CHAR), \'i1\' or \'b\' or \'B\' \n(NC_BYTE), \'i2\' or \'h\' or \'s\' (NC_SHORT), \'u2\' \n(NC_USHORT), \'i4\' or \'i\' or \'l\' (NC_INT), \n\'f4\' or \'f\' (NC_FLOAT), \'f8\' or \'d\' (NC_DOUBLE)}.\n\nData from netCDF variables is presented to python as numpy arrays with\nthe corresponding data type. \n\nC{dimensions} must be a tuple containing dimension names (strings) that \nhave been defined previously using C{createDimension}. The default value \nis an empty tuple, which means the variable is a scalar.\n\nThe optional keyword C{fill_value} can be used to override the default \nnetCDF C{_FillValue} (the value that the variable gets filled with before \nany data is written to it).\n\nThe return value is the L{Variable} class instance describing the new \nvariable.\n\nA list of names corresponding to netCDF variable attributes can be \nobtained with the L{Variable} method C{ncattrs()}. A dictionary\ncontaining all the netCDF attribute name/value pairs is provided by\nthe C{__dict__} attribute of a L{Variable} instance.\n\nL{Variable} instances behave much like array objects. Data can be\nassigned to or retrieved from a variable with indexing and slicing\noperations on the L{Variable} instance. A L{Variable} instance has five\nstandard attributes: C{dimensions, dtype, shape, ndim} and\nC{least_significant_digit}. Application programs should never modify\nthese attributes. The C{dimensions} attribute is a tuple containing the\nnames of the dimensions associated with this variable. The C{dtype}\nattribute is a string describing the variable\'s data type (C{i4, f8,\nS1,} etc). The C{shape} attribute is a tuple describing the current\nsizes of all the variable\'s dimensions.  The C{ndim} attribute\nis the number of variable dimensions.";
static PyObject *__pyx_pf_7netCDF3_7Dataset_createVariable(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_varname = 0;
  PyObject *__pyx_v_datatype = 0;
  PyObject *__pyx_v_dimensions = 0;
  PyObject *__pyx_v_fill_value = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"varname","datatype","dimensions","fill_value",0};
  __pyx_v_dimensions = __pyx_k51;
  __pyx_v_fill_value = __pyx_k52;
  if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO|OO", __pyx_argnames, &__pyx_v_varname, &__pyx_v_datatype, &__pyx_v_dimensions, &__pyx_v_fill_value))) return NULL;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_varname);
  Py_INCREF(__pyx_v_datatype);
  Py_INCREF(__pyx_v_dimensions);
  Py_INCREF(__pyx_v_fill_value);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":896
 * sizes of all the variable's dimensions.  The C{ndim} attribute
 * is the number of variable dimensions."""
 *         self.variables[varname] = Variable(self, varname, datatype, dimensions=dimensions, fill_value=fill_value)             # <<<<<<<<<<<<<< 
 *         return self.variables[varname]
 * 
 */
  __pyx_1 = PyTuple_New(3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 896; goto __pyx_L1;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_self);
  Py_INCREF(__pyx_v_varname);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_varname);
  Py_INCREF(__pyx_v_datatype);
  PyTuple_SET_ITEM(__pyx_1, 2, __pyx_v_datatype);
  __pyx_2 = PyDict_New(); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 896; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":896
 * sizes of all the variable's dimensions.  The C{ndim} attribute
 * is the number of variable dimensions."""
 *         self.variables[varname] = Variable(self, varname, datatype, dimensions=dimensions, fill_value=fill_value)             # <<<<<<<<<<<<<< 
 *         return self.variables[varname]
 * 
 */
  if (PyDict_SetItem(__pyx_2, __pyx_n_dimensions, __pyx_v_dimensions) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 896; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":896
 * sizes of all the variable's dimensions.  The C{ndim} attribute
 * is the number of variable dimensions."""
 *         self.variables[varname] = Variable(self, varname, datatype, dimensions=dimensions, fill_value=fill_value)             # <<<<<<<<<<<<<< 
 *         return self.variables[varname]
 * 
 */
  if (PyDict_SetItem(__pyx_2, __pyx_n_fill_value, __pyx_v_fill_value) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 896; goto __pyx_L1;}
  __pyx_3 = PyEval_CallObjectWithKeywords(((PyObject*)__pyx_ptype_7netCDF3_Variable), __pyx_1, __pyx_2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 896; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":896
 * sizes of all the variable's dimensions.  The C{ndim} attribute
 * is the number of variable dimensions."""
 *         self.variables[varname] = Variable(self, varname, datatype, dimensions=dimensions, fill_value=fill_value)             # <<<<<<<<<<<<<< 
 *         return self.variables[varname]
 * 
 */
  if (PyObject_SetItem(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables, __pyx_v_varname, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 896; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":897
 * is the number of variable dimensions."""
 *         self.variables[varname] = Variable(self, varname, datatype, dimensions=dimensions, fill_value=fill_value)
 *         return self.variables[varname]             # <<<<<<<<<<<<<< 
 * 
 *     def renameVariable(self, oldname, newname):
 */
  __pyx_1 = PyObject_GetItem(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables, __pyx_v_varname); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 897; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF3.Dataset.createVariable");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_varname);
  Py_DECREF(__pyx_v_datatype);
  Py_DECREF(__pyx_v_dimensions);
  Py_DECREF(__pyx_v_fill_value);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":899
 *         return self.variables[varname]
 * 
 *     def renameVariable(self, oldname, newname):             # <<<<<<<<<<<<<< 
 *         """
 * renameVariable(self, oldname, newname)
 */

static PyObject *__pyx_k91p;

static char __pyx_k91[] = "%s not a valid variable name";

static PyObject *__pyx_pf_7netCDF3_7Dataset_renameVariable(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_renameVariable[] = "\nrenameVariable(self, oldname, newname)\n\nrename a L{Variable} named C{oldname} to C{newname}";
static PyObject *__pyx_pf_7netCDF3_7Dataset_renameVariable(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_oldname = 0;
  PyObject *__pyx_v_newname = 0;
  char *__pyx_v_namstring;
  PyObject *__pyx_v_var;
  PyObject *__pyx_v_ierr;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  int __pyx_6;
  int __pyx_7;
  static char *__pyx_argnames[] = {"oldname","newname",0};
  if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_oldname, &__pyx_v_newname))) return NULL;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_oldname);
  Py_INCREF(__pyx_v_newname);
  __pyx_v_var = Py_None; Py_INCREF(Py_None);
  __pyx_v_ierr = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":905
 * rename a L{Variable} named C{oldname} to C{newname}"""
 *         cdef char *namstring
 *         try:             # <<<<<<<<<<<<<< 
 *             var = self.variables[oldname]
 *         except:
 */
  /*try:*/ {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":906
 *         cdef char *namstring
 *         try:
 *             var = self.variables[oldname]             # <<<<<<<<<<<<<< 
 *         except:
 *             raise KeyError('%s not a valid variable name' % oldname)
 */
    __pyx_1 = PyObject_GetItem(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables, __pyx_v_oldname); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 906; goto __pyx_L2;}
    Py_DECREF(__pyx_v_var);
    __pyx_v_var = __pyx_1;
    __pyx_1 = 0;
  }
  goto __pyx_L3;
  __pyx_L2:;
  Py_XDECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":907
 *         try:
 *             var = self.variables[oldname]
 *         except:             # <<<<<<<<<<<<<< 
 *             raise KeyError('%s not a valid variable name' % oldname)
 *         namstring = PyString_AsString(newname)
 */
  /*except:*/ {
    __Pyx_AddTraceback("netCDF3.renameVariable");
    if (__Pyx_GetException(&__pyx_1, &__pyx_2, &__pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 907; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":908
 *             var = self.variables[oldname]
 *         except:
 *             raise KeyError('%s not a valid variable name' % oldname)             # <<<<<<<<<<<<<< 
 *         namstring = PyString_AsString(newname)
 *         ierr = nc_rename_var(self._grpid, var._varid, namstring)
 */
    __pyx_4 = PyNumber_Remainder(__pyx_k91p, __pyx_v_oldname); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 908; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(1); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 908; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_4);
    __pyx_4 = 0;
    __pyx_4 = PyObject_CallObject(__pyx_builtin_KeyError, __pyx_5); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 908; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __Pyx_Raise(__pyx_4, 0, 0);
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 908; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":909
 *         except:
 *             raise KeyError('%s not a valid variable name' % oldname)
 *         namstring = PyString_AsString(newname)             # <<<<<<<<<<<<<< 
 *         ierr = nc_rename_var(self._grpid, var._varid, namstring)
 *         if ierr != NC_NOERR:
 */
  __pyx_v_namstring = PyString_AsString(__pyx_v_newname);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":910
 *             raise KeyError('%s not a valid variable name' % oldname)
 *         namstring = PyString_AsString(newname)
 *         ierr = nc_rename_var(self._grpid, var._varid, namstring)             # <<<<<<<<<<<<<< 
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_5 = PyObject_GetAttr(__pyx_v_var, __pyx_n__varid); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 910; goto __pyx_L1;}
  __pyx_6 = PyInt_AsLong(__pyx_5); if (unlikely((__pyx_6 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 910; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":910
 *             raise KeyError('%s not a valid variable name' % oldname)
 *         namstring = PyString_AsString(newname)
 *         ierr = nc_rename_var(self._grpid, var._varid, namstring)             # <<<<<<<<<<<<<< 
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_4 = PyInt_FromLong(nc_rename_var(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid,__pyx_6,__pyx_v_namstring)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 910; goto __pyx_L1;}
  Py_DECREF(__pyx_v_ierr);
  __pyx_v_ierr = __pyx_4;
  __pyx_4 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":911
 *         namstring = PyString_AsString(newname)
 *         ierr = nc_rename_var(self._grpid, var._varid, namstring)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *             raise RuntimeError(nc_strerror(ierr))
 *         # remove old key from dimensions dict.
 */
  __pyx_1 = PyInt_FromLong(NC_NOERR); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 911; goto __pyx_L1;}
  __pyx_2 = PyObject_RichCompare(__pyx_v_ierr, __pyx_1, Py_NE); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 911; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_7 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_7 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 911; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_7) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":912
 *         ierr = nc_rename_var(self._grpid, var._varid, namstring)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *         # remove old key from dimensions dict.
 *         self.variables.pop(oldname)
 */
    __pyx_6 = PyInt_AsLong(__pyx_v_ierr); if (unlikely((__pyx_6 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 912; goto __pyx_L1;}
    __pyx_3 = PyString_FromString(nc_strerror(__pyx_6)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 912; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(1); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 912; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_4 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_5); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 912; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __Pyx_Raise(__pyx_4, 0, 0);
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 912; goto __pyx_L1;}
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":914
 *             raise RuntimeError(nc_strerror(ierr))
 *         # remove old key from dimensions dict.
 *         self.variables.pop(oldname)             # <<<<<<<<<<<<<< 
 *         # add new key.
 *         self.variables[newname] = var
 */
  __pyx_1 = PyObject_GetAttr(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables, __pyx_n_pop); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 914; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":914
 *             raise RuntimeError(nc_strerror(ierr))
 *         # remove old key from dimensions dict.
 *         self.variables.pop(oldname)             # <<<<<<<<<<<<<< 
 *         # add new key.
 *         self.variables[newname] = var
 */
  __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 914; goto __pyx_L1;}
  Py_INCREF(__pyx_v_oldname);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_oldname);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 914; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":916
 *         self.variables.pop(oldname)
 *         # add new key.
 *         self.variables[newname] = var             # <<<<<<<<<<<<<< 
 * 
 *     def ncattrs(self):
 */
  if (PyObject_SetItem(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables, __pyx_v_newname, __pyx_v_var) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 916; goto __pyx_L1;}

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("netCDF3.Dataset.renameVariable");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_var);
  Py_DECREF(__pyx_v_ierr);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_oldname);
  Py_DECREF(__pyx_v_newname);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":918
 *         self.variables[newname] = var
 * 
 *     def ncattrs(self):             # <<<<<<<<<<<<<< 
 *         """
 * ncattrs(self)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset_ncattrs(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_ncattrs[] = "\nncattrs(self)\n\nreturn netCDF global attribute names for this L{Dataset} in a list.";
static PyObject *__pyx_pf_7netCDF3_7Dataset_ncattrs(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":923
 * 
 * return netCDF global attribute names for this L{Dataset} in a list."""
 *         return _get_att_names(self._grpid, NC_GLOBAL)             # <<<<<<<<<<<<<< 
 * 
 *     def __delattr__(self,name):
 */
  __pyx_1 = __pyx_f_7netCDF3__get_att_names(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid,NC_GLOBAL); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 923; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("netCDF3.Dataset.ncattrs");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":925
 *         return _get_att_names(self._grpid, NC_GLOBAL)
 * 
 *     def __delattr__(self,name):             # <<<<<<<<<<<<<< 
 *         cdef char *attname
 *         # if it's a netCDF attribute, remove it
 */

static PyObject *__pyx_n_AttributeError;

static PyObject *__pyx_k92p;

static PyObject *__pyx_builtin_AttributeError;

static char __pyx_k92[] = "'%s' is one of the reserved attributes %s, cannot delete";

static int __pyx_pf_7netCDF3_7Dataset___delattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
static int __pyx_pf_7netCDF3_7Dataset___delattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
  char *__pyx_v_attname;
  PyObject *__pyx_v_ierr;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_name);
  __pyx_v_ierr = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":928
 *         cdef char *attname
 *         # if it's a netCDF attribute, remove it
 *         if name not in _private_atts:             # <<<<<<<<<<<<<< 
 *             attname = PyString_AsString(name)
 *             self._redef()
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__private_atts); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 928; goto __pyx_L1;}
  __pyx_2 = (!PySequence_Contains(__pyx_1, __pyx_v_name)); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 928; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":929
 *         # if it's a netCDF attribute, remove it
 *         if name not in _private_atts:
 *             attname = PyString_AsString(name)             # <<<<<<<<<<<<<< 
 *             self._redef()
 *             ierr = nc_del_att(self._grpid, NC_GLOBAL, attname)
 */
    __pyx_v_attname = PyString_AsString(__pyx_v_name);

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":930
 *         if name not in _private_atts:
 *             attname = PyString_AsString(name)
 *             self._redef()             # <<<<<<<<<<<<<< 
 *             ierr = nc_del_att(self._grpid, NC_GLOBAL, attname)
 *             self._enddef()
 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n__redef); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 930; goto __pyx_L1;}
    __pyx_3 = PyObject_CallObject(__pyx_1, 0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 930; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":931
 *             attname = PyString_AsString(name)
 *             self._redef()
 *             ierr = nc_del_att(self._grpid, NC_GLOBAL, attname)             # <<<<<<<<<<<<<< 
 *             self._enddef()
 *             if ierr != NC_NOERR:
 */
    __pyx_1 = PyInt_FromLong(nc_del_att(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid,NC_GLOBAL,__pyx_v_attname)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 931; goto __pyx_L1;}
    Py_DECREF(__pyx_v_ierr);
    __pyx_v_ierr = __pyx_1;
    __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":932
 *             self._redef()
 *             ierr = nc_del_att(self._grpid, NC_GLOBAL, attname)
 *             self._enddef()             # <<<<<<<<<<<<<< 
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n__enddef); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 932; goto __pyx_L1;}
    __pyx_1 = PyObject_CallObject(__pyx_3, 0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 932; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":933
 *             ierr = nc_del_att(self._grpid, NC_GLOBAL, attname)
 *             self._enddef()
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *                 raise RuntimeError(nc_strerror(ierr))
 *         else:
 */
    __pyx_3 = PyInt_FromLong(NC_NOERR); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 933; goto __pyx_L1;}
    __pyx_1 = PyObject_RichCompare(__pyx_v_ierr, __pyx_3, Py_NE); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 933; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 933; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_2) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":934
 *             self._enddef()
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *         else:
 *             raise AttributeError, "'%s' is one of the reserved attributes %s, cannot delete" % (name, tuple(_private_atts))
 */
      __pyx_4 = PyInt_AsLong(__pyx_v_ierr); if (unlikely((__pyx_4 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 934; goto __pyx_L1;}
      __pyx_3 = PyString_FromString(nc_strerror(__pyx_4)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 934; goto __pyx_L1;}
      __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 934; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_3);
      __pyx_3 = 0;
      __pyx_3 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 934; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __Pyx_Raise(__pyx_3, 0, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 934; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":936
 *                 raise RuntimeError(nc_strerror(ierr))
 *         else:
 *             raise AttributeError, "'%s' is one of the reserved attributes %s, cannot delete" % (name, tuple(_private_atts))             # <<<<<<<<<<<<<< 
 * 
 *     def __setattr__(self,name,value):
 */
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__private_atts); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 936; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 936; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_CallObject(((PyObject*)&PyTuple_Type), __pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 936; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_3 = PyTuple_New(2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 936; goto __pyx_L1;}
    Py_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_name);
    PyTuple_SET_ITEM(__pyx_3, 1, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyNumber_Remainder(__pyx_k92p, __pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 936; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_builtin_AttributeError, __pyx_1, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 936; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF3.Dataset.__delattr__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_ierr);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_name);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":938
 *             raise AttributeError, "'%s' is one of the reserved attributes %s, cannot delete" % (name, tuple(_private_atts))
 * 
 *     def __setattr__(self,name,value):             # <<<<<<<<<<<<<< 
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 */

static PyObject *__pyx_n_endswith;
static PyObject *__pyx_n___;
static PyObject *__pyx_n___dict__;

static PyObject *__pyx_k94p;

static char __pyx_k94[] = "'%s' is one of the reserved attributes %s, cannot rebind";

static int __pyx_pf_7netCDF3_7Dataset___setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_7Dataset___setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_value) {
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  int __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_name);
  Py_INCREF(__pyx_v_value);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":941
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 *         if name not in _private_atts:             # <<<<<<<<<<<<<< 
 *             self._redef()
 *             _set_att(self._grpid, NC_GLOBAL, name, value)
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__private_atts); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 941; goto __pyx_L1;}
  __pyx_2 = (!PySequence_Contains(__pyx_1, __pyx_v_name)); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 941; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":942
 *         # level and not in the netCDF file.
 *         if name not in _private_atts:
 *             self._redef()             # <<<<<<<<<<<<<< 
 *             _set_att(self._grpid, NC_GLOBAL, name, value)
 *             self._enddef()
 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n__redef); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 942; goto __pyx_L1;}
    __pyx_3 = PyObject_CallObject(__pyx_1, 0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 942; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":943
 *         if name not in _private_atts:
 *             self._redef()
 *             _set_att(self._grpid, NC_GLOBAL, name, value)             # <<<<<<<<<<<<<< 
 *             self._enddef()
 *         elif not name.endswith('__'):
 */
    __pyx_1 = __pyx_f_7netCDF3__set_att(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid,NC_GLOBAL,__pyx_v_name,__pyx_v_value); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 943; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":944
 *             self._redef()
 *             _set_att(self._grpid, NC_GLOBAL, name, value)
 *             self._enddef()             # <<<<<<<<<<<<<< 
 *         elif not name.endswith('__'):
 *             if hasattr(self,name):
 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n__enddef); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 944; goto __pyx_L1;}
    __pyx_1 = PyObject_CallObject(__pyx_3, 0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 944; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    goto __pyx_L2;
  }

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":945
 *             _set_att(self._grpid, NC_GLOBAL, name, value)
 *             self._enddef()
 *         elif not name.endswith('__'):             # <<<<<<<<<<<<<< 
 *             if hasattr(self,name):
 *                 raise AttributeError("'%s' is one of the reserved attributes %s, cannot rebind" % (name, tuple(_private_atts)))
 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_name, __pyx_n_endswith); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 945; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":945
 *             _set_att(self._grpid, NC_GLOBAL, name, value)
 *             self._enddef()
 *         elif not name.endswith('__'):             # <<<<<<<<<<<<<< 
 *             if hasattr(self,name):
 *                 raise AttributeError("'%s' is one of the reserved attributes %s, cannot rebind" % (name, tuple(_private_atts)))
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 945; goto __pyx_L1;}
  Py_INCREF(__pyx_n___);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_n___);
  __pyx_4 = PyObject_CallObject(__pyx_3, __pyx_1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 945; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_4); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 945; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_5 = (!__pyx_2);
  if (__pyx_5) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":946
 *             self._enddef()
 *         elif not name.endswith('__'):
 *             if hasattr(self,name):             # <<<<<<<<<<<<<< 
 *                 raise AttributeError("'%s' is one of the reserved attributes %s, cannot rebind" % (name, tuple(_private_atts)))
 *             else:
 */
    __pyx_2 = PyObject_HasAttr(__pyx_v_self,__pyx_v_name); if (unlikely(__pyx_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 946; goto __pyx_L1;}
    if (__pyx_2) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":947
 *         elif not name.endswith('__'):
 *             if hasattr(self,name):
 *                 raise AttributeError("'%s' is one of the reserved attributes %s, cannot rebind" % (name, tuple(_private_atts)))             # <<<<<<<<<<<<<< 
 *             else:
 *                 self.__dict__[name]=value
 */
      __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n__private_atts); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 947; goto __pyx_L1;}
      __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 947; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_3);
      __pyx_3 = 0;
      __pyx_4 = PyObject_CallObject(((PyObject*)&PyTuple_Type), __pyx_1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 947; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyTuple_New(2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 947; goto __pyx_L1;}
      Py_INCREF(__pyx_v_name);
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_name);
      PyTuple_SET_ITEM(__pyx_3, 1, __pyx_4);
      __pyx_4 = 0;
      __pyx_1 = PyNumber_Remainder(__pyx_k94p, __pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 947; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 947; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
      __pyx_1 = 0;
      __pyx_3 = PyObject_CallObject(__pyx_builtin_AttributeError, __pyx_4); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 947; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __Pyx_Raise(__pyx_3, 0, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 947; goto __pyx_L1;}
      goto __pyx_L3;
    }
    /*else*/ {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":949
 *                 raise AttributeError("'%s' is one of the reserved attributes %s, cannot rebind" % (name, tuple(_private_atts)))
 *             else:
 *                 self.__dict__[name]=value             # <<<<<<<<<<<<<< 
 * 
 *     def __getattr__(self,name):
 */
      __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___dict__); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 949; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":949
 *                 raise AttributeError("'%s' is one of the reserved attributes %s, cannot rebind" % (name, tuple(_private_atts)))
 *             else:
 *                 self.__dict__[name]=value             # <<<<<<<<<<<<<< 
 * 
 *     def __getattr__(self,name):
 */
      if (PyObject_SetItem(__pyx_1, __pyx_v_name, __pyx_v_value) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 949; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_L2:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("netCDF3.Dataset.__setattr__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_value);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":951
 *                 self.__dict__[name]=value
 * 
 *     def __getattr__(self,name):             # <<<<<<<<<<<<<< 
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 */

static PyObject *__pyx_n_startswith;
static PyObject *__pyx_n_zip;

static PyObject *__pyx_builtin_zip;


static PyObject *__pyx_pf_7netCDF3_7Dataset___getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
static PyObject *__pyx_pf_7netCDF3_7Dataset___getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
  PyObject *__pyx_v_names;
  PyObject *__pyx_v_values;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  Py_ssize_t __pyx_5;
  PyObject *__pyx_6 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_name);
  __pyx_v_names = Py_None; Py_INCREF(Py_None);
  __pyx_v_values = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":954
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 *         if name.startswith('__') and name.endswith('__'):             # <<<<<<<<<<<<<< 
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__': 
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_name, __pyx_n_startswith); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 954; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":954
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 *         if name.startswith('__') and name.endswith('__'):             # <<<<<<<<<<<<<< 
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__': 
 */
  __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 954; goto __pyx_L1;}
  Py_INCREF(__pyx_n___);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_n___);
  __pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 954; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 954; goto __pyx_L1;}
  if (__pyx_4) {
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":954
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 *         if name.startswith('__') and name.endswith('__'):             # <<<<<<<<<<<<<< 
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__': 
 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_name, __pyx_n_endswith); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 954; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":954
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 *         if name.startswith('__') and name.endswith('__'):             # <<<<<<<<<<<<<< 
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__': 
 */
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 954; goto __pyx_L1;}
    Py_INCREF(__pyx_n___);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_n___);
    __pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 954; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
  }
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 954; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":956
 *         if name.startswith('__') and name.endswith('__'):
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__':             # <<<<<<<<<<<<<< 
 *                 names = self.ncattrs()
 *                 values = []
 */
    __pyx_2 = PyObject_RichCompare(__pyx_v_name, __pyx_n___dict__, Py_EQ); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 956; goto __pyx_L1;}
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 956; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (__pyx_4) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":957
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__': 
 *                 names = self.ncattrs()             # <<<<<<<<<<<<<< 
 *                 values = []
 *                 for name in names:
 */
      __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n_ncattrs); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 957; goto __pyx_L1;}
      __pyx_1 = PyObject_CallObject(__pyx_3, 0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 957; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_v_names);
      __pyx_v_names = __pyx_1;
      __pyx_1 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":958
 *             if name == '__dict__': 
 *                 names = self.ncattrs()
 *                 values = []             # <<<<<<<<<<<<<< 
 *                 for name in names:
 *                     values.append(_get_att(self._grpid, NC_GLOBAL, name))
 */
      __pyx_2 = PyList_New(0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 958; goto __pyx_L1;}
      Py_DECREF(__pyx_v_values);
      __pyx_v_values = __pyx_2;
      __pyx_2 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":959
 *                 names = self.ncattrs()
 *                 values = []
 *                 for name in names:             # <<<<<<<<<<<<<< 
 *                     values.append(_get_att(self._grpid, NC_GLOBAL, name))
 *                 return dict(zip(names,values))
 */
      if (PyList_CheckExact(__pyx_v_names)) { __pyx_5 = 0; __pyx_3 = __pyx_v_names; Py_INCREF(__pyx_3); }
      else { __pyx_3 = PyObject_GetIter(__pyx_v_names); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 959; goto __pyx_L1;} }
      for (;;) {

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":959
 *                 names = self.ncattrs()
 *                 values = []
 *                 for name in names:             # <<<<<<<<<<<<<< 
 *                     values.append(_get_att(self._grpid, NC_GLOBAL, name))
 *                 return dict(zip(names,values))
 */
        if (PyList_CheckExact(__pyx_3)) { if (__pyx_5 >= PyList_GET_SIZE(__pyx_3)) break; __pyx_1 = PyList_GET_ITEM(__pyx_3, __pyx_5++); Py_INCREF(__pyx_1); }
        else {
          __pyx_1 = PyIter_Next(__pyx_3);
          if (!__pyx_1) {
            break;
          }
        }
        Py_DECREF(__pyx_v_name);
        __pyx_v_name = __pyx_1;
        __pyx_1 = 0;

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":960
 *                 values = []
 *                 for name in names:
 *                     values.append(_get_att(self._grpid, NC_GLOBAL, name))             # <<<<<<<<<<<<<< 
 *                 return dict(zip(names,values))
 *             else:
 */
        __pyx_2 = PyObject_GetAttr(__pyx_v_values, __pyx_n_append); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":960
 *                 values = []
 *                 for name in names:
 *                     values.append(_get_att(self._grpid, NC_GLOBAL, name))             # <<<<<<<<<<<<<< 
 *                 return dict(zip(names,values))
 *             else:
 */
        __pyx_1 = __pyx_f_7netCDF3__get_att(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid,NC_GLOBAL,__pyx_v_name); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
        __pyx_6 = PyTuple_New(1); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
        PyTuple_SET_ITEM(__pyx_6, 0, __pyx_1);
        __pyx_1 = 0;
        __pyx_1 = PyObject_CallObject(__pyx_2, __pyx_6); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        Py_DECREF(__pyx_1); __pyx_1 = 0;
      }
      Py_DECREF(__pyx_3); __pyx_3 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":961
 *                 for name in names:
 *                     values.append(_get_att(self._grpid, NC_GLOBAL, name))
 *                 return dict(zip(names,values))             # <<<<<<<<<<<<<< 
 *             else:
 *                 raise AttributeError
 */
      __pyx_2 = PyTuple_New(2); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 961; goto __pyx_L1;}
      Py_INCREF(__pyx_v_names);
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_names);
      Py_INCREF(__pyx_v_values);
      PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_values);
      __pyx_6 = PyObject_CallObject(__pyx_builtin_zip, __pyx_2); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 961; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 961; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_6);
      __pyx_6 = 0;
      __pyx_3 = PyObject_CallObject(((PyObject*)&PyDict_Type), __pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 961; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_r = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L0;
      goto __pyx_L3;
    }
    /*else*/ {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":963
 *                 return dict(zip(names,values))
 *             else:
 *                 raise AttributeError             # <<<<<<<<<<<<<< 
 *         elif name in _private_atts:
 *             return self.__dict__[name]
 */
      __Pyx_Raise(__pyx_builtin_AttributeError, 0, 0);
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 963; goto __pyx_L1;}
    }
    __pyx_L3:;
    goto __pyx_L2;
  }

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":964
 *             else:
 *                 raise AttributeError
 *         elif name in _private_atts:             # <<<<<<<<<<<<<< 
 *             return self.__dict__[name]
 *         else:
 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n__private_atts); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 964; goto __pyx_L1;}
  __pyx_4 = (PySequence_Contains(__pyx_2, __pyx_v_name)); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 964; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_4) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":965
 *                 raise AttributeError
 *         elif name in _private_atts:
 *             return self.__dict__[name]             # <<<<<<<<<<<<<< 
 *         else:
 *             return _get_att(self._grpid, NC_GLOBAL, name)
 */
    __pyx_6 = PyObject_GetAttr(__pyx_v_self, __pyx_n___dict__); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 965; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":965
 *                 raise AttributeError
 *         elif name in _private_atts:
 *             return self.__dict__[name]             # <<<<<<<<<<<<<< 
 *         else:
 *             return _get_att(self._grpid, NC_GLOBAL, name)
 */
    __pyx_1 = PyObject_GetItem(__pyx_6, __pyx_v_name); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 965; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_r = __pyx_1;
    __pyx_1 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":967
 *             return self.__dict__[name]
 *         else:
 *             return _get_att(self._grpid, NC_GLOBAL, name)             # <<<<<<<<<<<<<< 
 * 
 * cdef class Dimension:
 */
    __pyx_3 = __pyx_f_7netCDF3__get_att(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid,NC_GLOBAL,__pyx_v_name); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 967; goto __pyx_L1;}
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("netCDF3.Dataset.__getattr__");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_names);
  Py_DECREF(__pyx_v_values);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_name);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1001
 *     cdef public _file_format
 * 
 *     def __init__(self, grp, name, size=None, **kwargs):             # <<<<<<<<<<<<<< 
 *         cdef int ierr
 *         cdef char *dimname
 */

static PyObject *__pyx_n_has_key;


static int __pyx_pf_7netCDF3_9Dimension___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_7netCDF3_9Dimension___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_grp = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_size = 0;
  PyObject *__pyx_v_kwargs = 0;
  int __pyx_v_ierr;
  char *__pyx_v_dimname;
  size_t __pyx_v_lendim;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  int __pyx_5;
  char *__pyx_6;
  size_t __pyx_7;
  static char *__pyx_argnames[] = {"grp","name","size",0};
  __pyx_v_size = __pyx_k53;
  if (__Pyx_GetStarArgs(&__pyx_args, &__pyx_kwds, __pyx_argnames, 3, 0, &__pyx_v_kwargs, 0) < 0) return -1;
  if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO|O", __pyx_argnames, &__pyx_v_grp, &__pyx_v_name, &__pyx_v_size))) {
    Py_XDECREF(__pyx_args);
    Py_XDECREF(__pyx_kwds);
    Py_XDECREF(__pyx_v_kwargs);
    return -1;
  }
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_grp);
  Py_INCREF(__pyx_v_name);
  Py_INCREF(__pyx_v_size);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1005
 *         cdef char *dimname
 *         cdef size_t lendim
 *         self._grpid = grp._grpid             # <<<<<<<<<<<<<< 
 *         self._file_format = grp.file_format
 *         if kwargs.has_key('id'):
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_n__grpid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1005; goto __pyx_L1;}
  __pyx_2 = PyInt_AsLong(__pyx_1); if (unlikely((__pyx_2 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1005; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1005
 *         cdef char *dimname
 *         cdef size_t lendim
 *         self._grpid = grp._grpid             # <<<<<<<<<<<<<< 
 *         self._file_format = grp.file_format
 *         if kwargs.has_key('id'):
 */
  ((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_grpid = __pyx_2;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1006
 *         cdef size_t lendim
 *         self._grpid = grp._grpid
 *         self._file_format = grp.file_format             # <<<<<<<<<<<<<< 
 *         if kwargs.has_key('id'):
 *             self._dimid = kwargs['id']
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_n_file_format); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1006; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1006
 *         cdef size_t lendim
 *         self._grpid = grp._grpid
 *         self._file_format = grp.file_format             # <<<<<<<<<<<<<< 
 *         if kwargs.has_key('id'):
 *             self._dimid = kwargs['id']
 */
  Py_DECREF(((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_file_format);
  ((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_file_format = __pyx_1;
  __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1007
 *         self._grpid = grp._grpid
 *         self._file_format = grp.file_format
 *         if kwargs.has_key('id'):             # <<<<<<<<<<<<<< 
 *             self._dimid = kwargs['id']
 *         else:
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_kwargs, __pyx_n_has_key); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1007; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1007
 *         self._grpid = grp._grpid
 *         self._file_format = grp.file_format
 *         if kwargs.has_key('id'):             # <<<<<<<<<<<<<< 
 *             self._dimid = kwargs['id']
 *         else:
 */
  __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1007; goto __pyx_L1;}
  Py_INCREF(__pyx_n_id);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_n_id);
  __pyx_4 = PyObject_CallObject(__pyx_1, __pyx_3); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1007; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_5 = __Pyx_PyObject_IsTrue(__pyx_4); if (unlikely(__pyx_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1007; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (__pyx_5) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1008
 *         self._file_format = grp.file_format
 *         if kwargs.has_key('id'):
 *             self._dimid = kwargs['id']             # <<<<<<<<<<<<<< 
 *         else:
 *             dimname = name
 */
    __pyx_1 = PyObject_GetItem(__pyx_v_kwargs, __pyx_n_id); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1008; goto __pyx_L1;}
    __pyx_2 = PyInt_AsLong(__pyx_1); if (unlikely((__pyx_2 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1008; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1008
 *         self._file_format = grp.file_format
 *         if kwargs.has_key('id'):
 *             self._dimid = kwargs['id']             # <<<<<<<<<<<<<< 
 *         else:
 *             dimname = name
 */
    ((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_dimid = __pyx_2;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1010
 *             self._dimid = kwargs['id']
 *         else:
 *             dimname = name             # <<<<<<<<<<<<<< 
 *             if size is not None:
 *                 lendim = size
 */
    __pyx_6 = PyString_AsString(__pyx_v_name); if (unlikely((!__pyx_6) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1010; goto __pyx_L1;}
    __pyx_v_dimname = __pyx_6;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1011
 *         else:
 *             dimname = name
 *             if size is not None:             # <<<<<<<<<<<<<< 
 *                 lendim = size
 *             else:
 */
    __pyx_5 = (__pyx_v_size != Py_None);
    if (__pyx_5) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1012
 *             dimname = name
 *             if size is not None:
 *                 lendim = size             # <<<<<<<<<<<<<< 
 *             else:
 *                 lendim = NC_UNLIMITED
 */
      __pyx_7 = PyInt_AsLong(__pyx_v_size); if (unlikely((__pyx_7 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1012; goto __pyx_L1;}
      __pyx_v_lendim = __pyx_7;
      goto __pyx_L3;
    }
    /*else*/ {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1014
 *                 lendim = size
 *             else:
 *                 lendim = NC_UNLIMITED             # <<<<<<<<<<<<<< 
 *             grp._redef()
 *             ierr = nc_def_dim(self._grpid, dimname, lendim, &self._dimid)
 */
      __pyx_v_lendim = NC_UNLIMITED;
    }
    __pyx_L3:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1015
 *             else:
 *                 lendim = NC_UNLIMITED
 *             grp._redef()             # <<<<<<<<<<<<<< 
 *             ierr = nc_def_dim(self._grpid, dimname, lendim, &self._dimid)
 *             grp._enddef()
 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_grp, __pyx_n__redef); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1015; goto __pyx_L1;}
    __pyx_4 = PyObject_CallObject(__pyx_3, 0); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1015; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1016
 *                 lendim = NC_UNLIMITED
 *             grp._redef()
 *             ierr = nc_def_dim(self._grpid, dimname, lendim, &self._dimid)             # <<<<<<<<<<<<<< 
 *             grp._enddef()
 *             if ierr != NC_NOERR:
 */
    __pyx_v_ierr = nc_def_dim(((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_grpid,__pyx_v_dimname,__pyx_v_lendim,(&((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_dimid));

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1017
 *             grp._redef()
 *             ierr = nc_def_dim(self._grpid, dimname, lendim, &self._dimid)
 *             grp._enddef()             # <<<<<<<<<<<<<< 
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_n__enddef); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1017; goto __pyx_L1;}
    __pyx_3 = PyObject_CallObject(__pyx_1, 0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1017; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1018
 *             ierr = nc_def_dim(self._grpid, dimname, lendim, &self._dimid)
 *             grp._enddef()
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *                 raise RuntimeError(nc_strerror(ierr))
 * 
 */
    __pyx_5 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_5) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1019
 *             grp._enddef()
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 * 
 *     def __len__(self):
 */
      __pyx_4 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1019; goto __pyx_L1;}
      __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1019; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_4);
      __pyx_4 = 0;
      __pyx_3 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1019; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __Pyx_Raise(__pyx_3, 0, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1019; goto __pyx_L1;}
      goto __pyx_L4;
    }
    __pyx_L4:;
  }
  __pyx_L2:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("netCDF3.Dimension.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_XDECREF(__pyx_v_kwargs);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_grp);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_size);
  Py_XDECREF(__pyx_args);
  Py_XDECREF(__pyx_kwds);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1021
 *                 raise RuntimeError(nc_strerror(ierr))
 * 
 *     def __len__(self):             # <<<<<<<<<<<<<< 
 *         # len(L{Dimension} instance) returns current size of dimension
 *         cdef int ierr
 */

static Py_ssize_t __pyx_pf_7netCDF3_9Dimension___len__(PyObject *__pyx_v_self); /*proto*/
static Py_ssize_t __pyx_pf_7netCDF3_9Dimension___len__(PyObject *__pyx_v_self) {
  int __pyx_v_ierr;
  size_t __pyx_v_lengthp;
  Py_ssize_t __pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1025
 *         cdef int ierr
 *         cdef size_t lengthp
 *         ierr = nc_inq_dimlen(self._grpid, self._dimid, &lengthp)             # <<<<<<<<<<<<<< 
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_dimlen(((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_grpid,((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_dimid,(&__pyx_v_lengthp));

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1026
 *         cdef size_t lengthp
 *         ierr = nc_inq_dimlen(self._grpid, self._dimid, &lengthp)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *             raise RuntimeError(nc_strerror(ierr))
 *         return lengthp
 */
  __pyx_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_1) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1027
 *         ierr = nc_inq_dimlen(self._grpid, self._dimid, &lengthp)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *         return lengthp
 * 
 */
    __pyx_2 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1027; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1027; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1027; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1027; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1028
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         return lengthp             # <<<<<<<<<<<<<< 
 * 
 *     def isunlimited(self):
 */
  __pyx_r = __pyx_v_lengthp;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF3.Dimension.__len__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1030
 *         return lengthp
 * 
 *     def isunlimited(self):             # <<<<<<<<<<<<<< 
 *         """
 * isunlimited(self)
 */

static PyObject *__pyx_pf_7netCDF3_9Dimension_isunlimited(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF3_9Dimension_isunlimited[] = "\nisunlimited(self)\n\nreturns C{True} if the L{Dimension} instance is unlimited, C{False} otherwise.";
static PyObject *__pyx_pf_7netCDF3_9Dimension_isunlimited(PyObject *__pyx_v_self, PyObject *unused) {
  int __pyx_v_ierr;
  int __pyx_v_ndims;
  int __pyx_v_nvars;
  int __pyx_v_ngatts;
  int __pyx_v_xdimid;
  PyObject *__pyx_r;
  int __pyx_1;
  Py_INCREF(__pyx_v_self);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1037
 *         cdef int ierr, n, numunlimdims, ndims, nvars, ngatts, xdimid
 *         cdef int unlimdimids[NC_MAX_DIMS]
 *         ierr = nc_inq(self._grpid, &ndims, &nvars, &ngatts, &xdimid)             # <<<<<<<<<<<<<< 
 *         if self._dimid == xdimid:
 *             return True
 */
  __pyx_v_ierr = nc_inq(((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_grpid,(&__pyx_v_ndims),(&__pyx_v_nvars),(&__pyx_v_ngatts),(&__pyx_v_xdimid));

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1038
 *         cdef int unlimdimids[NC_MAX_DIMS]
 *         ierr = nc_inq(self._grpid, &ndims, &nvars, &ngatts, &xdimid)
 *         if self._dimid == xdimid:             # <<<<<<<<<<<<<< 
 *             return True
 *         else:
 */
  __pyx_1 = (((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_dimid == __pyx_v_xdimid);
  if (__pyx_1) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1039
 *         ierr = nc_inq(self._grpid, &ndims, &nvars, &ngatts, &xdimid)
 *         if self._dimid == xdimid:
 *             return True             # <<<<<<<<<<<<<< 
 *         else:
 *             return False
 */
    Py_INCREF(Py_True);
    __pyx_r = Py_True;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1041
 *             return True
 *         else:
 *             return False             # <<<<<<<<<<<<<< 
 * 
 * cdef class Variable:
 */
    Py_INCREF(Py_False);
    __pyx_r = Py_False;
    goto __pyx_L0;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1111
 *     cdef public ndim, dtype, maskandscale
 * 
 *     def __init__(self, grp, name, datatype, dimensions=(), fill_value=None, **kwargs):             # <<<<<<<<<<<<<< 
 *         cdef int ierr, ndims, ichunkalg, ideflate_level, numdims
 *         cdef char *varname
 */

static PyObject *__pyx_n__FillValue;

static PyObject *__pyx_k100p;
static PyObject *__pyx_k101p;
static PyObject *__pyx_k104p;

static char __pyx_k100[] = "";
static char __pyx_k101[] = "illegal data type, must be one of %s, got %s";
static char __pyx_k104[] = "dimension %s not defined in Dataset";

static int __pyx_pf_7netCDF3_8Variable___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_7netCDF3_8Variable___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_grp = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_datatype = 0;
  PyObject *__pyx_v_dimensions = 0;
  PyObject *__pyx_v_fill_value = 0;
  PyObject *__pyx_v_kwargs = 0;
  int __pyx_v_ierr;
  int __pyx_v_ndims;
  int __pyx_v_numdims;
  char *__pyx_v_varname;
  nc_type __pyx_v_xtype;
  int __pyx_v_dimids[NC_MAX_DIMS];
  PyObject *__pyx_v_n;
  PyObject *__pyx_v_dimname;
  PyObject *__pyx_v_dim;
  PyObject *__pyx_v_fillval;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  int __pyx_5;
  char *__pyx_6;
  Py_ssize_t __pyx_7;
  nc_type __pyx_8;
  long __pyx_9;
  static char *__pyx_argnames[] = {"grp","name","datatype","dimensions","fill_value",0};
  __pyx_v_dimensions = __pyx_k54;
  __pyx_v_fill_value = __pyx_k55;
  if (__Pyx_GetStarArgs(&__pyx_args, &__pyx_kwds, __pyx_argnames, 5, 0, &__pyx_v_kwargs, 0) < 0) return -1;
  if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOO|OO", __pyx_argnames, &__pyx_v_grp, &__pyx_v_name, &__pyx_v_datatype, &__pyx_v_dimensions, &__pyx_v_fill_value))) {
    Py_XDECREF(__pyx_args);
    Py_XDECREF(__pyx_kwds);
    Py_XDECREF(__pyx_v_kwargs);
    return -1;
  }
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_grp);
  Py_INCREF(__pyx_v_name);
  Py_INCREF(__pyx_v_datatype);
  Py_INCREF(__pyx_v_dimensions);
  Py_INCREF(__pyx_v_fill_value);
  __pyx_v_n = Py_None; Py_INCREF(Py_None);
  __pyx_v_dimname = Py_None; Py_INCREF(Py_None);
  __pyx_v_dim = Py_None; Py_INCREF(Py_None);
  __pyx_v_fillval = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1120
 *         # this prevents a common error that occurs when
 *         # dimensions = ('lat') instead of ('lat',)
 *         if type(dimensions) == type(''):             # <<<<<<<<<<<<<< 
 *             dimensions = dimensions,
 *         self._grpid = grp._grpid
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1120; goto __pyx_L1;}
  Py_INCREF(__pyx_v_dimensions);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_dimensions);
  __pyx_2 = PyObject_CallObject(((PyObject*)&PyType_Type), __pyx_1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1120; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1120
 *         # this prevents a common error that occurs when
 *         # dimensions = ('lat') instead of ('lat',)
 *         if type(dimensions) == type(''):             # <<<<<<<<<<<<<< 
 *             dimensions = dimensions,
 *         self._grpid = grp._grpid
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1120; goto __pyx_L1;}
  Py_INCREF(__pyx_k100p);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k100p);
  __pyx_3 = PyObject_CallObject(((PyObject*)&PyType_Type), __pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1120; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyObject_RichCompare(__pyx_2, __pyx_3, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1120; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1120; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1121
 *         # dimensions = ('lat') instead of ('lat',)
 *         if type(dimensions) == type(''):
 *             dimensions = dimensions,             # <<<<<<<<<<<<<< 
 *         self._grpid = grp._grpid
 *         self._grp = grp
 */
    __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1121; goto __pyx_L1;}
    Py_INCREF(__pyx_v_dimensions);
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_dimensions);
    Py_DECREF(__pyx_v_dimensions);
    __pyx_v_dimensions = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1122
 *         if type(dimensions) == type(''):
 *             dimensions = dimensions,
 *         self._grpid = grp._grpid             # <<<<<<<<<<<<<< 
 *         self._grp = grp
 *         # convert to a real numpy datatype object if necessary.
 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_grp, __pyx_n__grpid); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1122; goto __pyx_L1;}
  __pyx_5 = PyInt_AsLong(__pyx_3); if (unlikely((__pyx_5 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1122; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1122
 *         if type(dimensions) == type(''):
 *             dimensions = dimensions,
 *         self._grpid = grp._grpid             # <<<<<<<<<<<<<< 
 *         self._grp = grp
 *         # convert to a real numpy datatype object if necessary.
 */
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid = __pyx_5;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1123
 *             dimensions = dimensions,
 *         self._grpid = grp._grpid
 *         self._grp = grp             # <<<<<<<<<<<<<< 
 *         # convert to a real numpy datatype object if necessary.
 *         if type(datatype) != NP.dtype:
 */
  Py_INCREF(__pyx_v_grp);
  Py_DECREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp);
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp = __pyx_v_grp;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1125
 *         self._grp = grp
 *         # convert to a real numpy datatype object if necessary.
 *         if type(datatype) != NP.dtype:             # <<<<<<<<<<<<<< 
 *             datatype = NP.dtype(datatype)
 *         # check validity of datatype.
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1125; goto __pyx_L1;}
  Py_INCREF(__pyx_v_datatype);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_datatype);
  __pyx_2 = PyObject_CallObject(((PyObject*)&PyType_Type), __pyx_1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1125; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1125
 *         self._grp = grp
 *         # convert to a real numpy datatype object if necessary.
 *         if type(datatype) != NP.dtype:             # <<<<<<<<<<<<<< 
 *             datatype = NP.dtype(datatype)
 *         # check validity of datatype.
 */
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_NP); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1125; goto __pyx_L1;}
  __pyx_1 = PyObject_GetAttr(__pyx_3, __pyx_n_dtype); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1125; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_3 = PyObject_RichCompare(__pyx_2, __pyx_1, Py_NE); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1125; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1125; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (__pyx_4) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1126
 *         # convert to a real numpy datatype object if necessary.
 *         if type(datatype) != NP.dtype:
 *             datatype = NP.dtype(datatype)             # <<<<<<<<<<<<<< 
 *         # check validity of datatype.
 *         if datatype.str[1:] not in _supportedtypes:
 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_NP); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1126; goto __pyx_L1;}
    __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_n_dtype); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1126; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1126
 *         # convert to a real numpy datatype object if necessary.
 *         if type(datatype) != NP.dtype:
 *             datatype = NP.dtype(datatype)             # <<<<<<<<<<<<<< 
 *         # check validity of datatype.
 *         if datatype.str[1:] not in _supportedtypes:
 */
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1126; goto __pyx_L1;}
    Py_INCREF(__pyx_v_datatype);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_datatype);
    __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1126; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_v_datatype);
    __pyx_v_datatype = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1128
 *             datatype = NP.dtype(datatype)
 *         # check validity of datatype.
 *         if datatype.str[1:] not in _supportedtypes:             # <<<<<<<<<<<<<< 
 *             raise TypeError('illegal data type, must be one of %s, got %s' % (_supportedtypes,datatype))
 *         # dtype variable attribute is a numpy datatype object.
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_datatype, __pyx_n_str); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1128; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1128
 *             datatype = NP.dtype(datatype)
 *         # check validity of datatype.
 *         if datatype.str[1:] not in _supportedtypes:             # <<<<<<<<<<<<<< 
 *             raise TypeError('illegal data type, must be one of %s, got %s' % (_supportedtypes,datatype))
 *         # dtype variable attribute is a numpy datatype object.
 */
  __pyx_3 = PySequence_GetSlice(__pyx_1, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1128; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1128
 *             datatype = NP.dtype(datatype)
 *         # check validity of datatype.
 *         if datatype.str[1:] not in _supportedtypes:             # <<<<<<<<<<<<<< 
 *             raise TypeError('illegal data type, must be one of %s, got %s' % (_supportedtypes,datatype))
 *         # dtype variable attribute is a numpy datatype object.
 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n__supportedtypes); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1128; goto __pyx_L1;}
  __pyx_4 = (!PySequence_Contains(__pyx_2, __pyx_3)); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1128; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_4) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1129
 *         # check validity of datatype.
 *         if datatype.str[1:] not in _supportedtypes:
 *             raise TypeError('illegal data type, must be one of %s, got %s' % (_supportedtypes,datatype))             # <<<<<<<<<<<<<< 
 *         # dtype variable attribute is a numpy datatype object.
 *         self.dtype = datatype
 */
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__supportedtypes); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1129; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1129
 *         # check validity of datatype.
 *         if datatype.str[1:] not in _supportedtypes:
 *             raise TypeError('illegal data type, must be one of %s, got %s' % (_supportedtypes,datatype))             # <<<<<<<<<<<<<< 
 *         # dtype variable attribute is a numpy datatype object.
 *         self.dtype = datatype
 */
    __pyx_3 = PyTuple_New(2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1129; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
    Py_INCREF(__pyx_v_datatype);
    PyTuple_SET_ITEM(__pyx_3, 1, __pyx_v_datatype);
    __pyx_1 = 0;
    __pyx_2 = PyNumber_Remainder(__pyx_k101p, __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1129; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1129; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_builtin_TypeError, __pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1129; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1129; goto __pyx_L1;}
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1131
 *             raise TypeError('illegal data type, must be one of %s, got %s' % (_supportedtypes,datatype))
 *         # dtype variable attribute is a numpy datatype object.
 *         self.dtype = datatype             # <<<<<<<<<<<<<< 
 *         if kwargs.has_key('id'):
 *             self._varid = kwargs['id']
 */
  Py_INCREF(__pyx_v_datatype);
  Py_DECREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype = __pyx_v_datatype;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1132
 *         # dtype variable attribute is a numpy datatype object.
 *         self.dtype = datatype
 *         if kwargs.has_key('id'):             # <<<<<<<<<<<<<< 
 *             self._varid = kwargs['id']
 *         else:
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_kwargs, __pyx_n_has_key); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1132; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1132
 *         # dtype variable attribute is a numpy datatype object.
 *         self.dtype = datatype
 *         if kwargs.has_key('id'):             # <<<<<<<<<<<<<< 
 *             self._varid = kwargs['id']
 *         else:
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1132; goto __pyx_L1;}
  Py_INCREF(__pyx_n_id);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_n_id);
  __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1132; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1132; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (__pyx_4) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1133
 *         self.dtype = datatype
 *         if kwargs.has_key('id'):
 *             self._varid = kwargs['id']             # <<<<<<<<<<<<<< 
 *         else:
 *             varname = name
 */
    __pyx_2 = PyObject_GetItem(__pyx_v_kwargs, __pyx_n_id); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1133; goto __pyx_L1;}
    __pyx_5 = PyInt_AsLong(__pyx_2); if (unlikely((__pyx_5 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1133; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1133
 *         self.dtype = datatype
 *         if kwargs.has_key('id'):
 *             self._varid = kwargs['id']             # <<<<<<<<<<<<<< 
 *         else:
 *             varname = name
 */
    ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid = __pyx_5;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1135
 *             self._varid = kwargs['id']
 *         else:
 *             varname = name             # <<<<<<<<<<<<<< 
 *             ndims = len(dimensions)
 *             # find netCDF primitive data type corresponding to 
 */
    __pyx_6 = PyString_AsString(__pyx_v_name); if (unlikely((!__pyx_6) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1135; goto __pyx_L1;}
    __pyx_v_varname = __pyx_6;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1136
 *         else:
 *             varname = name
 *             ndims = len(dimensions)             # <<<<<<<<<<<<<< 
 *             # find netCDF primitive data type corresponding to 
 *             # specified numpy data type.
 */
    __pyx_7 = PyObject_Length(__pyx_v_dimensions); if (unlikely(__pyx_7 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1136; goto __pyx_L1;}
    __pyx_v_ndims = __pyx_7;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1139
 *             # find netCDF primitive data type corresponding to 
 *             # specified numpy data type.
 *             xtype = _nptonctype[datatype.str[1:]]             # <<<<<<<<<<<<<< 
 *             # find dimension ids.
 *             if ndims:
 */
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__nptonctype); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1139; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1139
 *             # find netCDF primitive data type corresponding to 
 *             # specified numpy data type.
 *             xtype = _nptonctype[datatype.str[1:]]             # <<<<<<<<<<<<<< 
 *             # find dimension ids.
 *             if ndims:
 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_datatype, __pyx_n_str); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1139; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1139
 *             # find netCDF primitive data type corresponding to 
 *             # specified numpy data type.
 *             xtype = _nptonctype[datatype.str[1:]]             # <<<<<<<<<<<<<< 
 *             # find dimension ids.
 *             if ndims:
 */
    __pyx_2 = PySequence_GetSlice(__pyx_3, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1139; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_3 = PyObject_GetItem(__pyx_1, __pyx_2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1139; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_8 = PyInt_AsLong(__pyx_3); if (unlikely((__pyx_8 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1139; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_v_xtype = __pyx_8;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1141
 *             xtype = _nptonctype[datatype.str[1:]]
 *             # find dimension ids.
 *             if ndims:             # <<<<<<<<<<<<<< 
 *                 for n from 0 <= n < ndims:
 *                     dimname = dimensions[n]
 */
    __pyx_5 = __pyx_v_ndims;
    if (__pyx_5) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1142
 *             # find dimension ids.
 *             if ndims:
 *                 for n from 0 <= n < ndims:             # <<<<<<<<<<<<<< 
 *                     dimname = dimensions[n]
 *                     dim = grp.dimensions[dimname]
 */
      for (__pyx_9 = 0; __pyx_9 < __pyx_v_ndims; __pyx_9++) {

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1142
 *             # find dimension ids.
 *             if ndims:
 *                 for n from 0 <= n < ndims:             # <<<<<<<<<<<<<< 
 *                     dimname = dimensions[n]
 *                     dim = grp.dimensions[dimname]
 */
        __pyx_1 = PyInt_FromLong(__pyx_9); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1142; goto __pyx_L1;}
        Py_DECREF(__pyx_v_n);
        __pyx_v_n = __pyx_1;
        __pyx_1 = 0;

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1143
 *             if ndims:
 *                 for n from 0 <= n < ndims:
 *                     dimname = dimensions[n]             # <<<<<<<<<<<<<< 
 *                     dim = grp.dimensions[dimname]
 *                     if dim is None:
 */
        __pyx_2 = PyObject_GetItem(__pyx_v_dimensions, __pyx_v_n); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1143; goto __pyx_L1;}
        Py_DECREF(__pyx_v_dimname);
        __pyx_v_dimname = __pyx_2;
        __pyx_2 = 0;

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1144
 *                 for n from 0 <= n < ndims:
 *                     dimname = dimensions[n]
 *                     dim = grp.dimensions[dimname]             # <<<<<<<<<<<<<< 
 *                     if dim is None:
 *                         raise KeyError("dimension %s not defined in Dataset" % dimname)
 */
        __pyx_3 = PyObject_GetAttr(__pyx_v_grp, __pyx_n_dimensions); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1144; goto __pyx_L1;}

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1144
 *                 for n from 0 <= n < ndims:
 *                     dimname = dimensions[n]
 *                     dim = grp.dimensions[dimname]             # <<<<<<<<<<<<<< 
 *                     if dim is None:
 *                         raise KeyError("dimension %s not defined in Dataset" % dimname)
 */
        __pyx_1 = PyObject_GetItem(__pyx_3, __pyx_v_dimname); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1144; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        Py_DECREF(__pyx_v_dim);
        __pyx_v_dim = __pyx_1;
        __pyx_1 = 0;

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1145
 *                     dimname = dimensions[n]
 *                     dim = grp.dimensions[dimname]
 *                     if dim is None:             # <<<<<<<<<<<<<< 
 *                         raise KeyError("dimension %s not defined in Dataset" % dimname)
 *                     dimids[n] = dim._dimid
 */
        __pyx_4 = (__pyx_v_dim == Py_None);
        if (__pyx_4) {

          /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1146
 *                     dim = grp.dimensions[dimname]
 *                     if dim is None:
 *                         raise KeyError("dimension %s not defined in Dataset" % dimname)             # <<<<<<<<<<<<<< 
 *                     dimids[n] = dim._dimid
 *             # go into define mode if it's a netCDF 3 compatible
 */
          __pyx_2 = PyNumber_Remainder(__pyx_k104p, __pyx_v_dimname); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1146; goto __pyx_L1;}
          __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1146; goto __pyx_L1;}
          PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
          __pyx_2 = 0;
          __pyx_1 = PyObject_CallObject(__pyx_builtin_KeyError, __pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1146; goto __pyx_L1;}
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          __Pyx_Raise(__pyx_1, 0, 0);
          Py_DECREF(__pyx_1); __pyx_1 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1146; goto __pyx_L1;}
          goto __pyx_L9;
        }
        __pyx_L9:;

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1147
 *                     if dim is None:
 *                         raise KeyError("dimension %s not defined in Dataset" % dimname)
 *                     dimids[n] = dim._dimid             # <<<<<<<<<<<<<< 
 *             # go into define mode if it's a netCDF 3 compatible
 *             # file format.  Be careful to exit define mode before
 */
        __pyx_2 = PyObject_GetAttr(__pyx_v_dim, __pyx_n__dimid); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1147; goto __pyx_L1;}
        __pyx_5 = PyInt_AsLong(__pyx_2); if (unlikely((__pyx_5 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1147; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1147
 *                     if dim is None:
 *                         raise KeyError("dimension %s not defined in Dataset" % dimname)
 *                     dimids[n] = dim._dimid             # <<<<<<<<<<<<<< 
 *             # go into define mode if it's a netCDF 3 compatible
 *             # file format.  Be careful to exit define mode before
 */
        __pyx_7 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_7 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1147; goto __pyx_L1;}
        (__pyx_v_dimids[__pyx_7]) = __pyx_5;
      }
      goto __pyx_L6;
    }
    __pyx_L6:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1151
 *             # file format.  Be careful to exit define mode before
 *             # any exceptions are raised.
 *             grp._redef()             # <<<<<<<<<<<<<< 
 *             # define variable.
 *             if ndims:
 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_grp, __pyx_n__redef); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1151; goto __pyx_L1;}
    __pyx_1 = PyObject_CallObject(__pyx_3, 0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1151; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1153
 *             grp._redef()
 *             # define variable.
 *             if ndims:             # <<<<<<<<<<<<<< 
 *                 ierr = nc_def_var(self._grpid, varname, xtype, ndims,
 *                                   dimids, &self._varid)
 */
    __pyx_5 = __pyx_v_ndims;
    if (__pyx_5) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1155
 *             if ndims:
 *                 ierr = nc_def_var(self._grpid, varname, xtype, ndims,
 *                                   dimids, &self._varid)             # <<<<<<<<<<<<<< 
 *             else: # a scalar variable.
 *                 ierr = nc_def_var(self._grpid, varname, xtype, ndims,
 */
      __pyx_v_ierr = nc_def_var(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid,__pyx_v_varname,__pyx_v_xtype,__pyx_v_ndims,__pyx_v_dimids,(&((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid));
      goto __pyx_L10;
    }
    /*else*/ {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1158
 *             else: # a scalar variable.
 *                 ierr = nc_def_var(self._grpid, varname, xtype, ndims,
 *                                   NULL, &self._varid)             # <<<<<<<<<<<<<< 
 *             if ierr != NC_NOERR:
 *                 grp._enddef()
 */
      __pyx_v_ierr = nc_def_var(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid,__pyx_v_varname,__pyx_v_xtype,__pyx_v_ndims,NULL,(&((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid));
    }
    __pyx_L10:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1159
 *                 ierr = nc_def_var(self._grpid, varname, xtype, ndims,
 *                                   NULL, &self._varid)
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *                 grp._enddef()
 *                 raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_4 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_4) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1160
 *                                   NULL, &self._varid)
 *             if ierr != NC_NOERR:
 *                 grp._enddef()             # <<<<<<<<<<<<<< 
 *                 raise RuntimeError(nc_strerror(ierr))
 *             # set a fill value for this variable if fill_value keyword
 */
      __pyx_2 = PyObject_GetAttr(__pyx_v_grp, __pyx_n__enddef); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1160; goto __pyx_L1;}
      __pyx_3 = PyObject_CallObject(__pyx_2, 0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1160; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1161
 *             if ierr != NC_NOERR:
 *                 grp._enddef()
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *             # set a fill value for this variable if fill_value keyword
 *             # given.
 */
      __pyx_1 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1161; goto __pyx_L1;}
      __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1161; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
      __pyx_1 = 0;
      __pyx_3 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1161; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __Pyx_Raise(__pyx_3, 0, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1161; goto __pyx_L1;}
      goto __pyx_L11;
    }
    __pyx_L11:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1164
 *             # set a fill value for this variable if fill_value keyword
 *             # given.
 *             if fill_value is not None:             # <<<<<<<<<<<<<< 
 *                 # cast fill_value to type of variable.
 *                 fillval = NP.array(fill_value, self.dtype)
 */
    __pyx_4 = (__pyx_v_fill_value != Py_None);
    if (__pyx_4) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1166
 *             if fill_value is not None:
 *                 # cast fill_value to type of variable.
 *                 fillval = NP.array(fill_value, self.dtype)             # <<<<<<<<<<<<<< 
 *                 _set_att(self._grpid, self._varid, '_FillValue', fillval)
 *             # leave define mode.
 */
      __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_NP); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1166; goto __pyx_L1;}
      __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_array); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1166; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1166
 *             if fill_value is not None:
 *                 # cast fill_value to type of variable.
 *                 fillval = NP.array(fill_value, self.dtype)             # <<<<<<<<<<<<<< 
 *                 _set_att(self._grpid, self._varid, '_FillValue', fillval)
 *             # leave define mode.
 */
      __pyx_3 = PyTuple_New(2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1166; goto __pyx_L1;}
      Py_INCREF(__pyx_v_fill_value);
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_fill_value);
      Py_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
      PyTuple_SET_ITEM(__pyx_3, 1, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
      __pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1166; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_v_fillval);
      __pyx_v_fillval = __pyx_1;
      __pyx_1 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1167
 *                 # cast fill_value to type of variable.
 *                 fillval = NP.array(fill_value, self.dtype)
 *                 _set_att(self._grpid, self._varid, '_FillValue', fillval)             # <<<<<<<<<<<<<< 
 *             # leave define mode.
 *             grp._enddef()
 */
      __pyx_2 = __pyx_f_7netCDF3__set_att(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid,((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid,__pyx_n__FillValue,__pyx_v_fillval); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1167; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      goto __pyx_L12;
    }
    __pyx_L12:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1169
 *                 _set_att(self._grpid, self._varid, '_FillValue', fillval)
 *             # leave define mode.
 *             grp._enddef()             # <<<<<<<<<<<<<< 
 *         # count how many unlimited dimensions there are.
 *         self._nunlimdim = 0
 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_grp, __pyx_n__enddef); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1169; goto __pyx_L1;}
    __pyx_1 = PyObject_CallObject(__pyx_3, 0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1169; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
  }
  __pyx_L5:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1171
 *             grp._enddef()
 *         # count how many unlimited dimensions there are.
 *         self._nunlimdim = 0             # <<<<<<<<<<<<<< 
 *         for dimname in self.dimensions:
 *             dim = grp.dimensions[dimname]
 */
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_nunlimdim = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1172
 *         # count how many unlimited dimensions there are.
 *         self._nunlimdim = 0
 *         for dimname in self.dimensions:             # <<<<<<<<<<<<<< 
 *             dim = grp.dimensions[dimname]
 *             if dim.isunlimited(): self._nunlimdim = self._nunlimdim + 1
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_dimensions); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1172; goto __pyx_L1;}
  if (PyList_CheckExact(__pyx_2)) { __pyx_7 = 0; __pyx_3 = __pyx_2; Py_INCREF(__pyx_3); }
  else { __pyx_3 = PyObject_GetIter(__pyx_2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1172; goto __pyx_L1;} }
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  for (;;) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1172
 *         # count how many unlimited dimensions there are.
 *         self._nunlimdim = 0
 *         for dimname in self.dimensions:             # <<<<<<<<<<<<<< 
 *             dim = grp.dimensions[dimname]
 *             if dim.isunlimited(): self._nunlimdim = self._nunlimdim + 1
 */
    if (PyList_CheckExact(__pyx_3)) { if (__pyx_7 >= PyList_GET_SIZE(__pyx_3)) break; __pyx_1 = PyList_GET_ITEM(__pyx_3, __pyx_7++); Py_INCREF(__pyx_1); }
    else {
      __pyx_1 = PyIter_Next(__pyx_3);
      if (!__pyx_1) {
        break;
      }
    }
    Py_DECREF(__pyx_v_dimname);
    __pyx_v_dimname = __pyx_1;
    __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1173
 *         self._nunlimdim = 0
 *         for dimname in self.dimensions:
 *             dim = grp.dimensions[dimname]             # <<<<<<<<<<<<<< 
 *             if dim.isunlimited(): self._nunlimdim = self._nunlimdim + 1
 *         # set ndim attribute (number of dimensions).
 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_grp, __pyx_n_dimensions); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1173; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1173
 *         self._nunlimdim = 0
 *         for dimname in self.dimensions:
 *             dim = grp.dimensions[dimname]             # <<<<<<<<<<<<<< 
 *             if dim.isunlimited(): self._nunlimdim = self._nunlimdim + 1
 *         # set ndim attribute (number of dimensions).
 */
    __pyx_1 = PyObject_GetItem(__pyx_2, __pyx_v_dimname); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1173; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_v_dim);
    __pyx_v_dim = __pyx_1;
    __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1174
 *         for dimname in self.dimensions:
 *             dim = grp.dimensions[dimname]
 *             if dim.isunlimited(): self._nunlimdim = self._nunlimdim + 1             # <<<<<<<<<<<<<< 
 *         # set ndim attribute (number of dimensions).
 *         ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)
 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_dim, __pyx_n_isunlimited); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1174; goto __pyx_L1;}
    __pyx_1 = PyObject_CallObject(__pyx_2, 0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1174; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1174; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_4) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1174
 *         for dimname in self.dimensions:
 *             dim = grp.dimensions[dimname]
 *             if dim.isunlimited(): self._nunlimdim = self._nunlimdim + 1             # <<<<<<<<<<<<<< 
 *         # set ndim attribute (number of dimensions).
 *         ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)
 */
      ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_nunlimdim = (((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_nunlimdim + 1);
      goto __pyx_L15;
    }
    __pyx_L15:;
  }
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1176
 *             if dim.isunlimited(): self._nunlimdim = self._nunlimdim + 1
 *         # set ndim attribute (number of dimensions).
 *         ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)             # <<<<<<<<<<<<<< 
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_varndims(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid,((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid,(&__pyx_v_numdims));

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1177
 *         # set ndim attribute (number of dimensions).
 *         ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *             raise RuntimeError(nc_strerror(ierr))
 *         self.ndim = numdims
 */
  __pyx_4 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_4) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1178
 *         ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *         self.ndim = numdims
 *         # default for automatically applying scale_factor and
 */
    __pyx_2 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1178; goto __pyx_L1;}
    __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1178; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1178; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1178; goto __pyx_L1;}
    goto __pyx_L16;
  }
  __pyx_L16:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1179
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         self.ndim = numdims             # <<<<<<<<<<<<<< 
 *         # default for automatically applying scale_factor and
 *         # add_offset, and converting to/from masked arrays is False.
 */
  __pyx_2 = PyInt_FromLong(__pyx_v_numdims); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1179; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1179
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         self.ndim = numdims             # <<<<<<<<<<<<<< 
 *         # default for automatically applying scale_factor and
 *         # add_offset, and converting to/from masked arrays is False.
 */
  Py_DECREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim);
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1182
 *         # default for automatically applying scale_factor and
 *         # add_offset, and converting to/from masked arrays is False.
 *         self.maskandscale = False             # <<<<<<<<<<<<<< 
 * 
 *     property shape:
 */
  Py_INCREF(Py_False);
  Py_DECREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale);
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale = Py_False;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF3.Variable.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_XDECREF(__pyx_v_kwargs);
  Py_DECREF(__pyx_v_n);
  Py_DECREF(__pyx_v_dimname);
  Py_DECREF(__pyx_v_dim);
  Py_DECREF(__pyx_v_fillval);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_grp);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_datatype);
  Py_DECREF(__pyx_v_dimensions);
  Py_DECREF(__pyx_v_fill_value);
  Py_XDECREF(__pyx_args);
  Py_XDECREF(__pyx_kwds);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1186
 *     property shape:
 *         """find current sizes of all variable dimensions"""
 *         def __get__(self):             # <<<<<<<<<<<<<< 
 *             shape = ()
 *             for dimname in self.dimensions:
 */

static PyObject *__pyx_pf_7netCDF3_8Variable_5shape___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF3_8Variable_5shape___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_v_shape;
  PyObject *__pyx_v_dimname;
  PyObject *__pyx_v_dim;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_ssize_t __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  Py_ssize_t __pyx_5;
  Py_INCREF(__pyx_v_self);
  __pyx_v_shape = Py_None; Py_INCREF(Py_None);
  __pyx_v_dimname = Py_None; Py_INCREF(Py_None);
  __pyx_v_dim = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1187
 *         """find current sizes of all variable dimensions"""
 *         def __get__(self):
 *             shape = ()             # <<<<<<<<<<<<<< 
 *             for dimname in self.dimensions:
 *                 dim = self._grp.dimensions[dimname]
 */
  __pyx_1 = PyTuple_New(0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1187; goto __pyx_L1;}
  Py_DECREF(__pyx_v_shape);
  __pyx_v_shape = __pyx_1;
  __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1188
 *         def __get__(self):
 *             shape = ()
 *             for dimname in self.dimensions:             # <<<<<<<<<<<<<< 
 *                 dim = self._grp.dimensions[dimname]
 *                 shape = shape + (len(dim),)
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_dimensions); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1188; goto __pyx_L1;}
  if (PyList_CheckExact(__pyx_1)) { __pyx_2 = 0; __pyx_3 = __pyx_1; Py_INCREF(__pyx_3); }
  else { __pyx_3 = PyObject_GetIter(__pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1188; goto __pyx_L1;} }
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  for (;;) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1188
 *         def __get__(self):
 *             shape = ()
 *             for dimname in self.dimensions:             # <<<<<<<<<<<<<< 
 *                 dim = self._grp.dimensions[dimname]
 *                 shape = shape + (len(dim),)
 */
    if (PyList_CheckExact(__pyx_3)) { if (__pyx_2 >= PyList_GET_SIZE(__pyx_3)) break; __pyx_1 = PyList_GET_ITEM(__pyx_3, __pyx_2++); Py_INCREF(__pyx_1); }
    else {
      __pyx_1 = PyIter_Next(__pyx_3);
      if (!__pyx_1) {
        break;
      }
    }
    Py_DECREF(__pyx_v_dimname);
    __pyx_v_dimname = __pyx_1;
    __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1189
 *             shape = ()
 *             for dimname in self.dimensions:
 *                 dim = self._grp.dimensions[dimname]             # <<<<<<<<<<<<<< 
 *                 shape = shape + (len(dim),)
 *             return shape
 */
    __pyx_1 = PyObject_GetAttr(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp, __pyx_n_dimensions); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1189; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1189
 *             shape = ()
 *             for dimname in self.dimensions:
 *                 dim = self._grp.dimensions[dimname]             # <<<<<<<<<<<<<< 
 *                 shape = shape + (len(dim),)
 *             return shape
 */
    __pyx_4 = PyObject_GetItem(__pyx_1, __pyx_v_dimname); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1189; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_v_dim);
    __pyx_v_dim = __pyx_4;
    __pyx_4 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1190
 *             for dimname in self.dimensions:
 *                 dim = self._grp.dimensions[dimname]
 *                 shape = shape + (len(dim),)             # <<<<<<<<<<<<<< 
 *             return shape
 *         def __set__(self,value):
 */
    __pyx_5 = PyObject_Length(__pyx_v_dim); if (unlikely(__pyx_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; goto __pyx_L1;}
    __pyx_1 = PyInt_FromSsize_t(__pyx_5); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyNumber_Add(__pyx_v_shape, __pyx_4); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_v_shape);
    __pyx_v_shape = __pyx_1;
    __pyx_1 = 0;
  }
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1191
 *                 dim = self._grp.dimensions[dimname]
 *                 shape = shape + (len(dim),)
 *             return shape             # <<<<<<<<<<<<<< 
 *         def __set__(self,value):
 *             raise AttributeError("shape cannot be altered")
 */
  Py_INCREF(__pyx_v_shape);
  __pyx_r = __pyx_v_shape;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("netCDF3.Variable.shape.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_shape);
  Py_DECREF(__pyx_v_dimname);
  Py_DECREF(__pyx_v_dim);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1192
 *                 shape = shape + (len(dim),)
 *             return shape
 *         def __set__(self,value):             # <<<<<<<<<<<<<< 
 *             raise AttributeError("shape cannot be altered")
 * 
 */

static PyObject *__pyx_k106p;

static char __pyx_k106[] = "shape cannot be altered";

static int __pyx_pf_7netCDF3_8Variable_5shape___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_8Variable_5shape___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_value);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1193
 *             return shape
 *         def __set__(self,value):
 *             raise AttributeError("shape cannot be altered")             # <<<<<<<<<<<<<< 
 * 
 *     property dimensions:
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1193; goto __pyx_L1;}
  Py_INCREF(__pyx_k106p);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k106p);
  __pyx_2 = PyObject_CallObject(__pyx_builtin_AttributeError, __pyx_1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1193; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __Pyx_Raise(__pyx_2, 0, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1193; goto __pyx_L1;}

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("netCDF3.Variable.shape.__set__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_value);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1197
 *     property dimensions:
 *         """get variables's dimension names"""
 *         def __get__(self):             # <<<<<<<<<<<<<< 
 *             # Private method to get variables's dimension names
 *             cdef int ierr, numdims, n, nn
 */

static PyObject *__pyx_pf_7netCDF3_8Variable_10dimensions___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF3_8Variable_10dimensions___get__(PyObject *__pyx_v_self) {
  int __pyx_v_ierr;
  int __pyx_v_numdims;
  int __pyx_v_nn;
  char __pyx_v_namstring[(NC_MAX_NAME + 1)];
  int __pyx_v_dimids[NC_MAX_DIMS];
  PyObject *__pyx_v_dimensions;
  PyObject *__pyx_v_name;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_dimensions = Py_None; Py_INCREF(Py_None);
  __pyx_v_name = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1203
 *             cdef int dimids[NC_MAX_DIMS]
 *             # get number of dimensions for this variable.
 *             ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)             # <<<<<<<<<<<<<< 
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_varndims(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid,((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid,(&__pyx_v_numdims));

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1204
 *             # get number of dimensions for this variable.
 *             ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *                 raise RuntimeError(nc_strerror(ierr))
 *             # get dimension ids.
 */
  __pyx_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_1) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1205
 *             ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *             # get dimension ids.
 *             ierr = nc_inq_vardimid(self._grpid, self._varid, dimids)
 */
    __pyx_2 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1205; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1205; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1205; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1205; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1207
 *                 raise RuntimeError(nc_strerror(ierr))
 *             # get dimension ids.
 *             ierr = nc_inq_vardimid(self._grpid, self._varid, dimids)             # <<<<<<<<<<<<<< 
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_vardimid(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid,((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid,__pyx_v_dimids);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1208
 *             # get dimension ids.
 *             ierr = nc_inq_vardimid(self._grpid, self._varid, dimids)
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *                 raise RuntimeError(nc_strerror(ierr))
 *             # loop over dimensions, retrieve names.
 */
  __pyx_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_1) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1209
 *             ierr = nc_inq_vardimid(self._grpid, self._varid, dimids)
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *             # loop over dimensions, retrieve names.
 *             dimensions = ()
 */
    __pyx_3 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1209; goto __pyx_L1;}
    __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1209; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1209; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1209; goto __pyx_L1;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1211
 *                 raise RuntimeError(nc_strerror(ierr))
 *             # loop over dimensions, retrieve names.
 *             dimensions = ()             # <<<<<<<<<<<<<< 
 *             for nn from 0 <= nn < numdims:
 *                 ierr = nc_inq_dimname(self._grpid, dimids[nn], namstring)
 */
  __pyx_2 = PyTuple_New(0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1211; goto __pyx_L1;}
  Py_DECREF(__pyx_v_dimensions);
  __pyx_v_dimensions = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1212
 *             # loop over dimensions, retrieve names.
 *             dimensions = ()
 *             for nn from 0 <= nn < numdims:             # <<<<<<<<<<<<<< 
 *                 ierr = nc_inq_dimname(self._grpid, dimids[nn], namstring)
 *                 if ierr != NC_NOERR:
 */
  for (__pyx_v_nn = 0; __pyx_v_nn < __pyx_v_numdims; __pyx_v_nn++) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1213
 *             dimensions = ()
 *             for nn from 0 <= nn < numdims:
 *                 ierr = nc_inq_dimname(self._grpid, dimids[nn], namstring)             # <<<<<<<<<<<<<< 
 *                 if ierr != NC_NOERR:
 *                     raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_inq_dimname(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid,(__pyx_v_dimids[__pyx_v_nn]),__pyx_v_namstring);

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1214
 *             for nn from 0 <= nn < numdims:
 *                 ierr = nc_inq_dimname(self._grpid, dimids[nn], namstring)
 *                 if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *                     raise RuntimeError(nc_strerror(ierr))
 *                 name = namstring
 */
    __pyx_1 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_1) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1215
 *                 ierr = nc_inq_dimname(self._grpid, dimids[nn], namstring)
 *                 if ierr != NC_NOERR:
 *                     raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *                 name = namstring
 *                 dimensions = dimensions + (name,)
 */
      __pyx_3 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1215; goto __pyx_L1;}
      __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1215; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
      __pyx_3 = 0;
      __pyx_3 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1215; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __Pyx_Raise(__pyx_3, 0, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1215; goto __pyx_L1;}
      goto __pyx_L6;
    }
    __pyx_L6:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1216
 *                 if ierr != NC_NOERR:
 *                     raise RuntimeError(nc_strerror(ierr))
 *                 name = namstring             # <<<<<<<<<<<<<< 
 *                 dimensions = dimensions + (name,)
 *             return dimensions
 */
    __pyx_2 = PyString_FromString(__pyx_v_namstring); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1216; goto __pyx_L1;}
    Py_DECREF(__pyx_v_name);
    __pyx_v_name = __pyx_2;
    __pyx_2 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1217
 *                     raise RuntimeError(nc_strerror(ierr))
 *                 name = namstring
 *                 dimensions = dimensions + (name,)             # <<<<<<<<<<<<<< 
 *             return dimensions
 *         def __set__(self,value):
 */
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1217; goto __pyx_L1;}
    Py_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_name);
    __pyx_2 = PyNumber_Add(__pyx_v_dimensions, __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1217; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_v_dimensions);
    __pyx_v_dimensions = __pyx_2;
    __pyx_2 = 0;
  }

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1218
 *                 name = namstring
 *                 dimensions = dimensions + (name,)
 *             return dimensions             # <<<<<<<<<<<<<< 
 *         def __set__(self,value):
 *             raise AttributeError("dimensions cannot be altered")
 */
  Py_INCREF(__pyx_v_dimensions);
  __pyx_r = __pyx_v_dimensions;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF3.Variable.dimensions.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_dimensions);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1219
 *                 dimensions = dimensions + (name,)
 *             return dimensions
 *         def __set__(self,value):             # <<<<<<<<<<<<<< 
 *             raise AttributeError("dimensions cannot be altered")
 * 
 */

static PyObject *__pyx_k107p;

static char __pyx_k107[] = "dimensions cannot be altered";

static int __pyx_pf_7netCDF3_8Variable_10dimensions___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_8Variable_10dimensions___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_value);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1220
 *             return dimensions
 *         def __set__(self,value):
 *             raise AttributeError("dimensions cannot be altered")             # <<<<<<<<<<<<<< 
 * 
 * 
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1220; goto __pyx_L1;}
  Py_INCREF(__pyx_k107p);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k107p);
  __pyx_2 = PyObject_CallObject(__pyx_builtin_AttributeError, __pyx_1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1220; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __Pyx_Raise(__pyx_2, 0, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1220; goto __pyx_L1;}

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("netCDF3.Variable.dimensions.__set__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_value);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1223
 * 
 * 
 *     def ncattrs(self):             # <<<<<<<<<<<<<< 
 *         """
 * ncattrs(self)
 */

static PyObject *__pyx_pf_7netCDF3_8Variable_ncattrs(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF3_8Variable_ncattrs[] = "\nncattrs(self)\n\nreturn netCDF attribute names for this L{Variable} in a list.";
static PyObject *__pyx_pf_7netCDF3_8Variable_ncattrs(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1228
 * 
 * return netCDF attribute names for this L{Variable} in a list."""
 *         return _get_att_names(self._grpid, self._varid)             # <<<<<<<<<<<<<< 
 * 
 *     def __delattr__(self,name):
 */
  __pyx_1 = __pyx_f_7netCDF3__get_att_names(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid,((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1228; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("netCDF3.Variable.ncattrs");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1230
 *         return _get_att_names(self._grpid, self._varid)
 * 
 *     def __delattr__(self,name):             # <<<<<<<<<<<<<< 
 *         cdef char *attname
 *         # if it's a netCDF attribute, remove it
 */

static PyObject *__pyx_k108p;

static char __pyx_k108[] = "'%s' is one of the reserved attributes %s, cannot delete";

static int __pyx_pf_7netCDF3_8Variable___delattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
static int __pyx_pf_7netCDF3_8Variable___delattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
  char *__pyx_v_attname;
  PyObject *__pyx_v_ierr;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_name);
  __pyx_v_ierr = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1233
 *         cdef char *attname
 *         # if it's a netCDF attribute, remove it
 *         if name not in _private_atts:             # <<<<<<<<<<<<<< 
 *             attname = PyString_AsString(name)
 *             self._grp._redef()
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__private_atts); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1233; goto __pyx_L1;}
  __pyx_2 = (!PySequence_Contains(__pyx_1, __pyx_v_name)); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1233; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1234
 *         # if it's a netCDF attribute, remove it
 *         if name not in _private_atts:
 *             attname = PyString_AsString(name)             # <<<<<<<<<<<<<< 
 *             self._grp._redef()
 *             ierr = nc_del_att(self._grpid, self._varid, attname)
 */
    __pyx_v_attname = PyString_AsString(__pyx_v_name);

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1235
 *         if name not in _private_atts:
 *             attname = PyString_AsString(name)
 *             self._grp._redef()             # <<<<<<<<<<<<<< 
 *             ierr = nc_del_att(self._grpid, self._varid, attname)
 *             self._grp._enddef()
 */
    __pyx_1 = PyObject_GetAttr(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp, __pyx_n__redef); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1235; goto __pyx_L1;}
    __pyx_3 = PyObject_CallObject(__pyx_1, 0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1235; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1236
 *             attname = PyString_AsString(name)
 *             self._grp._redef()
 *             ierr = nc_del_att(self._grpid, self._varid, attname)             # <<<<<<<<<<<<<< 
 *             self._grp._enddef()
 *             if ierr != NC_NOERR:
 */
    __pyx_1 = PyInt_FromLong(nc_del_att(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid,((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid,__pyx_v_attname)); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1236; goto __pyx_L1;}
    Py_DECREF(__pyx_v_ierr);
    __pyx_v_ierr = __pyx_1;
    __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1237
 *             self._grp._redef()
 *             ierr = nc_del_att(self._grpid, self._varid, attname)
 *             self._grp._enddef()             # <<<<<<<<<<<<<< 
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_3 = PyObject_GetAttr(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp, __pyx_n__enddef); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1237; goto __pyx_L1;}
    __pyx_1 = PyObject_CallObject(__pyx_3, 0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1237; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1238
 *             ierr = nc_del_att(self._grpid, self._varid, attname)
 *             self._grp._enddef()
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *                 raise RuntimeError(nc_strerror(ierr))
 *         else:
 */
    __pyx_3 = PyInt_FromLong(NC_NOERR); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1238; goto __pyx_L1;}
    __pyx_1 = PyObject_RichCompare(__pyx_v_ierr, __pyx_3, Py_NE); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1238; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1238; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_2) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1239
 *             self._grp._enddef()
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *         else:
 *             raise AttributeError("'%s' is one of the reserved attributes %s, cannot delete" % (name, tuple(_private_atts)))
 */
      __pyx_4 = PyInt_AsLong(__pyx_v_ierr); if (unlikely((__pyx_4 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1239; goto __pyx_L1;}
      __pyx_3 = PyString_FromString(nc_strerror(__pyx_4)); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1239; goto __pyx_L1;}
      __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1239; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_3);
      __pyx_3 = 0;
      __pyx_3 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1239; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __Pyx_Raise(__pyx_3, 0, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1239; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1241
 *                 raise RuntimeError(nc_strerror(ierr))
 *         else:
 *             raise AttributeError("'%s' is one of the reserved attributes %s, cannot delete" % (name, tuple(_private_atts)))             # <<<<<<<<<<<<<< 
 * 
 *     def __setattr__(self,name,value):
 */
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__private_atts); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1241; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1241; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_CallObject(((PyObject*)&PyTuple_Type), __pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1241; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_3 = PyTuple_New(2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1241; goto __pyx_L1;}
    Py_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_name);
    PyTuple_SET_ITEM(__pyx_3, 1, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyNumber_Remainder(__pyx_k108p, __pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1241; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1241; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_CallObject(__pyx_builtin_AttributeError, __pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1241; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1241; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF3.Variable.__delattr__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_ierr);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_name);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1243
 *             raise AttributeError("'%s' is one of the reserved attributes %s, cannot delete" % (name, tuple(_private_atts)))
 * 
 *     def __setattr__(self,name,value):             # <<<<<<<<<<<<<< 
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 */

static PyObject *__pyx_k111p;

static char __pyx_k111[] = "'%s' is one of the reserved attributes %s, cannot rebind";

static int __pyx_pf_7netCDF3_8Variable___setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_8Variable___setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_value) {
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  int __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_name);
  Py_INCREF(__pyx_v_value);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1246
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 *         if name not in _private_atts:             # <<<<<<<<<<<<<< 
 *             # if setting _FillValue, make sure value
 *             # has same type as variable.
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__private_atts); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1246; goto __pyx_L1;}
  __pyx_2 = (!PySequence_Contains(__pyx_1, __pyx_v_name)); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1246; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1249
 *             # if setting _FillValue, make sure value
 *             # has same type as variable.
 *             if name == '_FillValue':             # <<<<<<<<<<<<<< 
 *                 value = NP.array(value, self.dtype)
 *             self._grp._redef()
 */
    __pyx_1 = PyObject_RichCompare(__pyx_v_name, __pyx_n__FillValue, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1249; goto __pyx_L1;}
    __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1249; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_2) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1250
 *             # has same type as variable.
 *             if name == '_FillValue':
 *                 value = NP.array(value, self.dtype)             # <<<<<<<<<<<<<< 
 *             self._grp._redef()
 *             _set_att(self._grpid, self._varid, name, value)
 */
      __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_NP); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1250; goto __pyx_L1;}
      __pyx_3 = PyObject_GetAttr(__pyx_1, __pyx_n_array); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1250; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1250
 *             # has same type as variable.
 *             if name == '_FillValue':
 *                 value = NP.array(value, self.dtype)             # <<<<<<<<<<<<<< 
 *             self._grp._redef()
 *             _set_att(self._grpid, self._varid, name, value)
 */
      __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1250; goto __pyx_L1;}
      Py_INCREF(__pyx_v_value);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_value);
      Py_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
      PyTuple_SET_ITEM(__pyx_1, 1, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
      __pyx_4 = PyObject_CallObject(__pyx_3, __pyx_1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1250; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_v_value);
      __pyx_v_value = __pyx_4;
      __pyx_4 = 0;
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1251
 *             if name == '_FillValue':
 *                 value = NP.array(value, self.dtype)
 *             self._grp._redef()             # <<<<<<<<<<<<<< 
 *             _set_att(self._grpid, self._varid, name, value)
 *             self._grp._enddef()
 */
    __pyx_3 = PyObject_GetAttr(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp, __pyx_n__redef); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1251; goto __pyx_L1;}
    __pyx_1 = PyObject_CallObject(__pyx_3, 0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1251; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1252
 *                 value = NP.array(value, self.dtype)
 *             self._grp._redef()
 *             _set_att(self._grpid, self._varid, name, value)             # <<<<<<<<<<<<<< 
 *             self._grp._enddef()
 *         elif not name.endswith('__'):
 */
    __pyx_4 = __pyx_f_7netCDF3__set_att(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid,((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid,__pyx_v_name,__pyx_v_value); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1252; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1253
 *             self._grp._redef()
 *             _set_att(self._grpid, self._varid, name, value)
 *             self._grp._enddef()             # <<<<<<<<<<<<<< 
 *         elif not name.endswith('__'):
 *             if hasattr(self,name):
 */
    __pyx_3 = PyObject_GetAttr(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp, __pyx_n__enddef); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1253; goto __pyx_L1;}
    __pyx_1 = PyObject_CallObject(__pyx_3, 0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1253; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    goto __pyx_L2;
  }

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1254
 *             _set_att(self._grpid, self._varid, name, value)
 *             self._grp._enddef()
 *         elif not name.endswith('__'):             # <<<<<<<<<<<<<< 
 *             if hasattr(self,name):
 *                 raise AttributeError("'%s' is one of the reserved attributes %s, cannot rebind" % (name, tuple(_private_atts)))
 */
  __pyx_4 = PyObject_GetAttr(__pyx_v_name, __pyx_n_endswith); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1254; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1254
 *             _set_att(self._grpid, self._varid, name, value)
 *             self._grp._enddef()
 *         elif not name.endswith('__'):             # <<<<<<<<<<<<<< 
 *             if hasattr(self,name):
 *                 raise AttributeError("'%s' is one of the reserved attributes %s, cannot rebind" % (name, tuple(_private_atts)))
 */
  __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1254; goto __pyx_L1;}
  Py_INCREF(__pyx_n___);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_n___);
  __pyx_1 = PyObject_CallObject(__pyx_4, __pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1254; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1254; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_5 = (!__pyx_2);
  if (__pyx_5) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1255
 *             self._grp._enddef()
 *         elif not name.endswith('__'):
 *             if hasattr(self,name):             # <<<<<<<<<<<<<< 
 *                 raise AttributeError("'%s' is one of the reserved attributes %s, cannot rebind" % (name, tuple(_private_atts)))
 *             else:
 */
    __pyx_2 = PyObject_HasAttr(__pyx_v_self,__pyx_v_name); if (unlikely(__pyx_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1255; goto __pyx_L1;}
    if (__pyx_2) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1256
 *         elif not name.endswith('__'):
 *             if hasattr(self,name):
 *                 raise AttributeError("'%s' is one of the reserved attributes %s, cannot rebind" % (name, tuple(_private_atts)))             # <<<<<<<<<<<<<< 
 *             else:
 *                 self.__dict__[name]=value
 */
      __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n__private_atts); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1256; goto __pyx_L1;}
      __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1256; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_4);
      __pyx_4 = 0;
      __pyx_1 = PyObject_CallObject(((PyObject*)&PyTuple_Type), __pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1256; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_4 = PyTuple_New(2); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1256; goto __pyx_L1;}
      Py_INCREF(__pyx_v_name);
      PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_name);
      PyTuple_SET_ITEM(__pyx_4, 1, __pyx_1);
      __pyx_1 = 0;
      __pyx_3 = PyNumber_Remainder(__pyx_k111p, __pyx_4); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1256; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1256; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_3);
      __pyx_3 = 0;
      __pyx_4 = PyObject_CallObject(__pyx_builtin_AttributeError, __pyx_1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1256; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __Pyx_Raise(__pyx_4, 0, 0);
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1256; goto __pyx_L1;}
      goto __pyx_L4;
    }
    /*else*/ {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1258
 *                 raise AttributeError("'%s' is one of the reserved attributes %s, cannot rebind" % (name, tuple(_private_atts)))
 *             else:
 *                 self.__dict__[name]=value             # <<<<<<<<<<<<<< 
 * 
 *     def __getattr__(self,name):
 */
      __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n___dict__); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1258; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1258
 *                 raise AttributeError("'%s' is one of the reserved attributes %s, cannot rebind" % (name, tuple(_private_atts)))
 *             else:
 *                 self.__dict__[name]=value             # <<<<<<<<<<<<<< 
 * 
 *     def __getattr__(self,name):
 */
      if (PyObject_SetItem(__pyx_3, __pyx_v_name, __pyx_v_value) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1258; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
    __pyx_L4:;
    goto __pyx_L2;
  }
  __pyx_L2:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("netCDF3.Variable.__setattr__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_value);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1260
 *                 self.__dict__[name]=value
 * 
 *     def __getattr__(self,name):             # <<<<<<<<<<<<<< 
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 */


static PyObject *__pyx_pf_7netCDF3_8Variable___getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
static PyObject *__pyx_pf_7netCDF3_8Variable___getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
  PyObject *__pyx_v_names;
  PyObject *__pyx_v_values;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  Py_ssize_t __pyx_5;
  PyObject *__pyx_6 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_name);
  __pyx_v_names = Py_None; Py_INCREF(Py_None);
  __pyx_v_values = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1263
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 *         if name.startswith('__') and name.endswith('__'):             # <<<<<<<<<<<<<< 
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__': 
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_name, __pyx_n_startswith); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1263; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1263
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 *         if name.startswith('__') and name.endswith('__'):             # <<<<<<<<<<<<<< 
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__': 
 */
  __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1263; goto __pyx_L1;}
  Py_INCREF(__pyx_n___);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_n___);
  __pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1263; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1263; goto __pyx_L1;}
  if (__pyx_4) {
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1263
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 *         if name.startswith('__') and name.endswith('__'):             # <<<<<<<<<<<<<< 
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__': 
 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_name, __pyx_n_endswith); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1263; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1263
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 *         if name.startswith('__') and name.endswith('__'):             # <<<<<<<<<<<<<< 
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__': 
 */
    __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1263; goto __pyx_L1;}
    Py_INCREF(__pyx_n___);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_n___);
    __pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1263; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
  }
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1263; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1265
 *         if name.startswith('__') and name.endswith('__'):
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__':             # <<<<<<<<<<<<<< 
 *                 names = self.ncattrs()
 *                 values = []
 */
    __pyx_2 = PyObject_RichCompare(__pyx_v_name, __pyx_n___dict__, Py_EQ); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1265; goto __pyx_L1;}
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1265; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (__pyx_4) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1266
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__': 
 *                 names = self.ncattrs()             # <<<<<<<<<<<<<< 
 *                 values = []
 *                 for name in names:
 */
      __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n_ncattrs); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1266; goto __pyx_L1;}
      __pyx_1 = PyObject_CallObject(__pyx_3, 0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1266; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_v_names);
      __pyx_v_names = __pyx_1;
      __pyx_1 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1267
 *             if name == '__dict__': 
 *                 names = self.ncattrs()
 *                 values = []             # <<<<<<<<<<<<<< 
 *                 for name in names:
 *                     values.append(_get_att(self._grpid, self._varid, name))
 */
      __pyx_2 = PyList_New(0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1267; goto __pyx_L1;}
      Py_DECREF(__pyx_v_values);
      __pyx_v_values = __pyx_2;
      __pyx_2 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1268
 *                 names = self.ncattrs()
 *                 values = []
 *                 for name in names:             # <<<<<<<<<<<<<< 
 *                     values.append(_get_att(self._grpid, self._varid, name))
 *                 return dict(zip(names,values))
 */
      if (PyList_CheckExact(__pyx_v_names)) { __pyx_5 = 0; __pyx_3 = __pyx_v_names; Py_INCREF(__pyx_3); }
      else { __pyx_3 = PyObject_GetIter(__pyx_v_names); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1268; goto __pyx_L1;} }
      for (;;) {

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1268
 *                 names = self.ncattrs()
 *                 values = []
 *                 for name in names:             # <<<<<<<<<<<<<< 
 *                     values.append(_get_att(self._grpid, self._varid, name))
 *                 return dict(zip(names,values))
 */
        if (PyList_CheckExact(__pyx_3)) { if (__pyx_5 >= PyList_GET_SIZE(__pyx_3)) break; __pyx_1 = PyList_GET_ITEM(__pyx_3, __pyx_5++); Py_INCREF(__pyx_1); }
        else {
          __pyx_1 = PyIter_Next(__pyx_3);
          if (!__pyx_1) {
            break;
          }
        }
        Py_DECREF(__pyx_v_name);
        __pyx_v_name = __pyx_1;
        __pyx_1 = 0;

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1269
 *                 values = []
 *                 for name in names:
 *                     values.append(_get_att(self._grpid, self._varid, name))             # <<<<<<<<<<<<<< 
 *                 return dict(zip(names,values))
 *             else:
 */
        __pyx_2 = PyObject_GetAttr(__pyx_v_values, __pyx_n_append); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1269; goto __pyx_L1;}

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1269
 *                 values = []
 *                 for name in names:
 *                     values.append(_get_att(self._grpid, self._varid, name))             # <<<<<<<<<<<<<< 
 *                 return dict(zip(names,values))
 *             else:
 */
        __pyx_1 = __pyx_f_7netCDF3__get_att(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid,((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid,__pyx_v_name); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1269; goto __pyx_L1;}
        __pyx_6 = PyTuple_New(1); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1269; goto __pyx_L1;}
        PyTuple_SET_ITEM(__pyx_6, 0, __pyx_1);
        __pyx_1 = 0;
        __pyx_1 = PyObject_CallObject(__pyx_2, __pyx_6); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1269; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        Py_DECREF(__pyx_1); __pyx_1 = 0;
      }
      Py_DECREF(__pyx_3); __pyx_3 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1270
 *                 for name in names:
 *                     values.append(_get_att(self._grpid, self._varid, name))
 *                 return dict(zip(names,values))             # <<<<<<<<<<<<<< 
 *             else:
 *                 raise AttributeError
 */
      __pyx_2 = PyTuple_New(2); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1270; goto __pyx_L1;}
      Py_INCREF(__pyx_v_names);
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_names);
      Py_INCREF(__pyx_v_values);
      PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_values);
      __pyx_6 = PyObject_CallObject(__pyx_builtin_zip, __pyx_2); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1270; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1270; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_6);
      __pyx_6 = 0;
      __pyx_3 = PyObject_CallObject(((PyObject*)&PyDict_Type), __pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1270; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_r = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L0;
      goto __pyx_L3;
    }
    /*else*/ {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1272
 *                 return dict(zip(names,values))
 *             else:
 *                 raise AttributeError             # <<<<<<<<<<<<<< 
 *         elif name in _private_atts:
 *             return self.__dict__[name]
 */
      __Pyx_Raise(__pyx_builtin_AttributeError, 0, 0);
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1272; goto __pyx_L1;}
    }
    __pyx_L3:;
    goto __pyx_L2;
  }

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1273
 *             else:
 *                 raise AttributeError
 *         elif name in _private_atts:             # <<<<<<<<<<<<<< 
 *             return self.__dict__[name]
 *         else:
 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n__private_atts); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1273; goto __pyx_L1;}
  __pyx_4 = (PySequence_Contains(__pyx_2, __pyx_v_name)); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1273; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_4) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1274
 *                 raise AttributeError
 *         elif name in _private_atts:
 *             return self.__dict__[name]             # <<<<<<<<<<<<<< 
 *         else:
 *             return _get_att(self._grpid, self._varid, name)
 */
    __pyx_6 = PyObject_GetAttr(__pyx_v_self, __pyx_n___dict__); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1274; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1274
 *                 raise AttributeError
 *         elif name in _private_atts:
 *             return self.__dict__[name]             # <<<<<<<<<<<<<< 
 *         else:
 *             return _get_att(self._grpid, self._varid, name)
 */
    __pyx_1 = PyObject_GetItem(__pyx_6, __pyx_v_name); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1274; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_r = __pyx_1;
    __pyx_1 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1276
 *             return self.__dict__[name]
 *         else:
 *             return _get_att(self._grpid, self._varid, name)             # <<<<<<<<<<<<<< 
 * 
 *     def __getitem__(self, elem):
 */
    __pyx_3 = __pyx_f_7netCDF3__get_att(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid,((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid,__pyx_v_name); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1276; goto __pyx_L1;}
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("netCDF3.Variable.__getattr__");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_names);
  Py_DECREF(__pyx_v_values);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_name);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1278
 *             return _get_att(self._grpid, self._varid, name)
 * 
 *     def __getitem__(self, elem):             # <<<<<<<<<<<<<< 
 *         # This special method is used to index the netCDF variable
 *         # using the "extended slice syntax". The extended slice syntax
 */

static PyObject *__pyx_n_squeeze;
static PyObject *__pyx_n_zeros;
static PyObject *__pyx_n_bool;
static PyObject *__pyx_n_missing_value;
static PyObject *__pyx_n_any;
static PyObject *__pyx_n_masked_array;
static PyObject *__pyx_n_mask;
static PyObject *__pyx_n_scale_factor;
static PyObject *__pyx_n_add_offset;


static PyObject *__pyx_pf_7netCDF3_8Variable___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_elem); /*proto*/
static PyObject *__pyx_pf_7netCDF3_8Variable___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_elem) {
  PyObject *__pyx_v_start;
  PyObject *__pyx_v_count;
  PyObject *__pyx_v_stride;
  PyObject *__pyx_v_sliceout;
  PyObject *__pyx_v_data;
  PyObject *__pyx_v_totalmask;
  PyObject *__pyx_v_fill_value;
  PyObject *__pyx_v_mask;
  PyObject *__pyx_v_fillval;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  int __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_elem);
  __pyx_v_start = Py_None; Py_INCREF(Py_None);
  __pyx_v_count = Py_None; Py_INCREF(Py_None);
  __pyx_v_stride = Py_None; Py_INCREF(Py_None);
  __pyx_v_sliceout = Py_None; Py_INCREF(Py_None);
  __pyx_v_data = Py_None; Py_INCREF(Py_None);
  __pyx_v_totalmask = Py_None; Py_INCREF(Py_None);
  __pyx_v_fill_value = Py_None; Py_INCREF(Py_None);
  __pyx_v_mask = Py_None; Py_INCREF(Py_None);
  __pyx_v_fillval = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1284
 *         # arguments to the nc_get_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         data =  self._get(start, count, stride)
 *         if sliceout is not None:
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__buildStartCountStride); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1284; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1284
 *         # arguments to the nc_get_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         data =  self._get(start, count, stride)
 *         if sliceout is not None:
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_shape); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1284; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1284
 *         # arguments to the nc_get_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         data =  self._get(start, count, stride)
 *         if sliceout is not None:
 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n_dimensions); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1284; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1284
 *         # arguments to the nc_get_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         data =  self._get(start, count, stride)
 *         if sliceout is not None:
 */
  __pyx_4 = PyTuple_New(4); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1284; goto __pyx_L1;}
  Py_INCREF(__pyx_v_elem);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_elem);
  PyTuple_SET_ITEM(__pyx_4, 1, __pyx_2);
  PyTuple_SET_ITEM(__pyx_4, 2, __pyx_3);
  Py_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp);
  PyTuple_SET_ITEM(__pyx_4, 3, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp);
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_4); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1284; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (PyTuple_CheckExact(__pyx_2) && PyTuple_GET_SIZE(__pyx_2) == 4) {
    __pyx_1 = PyTuple_GET_ITEM(__pyx_2, 0);
    Py_INCREF(__pyx_1);

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1284
 *         # arguments to the nc_get_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         data =  self._get(start, count, stride)
 *         if sliceout is not None:
 */
    Py_DECREF(__pyx_v_start);
    __pyx_v_start = __pyx_1;
    __pyx_1 = 0;
    __pyx_4 = PyTuple_GET_ITEM(__pyx_2, 1);
    Py_INCREF(__pyx_4);

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1284
 *         # arguments to the nc_get_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         data =  self._get(start, count, stride)
 *         if sliceout is not None:
 */
    Py_DECREF(__pyx_v_count);
    __pyx_v_count = __pyx_4;
    __pyx_4 = 0;
    __pyx_1 = PyTuple_GET_ITEM(__pyx_2, 2);
    Py_INCREF(__pyx_1);

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1284
 *         # arguments to the nc_get_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         data =  self._get(start, count, stride)
 *         if sliceout is not None:
 */
    Py_DECREF(__pyx_v_stride);
    __pyx_v_stride = __pyx_1;
    __pyx_1 = 0;
    __pyx_4 = PyTuple_GET_ITEM(__pyx_2, 3);
    Py_INCREF(__pyx_4);

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1284
 *         # arguments to the nc_get_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         data =  self._get(start, count, stride)
 *         if sliceout is not None:
 */
    Py_DECREF(__pyx_v_sliceout);
    __pyx_v_sliceout = __pyx_4;
    __pyx_4 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  else {
    __pyx_3 = PyObject_GetIter(__pyx_2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1284; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_1 = __Pyx_UnpackItem(__pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1284; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1284
 *         # arguments to the nc_get_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         data =  self._get(start, count, stride)
 *         if sliceout is not None:
 */
    Py_DECREF(__pyx_v_start);
    __pyx_v_start = __pyx_1;
    __pyx_1 = 0;
    __pyx_4 = __Pyx_UnpackItem(__pyx_3); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1284; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1284
 *         # arguments to the nc_get_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         data =  self._get(start, count, stride)
 *         if sliceout is not None:
 */
    Py_DECREF(__pyx_v_count);
    __pyx_v_count = __pyx_4;
    __pyx_4 = 0;
    __pyx_1 = __Pyx_UnpackItem(__pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1284; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1284
 *         # arguments to the nc_get_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         data =  self._get(start, count, stride)
 *         if sliceout is not None:
 */
    Py_DECREF(__pyx_v_stride);
    __pyx_v_stride = __pyx_1;
    __pyx_1 = 0;
    __pyx_4 = __Pyx_UnpackItem(__pyx_3); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1284; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1284
 *         # arguments to the nc_get_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         data =  self._get(start, count, stride)
 *         if sliceout is not None:
 */
    Py_DECREF(__pyx_v_sliceout);
    __pyx_v_sliceout = __pyx_4;
    __pyx_4 = 0;
    if (__Pyx_EndUnpack(__pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1284; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
  }

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1285
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)
 *         data =  self._get(start, count, stride)             # <<<<<<<<<<<<<< 
 *         if sliceout is not None:
 *             data = data[sliceout].squeeze() # slice resulting array with 'fancy' indices
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n__get); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1285; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1285
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)
 *         data =  self._get(start, count, stride)             # <<<<<<<<<<<<<< 
 *         if sliceout is not None:
 *             data = data[sliceout].squeeze() # slice resulting array with 'fancy' indices
 */
  __pyx_4 = PyTuple_New(3); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1285; goto __pyx_L1;}
  Py_INCREF(__pyx_v_start);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_start);
  Py_INCREF(__pyx_v_count);
  PyTuple_SET_ITEM(__pyx_4, 1, __pyx_v_count);
  Py_INCREF(__pyx_v_stride);
  PyTuple_SET_ITEM(__pyx_4, 2, __pyx_v_stride);
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_4); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1285; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_v_data);
  __pyx_v_data = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1286
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)
 *         data =  self._get(start, count, stride)
 *         if sliceout is not None:             # <<<<<<<<<<<<<< 
 *             data = data[sliceout].squeeze() # slice resulting array with 'fancy' indices
 *         # if auto_maskandscale mode set to True, (through
 */
  __pyx_5 = (__pyx_v_sliceout != Py_None);
  if (__pyx_5) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1287
 *         data =  self._get(start, count, stride)
 *         if sliceout is not None:
 *             data = data[sliceout].squeeze() # slice resulting array with 'fancy' indices             # <<<<<<<<<<<<<< 
 *         # if auto_maskandscale mode set to True, (through
 *         # a call to set_auto_maskandscale), perform
 */
    __pyx_3 = PyObject_GetItem(__pyx_v_data, __pyx_v_sliceout); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1287; goto __pyx_L1;}
    __pyx_1 = PyObject_GetAttr(__pyx_3, __pyx_n_squeeze); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1287; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_4 = PyObject_CallObject(__pyx_1, 0); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1287; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_v_data);
    __pyx_v_data = __pyx_4;
    __pyx_4 = 0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1293
 *         # and automatic conversion to masked array using
 *         # missing_value/_Fill_Value.
 *         if self.maskandscale:             # <<<<<<<<<<<<<< 
 *             totalmask = NP.zeros(data.shape, NP.bool)
 *             fill_value = None
 */
  __pyx_5 = __Pyx_PyObject_IsTrue(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale); if (unlikely(__pyx_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1293; goto __pyx_L1;}
  if (__pyx_5) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1294
 *         # missing_value/_Fill_Value.
 *         if self.maskandscale:
 *             totalmask = NP.zeros(data.shape, NP.bool)             # <<<<<<<<<<<<<< 
 *             fill_value = None
 *             if hasattr(self, 'missing_value') and (data == self.missing_value).any():
 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_NP); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1294; goto __pyx_L1;}
    __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_zeros); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1294; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1294
 *         # missing_value/_Fill_Value.
 *         if self.maskandscale:
 *             totalmask = NP.zeros(data.shape, NP.bool)             # <<<<<<<<<<<<<< 
 *             fill_value = None
 *             if hasattr(self, 'missing_value') and (data == self.missing_value).any():
 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_data, __pyx_n_shape); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1294; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1294
 *         # missing_value/_Fill_Value.
 *         if self.maskandscale:
 *             totalmask = NP.zeros(data.shape, NP.bool)             # <<<<<<<<<<<<<< 
 *             fill_value = None
 *             if hasattr(self, 'missing_value') and (data == self.missing_value).any():
 */
    __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_NP); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1294; goto __pyx_L1;}
    __pyx_2 = PyObject_GetAttr(__pyx_4, __pyx_n_bool); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1294; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_4 = PyTuple_New(2); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1294; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
    PyTuple_SET_ITEM(__pyx_4, 1, __pyx_2);
    __pyx_1 = 0;
    __pyx_2 = 0;
    __pyx_1 = PyObject_CallObject(__pyx_3, __pyx_4); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1294; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_v_totalmask);
    __pyx_v_totalmask = __pyx_1;
    __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1295
 *         if self.maskandscale:
 *             totalmask = NP.zeros(data.shape, NP.bool)
 *             fill_value = None             # <<<<<<<<<<<<<< 
 *             if hasattr(self, 'missing_value') and (data == self.missing_value).any():
 *                 mask=data==self.missing_value
 */
    Py_INCREF(Py_None);
    Py_DECREF(__pyx_v_fill_value);
    __pyx_v_fill_value = Py_None;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1296
 *             totalmask = NP.zeros(data.shape, NP.bool)
 *             fill_value = None
 *             if hasattr(self, 'missing_value') and (data == self.missing_value).any():             # <<<<<<<<<<<<<< 
 *                 mask=data==self.missing_value
 *                 fill_value = self.missing_value
 */
    __pyx_5 = PyObject_HasAttr(__pyx_v_self,__pyx_n_missing_value); if (unlikely(__pyx_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1296; goto __pyx_L1;}
    __pyx_2 = __Pyx_PyBool_FromLong(__pyx_5); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1296; goto __pyx_L1;}
    __pyx_5 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1296; goto __pyx_L1;}
    if (__pyx_5) {
      Py_DECREF(__pyx_2); __pyx_2 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1296
 *             totalmask = NP.zeros(data.shape, NP.bool)
 *             fill_value = None
 *             if hasattr(self, 'missing_value') and (data == self.missing_value).any():             # <<<<<<<<<<<<<< 
 *                 mask=data==self.missing_value
 *                 fill_value = self.missing_value
 */
      __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n_missing_value); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1296; goto __pyx_L1;}
      __pyx_4 = PyObject_RichCompare(__pyx_v_data, __pyx_3, Py_EQ); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1296; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_1 = PyObject_GetAttr(__pyx_4, __pyx_n_any); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1296; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __pyx_2 = PyObject_CallObject(__pyx_1, 0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1296; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
    }
    __pyx_5 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1296; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (__pyx_5) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1297
 *             fill_value = None
 *             if hasattr(self, 'missing_value') and (data == self.missing_value).any():
 *                 mask=data==self.missing_value             # <<<<<<<<<<<<<< 
 *                 fill_value = self.missing_value
 *                 totalmask = totalmask + mask
 */
      __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n_missing_value); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1297; goto __pyx_L1;}
      __pyx_4 = PyObject_RichCompare(__pyx_v_data, __pyx_3, Py_EQ); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1297; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_v_mask);
      __pyx_v_mask = __pyx_4;
      __pyx_4 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1298
 *             if hasattr(self, 'missing_value') and (data == self.missing_value).any():
 *                 mask=data==self.missing_value
 *                 fill_value = self.missing_value             # <<<<<<<<<<<<<< 
 *                 totalmask = totalmask + mask
 *             if hasattr(self, '_FillValue') and (data == self._FillValue).any():
 */
      __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_missing_value); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1298; goto __pyx_L1;}
      Py_DECREF(__pyx_v_fill_value);
      __pyx_v_fill_value = __pyx_1;
      __pyx_1 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1299
 *                 mask=data==self.missing_value
 *                 fill_value = self.missing_value
 *                 totalmask = totalmask + mask             # <<<<<<<<<<<<<< 
 *             if hasattr(self, '_FillValue') and (data == self._FillValue).any():
 *                 mask=data==self._FillValue
 */
      __pyx_2 = PyNumber_Add(__pyx_v_totalmask, __pyx_v_mask); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1299; goto __pyx_L1;}
      Py_DECREF(__pyx_v_totalmask);
      __pyx_v_totalmask = __pyx_2;
      __pyx_2 = 0;
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1300
 *                 fill_value = self.missing_value
 *                 totalmask = totalmask + mask
 *             if hasattr(self, '_FillValue') and (data == self._FillValue).any():             # <<<<<<<<<<<<<< 
 *                 mask=data==self._FillValue
 *                 if fill_value is None:
 */
    __pyx_5 = PyObject_HasAttr(__pyx_v_self,__pyx_n__FillValue); if (unlikely(__pyx_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1300; goto __pyx_L1;}
    __pyx_3 = __Pyx_PyBool_FromLong(__pyx_5); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1300; goto __pyx_L1;}
    __pyx_5 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1300; goto __pyx_L1;}
    if (__pyx_5) {
      Py_DECREF(__pyx_3); __pyx_3 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1300
 *                 fill_value = self.missing_value
 *                 totalmask = totalmask + mask
 *             if hasattr(self, '_FillValue') and (data == self._FillValue).any():             # <<<<<<<<<<<<<< 
 *                 mask=data==self._FillValue
 *                 if fill_value is None:
 */
      __pyx_4 = PyObject_GetAttr(__pyx_v_self, __pyx_n__FillValue); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1300; goto __pyx_L1;}
      __pyx_1 = PyObject_RichCompare(__pyx_v_data, __pyx_4, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1300; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_any); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1300; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyObject_CallObject(__pyx_2, 0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1300; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
    }
    __pyx_5 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1300; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (__pyx_5) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1301
 *                 totalmask = totalmask + mask
 *             if hasattr(self, '_FillValue') and (data == self._FillValue).any():
 *                 mask=data==self._FillValue             # <<<<<<<<<<<<<< 
 *                 if fill_value is None:
 *                     fill_value = self._FillValue
 */
      __pyx_4 = PyObject_GetAttr(__pyx_v_self, __pyx_n__FillValue); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1301; goto __pyx_L1;}
      __pyx_1 = PyObject_RichCompare(__pyx_v_data, __pyx_4, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1301; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_v_mask);
      __pyx_v_mask = __pyx_1;
      __pyx_1 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1302
 *             if hasattr(self, '_FillValue') and (data == self._FillValue).any():
 *                 mask=data==self._FillValue
 *                 if fill_value is None:             # <<<<<<<<<<<<<< 
 *                     fill_value = self._FillValue
 *                 totalmask = totalmask + mask
 */
      __pyx_5 = (__pyx_v_fill_value == Py_None);
      if (__pyx_5) {

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1303
 *                 mask=data==self._FillValue
 *                 if fill_value is None:
 *                     fill_value = self._FillValue             # <<<<<<<<<<<<<< 
 *                 totalmask = totalmask + mask
 *             else:
 */
        __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n__FillValue); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1303; goto __pyx_L1;}
        Py_DECREF(__pyx_v_fill_value);
        __pyx_v_fill_value = __pyx_2;
        __pyx_2 = 0;
        goto __pyx_L6;
      }
      __pyx_L6:;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1304
 *                 if fill_value is None:
 *                     fill_value = self._FillValue
 *                 totalmask = totalmask + mask             # <<<<<<<<<<<<<< 
 *             else:
 *                 fillval = _default_fillvals[self.dtype.str[1:]]
 */
      __pyx_3 = PyNumber_Add(__pyx_v_totalmask, __pyx_v_mask); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1304; goto __pyx_L1;}
      Py_DECREF(__pyx_v_totalmask);
      __pyx_v_totalmask = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L5;
    }
    /*else*/ {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1306
 *                 totalmask = totalmask + mask
 *             else:
 *                 fillval = _default_fillvals[self.dtype.str[1:]]             # <<<<<<<<<<<<<< 
 *                 if (data == fillval).any():
 *                     mask=data==fillval
 */
      __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n__default_fillvals); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1306; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1306
 *                 totalmask = totalmask + mask
 *             else:
 *                 fillval = _default_fillvals[self.dtype.str[1:]]             # <<<<<<<<<<<<<< 
 *                 if (data == fillval).any():
 *                     mask=data==fillval
 */
      __pyx_1 = PyObject_GetAttr(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype, __pyx_n_str); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1306; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1306
 *                 totalmask = totalmask + mask
 *             else:
 *                 fillval = _default_fillvals[self.dtype.str[1:]]             # <<<<<<<<<<<<<< 
 *                 if (data == fillval).any():
 *                     mask=data==fillval
 */
      __pyx_2 = PySequence_GetSlice(__pyx_1, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1306; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyObject_GetItem(__pyx_4, __pyx_2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1306; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_v_fillval);
      __pyx_v_fillval = __pyx_3;
      __pyx_3 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1307
 *             else:
 *                 fillval = _default_fillvals[self.dtype.str[1:]]
 *                 if (data == fillval).any():             # <<<<<<<<<<<<<< 
 *                     mask=data==fillval
 *                     if fill_value is None:
 */
      __pyx_1 = PyObject_RichCompare(__pyx_v_data, __pyx_v_fillval, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1307; goto __pyx_L1;}
      __pyx_4 = PyObject_GetAttr(__pyx_1, __pyx_n_any); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1307; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_2 = PyObject_CallObject(__pyx_4, 0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1307; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __pyx_5 = __Pyx_PyObject_IsTrue(__pyx_2); if (unlikely(__pyx_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1307; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      if (__pyx_5) {

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1308
 *                 fillval = _default_fillvals[self.dtype.str[1:]]
 *                 if (data == fillval).any():
 *                     mask=data==fillval             # <<<<<<<<<<<<<< 
 *                     if fill_value is None:
 *                         fill_value = fillval
 */
        __pyx_3 = PyObject_RichCompare(__pyx_v_data, __pyx_v_fillval, Py_EQ); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1308; goto __pyx_L1;}
        Py_DECREF(__pyx_v_mask);
        __pyx_v_mask = __pyx_3;
        __pyx_3 = 0;

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1309
 *                 if (data == fillval).any():
 *                     mask=data==fillval
 *                     if fill_value is None:             # <<<<<<<<<<<<<< 
 *                         fill_value = fillval
 *                     totalmask = totalmask + mask
 */
        __pyx_5 = (__pyx_v_fill_value == Py_None);
        if (__pyx_5) {

          /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1310
 *                     mask=data==fillval
 *                     if fill_value is None:
 *                         fill_value = fillval             # <<<<<<<<<<<<<< 
 *                     totalmask = totalmask + mask
 *             # all values where data == missing_value or _FillValue are
 */
          Py_INCREF(__pyx_v_fillval);
          Py_DECREF(__pyx_v_fill_value);
          __pyx_v_fill_value = __pyx_v_fillval;
          goto __pyx_L8;
        }
        __pyx_L8:;

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1311
 *                     if fill_value is None:
 *                         fill_value = fillval
 *                     totalmask = totalmask + mask             # <<<<<<<<<<<<<< 
 *             # all values where data == missing_value or _FillValue are
 *             # masked.  fill_value set to missing_value if it exists,
 */
        __pyx_1 = PyNumber_Add(__pyx_v_totalmask, __pyx_v_mask); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1311; goto __pyx_L1;}
        Py_DECREF(__pyx_v_totalmask);
        __pyx_v_totalmask = __pyx_1;
        __pyx_1 = 0;
        goto __pyx_L7;
      }
      __pyx_L7:;
    }
    __pyx_L5:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1315
 *             # masked.  fill_value set to missing_value if it exists,
 *             # otherwise _FillValue.
 *             if fill_value is not None:             # <<<<<<<<<<<<<< 
 *                 data = ma.masked_array(data,mask=totalmask,fill_value=fill_value)
 *             # if variable has scale_factor and add_offset attributes, rescale.
 */
    __pyx_5 = (__pyx_v_fill_value != Py_None);
    if (__pyx_5) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1316
 *             # otherwise _FillValue.
 *             if fill_value is not None:
 *                 data = ma.masked_array(data,mask=totalmask,fill_value=fill_value)             # <<<<<<<<<<<<<< 
 *             # if variable has scale_factor and add_offset attributes, rescale.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 */
      __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_ma); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1316; goto __pyx_L1;}
      __pyx_2 = PyObject_GetAttr(__pyx_4, __pyx_n_masked_array); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1316; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1316
 *             # otherwise _FillValue.
 *             if fill_value is not None:
 *                 data = ma.masked_array(data,mask=totalmask,fill_value=fill_value)             # <<<<<<<<<<<<<< 
 *             # if variable has scale_factor and add_offset attributes, rescale.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 */
      __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1316; goto __pyx_L1;}
      Py_INCREF(__pyx_v_data);
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_data);
      __pyx_1 = PyDict_New(); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1316; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1316
 *             # otherwise _FillValue.
 *             if fill_value is not None:
 *                 data = ma.masked_array(data,mask=totalmask,fill_value=fill_value)             # <<<<<<<<<<<<<< 
 *             # if variable has scale_factor and add_offset attributes, rescale.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 */
      if (PyDict_SetItem(__pyx_1, __pyx_n_mask, __pyx_v_totalmask) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1316; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1316
 *             # otherwise _FillValue.
 *             if fill_value is not None:
 *                 data = ma.masked_array(data,mask=totalmask,fill_value=fill_value)             # <<<<<<<<<<<<<< 
 *             # if variable has scale_factor and add_offset attributes, rescale.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 */
      if (PyDict_SetItem(__pyx_1, __pyx_n_fill_value, __pyx_v_fill_value) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1316; goto __pyx_L1;}
      __pyx_4 = PyEval_CallObjectWithKeywords(__pyx_2, __pyx_3, __pyx_1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1316; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_v_data);
      __pyx_v_data = __pyx_4;
      __pyx_4 = 0;
      goto __pyx_L9;
    }
    __pyx_L9:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1318
 *                 data = ma.masked_array(data,mask=totalmask,fill_value=fill_value)
 *             # if variable has scale_factor and add_offset attributes, rescale.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):             # <<<<<<<<<<<<<< 
 *                 data = self.scale_factor*data + self.add_offset
 *         return data
 */
    __pyx_5 = PyObject_HasAttr(__pyx_v_self,__pyx_n_scale_factor); if (unlikely(__pyx_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1318; goto __pyx_L1;}
    if (__pyx_5) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1318
 *                 data = ma.masked_array(data,mask=totalmask,fill_value=fill_value)
 *             # if variable has scale_factor and add_offset attributes, rescale.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):             # <<<<<<<<<<<<<< 
 *                 data = self.scale_factor*data + self.add_offset
 *         return data
 */
      __pyx_5 = PyObject_HasAttr(__pyx_v_self,__pyx_n_add_offset); if (unlikely(__pyx_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1318; goto __pyx_L1;}
    }
    if (__pyx_5) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1319
 *             # if variable has scale_factor and add_offset attributes, rescale.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 *                 data = self.scale_factor*data + self.add_offset             # <<<<<<<<<<<<<< 
 *         return data
 *  
 */
      __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_scale_factor); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1319; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1319
 *             # if variable has scale_factor and add_offset attributes, rescale.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 *                 data = self.scale_factor*data + self.add_offset             # <<<<<<<<<<<<<< 
 *         return data
 *  
 */
      __pyx_3 = PyNumber_Multiply(__pyx_2, __pyx_v_data); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1319; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1319
 *             # if variable has scale_factor and add_offset attributes, rescale.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 *                 data = self.scale_factor*data + self.add_offset             # <<<<<<<<<<<<<< 
 *         return data
 *  
 */
      __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_add_offset); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1319; goto __pyx_L1;}
      __pyx_4 = PyNumber_Add(__pyx_3, __pyx_1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1319; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_v_data);
      __pyx_v_data = __pyx_4;
      __pyx_4 = 0;
      goto __pyx_L10;
    }
    __pyx_L10:;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1320
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 *                 data = self.scale_factor*data + self.add_offset
 *         return data             # <<<<<<<<<<<<<< 
 *  
 *     def __setitem__(self, elem, data):
 */
  Py_INCREF(__pyx_v_data);
  __pyx_r = __pyx_v_data;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("netCDF3.Variable.__getitem__");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_start);
  Py_DECREF(__pyx_v_count);
  Py_DECREF(__pyx_v_stride);
  Py_DECREF(__pyx_v_sliceout);
  Py_DECREF(__pyx_v_data);
  Py_DECREF(__pyx_v_totalmask);
  Py_DECREF(__pyx_v_fill_value);
  Py_DECREF(__pyx_v_mask);
  Py_DECREF(__pyx_v_fillval);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_elem);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1322
 *         return data
 *  
 *     def __setitem__(self, elem, data):             # <<<<<<<<<<<<<< 
 *         # This special method is used to assign to the netCDF variable
 *         # using "extended slice syntax". The extended slice syntax
 */

static PyObject *__pyx_n_filled;
static PyObject *__pyx_n_ndarray;


static int __pyx_pf_7netCDF3_8Variable___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_elem, PyObject *__pyx_v_data); /*proto*/
static int __pyx_pf_7netCDF3_8Variable___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_elem, PyObject *__pyx_v_data) {
  PyObject *__pyx_v_start;
  PyObject *__pyx_v_count;
  PyObject *__pyx_v_stride;
  PyObject *__pyx_v_sliceout;
  PyObject *__pyx_v_fillval;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  int __pyx_5;
  int __pyx_6;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_elem);
  Py_INCREF(__pyx_v_data);
  __pyx_v_start = Py_None; Py_INCREF(Py_None);
  __pyx_v_count = Py_None; Py_INCREF(Py_None);
  __pyx_v_stride = Py_None; Py_INCREF(Py_None);
  __pyx_v_sliceout = Py_None; Py_INCREF(Py_None);
  __pyx_v_fillval = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1328
 *         # arguments to the nc_put_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         # if auto_maskandscale mode set to True, (through
 *         # a call to set_auto_maskandscale), perform
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__buildStartCountStride); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1328; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1328
 *         # arguments to the nc_put_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         # if auto_maskandscale mode set to True, (through
 *         # a call to set_auto_maskandscale), perform
 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_shape); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1328; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1328
 *         # arguments to the nc_put_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         # if auto_maskandscale mode set to True, (through
 *         # a call to set_auto_maskandscale), perform
 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n_dimensions); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1328; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1328
 *         # arguments to the nc_put_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         # if auto_maskandscale mode set to True, (through
 *         # a call to set_auto_maskandscale), perform
 */
  __pyx_4 = PyTuple_New(4); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1328; goto __pyx_L1;}
  Py_INCREF(__pyx_v_elem);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_elem);
  PyTuple_SET_ITEM(__pyx_4, 1, __pyx_2);
  PyTuple_SET_ITEM(__pyx_4, 2, __pyx_3);
  Py_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp);
  PyTuple_SET_ITEM(__pyx_4, 3, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp);
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_4); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1328; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (PyTuple_CheckExact(__pyx_2) && PyTuple_GET_SIZE(__pyx_2) == 4) {
    __pyx_1 = PyTuple_GET_ITEM(__pyx_2, 0);
    Py_INCREF(__pyx_1);

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1328
 *         # arguments to the nc_put_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         # if auto_maskandscale mode set to True, (through
 *         # a call to set_auto_maskandscale), perform
 */
    Py_DECREF(__pyx_v_start);
    __pyx_v_start = __pyx_1;
    __pyx_1 = 0;
    __pyx_4 = PyTuple_GET_ITEM(__pyx_2, 1);
    Py_INCREF(__pyx_4);

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1328
 *         # arguments to the nc_put_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         # if auto_maskandscale mode set to True, (through
 *         # a call to set_auto_maskandscale), perform
 */
    Py_DECREF(__pyx_v_count);
    __pyx_v_count = __pyx_4;
    __pyx_4 = 0;
    __pyx_1 = PyTuple_GET_ITEM(__pyx_2, 2);
    Py_INCREF(__pyx_1);

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1328
 *         # arguments to the nc_put_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         # if auto_maskandscale mode set to True, (through
 *         # a call to set_auto_maskandscale), perform
 */
    Py_DECREF(__pyx_v_stride);
    __pyx_v_stride = __pyx_1;
    __pyx_1 = 0;
    __pyx_4 = PyTuple_GET_ITEM(__pyx_2, 3);
    Py_INCREF(__pyx_4);

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1328
 *         # arguments to the nc_put_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         # if auto_maskandscale mode set to True, (through
 *         # a call to set_auto_maskandscale), perform
 */
    Py_DECREF(__pyx_v_sliceout);
    __pyx_v_sliceout = __pyx_4;
    __pyx_4 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  else {
    __pyx_3 = PyObject_GetIter(__pyx_2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1328; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_1 = __Pyx_UnpackItem(__pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1328; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1328
 *         # arguments to the nc_put_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         # if auto_maskandscale mode set to True, (through
 *         # a call to set_auto_maskandscale), perform
 */
    Py_DECREF(__pyx_v_start);
    __pyx_v_start = __pyx_1;
    __pyx_1 = 0;
    __pyx_4 = __Pyx_UnpackItem(__pyx_3); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1328; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1328
 *         # arguments to the nc_put_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         # if auto_maskandscale mode set to True, (through
 *         # a call to set_auto_maskandscale), perform
 */
    Py_DECREF(__pyx_v_count);
    __pyx_v_count = __pyx_4;
    __pyx_4 = 0;
    __pyx_1 = __Pyx_UnpackItem(__pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1328; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1328
 *         # arguments to the nc_put_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         # if auto_maskandscale mode set to True, (through
 *         # a call to set_auto_maskandscale), perform
 */
    Py_DECREF(__pyx_v_stride);
    __pyx_v_stride = __pyx_1;
    __pyx_1 = 0;
    __pyx_4 = __Pyx_UnpackItem(__pyx_3); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1328; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1328
 *         # arguments to the nc_put_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, sliceout = _buildStartCountStride(elem,self.shape,self.dimensions,self._grp)             # <<<<<<<<<<<<<< 
 *         # if auto_maskandscale mode set to True, (through
 *         # a call to set_auto_maskandscale), perform
 */
    Py_DECREF(__pyx_v_sliceout);
    __pyx_v_sliceout = __pyx_4;
    __pyx_4 = 0;
    if (__Pyx_EndUnpack(__pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1328; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
  }

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1334
 *         # and automatic filling of masked arrays using
 *         # missing_value/_Fill_Value.
 *         if self.maskandscale:             # <<<<<<<<<<<<<< 
 *             # use missing_value as fill value.
 *             # if no missing value set, use _FillValue.
 */
  __pyx_5 = __Pyx_PyObject_IsTrue(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale); if (unlikely(__pyx_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1334; goto __pyx_L1;}
  if (__pyx_5) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1337
 *             # use missing_value as fill value.
 *             # if no missing value set, use _FillValue.
 *             if hasattr(data,'mask'):             # <<<<<<<<<<<<<< 
 *                 if hasattr(self, 'missing_value'):
 *                     fillval = self.missing_value
 */
    __pyx_5 = PyObject_HasAttr(__pyx_v_data,__pyx_n_mask); if (unlikely(__pyx_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1337; goto __pyx_L1;}
    if (__pyx_5) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1338
 *             # if no missing value set, use _FillValue.
 *             if hasattr(data,'mask'):
 *                 if hasattr(self, 'missing_value'):             # <<<<<<<<<<<<<< 
 *                     fillval = self.missing_value
 *                 elif hasattr(self, '_FillValue'):
 */
      __pyx_5 = PyObject_HasAttr(__pyx_v_self,__pyx_n_missing_value); if (unlikely(__pyx_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1338; goto __pyx_L1;}
      if (__pyx_5) {

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1339
 *             if hasattr(data,'mask'):
 *                 if hasattr(self, 'missing_value'):
 *                     fillval = self.missing_value             # <<<<<<<<<<<<<< 
 *                 elif hasattr(self, '_FillValue'):
 *                     fillval = self._FillValue
 */
        __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_missing_value); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1339; goto __pyx_L1;}
        Py_DECREF(__pyx_v_fillval);
        __pyx_v_fillval = __pyx_1;
        __pyx_1 = 0;
        goto __pyx_L4;
      }

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1340
 *                 if hasattr(self, 'missing_value'):
 *                     fillval = self.missing_value
 *                 elif hasattr(self, '_FillValue'):             # <<<<<<<<<<<<<< 
 *                     fillval = self._FillValue
 *                 else:
 */
      __pyx_5 = PyObject_HasAttr(__pyx_v_self,__pyx_n__FillValue); if (unlikely(__pyx_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1340; goto __pyx_L1;}
      if (__pyx_5) {

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1341
 *                     fillval = self.missing_value
 *                 elif hasattr(self, '_FillValue'):
 *                     fillval = self._FillValue             # <<<<<<<<<<<<<< 
 *                 else:
 *                     fillval = _default_fillvals[self.dtype.str[1:]]
 */
        __pyx_4 = PyObject_GetAttr(__pyx_v_self, __pyx_n__FillValue); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1341; goto __pyx_L1;}
        Py_DECREF(__pyx_v_fillval);
        __pyx_v_fillval = __pyx_4;
        __pyx_4 = 0;
        goto __pyx_L4;
      }
      /*else*/ {

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1343
 *                     fillval = self._FillValue
 *                 else:
 *                     fillval = _default_fillvals[self.dtype.str[1:]]             # <<<<<<<<<<<<<< 
 *                 data = data.filled(fill_value=fillval)
 *             # pack using scale_factor and add_offset.
 */
        __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n__default_fillvals); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1343; goto __pyx_L1;}

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1343
 *                     fillval = self._FillValue
 *                 else:
 *                     fillval = _default_fillvals[self.dtype.str[1:]]             # <<<<<<<<<<<<<< 
 *                 data = data.filled(fill_value=fillval)
 *             # pack using scale_factor and add_offset.
 */
        __pyx_3 = PyObject_GetAttr(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype, __pyx_n_str); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1343; goto __pyx_L1;}

        /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1343
 *                     fillval = self._FillValue
 *                 else:
 *                     fillval = _default_fillvals[self.dtype.str[1:]]             # <<<<<<<<<<<<<< 
 *                 data = data.filled(fill_value=fillval)
 *             # pack using scale_factor and add_offset.
 */
        __pyx_1 = PySequence_GetSlice(__pyx_3, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1343; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_4 = PyObject_GetItem(__pyx_2, __pyx_1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1343; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        Py_DECREF(__pyx_v_fillval);
        __pyx_v_fillval = __pyx_4;
        __pyx_4 = 0;
      }
      __pyx_L4:;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1344
 *                 else:
 *                     fillval = _default_fillvals[self.dtype.str[1:]]
 *                 data = data.filled(fill_value=fillval)             # <<<<<<<<<<<<<< 
 *             # pack using scale_factor and add_offset.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 */
      __pyx_3 = PyObject_GetAttr(__pyx_v_data, __pyx_n_filled); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1344; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1344
 *                 else:
 *                     fillval = _default_fillvals[self.dtype.str[1:]]
 *                 data = data.filled(fill_value=fillval)             # <<<<<<<<<<<<<< 
 *             # pack using scale_factor and add_offset.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 */
      __pyx_2 = PyTuple_New(0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1344; goto __pyx_L1;}
      __pyx_1 = PyDict_New(); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1344; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1344
 *                 else:
 *                     fillval = _default_fillvals[self.dtype.str[1:]]
 *                 data = data.filled(fill_value=fillval)             # <<<<<<<<<<<<<< 
 *             # pack using scale_factor and add_offset.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 */
      if (PyDict_SetItem(__pyx_1, __pyx_n_fill_value, __pyx_v_fillval) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1344; goto __pyx_L1;}
      __pyx_4 = PyEval_CallObjectWithKeywords(__pyx_3, __pyx_2, __pyx_1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1344; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_v_data);
      __pyx_v_data = __pyx_4;
      __pyx_4 = 0;
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1346
 *                 data = data.filled(fill_value=fillval)
 *             # pack using scale_factor and add_offset.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):             # <<<<<<<<<<<<<< 
 *                 data = (data - self.add_offset)/self.scale_factor
 *         # A numpy array is needed. Convert if necessary.
 */
    __pyx_5 = PyObject_HasAttr(__pyx_v_self,__pyx_n_scale_factor); if (unlikely(__pyx_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1346; goto __pyx_L1;}
    if (__pyx_5) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1346
 *                 data = data.filled(fill_value=fillval)
 *             # pack using scale_factor and add_offset.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):             # <<<<<<<<<<<<<< 
 *                 data = (data - self.add_offset)/self.scale_factor
 *         # A numpy array is needed. Convert if necessary.
 */
      __pyx_5 = PyObject_HasAttr(__pyx_v_self,__pyx_n_add_offset); if (unlikely(__pyx_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1346; goto __pyx_L1;}
    }
    if (__pyx_5) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1347
 *             # pack using scale_factor and add_offset.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 *                 data = (data - self.add_offset)/self.scale_factor             # <<<<<<<<<<<<<< 
 *         # A numpy array is needed. Convert if necessary.
 *         if not type(data) == NP.ndarray:
 */
      __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n_add_offset); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1347; goto __pyx_L1;}
      __pyx_2 = PyNumber_Subtract(__pyx_v_data, __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1347; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1347
 *             # pack using scale_factor and add_offset.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 *                 data = (data - self.add_offset)/self.scale_factor             # <<<<<<<<<<<<<< 
 *         # A numpy array is needed. Convert if necessary.
 *         if not type(data) == NP.ndarray:
 */
      __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_scale_factor); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1347; goto __pyx_L1;}
      __pyx_4 = PyNumber_Divide(__pyx_2, __pyx_1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1347; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_v_data);
      __pyx_v_data = __pyx_4;
      __pyx_4 = 0;
      goto __pyx_L5;
    }
    __pyx_L5:;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1349
 *                 data = (data - self.add_offset)/self.scale_factor
 *         # A numpy array is needed. Convert if necessary.
 *         if not type(data) == NP.ndarray:             # <<<<<<<<<<<<<< 
 *             data = NP.array(data,self.dtype)
 *         self._put(data, start, count, stride)
 */
  __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1349; goto __pyx_L1;}
  Py_INCREF(__pyx_v_data);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_data);
  __pyx_2 = PyObject_CallObject(((PyObject*)&PyType_Type), __pyx_3); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1349; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1349
 *                 data = (data - self.add_offset)/self.scale_factor
 *         # A numpy array is needed. Convert if necessary.
 *         if not type(data) == NP.ndarray:             # <<<<<<<<<<<<<< 
 *             data = NP.array(data,self.dtype)
 *         self._put(data, start, count, stride)
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_NP); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1349; goto __pyx_L1;}
  __pyx_4 = PyObject_GetAttr(__pyx_1, __pyx_n_ndarray); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1349; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyObject_RichCompare(__pyx_2, __pyx_4, Py_EQ); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1349; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_5 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1349; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_6 = (!__pyx_5);
  if (__pyx_6) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1350
 *         # A numpy array is needed. Convert if necessary.
 *         if not type(data) == NP.ndarray:
 *             data = NP.array(data,self.dtype)             # <<<<<<<<<<<<<< 
 *         self._put(data, start, count, stride)
 * 
 */
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_NP); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1350; goto __pyx_L1;}
    __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_array); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1350; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1350
 *         # A numpy array is needed. Convert if necessary.
 *         if not type(data) == NP.ndarray:
 *             data = NP.array(data,self.dtype)             # <<<<<<<<<<<<<< 
 *         self._put(data, start, count, stride)
 * 
 */
    __pyx_4 = PyTuple_New(2); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1350; goto __pyx_L1;}
    Py_INCREF(__pyx_v_data);
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_data);
    Py_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
    PyTuple_SET_ITEM(__pyx_4, 1, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1350; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_v_data);
    __pyx_v_data = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1351
 *         if not type(data) == NP.ndarray:
 *             data = NP.array(data,self.dtype)
 *         self._put(data, start, count, stride)             # <<<<<<<<<<<<<< 
 * 
 *     def assignValue(self,val):
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n__put); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1351; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1351
 *         if not type(data) == NP.ndarray:
 *             data = NP.array(data,self.dtype)
 *         self._put(data, start, count, stride)             # <<<<<<<<<<<<<< 
 * 
 *     def assignValue(self,val):
 */
  __pyx_2 = PyTuple_New(4); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1351; goto __pyx_L1;}
  Py_INCREF(__pyx_v_data);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_data);
  Py_INCREF(__pyx_v_start);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_start);
  Py_INCREF(__pyx_v_count);
  PyTuple_SET_ITEM(__pyx_2, 2, __pyx_v_count);
  Py_INCREF(__pyx_v_stride);
  PyTuple_SET_ITEM(__pyx_2, 3, __pyx_v_stride);
  __pyx_4 = PyObject_CallObject(__pyx_1, __pyx_2); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1351; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("netCDF3.Variable.__setitem__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_start);
  Py_DECREF(__pyx_v_count);
  Py_DECREF(__pyx_v_stride);
  Py_DECREF(__pyx_v_sliceout);
  Py_DECREF(__pyx_v_fillval);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_elem);
  Py_DECREF(__pyx_v_data);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1353
 *         self._put(data, start, count, stride)
 * 
 *     def assignValue(self,val):             # <<<<<<<<<<<<<< 
 *         """
 * assignValue(self, val)
 */

static PyObject *__pyx_n_IndexError;

static PyObject *__pyx_k127p;

static PyObject *__pyx_builtin_IndexError;

static char __pyx_k127[] = "to assign values to a non-scalar variable, use a slice";

static PyObject *__pyx_pf_7netCDF3_8Variable_assignValue(PyObject *__pyx_v_self, PyObject *__pyx_v_val); /*proto*/
static char __pyx_doc_7netCDF3_8Variable_assignValue[] = "\nassignValue(self, val)\n\nassign a value to a scalar variable.  Provided for compatibility with \nScientific.IO.NetCDF, can also be done by assigning to a slice ([:]).";
static PyObject *__pyx_pf_7netCDF3_8Variable_assignValue(PyObject *__pyx_v_self, PyObject *__pyx_v_val) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_ssize_t __pyx_2;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_val);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1359
 * assign a value to a scalar variable.  Provided for compatibility with 
 * Scientific.IO.NetCDF, can also be done by assigning to a slice ([:])."""
 *         if len(self.dimensions):             # <<<<<<<<<<<<<< 
 *             raise IndexError('to assign values to a non-scalar variable, use a slice')
 *         self[:]=val
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_dimensions); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1359; goto __pyx_L1;}
  __pyx_2 = PyObject_Length(__pyx_1); if (unlikely(__pyx_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1359; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1360
 * Scientific.IO.NetCDF, can also be done by assigning to a slice ([:])."""
 *         if len(self.dimensions):
 *             raise IndexError('to assign values to a non-scalar variable, use a slice')             # <<<<<<<<<<<<<< 
 *         self[:]=val
 * 
 */
    __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1360; goto __pyx_L1;}
    Py_INCREF(__pyx_k127p);
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k127p);
    __pyx_3 = PyObject_CallObject(__pyx_builtin_IndexError, __pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1360; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1360; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1361
 *         if len(self.dimensions):
 *             raise IndexError('to assign values to a non-scalar variable, use a slice')
 *         self[:]=val             # <<<<<<<<<<<<<< 
 * 
 *     def getValue(self):
 */
  if (PySequence_SetSlice(__pyx_v_self, 0, PY_SSIZE_T_MAX, __pyx_v_val) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1361; goto __pyx_L1;}

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF3.Variable.assignValue");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_val);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1363
 *         self[:]=val
 * 
 *     def getValue(self):             # <<<<<<<<<<<<<< 
 *         """
 * getValue(self)
 */

static PyObject *__pyx_k128p;

static char __pyx_k128[] = "to retrieve values from a non-scalar variable, use slicing";

static PyObject *__pyx_pf_7netCDF3_8Variable_getValue(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF3_8Variable_getValue[] = "\ngetValue(self)\n\nget the value of a scalar variable.  Provided for compatibility with \nScientific.IO.NetCDF, can also be done by slicing ([:]).";
static PyObject *__pyx_pf_7netCDF3_8Variable_getValue(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_ssize_t __pyx_2;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1369
 * get the value of a scalar variable.  Provided for compatibility with 
 * Scientific.IO.NetCDF, can also be done by slicing ([:])."""
 *         if len(self.dimensions):             # <<<<<<<<<<<<<< 
 *             raise IndexError('to retrieve values from a non-scalar variable, use slicing')
 *         return self[:]
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_dimensions); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1369; goto __pyx_L1;}
  __pyx_2 = PyObject_Length(__pyx_1); if (unlikely(__pyx_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1369; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1370
 * Scientific.IO.NetCDF, can also be done by slicing ([:])."""
 *         if len(self.dimensions):
 *             raise IndexError('to retrieve values from a non-scalar variable, use slicing')             # <<<<<<<<<<<<<< 
 *         return self[:]
 * 
 */
    __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1370; goto __pyx_L1;}
    Py_INCREF(__pyx_k128p);
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k128p);
    __pyx_3 = PyObject_CallObject(__pyx_builtin_IndexError, __pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1370; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1370; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1371
 *         if len(self.dimensions):
 *             raise IndexError('to retrieve values from a non-scalar variable, use slicing')
 *         return self[:]             # <<<<<<<<<<<<<< 
 * 
 *     def set_auto_maskandscale(self,maskandscale):
 */
  __pyx_1 = PySequence_GetSlice(__pyx_v_self, 0, PY_SSIZE_T_MAX); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1371; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("netCDF3.Variable.getValue");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1373
 *         return self[:]
 * 
 *     def set_auto_maskandscale(self,maskandscale):             # <<<<<<<<<<<<<< 
 *         """
 * set_auto_maskandscale(self,maskandscale)
 */

static PyObject *__pyx_pf_7netCDF3_8Variable_set_auto_maskandscale(PyObject *__pyx_v_self, PyObject *__pyx_v_maskandscale); /*proto*/
static char __pyx_doc_7netCDF3_8Variable_set_auto_maskandscale[] = "\nset_auto_maskandscale(self,maskandscale)\n\nturn on or off automatic conversion of variable data to and\nfrom masked arrays and automatic packing/unpacking of variable\ndata using C{scale_factor} and C{add_offset} attributes.\n\nIf C{maskandscale} is set to C{True}, when data is read from a variable\nit is converted to a masked array if any of the values are exactly\nequal to the either the netCDF _FillValue or the value specified by the \nmissing_value variable attribute. The fill_value of the masked array\nis set to the missing_value attribute (if it exists), otherwise\nthe netCDF _FillValue attribute (which has a default value\nfor each data type).  When data is written to a variable, the masked\narray is converted back to a regular numpy array by replacing all the\nmasked values by the fill_value of the masked array.\n\nIf C{maskandscale} is set to C{True}, and the variable has a\nC{scale_factor} and an C{add_offset} attribute, then data read\nfrom that variable is unpacked using::\n\n    data = self.scale_factor*data + self.add_offset\n            \nWhen data is written to a variable it is packed using::\n\n    data = (data - self.add_offset)/self.scale_factor\n\nFor more information on how C{scale_factor} and C{add_offset} can be \nused to provide simple compression, see\nU{http://www.cdc.noaa.gov/cdc/conventions/cdc_netcdf_standard.shtml\n<http://www.cdc.noaa.gov/cdc/conventions/cdc_netcdf_standard.shtml>}.\n\nThe default value of C{maskandscale} is C{False}\n(no automatic conversions are performed).\n        ";
static PyObject *__pyx_pf_7netCDF3_8Variable_set_auto_maskandscale(PyObject *__pyx_v_self, PyObject *__pyx_v_maskandscale) {
  PyObject *__pyx_r;
  int __pyx_1;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_maskandscale);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1409
 * (no automatic conversions are performed).
 *         """
 *         if maskandscale:             # <<<<<<<<<<<<<< 
 *             self.maskandscale = True
 *         else:
 */
  __pyx_1 = __Pyx_PyObject_IsTrue(__pyx_v_maskandscale); if (unlikely(__pyx_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1409; goto __pyx_L1;}
  if (__pyx_1) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1410
 *         """
 *         if maskandscale:
 *             self.maskandscale = True             # <<<<<<<<<<<<<< 
 *         else:
 *             self.maskandscale = False
 */
    Py_INCREF(Py_True);
    Py_DECREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale);
    ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale = Py_True;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1412
 *             self.maskandscale = True
 *         else:
 *             self.maskandscale = False             # <<<<<<<<<<<<<< 
 * 
 *     def _put(self,ndarray data,start,count,stride):
 */
    Py_INCREF(Py_False);
    Py_DECREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale);
    ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale = Py_False;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("netCDF3.Variable.set_auto_maskandscale");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_maskandscale);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1414
 *             self.maskandscale = False
 * 
 *     def _put(self,ndarray data,start,count,stride):             # <<<<<<<<<<<<<< 
 *         """Private method to put data into a netCDF variable"""
 *         cdef int ierr, ndims, totelem
 */

static PyObject *__pyx_num_1;
static PyObject *__pyx_num_neg_1;

static PyObject *__pyx_n_copy;
static PyObject *__pyx_n_ones;
static PyObject *__pyx_n_sum;

static PyObject *__pyx_k129p;

static PyObject *__pyx_builtin_sum;

static char __pyx_k129[] = "size of data array does not conform to slice";

static PyObject *__pyx_pf_7netCDF3_8Variable__put(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_8Variable__put[] = "Private method to put data into a netCDF variable";
static PyObject *__pyx_pf_7netCDF3_8Variable__put(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyArrayObject *__pyx_v_data = 0;
  PyObject *__pyx_v_start = 0;
  PyObject *__pyx_v_count = 0;
  PyObject *__pyx_v_stride = 0;
  int __pyx_v_ierr;
  int __pyx_v_ndims;
  int __pyx_v_totelem;
  size_t __pyx_v_startp[NC_MAX_DIMS];
  size_t __pyx_v_countp[NC_MAX_DIMS];
  ptrdiff_t __pyx_v_stridep[NC_MAX_DIMS];
  PyObject *__pyx_v_negstride;
  PyObject *__pyx_v_sl;
  PyObject *__pyx_v_n;
  PyObject *__pyx_v_dataelem;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_ssize_t __pyx_2;
  int __pyx_3;
  PyObject *__pyx_4 = 0;
  long __pyx_5;
  size_t __pyx_6;
  ptrdiff_t __pyx_7;
  PyObject *__pyx_8 = 0;
  PyObject *__pyx_9 = 0;
  static char *__pyx_argnames[] = {"data","start","count","stride",0};
  if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOOO", __pyx_argnames, &__pyx_v_data, &__pyx_v_start, &__pyx_v_count, &__pyx_v_stride))) return NULL;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_data);
  Py_INCREF(__pyx_v_start);
  Py_INCREF(__pyx_v_count);
  Py_INCREF(__pyx_v_stride);
  __pyx_v_negstride = Py_None; Py_INCREF(Py_None);
  __pyx_v_sl = Py_None; Py_INCREF(Py_None);
  __pyx_v_n = Py_None; Py_INCREF(Py_None);
  __pyx_v_dataelem = Py_None; Py_INCREF(Py_None);
  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_data), __pyx_ptype_7netCDF3_ndarray, 1, "data"))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1414; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1420
 *         cdef ptrdiff_t stridep[NC_MAX_DIMS]
 *         # rank of variable.
 *         ndims = len(self.dimensions)             # <<<<<<<<<<<<<< 
 *         # make sure data is contiguous.
 *         # if not, make a local copy.
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_dimensions); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1420; goto __pyx_L1;}
  __pyx_2 = PyObject_Length(__pyx_1); if (unlikely(__pyx_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1420; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_ndims = __pyx_2;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1423
 *         # make sure data is contiguous.
 *         # if not, make a local copy.
 *         if not PyArray_ISCONTIGUOUS(data):             # <<<<<<<<<<<<<< 
 *             data = data.copy()
 *         # fill up startp,countp,stridep.
 */
  __pyx_3 = (!PyArray_ISCONTIGUOUS(__pyx_v_data));
  if (__pyx_3) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1424
 *         # if not, make a local copy.
 *         if not PyArray_ISCONTIGUOUS(data):
 *             data = data.copy()             # <<<<<<<<<<<<<< 
 *         # fill up startp,countp,stridep.
 *         totelem = 1
 */
    __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_data), __pyx_n_copy); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1424; goto __pyx_L1;}
    __pyx_4 = PyObject_CallObject(__pyx_1, 0); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1424; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__Pyx_TypeTest(__pyx_4, __pyx_ptype_7netCDF3_ndarray)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1424; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_data));
    __pyx_v_data = ((PyArrayObject *)__pyx_4);
    __pyx_4 = 0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1426
 *             data = data.copy()
 *         # fill up startp,countp,stridep.
 *         totelem = 1             # <<<<<<<<<<<<<< 
 *         negstride = 0
 *         sl = []
 */
  __pyx_v_totelem = 1;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1427
 *         # fill up startp,countp,stridep.
 *         totelem = 1
 *         negstride = 0             # <<<<<<<<<<<<<< 
 *         sl = []
 *         for n from 0 <= n < ndims:
 */
  Py_INCREF(__pyx_num_0);
  Py_DECREF(__pyx_v_negstride);
  __pyx_v_negstride = __pyx_num_0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1428
 *         totelem = 1
 *         negstride = 0
 *         sl = []             # <<<<<<<<<<<<<< 
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1
 */
  __pyx_1 = PyList_New(0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1428; goto __pyx_L1;}
  Py_DECREF(__pyx_v_sl);
  __pyx_v_sl = __pyx_1;
  __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1429
 *         negstride = 0
 *         sl = []
 *         for n from 0 <= n < ndims:             # <<<<<<<<<<<<<< 
 *             count[n] = abs(count[n]) # make -1 into +1
 *             countp[n] = count[n] 
 */
  for (__pyx_5 = 0; __pyx_5 < __pyx_v_ndims; __pyx_5++) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1429
 *         negstride = 0
 *         sl = []
 *         for n from 0 <= n < ndims:             # <<<<<<<<<<<<<< 
 *             count[n] = abs(count[n]) # make -1 into +1
 *             countp[n] = count[n] 
 */
    __pyx_4 = PyInt_FromLong(__pyx_5); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1429; goto __pyx_L1;}
    Py_DECREF(__pyx_v_n);
    __pyx_v_n = __pyx_4;
    __pyx_4 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1430
 *         sl = []
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1             # <<<<<<<<<<<<<< 
 *             countp[n] = count[n] 
 *             # for neg strides, reverse order (then flip that axis after data read in)
 */
    __pyx_1 = PyObject_GetItem(__pyx_v_count, __pyx_v_n); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1430; goto __pyx_L1;}
    __pyx_4 = PyNumber_Absolute(__pyx_1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1430; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1430
 *         sl = []
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1             # <<<<<<<<<<<<<< 
 *             countp[n] = count[n] 
 *             # for neg strides, reverse order (then flip that axis after data read in)
 */
    if (PyObject_SetItem(__pyx_v_count, __pyx_v_n, __pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1430; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1431
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1
 *             countp[n] = count[n]             # <<<<<<<<<<<<<< 
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0: 
 */
    __pyx_1 = PyObject_GetItem(__pyx_v_count, __pyx_v_n); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1431; goto __pyx_L1;}
    __pyx_6 = PyInt_AsLong(__pyx_1); if (unlikely((__pyx_6 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1431; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1431
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1
 *             countp[n] = count[n]             # <<<<<<<<<<<<<< 
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0: 
 */
    __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1431; goto __pyx_L1;}
    (__pyx_v_countp[__pyx_2]) = __pyx_6;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1433
 *             countp[n] = count[n] 
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0:             # <<<<<<<<<<<<<< 
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 */
    __pyx_4 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1433; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1433
 *             countp[n] = count[n] 
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0:             # <<<<<<<<<<<<<< 
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 */
    __pyx_1 = PyObject_RichCompare(__pyx_4, __pyx_num_0, Py_LT); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1433; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1433; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_3) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1434
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0: 
 *                 negstride = 1             # <<<<<<<<<<<<<< 
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 */
      Py_INCREF(__pyx_num_1);
      Py_DECREF(__pyx_v_negstride);
      __pyx_v_negstride = __pyx_num_1;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1435
 *             if stride[n] < 0: 
 *                 negstride = 1
 *                 stridep[n] = -stride[n]             # <<<<<<<<<<<<<< 
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]
 */
      __pyx_4 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1435; goto __pyx_L1;}
      __pyx_1 = PyNumber_Negative(__pyx_4); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1435; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __pyx_7 = PyInt_AsLong(__pyx_1); if (unlikely((__pyx_7 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1435; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1435
 *             if stride[n] < 0: 
 *                 negstride = 1
 *                 stridep[n] = -stride[n]             # <<<<<<<<<<<<<< 
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]
 */
      __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1435; goto __pyx_L1;}
      (__pyx_v_stridep[__pyx_2]) = __pyx_7;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1436
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)             # <<<<<<<<<<<<<< 
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 */
      __pyx_4 = PyObject_GetItem(__pyx_v_start, __pyx_v_n); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1436; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1436
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)             # <<<<<<<<<<<<<< 
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 */
      __pyx_1 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1436; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1436
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)             # <<<<<<<<<<<<<< 
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 */
      __pyx_8 = PyObject_GetItem(__pyx_v_count, __pyx_v_n); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1436; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1436
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)             # <<<<<<<<<<<<<< 
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 */
      __pyx_9 = PyNumber_Subtract(__pyx_8, __pyx_num_1); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1436; goto __pyx_L1;}
      Py_DECREF(__pyx_8); __pyx_8 = 0;
      __pyx_8 = PyNumber_Multiply(__pyx_1, __pyx_9); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1436; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_9); __pyx_9 = 0;
      __pyx_1 = PyNumber_Add(__pyx_4, __pyx_8); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1436; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_8); __pyx_8 = 0;
      __pyx_6 = PyInt_AsLong(__pyx_1); if (unlikely((__pyx_6 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1436; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1436
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)             # <<<<<<<<<<<<<< 
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 */
      __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1436; goto __pyx_L1;}
      (__pyx_v_startp[__pyx_2]) = __pyx_6;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1437
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]             # <<<<<<<<<<<<<< 
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 *             else:
 */
      __pyx_9 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1437; goto __pyx_L1;}
      __pyx_4 = PyNumber_Negative(__pyx_9); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1437; goto __pyx_L1;}
      Py_DECREF(__pyx_9); __pyx_9 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1437
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]             # <<<<<<<<<<<<<< 
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 *             else:
 */
      if (PyObject_SetItem(__pyx_v_stride, __pyx_v_n, __pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1437; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1438
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data             # <<<<<<<<<<<<<< 
 *             else:
 *                 startp[n] = start[n]
 */
      __pyx_8 = PyObject_GetAttr(__pyx_v_sl, __pyx_n_append); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1438; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1438
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data             # <<<<<<<<<<<<<< 
 *             else:
 *                 startp[n] = start[n]
 */
      __pyx_1 = PyTuple_New(3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1438; goto __pyx_L1;}
      Py_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_1, 0, Py_None);
      Py_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_1, 1, Py_None);
      Py_INCREF(__pyx_num_neg_1);
      PyTuple_SET_ITEM(__pyx_1, 2, __pyx_num_neg_1);
      __pyx_9 = PyObject_CallObject(((PyObject*)&PySlice_Type), __pyx_1); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1438; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1438; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_4, 0, __pyx_9);
      __pyx_9 = 0;
      __pyx_1 = PyObject_CallObject(__pyx_8, __pyx_4); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1438; goto __pyx_L1;}
      Py_DECREF(__pyx_8); __pyx_8 = 0;
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      goto __pyx_L5;
    }
    /*else*/ {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1440
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 *             else:
 *                 startp[n] = start[n]             # <<<<<<<<<<<<<< 
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))
 */
      __pyx_9 = PyObject_GetItem(__pyx_v_start, __pyx_v_n); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1440; goto __pyx_L1;}
      __pyx_6 = PyInt_AsLong(__pyx_9); if (unlikely((__pyx_6 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1440; goto __pyx_L1;}
      Py_DECREF(__pyx_9); __pyx_9 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1440
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 *             else:
 *                 startp[n] = start[n]             # <<<<<<<<<<<<<< 
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))
 */
      __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1440; goto __pyx_L1;}
      (__pyx_v_startp[__pyx_2]) = __pyx_6;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1441
 *             else:
 *                 startp[n] = start[n]
 *                 stridep[n] = stride[n]             # <<<<<<<<<<<<<< 
 *                 sl.append(slice(None,None, 1))
 *             totelem = totelem*countp[n]
 */
      __pyx_8 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1441; goto __pyx_L1;}
      __pyx_7 = PyInt_AsLong(__pyx_8); if (unlikely((__pyx_7 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1441; goto __pyx_L1;}
      Py_DECREF(__pyx_8); __pyx_8 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1441
 *             else:
 *                 startp[n] = start[n]
 *                 stridep[n] = stride[n]             # <<<<<<<<<<<<<< 
 *                 sl.append(slice(None,None, 1))
 *             totelem = totelem*countp[n]
 */
      __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1441; goto __pyx_L1;}
      (__pyx_v_stridep[__pyx_2]) = __pyx_7;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1442
 *                 startp[n] = start[n]
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))             # <<<<<<<<<<<<<< 
 *             totelem = totelem*countp[n]
 *         # check to see that size of data array is what is expected
 */
      __pyx_4 = PyObject_GetAttr(__pyx_v_sl, __pyx_n_append); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1442; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1442
 *                 startp[n] = start[n]
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))             # <<<<<<<<<<<<<< 
 *             totelem = totelem*countp[n]
 *         # check to see that size of data array is what is expected
 */
      __pyx_1 = PyTuple_New(3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1442; goto __pyx_L1;}
      Py_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_1, 0, Py_None);
      Py_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_1, 1, Py_None);
      Py_INCREF(__pyx_num_1);
      PyTuple_SET_ITEM(__pyx_1, 2, __pyx_num_1);
      __pyx_9 = PyObject_CallObject(((PyObject*)&PySlice_Type), __pyx_1); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1442; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_8 = PyTuple_New(1); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1442; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_8, 0, __pyx_9);
      __pyx_9 = 0;
      __pyx_1 = PyObject_CallObject(__pyx_4, __pyx_8); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1442; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_8); __pyx_8 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
    }
    __pyx_L5:;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1443
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))
 *             totelem = totelem*countp[n]             # <<<<<<<<<<<<<< 
 *         # check to see that size of data array is what is expected
 *         # for slice given. 
 */
    __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1443; goto __pyx_L1;}
    __pyx_v_totelem = (__pyx_v_totelem * (__pyx_v_countp[__pyx_2]));
  }

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1446
 *         # check to see that size of data array is what is expected
 *         # for slice given. 
 *         dataelem = PyArray_SIZE(data)             # <<<<<<<<<<<<<< 
 *         if totelem != dataelem:
 *             # If just one element given, make a new array of desired
 */
  __pyx_9 = PyInt_FromLong(PyArray_SIZE(__pyx_v_data)); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1446; goto __pyx_L1;}
  Py_DECREF(__pyx_v_dataelem);
  __pyx_v_dataelem = __pyx_9;
  __pyx_9 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1447
 *         # for slice given. 
 *         dataelem = PyArray_SIZE(data)
 *         if totelem != dataelem:             # <<<<<<<<<<<<<< 
 *             # If just one element given, make a new array of desired
 *             # size and fill it with that data.
 */
  __pyx_4 = PyInt_FromLong(__pyx_v_totelem); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1447; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1447
 *         # for slice given. 
 *         dataelem = PyArray_SIZE(data)
 *         if totelem != dataelem:             # <<<<<<<<<<<<<< 
 *             # If just one element given, make a new array of desired
 *             # size and fill it with that data.
 */
  __pyx_8 = PyObject_RichCompare(__pyx_4, __pyx_v_dataelem, Py_NE); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1447; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_8); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1447; goto __pyx_L1;}
  Py_DECREF(__pyx_8); __pyx_8 = 0;
  if (__pyx_3) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1450
 *             # If just one element given, make a new array of desired
 *             # size and fill it with that data.
 *             if dataelem == 1:             # <<<<<<<<<<<<<< 
 *                 #datanew = NP.empty(totelem,self.dtype)
 *                 #datanew[:] = data
 */
    __pyx_1 = PyObject_RichCompare(__pyx_v_dataelem, __pyx_num_1, Py_EQ); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1450; goto __pyx_L1;}
    __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1450; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_3) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1454
 *                 #datanew[:] = data
 *                 #data = datanew
 *                 data = data*NP.ones(totelem,self.dtype)             # <<<<<<<<<<<<<< 
 *             else:
 *                 raise IndexError('size of data array does not conform to slice')
 */
      __pyx_9 = __Pyx_GetName(__pyx_m, __pyx_n_NP); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1454; goto __pyx_L1;}
      __pyx_4 = PyObject_GetAttr(__pyx_9, __pyx_n_ones); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1454; goto __pyx_L1;}
      Py_DECREF(__pyx_9); __pyx_9 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1454
 *                 #datanew[:] = data
 *                 #data = datanew
 *                 data = data*NP.ones(totelem,self.dtype)             # <<<<<<<<<<<<<< 
 *             else:
 *                 raise IndexError('size of data array does not conform to slice')
 */
      __pyx_8 = PyInt_FromLong(__pyx_v_totelem); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1454; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1454
 *                 #datanew[:] = data
 *                 #data = datanew
 *                 data = data*NP.ones(totelem,self.dtype)             # <<<<<<<<<<<<<< 
 *             else:
 *                 raise IndexError('size of data array does not conform to slice')
 */
      __pyx_1 = PyTuple_New(2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1454; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_8);
      Py_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
      PyTuple_SET_ITEM(__pyx_1, 1, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
      __pyx_8 = 0;
      __pyx_9 = PyObject_CallObject(__pyx_4, __pyx_1); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1454; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_8 = PyNumber_Multiply(((PyObject *)__pyx_v_data), __pyx_9); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1454; goto __pyx_L1;}
      Py_DECREF(__pyx_9); __pyx_9 = 0;
      if (!__Pyx_TypeTest(__pyx_8, __pyx_ptype_7netCDF3_ndarray)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1454; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_data));
      __pyx_v_data = ((PyArrayObject *)__pyx_8);
      __pyx_8 = 0;
      goto __pyx_L7;
    }
    /*else*/ {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1456
 *                 data = data*NP.ones(totelem,self.dtype)
 *             else:
 *                 raise IndexError('size of data array does not conform to slice')             # <<<<<<<<<<<<<< 
 *         # if data type of array doesn't match variable, 
 *         # try to cast the data.
 */
      __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1456; goto __pyx_L1;}
      Py_INCREF(__pyx_k129p);
      PyTuple_SET_ITEM(__pyx_4, 0, __pyx_k129p);
      __pyx_1 = PyObject_CallObject(__pyx_builtin_IndexError, __pyx_4); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1456; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __Pyx_Raise(__pyx_1, 0, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1456; goto __pyx_L1;}
    }
    __pyx_L7:;
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1459
 *         # if data type of array doesn't match variable, 
 *         # try to cast the data.
 *         if self.dtype != data.dtype:             # <<<<<<<<<<<<<< 
 *             data = data.astype(self.dtype) # cast data, if necessary.
 *         # if there is a negative stride, reverse the data, then use put_vars.
 */
  __pyx_9 = PyObject_GetAttr(((PyObject *)__pyx_v_data), __pyx_n_dtype); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1459; goto __pyx_L1;}
  __pyx_8 = PyObject_RichCompare(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype, __pyx_9, Py_NE); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1459; goto __pyx_L1;}
  Py_DECREF(__pyx_9); __pyx_9 = 0;
  __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_8); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1459; goto __pyx_L1;}
  Py_DECREF(__pyx_8); __pyx_8 = 0;
  if (__pyx_3) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1460
 *         # try to cast the data.
 *         if self.dtype != data.dtype:
 *             data = data.astype(self.dtype) # cast data, if necessary.             # <<<<<<<<<<<<<< 
 *         # if there is a negative stride, reverse the data, then use put_vars.
 *         if negstride:
 */
    __pyx_4 = PyObject_GetAttr(((PyObject *)__pyx_v_data), __pyx_n_astype); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1460; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1460
 *         # try to cast the data.
 *         if self.dtype != data.dtype:
 *             data = data.astype(self.dtype) # cast data, if necessary.             # <<<<<<<<<<<<<< 
 *         # if there is a negative stride, reverse the data, then use put_vars.
 *         if negstride:
 */
    __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1460; goto __pyx_L1;}
    Py_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
    PyTuple_SET_ITEM(__pyx_1, 0, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
    __pyx_9 = PyObject_CallObject(__pyx_4, __pyx_1); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1460; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__Pyx_TypeTest(__pyx_9, __pyx_ptype_7netCDF3_ndarray)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1460; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_data));
    __pyx_v_data = ((PyArrayObject *)__pyx_9);
    __pyx_9 = 0;
    goto __pyx_L8;
  }
  __pyx_L8:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1462
 *             data = data.astype(self.dtype) # cast data, if necessary.
 *         # if there is a negative stride, reverse the data, then use put_vars.
 *         if negstride:             # <<<<<<<<<<<<<< 
 *             # reverse data along axes with negative strides.
 *             data = data[sl].copy() # make sure a copy is made.
 */
  __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_v_negstride); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1462; goto __pyx_L1;}
  if (__pyx_3) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1464
 *         if negstride:
 *             # reverse data along axes with negative strides.
 *             data = data[sl].copy() # make sure a copy is made.             # <<<<<<<<<<<<<< 
 *         # strides all 1 or scalar variable, use put_vara (faster)
 *         if sum(stride) == ndims or ndims == 0:
 */
    __pyx_8 = PyObject_GetItem(((PyObject *)__pyx_v_data), __pyx_v_sl); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1464; goto __pyx_L1;}
    __pyx_4 = PyObject_GetAttr(__pyx_8, __pyx_n_copy); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1464; goto __pyx_L1;}
    Py_DECREF(__pyx_8); __pyx_8 = 0;
    __pyx_1 = PyObject_CallObject(__pyx_4, 0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1464; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7netCDF3_ndarray)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1464; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_data));
    __pyx_v_data = ((PyArrayObject *)__pyx_1);
    __pyx_1 = 0;
    goto __pyx_L9;
  }
  __pyx_L9:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1466
 *             data = data[sl].copy() # make sure a copy is made.
 *         # strides all 1 or scalar variable, use put_vara (faster)
 *         if sum(stride) == ndims or ndims == 0:             # <<<<<<<<<<<<<< 
 *             ierr = nc_put_vara(self._grpid, self._varid,
 *                                startp, countp, data.data)
 */
  __pyx_8 = PyTuple_New(1); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1466; goto __pyx_L1;}
  Py_INCREF(__pyx_v_stride);
  PyTuple_SET_ITEM(__pyx_8, 0, __pyx_v_stride);
  __pyx_4 = PyObject_CallObject(__pyx_builtin_sum, __pyx_8); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1466; goto __pyx_L1;}
  Py_DECREF(__pyx_8); __pyx_8 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1466
 *             data = data[sl].copy() # make sure a copy is made.
 *         # strides all 1 or scalar variable, use put_vara (faster)
 *         if sum(stride) == ndims or ndims == 0:             # <<<<<<<<<<<<<< 
 *             ierr = nc_put_vara(self._grpid, self._varid,
 *                                startp, countp, data.data)
 */
  __pyx_1 = PyInt_FromLong(__pyx_v_ndims); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1466; goto __pyx_L1;}
  __pyx_9 = PyObject_RichCompare(__pyx_4, __pyx_1, Py_EQ); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1466; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_9); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1466; goto __pyx_L1;}
  if (!__pyx_3) {
    Py_DECREF(__pyx_9); __pyx_9 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1466
 *             data = data[sl].copy() # make sure a copy is made.
 *         # strides all 1 or scalar variable, use put_vara (faster)
 *         if sum(stride) == ndims or ndims == 0:             # <<<<<<<<<<<<<< 
 *             ierr = nc_put_vara(self._grpid, self._varid,
 *                                startp, countp, data.data)
 */
    __pyx_9 = __Pyx_PyBool_FromLong((__pyx_v_ndims == 0)); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1466; goto __pyx_L1;}
  }
  __pyx_3 = __Pyx_PyObject_IsTrue(__pyx_9); if (unlikely(__pyx_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1466; goto __pyx_L1;}
  Py_DECREF(__pyx_9); __pyx_9 = 0;
  if (__pyx_3) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1468
 *         if sum(stride) == ndims or ndims == 0:
 *             ierr = nc_put_vara(self._grpid, self._varid,
 *                                startp, countp, data.data)             # <<<<<<<<<<<<<< 
 *         else:  
 *             ierr = nc_put_vars(self._grpid, self._varid,
 */
    __pyx_v_ierr = nc_put_vara(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid,((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid,__pyx_v_startp,__pyx_v_countp,__pyx_v_data->data);
    goto __pyx_L10;
  }
  /*else*/ {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1471
 *         else:  
 *             ierr = nc_put_vars(self._grpid, self._varid,
 *                                   startp, countp, stridep, data.data)             # <<<<<<<<<<<<<< 
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_put_vars(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid,((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid,__pyx_v_startp,__pyx_v_countp,__pyx_v_stridep,__pyx_v_data->data);
  }
  __pyx_L10:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1472
 *             ierr = nc_put_vars(self._grpid, self._varid,
 *                                   startp, countp, stridep, data.data)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 */
  __pyx_3 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_3) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1473
 *                                   startp, countp, stridep, data.data)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 * 
 *     def _get(self,start,count,stride):
 */
    __pyx_8 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1473; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (unlikely(!__pyx_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1473; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_8);
    __pyx_8 = 0;
    __pyx_1 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_4); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1473; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1473; goto __pyx_L1;}
    goto __pyx_L11;
  }
  __pyx_L11:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_8);
  Py_XDECREF(__pyx_9);
  __Pyx_AddTraceback("netCDF3.Variable._put");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_negstride);
  Py_DECREF(__pyx_v_sl);
  Py_DECREF(__pyx_v_n);
  Py_DECREF(__pyx_v_dataelem);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_data);
  Py_DECREF(__pyx_v_start);
  Py_DECREF(__pyx_v_count);
  Py_DECREF(__pyx_v_stride);
  return __pyx_r;
}

/* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1475
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 *     def _get(self,start,count,stride):             # <<<<<<<<<<<<<< 
 *         """Private method to retrieve data from a netCDF variable"""
 *         cdef int ierr, ndims
 */

static PyObject *__pyx_pf_7netCDF3_8Variable__get(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_8Variable__get[] = "Private method to retrieve data from a netCDF variable";
static PyObject *__pyx_pf_7netCDF3_8Variable__get(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_start = 0;
  PyObject *__pyx_v_count = 0;
  PyObject *__pyx_v_stride = 0;
  int __pyx_v_ierr;
  int __pyx_v_ndims;
  size_t __pyx_v_startp[NC_MAX_DIMS];
  size_t __pyx_v_countp[NC_MAX_DIMS];
  ptrdiff_t __pyx_v_stridep[NC_MAX_DIMS];
  PyArrayObject *__pyx_v_data;
  PyObject *__pyx_v_shapeout;
  PyObject *__pyx_v_squeeze_out;
  PyObject *__pyx_v_lendim;
  PyObject *__pyx_v_negstride;
  PyObject *__pyx_v_sl;
  PyObject *__pyx_v_n;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_ssize_t __pyx_2;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  long __pyx_6;
  size_t __pyx_7;
  ptrdiff_t __pyx_8;
  PyObject *__pyx_9 = 0;
  int __pyx_10;
  static char *__pyx_argnames[] = {"start","count","stride",0};
  if (unlikely(!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOO", __pyx_argnames, &__pyx_v_start, &__pyx_v_count, &__pyx_v_stride))) return NULL;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_start);
  Py_INCREF(__pyx_v_count);
  Py_INCREF(__pyx_v_stride);
  __pyx_v_data = ((PyArrayObject *)Py_None); Py_INCREF(Py_None);
  __pyx_v_shapeout = Py_None; Py_INCREF(Py_None);
  __pyx_v_squeeze_out = Py_None; Py_INCREF(Py_None);
  __pyx_v_lendim = Py_None; Py_INCREF(Py_None);
  __pyx_v_negstride = Py_None; Py_INCREF(Py_None);
  __pyx_v_sl = Py_None; Py_INCREF(Py_None);
  __pyx_v_n = Py_None; Py_INCREF(Py_None);

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1484
 *         # and not a slice so the resulting array
 *         # should be 'squeezed' to remove the singleton dimension.
 *         shapeout = ()             # <<<<<<<<<<<<<< 
 *         squeeze_out = False
 *         for lendim in count:
 */
  __pyx_1 = PyTuple_New(0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1484; goto __pyx_L1;}
  Py_DECREF(__pyx_v_shapeout);
  __pyx_v_shapeout = __pyx_1;
  __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1485
 *         # should be 'squeezed' to remove the singleton dimension.
 *         shapeout = ()
 *         squeeze_out = False             # <<<<<<<<<<<<<< 
 *         for lendim in count:
 *             if lendim == -1:
 */
  Py_INCREF(Py_False);
  Py_DECREF(__pyx_v_squeeze_out);
  __pyx_v_squeeze_out = Py_False;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1486
 *         shapeout = ()
 *         squeeze_out = False
 *         for lendim in count:             # <<<<<<<<<<<<<< 
 *             if lendim == -1:
 *                 shapeout = shapeout + (1,)
 */
  if (PyList_CheckExact(__pyx_v_count)) { __pyx_2 = 0; __pyx_1 = __pyx_v_count; Py_INCREF(__pyx_1); }
  else { __pyx_1 = PyObject_GetIter(__pyx_v_count); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1486; goto __pyx_L1;} }
  for (;;) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1486
 *         shapeout = ()
 *         squeeze_out = False
 *         for lendim in count:             # <<<<<<<<<<<<<< 
 *             if lendim == -1:
 *                 shapeout = shapeout + (1,)
 */
    if (PyList_CheckExact(__pyx_1)) { if (__pyx_2 >= PyList_GET_SIZE(__pyx_1)) break; __pyx_3 = PyList_GET_ITEM(__pyx_1, __pyx_2++); Py_INCREF(__pyx_3); }
    else {
      __pyx_3 = PyIter_Next(__pyx_1);
      if (!__pyx_3) {
        break;
      }
    }
    Py_DECREF(__pyx_v_lendim);
    __pyx_v_lendim = __pyx_3;
    __pyx_3 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1487
 *         squeeze_out = False
 *         for lendim in count:
 *             if lendim == -1:             # <<<<<<<<<<<<<< 
 *                 shapeout = shapeout + (1,)
 *                 squeeze_out = True
 */
    __pyx_3 = PyObject_RichCompare(__pyx_v_lendim, __pyx_num_neg_1, Py_EQ); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1487; goto __pyx_L1;}
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1487; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (__pyx_4) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1488
 *         for lendim in count:
 *             if lendim == -1:
 *                 shapeout = shapeout + (1,)             # <<<<<<<<<<<<<< 
 *                 squeeze_out = True
 *             else:
 */
      __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1488; goto __pyx_L1;}
      Py_INCREF(__pyx_num_1);
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_num_1);
      __pyx_5 = PyNumber_Add(__pyx_v_shapeout, __pyx_3); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1488; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_v_shapeout);
      __pyx_v_shapeout = __pyx_5;
      __pyx_5 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1489
 *             if lendim == -1:
 *                 shapeout = shapeout + (1,)
 *                 squeeze_out = True             # <<<<<<<<<<<<<< 
 *             else:
 *                 shapeout = shapeout + (lendim,)
 */
      Py_INCREF(Py_True);
      Py_DECREF(__pyx_v_squeeze_out);
      __pyx_v_squeeze_out = Py_True;
      goto __pyx_L4;
    }
    /*else*/ {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1491
 *                 squeeze_out = True
 *             else:
 *                 shapeout = shapeout + (lendim,)             # <<<<<<<<<<<<<< 
 *         # rank of variable.
 *         ndims = len(self.dimensions)
 */
      __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1491; goto __pyx_L1;}
      Py_INCREF(__pyx_v_lendim);
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_lendim);
      __pyx_5 = PyNumber_Add(__pyx_v_shapeout, __pyx_3); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1491; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_v_shapeout);
      __pyx_v_shapeout = __pyx_5;
      __pyx_5 = 0;
    }
    __pyx_L4:;
  }
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1493
 *                 shapeout = shapeout + (lendim,)
 *         # rank of variable.
 *         ndims = len(self.dimensions)             # <<<<<<<<<<<<<< 
 *         # fill up startp,countp,stridep.
 *         negstride = 0
 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n_dimensions); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1493; goto __pyx_L1;}
  __pyx_2 = PyObject_Length(__pyx_3); if (unlikely(__pyx_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1493; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_v_ndims = __pyx_2;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1495
 *         ndims = len(self.dimensions)
 *         # fill up startp,countp,stridep.
 *         negstride = 0             # <<<<<<<<<<<<<< 
 *         sl = []
 *         for n from 0 <= n < ndims:
 */
  Py_INCREF(__pyx_num_0);
  Py_DECREF(__pyx_v_negstride);
  __pyx_v_negstride = __pyx_num_0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1496
 *         # fill up startp,countp,stridep.
 *         negstride = 0
 *         sl = []             # <<<<<<<<<<<<<< 
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1
 */
  __pyx_5 = PyList_New(0); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1496; goto __pyx_L1;}
  Py_DECREF(__pyx_v_sl);
  __pyx_v_sl = __pyx_5;
  __pyx_5 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1497
 *         negstride = 0
 *         sl = []
 *         for n from 0 <= n < ndims:             # <<<<<<<<<<<<<< 
 *             count[n] = abs(count[n]) # make -1 into +1
 *             countp[n] = count[n] 
 */
  for (__pyx_6 = 0; __pyx_6 < __pyx_v_ndims; __pyx_6++) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1497
 *         negstride = 0
 *         sl = []
 *         for n from 0 <= n < ndims:             # <<<<<<<<<<<<<< 
 *             count[n] = abs(count[n]) # make -1 into +1
 *             countp[n] = count[n] 
 */
    __pyx_1 = PyInt_FromLong(__pyx_6); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1497; goto __pyx_L1;}
    Py_DECREF(__pyx_v_n);
    __pyx_v_n = __pyx_1;
    __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1498
 *         sl = []
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1             # <<<<<<<<<<<<<< 
 *             countp[n] = count[n] 
 *             # for neg strides, reverse order (then flip that axis after data read in)
 */
    __pyx_3 = PyObject_GetItem(__pyx_v_count, __pyx_v_n); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1498; goto __pyx_L1;}
    __pyx_5 = PyNumber_Absolute(__pyx_3); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1498; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1498
 *         sl = []
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1             # <<<<<<<<<<<<<< 
 *             countp[n] = count[n] 
 *             # for neg strides, reverse order (then flip that axis after data read in)
 */
    if (PyObject_SetItem(__pyx_v_count, __pyx_v_n, __pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1498; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1499
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1
 *             countp[n] = count[n]             # <<<<<<<<<<<<<< 
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0: 
 */
    __pyx_1 = PyObject_GetItem(__pyx_v_count, __pyx_v_n); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1499; goto __pyx_L1;}
    __pyx_7 = PyInt_AsLong(__pyx_1); if (unlikely((__pyx_7 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1499; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1499
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1
 *             countp[n] = count[n]             # <<<<<<<<<<<<<< 
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0: 
 */
    __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1499; goto __pyx_L1;}
    (__pyx_v_countp[__pyx_2]) = __pyx_7;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1501
 *             countp[n] = count[n] 
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0:             # <<<<<<<<<<<<<< 
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 */
    __pyx_3 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1501; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1501
 *             countp[n] = count[n] 
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0:             # <<<<<<<<<<<<<< 
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 */
    __pyx_5 = PyObject_RichCompare(__pyx_3, __pyx_num_0, Py_LT); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1501; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_5); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1501; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    if (__pyx_4) {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1502
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0: 
 *                 negstride = 1             # <<<<<<<<<<<<<< 
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 */
      Py_INCREF(__pyx_num_1);
      Py_DECREF(__pyx_v_negstride);
      __pyx_v_negstride = __pyx_num_1;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1503
 *             if stride[n] < 0: 
 *                 negstride = 1
 *                 stridep[n] = -stride[n]             # <<<<<<<<<<<<<< 
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]
 */
      __pyx_1 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1503; goto __pyx_L1;}
      __pyx_3 = PyNumber_Negative(__pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1503; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_8 = PyInt_AsLong(__pyx_3); if (unlikely((__pyx_8 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1503; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1503
 *             if stride[n] < 0: 
 *                 negstride = 1
 *                 stridep[n] = -stride[n]             # <<<<<<<<<<<<<< 
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]
 */
      __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1503; goto __pyx_L1;}
      (__pyx_v_stridep[__pyx_2]) = __pyx_8;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1504
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)             # <<<<<<<<<<<<<< 
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 */
      __pyx_5 = PyObject_GetItem(__pyx_v_start, __pyx_v_n); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1504; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1504
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)             # <<<<<<<<<<<<<< 
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 */
      __pyx_1 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1504; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1504
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)             # <<<<<<<<<<<<<< 
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 */
      __pyx_3 = PyObject_GetItem(__pyx_v_count, __pyx_v_n); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1504; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1504
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)             # <<<<<<<<<<<<<< 
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 */
      __pyx_9 = PyNumber_Subtract(__pyx_3, __pyx_num_1); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1504; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_3 = PyNumber_Multiply(__pyx_1, __pyx_9); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1504; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_9); __pyx_9 = 0;
      __pyx_1 = PyNumber_Add(__pyx_5, __pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1504; goto __pyx_L1;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_7 = PyInt_AsLong(__pyx_1); if (unlikely((__pyx_7 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1504; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1504
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)             # <<<<<<<<<<<<<< 
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 */
      __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1504; goto __pyx_L1;}
      (__pyx_v_startp[__pyx_2]) = __pyx_7;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1505
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]             # <<<<<<<<<<<<<< 
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 *             else:
 */
      __pyx_9 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1505; goto __pyx_L1;}
      __pyx_5 = PyNumber_Negative(__pyx_9); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1505; goto __pyx_L1;}
      Py_DECREF(__pyx_9); __pyx_9 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1505
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]             # <<<<<<<<<<<<<< 
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 *             else:
 */
      if (PyObject_SetItem(__pyx_v_stride, __pyx_v_n, __pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1505; goto __pyx_L1;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1506
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data             # <<<<<<<<<<<<<< 
 *             else:
 *                 startp[n] = start[n]
 */
      __pyx_3 = PyObject_GetAttr(__pyx_v_sl, __pyx_n_append); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1506; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1506
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data             # <<<<<<<<<<<<<< 
 *             else:
 *                 startp[n] = start[n]
 */
      __pyx_1 = PyTuple_New(3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1506; goto __pyx_L1;}
      Py_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_1, 0, Py_None);
      Py_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_1, 1, Py_None);
      Py_INCREF(__pyx_num_neg_1);
      PyTuple_SET_ITEM(__pyx_1, 2, __pyx_num_neg_1);
      __pyx_9 = PyObject_CallObject(((PyObject*)&PySlice_Type), __pyx_1); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1506; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_5 = PyTuple_New(1); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1506; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_5, 0, __pyx_9);
      __pyx_9 = 0;
      __pyx_1 = PyObject_CallObject(__pyx_3, __pyx_5); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1506; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      goto __pyx_L7;
    }
    /*else*/ {

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1508
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 *             else:
 *                 startp[n] = start[n]             # <<<<<<<<<<<<<< 
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))
 */
      __pyx_9 = PyObject_GetItem(__pyx_v_start, __pyx_v_n); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1508; goto __pyx_L1;}
      __pyx_7 = PyInt_AsLong(__pyx_9); if (unlikely((__pyx_7 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1508; goto __pyx_L1;}
      Py_DECREF(__pyx_9); __pyx_9 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1508
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 *             else:
 *                 startp[n] = start[n]             # <<<<<<<<<<<<<< 
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))
 */
      __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1508; goto __pyx_L1;}
      (__pyx_v_startp[__pyx_2]) = __pyx_7;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1509
 *             else:
 *                 startp[n] = start[n]
 *                 stridep[n] = stride[n]             # <<<<<<<<<<<<<< 
 *                 sl.append(slice(None,None, 1))
 *         data = NP.empty(shapeout, self.dtype)
 */
      __pyx_3 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1509; goto __pyx_L1;}
      __pyx_8 = PyInt_AsLong(__pyx_3); if (unlikely((__pyx_8 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1509; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1509
 *             else:
 *                 startp[n] = start[n]
 *                 stridep[n] = stride[n]             # <<<<<<<<<<<<<< 
 *                 sl.append(slice(None,None, 1))
 *         data = NP.empty(shapeout, self.dtype)
 */
      __pyx_2 = __pyx_PyIndex_AsSsize_t(__pyx_v_n); if (unlikely((__pyx_2 == -1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1509; goto __pyx_L1;}
      (__pyx_v_stridep[__pyx_2]) = __pyx_8;

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1510
 *                 startp[n] = start[n]
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))             # <<<<<<<<<<<<<< 
 *         data = NP.empty(shapeout, self.dtype)
 *         # strides all 1 or scalar variable, use get_vara (faster)
 */
      __pyx_5 = PyObject_GetAttr(__pyx_v_sl, __pyx_n_append); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1510; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1510
 *                 startp[n] = start[n]
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))             # <<<<<<<<<<<<<< 
 *         data = NP.empty(shapeout, self.dtype)
 *         # strides all 1 or scalar variable, use get_vara (faster)
 */
      __pyx_1 = PyTuple_New(3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1510; goto __pyx_L1;}
      Py_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_1, 0, Py_None);
      Py_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_1, 1, Py_None);
      Py_INCREF(__pyx_num_1);
      PyTuple_SET_ITEM(__pyx_1, 2, __pyx_num_1);
      __pyx_9 = PyObject_CallObject(((PyObject*)&PySlice_Type), __pyx_1); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1510; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyTuple_New(1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1510; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_9);
      __pyx_9 = 0;
      __pyx_1 = PyObject_CallObject(__pyx_5, __pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1510; goto __pyx_L1;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
    }
    __pyx_L7:;
  }

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1511
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))
 *         data = NP.empty(shapeout, self.dtype)             # <<<<<<<<<<<<<< 
 *         # strides all 1 or scalar variable, use get_vara (faster)
 *         if sum(stride) == ndims or ndims == 0: 
 */
  __pyx_9 = __Pyx_GetName(__pyx_m, __pyx_n_NP); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1511; goto __pyx_L1;}
  __pyx_5 = PyObject_GetAttr(__pyx_9, __pyx_n_empty); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1511; goto __pyx_L1;}
  Py_DECREF(__pyx_9); __pyx_9 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1511
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))
 *         data = NP.empty(shapeout, self.dtype)             # <<<<<<<<<<<<<< 
 *         # strides all 1 or scalar variable, use get_vara (faster)
 *         if sum(stride) == ndims or ndims == 0: 
 */
  __pyx_3 = PyTuple_New(2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1511; goto __pyx_L1;}
  Py_INCREF(__pyx_v_shapeout);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_shapeout);
  Py_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
  PyTuple_SET_ITEM(__pyx_3, 1, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
  __pyx_1 = PyObject_CallObject(__pyx_5, __pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1511; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7netCDF3_ndarray)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1511; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_data));
  __pyx_v_data = ((PyArrayObject *)__pyx_1);
  __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1513
 *         data = NP.empty(shapeout, self.dtype)
 *         # strides all 1 or scalar variable, use get_vara (faster)
 *         if sum(stride) == ndims or ndims == 0:             # <<<<<<<<<<<<<< 
 *             ierr = nc_get_vara(self._grpid, self._varid,
 *                                startp, countp, data.data)
 */
  __pyx_5 = PyTuple_New(1); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1513; goto __pyx_L1;}
  Py_INCREF(__pyx_v_stride);
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_v_stride);
  __pyx_3 = PyObject_CallObject(__pyx_builtin_sum, __pyx_5); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1513; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1513
 *         data = NP.empty(shapeout, self.dtype)
 *         # strides all 1 or scalar variable, use get_vara (faster)
 *         if sum(stride) == ndims or ndims == 0:             # <<<<<<<<<<<<<< 
 *             ierr = nc_get_vara(self._grpid, self._varid,
 *                                startp, countp, data.data)
 */
  __pyx_1 = PyInt_FromLong(__pyx_v_ndims); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1513; goto __pyx_L1;}
  __pyx_9 = PyObject_RichCompare(__pyx_3, __pyx_1, Py_EQ); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1513; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_9); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1513; goto __pyx_L1;}
  if (!__pyx_4) {
    Py_DECREF(__pyx_9); __pyx_9 = 0;

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1513
 *         data = NP.empty(shapeout, self.dtype)
 *         # strides all 1 or scalar variable, use get_vara (faster)
 *         if sum(stride) == ndims or ndims == 0:             # <<<<<<<<<<<<<< 
 *             ierr = nc_get_vara(self._grpid, self._varid,
 *                                startp, countp, data.data)
 */
    __pyx_9 = __Pyx_PyBool_FromLong((__pyx_v_ndims == 0)); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1513; goto __pyx_L1;}
  }
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_9); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1513; goto __pyx_L1;}
  Py_DECREF(__pyx_9); __pyx_9 = 0;
  if (__pyx_4) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1515
 *         if sum(stride) == ndims or ndims == 0: 
 *             ierr = nc_get_vara(self._grpid, self._varid,
 *                                startp, countp, data.data)             # <<<<<<<<<<<<<< 
 *         else:
 *             ierr = nc_get_vars(self._grpid, self._varid,
 */
    __pyx_v_ierr = nc_get_vara(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid,((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid,__pyx_v_startp,__pyx_v_countp,__pyx_v_data->data);
    goto __pyx_L8;
  }
  /*else*/ {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1518
 *         else:
 *             ierr = nc_get_vars(self._grpid, self._varid,
 *                                startp, countp, stridep, data.data)             # <<<<<<<<<<<<<< 
 *         if negstride:
 *             # reverse data along axes with negative strides.
 */
    __pyx_v_ierr = nc_get_vars(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid,((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid,__pyx_v_startp,__pyx_v_countp,__pyx_v_stridep,__pyx_v_data->data);
  }
  __pyx_L8:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1519
 *             ierr = nc_get_vars(self._grpid, self._varid,
 *                                startp, countp, stridep, data.data)
 *         if negstride:             # <<<<<<<<<<<<<< 
 *             # reverse data along axes with negative strides.
 *             data = data[sl].copy() # make a copy so data is contiguous.
 */
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_v_negstride); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1519; goto __pyx_L1;}
  if (__pyx_4) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1521
 *         if negstride:
 *             # reverse data along axes with negative strides.
 *             data = data[sl].copy() # make a copy so data is contiguous.             # <<<<<<<<<<<<<< 
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_5 = PyObject_GetItem(((PyObject *)__pyx_v_data), __pyx_v_sl); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1521; goto __pyx_L1;}
    __pyx_3 = PyObject_GetAttr(__pyx_5, __pyx_n_copy); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1521; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_1 = PyObject_CallObject(__pyx_3, 0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1521; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7netCDF3_ndarray)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1521; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_data));
    __pyx_v_data = ((PyArrayObject *)__pyx_1);
    __pyx_1 = 0;
    goto __pyx_L9;
  }
  __pyx_L9:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1522
 *             # reverse data along axes with negative strides.
 *             data = data[sl].copy() # make a copy so data is contiguous.
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<< 
 *             raise RuntimeError(nc_strerror(ierr))
 *         if not self.dimensions: 
 */
  __pyx_4 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_4) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1523
 *             data = data[sl].copy() # make a copy so data is contiguous.
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<< 
 *         if not self.dimensions: 
 *             return data[0] # a scalar 
 */
    __pyx_9 = PyString_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1523; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(1); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1523; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_9);
    __pyx_9 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_builtin_RuntimeError, __pyx_5); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1523; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1523; goto __pyx_L1;}
    goto __pyx_L10;
  }
  __pyx_L10:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1524
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         if not self.dimensions:             # <<<<<<<<<<<<<< 
 *             return data[0] # a scalar 
 *         elif data.shape == (1,):
 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_dimensions); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1524; goto __pyx_L1;}
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_1); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1524; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_10 = (!__pyx_4);
  if (__pyx_10) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1525
 *             raise RuntimeError(nc_strerror(ierr))
 *         if not self.dimensions: 
 *             return data[0] # a scalar             # <<<<<<<<<<<<<< 
 *         elif data.shape == (1,):
 *             # if a single item, just return a python scalar
 */
    if (PyList_CheckExact(((PyObject *)__pyx_v_data)) && 0 <= 0 && 0 < PyList_GET_SIZE(((PyObject *)__pyx_v_data))) {
      __pyx_5 = PyList_GET_ITEM(((PyObject *)__pyx_v_data), 0); Py_INCREF(__pyx_5);
      } else if (PyTuple_CheckExact(((PyObject *)__pyx_v_data)) && 0 <= 0 && 0 < PyTuple_GET_SIZE(((PyObject *)__pyx_v_data))) {
      __pyx_5 = PyTuple_GET_ITEM(((PyObject *)__pyx_v_data), 0); Py_INCREF(__pyx_5);
      } else {
      __pyx_9 = PyInt_FromLong(0); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1525; goto __pyx_L1;}
      __pyx_5 = PyObject_GetItem(((PyObject *)__pyx_v_data), __pyx_9); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1525; goto __pyx_L1;}
      Py_DECREF(__pyx_9); __pyx_9 = 0;
    }
    __pyx_r = __pyx_5;
    __pyx_5 = 0;
    goto __pyx_L0;
    goto __pyx_L11;
  }

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1526
 *         if not self.dimensions: 
 *             return data[0] # a scalar 
 *         elif data.shape == (1,):             # <<<<<<<<<<<<<< 
 *             # if a single item, just return a python scalar
 *             # (instead of a scalar array).
 */
  __pyx_3 = PyObject_GetAttr(((PyObject *)__pyx_v_data), __pyx_n_shape); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1526; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1526
 *         if not self.dimensions: 
 *             return data[0] # a scalar 
 *         elif data.shape == (1,):             # <<<<<<<<<<<<<< 
 *             # if a single item, just return a python scalar
 *             # (instead of a scalar array).
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1526; goto __pyx_L1;}
  Py_INCREF(__pyx_num_1);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_num_1);
  __pyx_9 = PyObject_RichCompare(__pyx_3, __pyx_1, Py_EQ); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1526; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_9); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1526; goto __pyx_L1;}
  Py_DECREF(__pyx_9); __pyx_9 = 0;
  if (__pyx_4) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1529
 *             # if a single item, just return a python scalar
 *             # (instead of a scalar array).
 *             return data.item()             # <<<<<<<<<<<<<< 
 *         elif squeeze_out:
 *             return data.squeeze()
 */
    __pyx_5 = PyObject_GetAttr(((PyObject *)__pyx_v_data), __pyx_n_item); if (unlikely(!__pyx_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1529; goto __pyx_L1;}
    __pyx_3 = PyObject_CallObject(__pyx_5, 0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1529; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L11;
  }

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1530
 *             # (instead of a scalar array).
 *             return data.item()
 *         elif squeeze_out:             # <<<<<<<<<<<<<< 
 *             return data.squeeze()
 *         else:
 */
  __pyx_10 = __Pyx_PyObject_IsTrue(__pyx_v_squeeze_out); if (unlikely(__pyx_10 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1530; goto __pyx_L1;}
  if (__pyx_10) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1531
 *             return data.item()
 *         elif squeeze_out:
 *             return data.squeeze()             # <<<<<<<<<<<<<< 
 *         else:
 *             return data
 */
    __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_data), __pyx_n_squeeze); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1531; goto __pyx_L1;}
    __pyx_9 = PyObject_CallObject(__pyx_1, 0); if (unlikely(!__pyx_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1531; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_r = __pyx_9;
    __pyx_9 = 0;
    goto __pyx_L0;
    goto __pyx_L11;
  }
  /*else*/ {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1533
 *             return data.squeeze()
 *         else:
 *             return data             # <<<<<<<<<<<<<< 
 */
    Py_INCREF(((PyObject *)__pyx_v_data));
    __pyx_r = ((PyObject *)__pyx_v_data);
    goto __pyx_L0;
  }
  __pyx_L11:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_9);
  __Pyx_AddTraceback("netCDF3.Variable._get");
  __pyx_r = NULL;
  __pyx_L0:;
  Py_DECREF(__pyx_v_data);
  Py_DECREF(__pyx_v_shapeout);
  Py_DECREF(__pyx_v_squeeze_out);
  Py_DECREF(__pyx_v_lendim);
  Py_DECREF(__pyx_v_negstride);
  Py_DECREF(__pyx_v_sl);
  Py_DECREF(__pyx_v_n);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_start);
  Py_DECREF(__pyx_v_count);
  Py_DECREF(__pyx_v_stride);
  return __pyx_r;
}

static __Pyx_InternTabEntry __pyx_intern_tab[] = {
  {&__pyx_n_AttributeError, "AttributeError"},
  {&__pyx_n_ImportError, "ImportError"},
  {&__pyx_n_IndexError, "IndexError"},
  {&__pyx_n_KeyError, "KeyError"},
  {&__pyx_n_NETCDF3_64BIT, "NETCDF3_64BIT"},
  {&__pyx_n_NETCDF3_CLASSIC, "NETCDF3_CLASSIC"},
  {&__pyx_n_NETCDF4, "NETCDF4"},
  {&__pyx_n_NETCDF4_CLASSIC, "NETCDF4_CLASSIC"},
  {&__pyx_n_NP, "NP"},
  {&__pyx_n_RuntimeError, "RuntimeError"},
  {&__pyx_n_S, "S"},
  {&__pyx_n_S1, "S1"},
  {&__pyx_n_TypeError, "TypeError"},
  {&__pyx_n_ValueError, "ValueError"},
  {&__pyx_n__FillValue, "_FillValue"},
  {&__pyx_n___, "__"},
  {&__pyx_n___delattr__, "__delattr__"},
  {&__pyx_n___dict__, "__dict__"},
  {&__pyx_n___getattr__, "__getattr__"},
  {&__pyx_n___getitem__, "__getitem__"},
  {&__pyx_n___init__, "__init__"},
  {&__pyx_n___len__, "__len__"},
  {&__pyx_n___setattr__, "__setattr__"},
  {&__pyx_n___setitem__, "__setitem__"},
  {&__pyx_n___version__, "__version__"},
  {&__pyx_n__buildStartCountStride, "_buildStartCountStride"},
  {&__pyx_n__default_fillvals, "_default_fillvals"},
  {&__pyx_n__dimid, "_dimid"},
  {&__pyx_n__enddef, "_enddef"},
  {&__pyx_n__get, "_get"},
  {&__pyx_n__grp, "_grp"},
  {&__pyx_n__grpid, "_grpid"},
  {&__pyx_n__key, "_key"},
  {&__pyx_n__nctonptype, "_nctonptype"},
  {&__pyx_n__nptonctype, "_nptonctype"},
  {&__pyx_n__npversion, "_npversion"},
  {&__pyx_n__private_atts, "_private_atts"},
  {&__pyx_n__put, "_put"},
  {&__pyx_n__redef, "_redef"},
  {&__pyx_n__set_default_format, "_set_default_format"},
  {&__pyx_n__supportedtypes, "_supportedtypes"},
  {&__pyx_n__value, "_value"},
  {&__pyx_n__varid, "_varid"},
  {&__pyx_n_a, "a"},
  {&__pyx_n_add_offset, "add_offset"},
  {&__pyx_n_any, "any"},
  {&__pyx_n_append, "append"},
  {&__pyx_n_array, "array"},
  {&__pyx_n_assignValue, "assignValue"},
  {&__pyx_n_astype, "astype"},
  {&__pyx_n_bool, "bool"},
  {&__pyx_n_calendar, "calendar"},
  {&__pyx_n_char, "char"},
  {&__pyx_n_close, "close"},
  {&__pyx_n_copy, "copy"},
  {&__pyx_n_createDimension, "createDimension"},
  {&__pyx_n_createVariable, "createVariable"},
  {&__pyx_n_date2num, "date2num"},
  {&__pyx_n_dimensions, "dimensions"},
  {&__pyx_n_dtype, "dtype"},
  {&__pyx_n_empty, "empty"},
  {&__pyx_n_endswith, "endswith"},
  {&__pyx_n_f4, "f4"},
  {&__pyx_n_f8, "f8"},
  {&__pyx_n_file_format, "file_format"},
  {&__pyx_n_fill_value, "fill_value"},
  {&__pyx_n_filled, "filled"},
  {&__pyx_n_format, "format"},
  {&__pyx_n_getValue, "getValue"},
  {&__pyx_n_has_key, "has_key"},
  {&__pyx_n_i1, "i1"},
  {&__pyx_n_i2, "i2"},
  {&__pyx_n_i4, "i4"},
  {&__pyx_n_i8, "i8"},
  {&__pyx_n_id, "id"},
  {&__pyx_n_isunlimited, "isunlimited"},
  {&__pyx_n_item, "item"},
  {&__pyx_n_itemsize, "itemsize"},
  {&__pyx_n_iteritems, "iteritems"},
  {&__pyx_n_keys, "keys"},
  {&__pyx_n_ma, "ma"},
  {&__pyx_n_mask, "mask"},
  {&__pyx_n_maskandscale, "maskandscale"},
  {&__pyx_n_masked_array, "masked_array"},
  {&__pyx_n_missing_value, "missing_value"},
  {&__pyx_n_ncattrs, "ncattrs"},
  {&__pyx_n_ndarray, "ndarray"},
  {&__pyx_n_ndim, "ndim"},
  {&__pyx_n_netCDF4_utils, "netCDF4_utils"},
  {&__pyx_n_netcdftime, "netcdftime"},
  {&__pyx_n_num2date, "num2date"},
  {&__pyx_n_numpy, "numpy"},
  {&__pyx_n_ones, "ones"},
  {&__pyx_n_os, "os"},
  {&__pyx_n_pop, "pop"},
  {&__pyx_n_r, "r"},
  {&__pyx_n_range, "range"},
  {&__pyx_n_renameDimension, "renameDimension"},
  {&__pyx_n_renameVariable, "renameVariable"},
  {&__pyx_n_replace, "replace"},
  {&__pyx_n_scale_factor, "scale_factor"},
  {&__pyx_n_set_auto_maskandscale, "set_auto_maskandscale"},
  {&__pyx_n_set_fill_off, "set_fill_off"},
  {&__pyx_n_set_fill_on, "set_fill_on"},
  {&__pyx_n_shape, "shape"},
  {&__pyx_n_size, "size"},
  {&__pyx_n_split, "split"},
  {&__pyx_n_squeeze, "squeeze"},
  {&__pyx_n_standard, "standard"},
  {&__pyx_n_startswith, "startswith"},
  {&__pyx_n_str, "str"},
  {&__pyx_n_sum, "sum"},
  {&__pyx_n_sync, "sync"},
  {&__pyx_n_tostring, "tostring"},
  {&__pyx_n_utime, "utime"},
  {&__pyx_n_variables, "variables"},
  {&__pyx_n_w, "w"},
  {&__pyx_n_zeros, "zeros"},
  {&__pyx_n_zip, "zip"},
  {0, 0}
};

static __Pyx_StringTabEntry __pyx_string_tab[] = {
  {&__pyx_k5p, __pyx_k5, sizeof(__pyx_k5), 0},
  {&__pyx_k13p, __pyx_k13, sizeof(__pyx_k13), 0},
  {&__pyx_k14p, __pyx_k14, sizeof(__pyx_k14), 0},
  {&__pyx_k15p, __pyx_k15, sizeof(__pyx_k15), 0},
  {&__pyx_k23p, __pyx_k23, sizeof(__pyx_k23), 0},
  {&__pyx_k61p, __pyx_k61, sizeof(__pyx_k61), 0},
  {&__pyx_k62p, __pyx_k62, sizeof(__pyx_k62), 0},
  {&__pyx_k63p, __pyx_k63, sizeof(__pyx_k63), 0},
  {&__pyx_k64p, __pyx_k64, sizeof(__pyx_k64), 0},
  {&__pyx_k66p, __pyx_k66, sizeof(__pyx_k66), 0},
  {&__pyx_k68p, __pyx_k68, sizeof(__pyx_k68), 0},
  {&__pyx_k69p, __pyx_k69, sizeof(__pyx_k69), 0},
  {&__pyx_k78p, __pyx_k78, sizeof(__pyx_k78), 0},
  {&__pyx_k80p, __pyx_k80, sizeof(__pyx_k80), 0},
  {&__pyx_k85p, __pyx_k85, sizeof(__pyx_k85), 0},
  {&__pyx_k87p, __pyx_k87, sizeof(__pyx_k87), 0},
  {&__pyx_k91p, __pyx_k91, sizeof(__pyx_k91), 0},
  {&__pyx_k92p, __pyx_k92, sizeof(__pyx_k92), 0},
  {&__pyx_k94p, __pyx_k94, sizeof(__pyx_k94), 0},
  {&__pyx_k100p, __pyx_k100, sizeof(__pyx_k100), 0},
  {&__pyx_k101p, __pyx_k101, sizeof(__pyx_k101), 0},
  {&__pyx_k104p, __pyx_k104, sizeof(__pyx_k104), 0},
  {&__pyx_k106p, __pyx_k106, sizeof(__pyx_k106), 0},
  {&__pyx_k107p, __pyx_k107, sizeof(__pyx_k107), 0},
  {&__pyx_k108p, __pyx_k108, sizeof(__pyx_k108), 0},
  {&__pyx_k111p, __pyx_k111, sizeof(__pyx_k111), 0},
  {&__pyx_k127p, __pyx_k127, sizeof(__pyx_k127), 0},
  {&__pyx_k128p, __pyx_k128, sizeof(__pyx_k128), 0},
  {&__pyx_k129p, __pyx_k129, sizeof(__pyx_k129), 0},
  {0, 0, 0, 0}
};

static PyObject *__pyx_tp_new_7netCDF3_Dataset(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7netCDF3_Dataset *p;
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  p = ((struct __pyx_obj_7netCDF3_Dataset *)o);
  p->dimensions = Py_None; Py_INCREF(Py_None);
  p->variables = Py_None; Py_INCREF(Py_None);
  p->file_format = Py_None; Py_INCREF(Py_None);
  p->maskanscale = Py_None; Py_INCREF(Py_None);
  return o;
}

static void __pyx_tp_dealloc_7netCDF3_Dataset(PyObject *o) {
  struct __pyx_obj_7netCDF3_Dataset *p = (struct __pyx_obj_7netCDF3_Dataset *)o;
  Py_XDECREF(p->dimensions);
  Py_XDECREF(p->variables);
  Py_XDECREF(p->file_format);
  Py_XDECREF(p->maskanscale);
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_7netCDF3_Dataset(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7netCDF3_Dataset *p = (struct __pyx_obj_7netCDF3_Dataset *)o;
  if (p->dimensions) {
    e = (*v)(p->dimensions, a); if (e) return e;
  }
  if (p->variables) {
    e = (*v)(p->variables, a); if (e) return e;
  }
  if (p->file_format) {
    e = (*v)(p->file_format, a); if (e) return e;
  }
  if (p->maskanscale) {
    e = (*v)(p->maskanscale, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7netCDF3_Dataset(PyObject *o) {
  struct __pyx_obj_7netCDF3_Dataset *p = (struct __pyx_obj_7netCDF3_Dataset *)o;
  Py_XDECREF(p->dimensions);
  p->dimensions = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(p->variables);
  p->variables = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(p->file_format);
  p->file_format = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(p->maskanscale);
  p->maskanscale = Py_None; Py_INCREF(Py_None);
  return 0;
}

static PyObject *__pyx_tp_getattro_7netCDF3_Dataset(PyObject *o, PyObject *n) {
  PyObject *v = PyObject_GenericGetAttr(o, n);
  if (!v && PyErr_ExceptionMatches(PyExc_AttributeError)) {
    PyErr_Clear();
    v = __pyx_pf_7netCDF3_7Dataset___getattr__(o, n);
  }
  return v;
}

static int __pyx_tp_setattro_7netCDF3_Dataset(PyObject *o, PyObject *n, PyObject *v) {
  if (v) {
    return __pyx_pf_7netCDF3_7Dataset___setattr__(o, n, v);
  }
  else {
    return __pyx_pf_7netCDF3_7Dataset___delattr__(o, n);
  }
}

static struct PyMethodDef __pyx_methods_7netCDF3_Dataset[] = {
  {"close", (PyCFunction)__pyx_pf_7netCDF3_7Dataset_close, METH_NOARGS, __pyx_doc_7netCDF3_7Dataset_close},
  {"sync", (PyCFunction)__pyx_pf_7netCDF3_7Dataset_sync, METH_NOARGS, __pyx_doc_7netCDF3_7Dataset_sync},
  {"_redef", (PyCFunction)__pyx_pf_7netCDF3_7Dataset__redef, METH_NOARGS, 0},
  {"_enddef", (PyCFunction)__pyx_pf_7netCDF3_7Dataset__enddef, METH_NOARGS, 0},
  {"set_fill_on", (PyCFunction)__pyx_pf_7netCDF3_7Dataset_set_fill_on, METH_NOARGS, __pyx_doc_7netCDF3_7Dataset_set_fill_on},
  {"set_fill_off", (PyCFunction)__pyx_pf_7netCDF3_7Dataset_set_fill_off, METH_NOARGS, __pyx_doc_7netCDF3_7Dataset_set_fill_off},
  {"createDimension", (PyCFunction)__pyx_pf_7netCDF3_7Dataset_createDimension, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF3_7Dataset_createDimension},
  {"renameDimension", (PyCFunction)__pyx_pf_7netCDF3_7Dataset_renameDimension, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF3_7Dataset_renameDimension},
  {"createVariable", (PyCFunction)__pyx_pf_7netCDF3_7Dataset_createVariable, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF3_7Dataset_createVariable},
  {"renameVariable", (PyCFunction)__pyx_pf_7netCDF3_7Dataset_renameVariable, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF3_7Dataset_renameVariable},
  {"ncattrs", (PyCFunction)__pyx_pf_7netCDF3_7Dataset_ncattrs, METH_NOARGS, __pyx_doc_7netCDF3_7Dataset_ncattrs},
  {"__getattr__", (PyCFunction)__pyx_pf_7netCDF3_7Dataset___getattr__, METH_O|METH_COEXIST, 0},
  {0, 0, 0, 0}
};

static struct PyMemberDef __pyx_members_7netCDF3_Dataset[] = {
  {"_grpid", T_INT, offsetof(struct __pyx_obj_7netCDF3_Dataset, _grpid), 0, 0},
  {"dimensions", T_OBJECT, offsetof(struct __pyx_obj_7netCDF3_Dataset, dimensions), 0, 0},
  {"variables", T_OBJECT, offsetof(struct __pyx_obj_7netCDF3_Dataset, variables), 0, 0},
  {"file_format", T_OBJECT, offsetof(struct __pyx_obj_7netCDF3_Dataset, file_format), 0, 0},
  {"maskanscale", T_OBJECT, offsetof(struct __pyx_obj_7netCDF3_Dataset, maskanscale), 0, 0},
  {0, 0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Dataset = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Dataset = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Dataset = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Dataset = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7netCDF3_Dataset = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "netCDF3.Dataset", /*tp_name*/
  sizeof(struct __pyx_obj_7netCDF3_Dataset), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7netCDF3_Dataset, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Dataset, /*tp_as_number*/
  &__pyx_tp_as_sequence_Dataset, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Dataset, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  __pyx_tp_getattro_7netCDF3_Dataset, /*tp_getattro*/
  __pyx_tp_setattro_7netCDF3_Dataset, /*tp_setattro*/
  &__pyx_tp_as_buffer_Dataset, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  "\nDataset(self, filename, mode=\"r\", clobber=True, format=\'NETCDF3_64BIT\')\n\nA netCDF L{Dataset} is a collection of dimensions, variables and \nattributes. Together they describe the meaning of data and relations among \ndata fields stored in a netCDF file.\n\nB{Parameters:}\n\nB{C{filename}} - Name of netCDF file to hold dataset.\n\nB{Keywords}:\n\nB{C{mode}} - access mode. C{r} means read-only; no data can be\nmodified. C{w} means write; a new file is created, an existing file with\nthe same name is deleted. C{a} and C{r+} mean append (in analogy with\nserial files); an existing file is opened for reading and writing.\n\nB{C{clobber}} - if C{True} (default), opening a file with C{mode=\'w\'}\nwill clobber an existing file with the same name.  if C{False}, an\nexception will be raised if a file with the same name already exists.\n\nB{C{format}} - underlying file format (either C{\'NETCDF3_64BIT\'} \nor C{\'NETCDF3_CLASSIC\'}.  Only \nrelevant if C{mode = \'w\'} (if C{mode = \'r\',\'a\'} or C{\'r+\'} the file format \nis automatically detected). Default C{\'NETCDF3_64BIT\'} (the 64-bit offset\nversion of the netCDF 3 file format, which fully supports 2+ GB files)).\nC{\'NETCDF3_CLASSIC\'} is the classic netCDF 3 file format that does not \nhandle 2+ Gb files very well.\n\nB{Returns:}\n\na L{Dataset} instance.  All further operations on the netCDF\nDataset are accomplised via L{Dataset} instance methods.\n\nA list of attribute names corresponding to global netCDF attributes \ndefined for the L{Dataset} can be obtained with the L{ncattrs()} method. \nThese attributes can be created by assigning to an attribute of the \nL{Dataset} instance. A dictionary containing all the netCDF attribute\nname/value pairs is provided by the C{__dict__} attribute of a\nL{Dataset} instance.\n\nThe instance variables C{dimensions, variables,\nfile_format} and C{path} are read-only (and should not be modified by the \nuser).\n\n@ivar dimensions: The C{dimensions} dictionary maps the names of \ndimensions defined for the L{Dataset} to instances of the \nL{Dimension} class.\n\n@ivar variables: The C{variables} dictionary maps the names of variables \ndefined for this L{Dataset} to instances of the L{Variable} \nclass.\n\n@ivar file_format: The C{file_format} attribute describes the netCDF\nfile format version, either C{NETCDF3_CLASSIC} or\nor C{NETCDF3_64BIT}.", /*tp_doc*/
  __pyx_tp_traverse_7netCDF3_Dataset, /*tp_traverse*/
  __pyx_tp_clear_7netCDF3_Dataset, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7netCDF3_Dataset, /*tp_methods*/
  __pyx_members_7netCDF3_Dataset, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_pf_7netCDF3_7Dataset___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7netCDF3_Dataset, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_7netCDF3_Dimension(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7netCDF3_Dimension *p;
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  p = ((struct __pyx_obj_7netCDF3_Dimension *)o);
  p->_file_format = Py_None; Py_INCREF(Py_None);
  return o;
}

static void __pyx_tp_dealloc_7netCDF3_Dimension(PyObject *o) {
  struct __pyx_obj_7netCDF3_Dimension *p = (struct __pyx_obj_7netCDF3_Dimension *)o;
  Py_XDECREF(p->_file_format);
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_7netCDF3_Dimension(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7netCDF3_Dimension *p = (struct __pyx_obj_7netCDF3_Dimension *)o;
  if (p->_file_format) {
    e = (*v)(p->_file_format, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7netCDF3_Dimension(PyObject *o) {
  struct __pyx_obj_7netCDF3_Dimension *p = (struct __pyx_obj_7netCDF3_Dimension *)o;
  Py_XDECREF(p->_file_format);
  p->_file_format = Py_None; Py_INCREF(Py_None);
  return 0;
}

static struct PyMethodDef __pyx_methods_7netCDF3_Dimension[] = {
  {"isunlimited", (PyCFunction)__pyx_pf_7netCDF3_9Dimension_isunlimited, METH_NOARGS, __pyx_doc_7netCDF3_9Dimension_isunlimited},
  {0, 0, 0, 0}
};

static struct PyMemberDef __pyx_members_7netCDF3_Dimension[] = {
  {"_dimid", T_INT, offsetof(struct __pyx_obj_7netCDF3_Dimension, _dimid), 0, 0},
  {"_grpid", T_INT, offsetof(struct __pyx_obj_7netCDF3_Dimension, _grpid), 0, 0},
  {"_file_format", T_OBJECT, offsetof(struct __pyx_obj_7netCDF3_Dimension, _file_format), 0, 0},
  {0, 0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Dimension = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Dimension = {
  __pyx_pf_7netCDF3_9Dimension___len__, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Dimension = {
  __pyx_pf_7netCDF3_9Dimension___len__, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Dimension = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7netCDF3_Dimension = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "netCDF3.Dimension", /*tp_name*/
  sizeof(struct __pyx_obj_7netCDF3_Dimension), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7netCDF3_Dimension, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Dimension, /*tp_as_number*/
  &__pyx_tp_as_sequence_Dimension, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Dimension, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Dimension, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  "\nDimension(self, dset, name, size=None)\n\nA netCDF L{Dimension} is used to describe the coordinates of a L{Variable}.\n\nL{Dimension} instances should be created using the\nL{createDimension<Dataset.createDimension>} method of a \nL{Dataset} instance, not using this class directly.\n\nB{Parameters:}\n\nB{C{dset}}  - Dataset instance.\n\nB{C{name}}  - Name of the dimension.\n\nB{Keywords:}\n\nB{C{size}}  - Size of the dimension (Default C{None} means unlimited).\n\nB{Returns:}\n\na L{Dimension} instance.  All further operations on the netCDF Dimension \nare accomplised via L{Dimension} instance methods.\n\nThe current maximum size of a L{Dimension} instance can be obtained by\ncalling the python C{len} function on the L{Dimension} instance. The\nC{isunlimited()} method of a L{Dimension} instance can be used to\ndetermine if the dimension is unlimited", /*tp_doc*/
  __pyx_tp_traverse_7netCDF3_Dimension, /*tp_traverse*/
  __pyx_tp_clear_7netCDF3_Dimension, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7netCDF3_Dimension, /*tp_methods*/
  __pyx_members_7netCDF3_Dimension, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_pf_7netCDF3_9Dimension___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7netCDF3_Dimension, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_7netCDF3_Variable(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7netCDF3_Variable *p;
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  p = ((struct __pyx_obj_7netCDF3_Variable *)o);
  p->_grp = Py_None; Py_INCREF(Py_None);
  p->ndim = Py_None; Py_INCREF(Py_None);
  p->dtype = Py_None; Py_INCREF(Py_None);
  p->maskandscale = Py_None; Py_INCREF(Py_None);
  return o;
}

static void __pyx_tp_dealloc_7netCDF3_Variable(PyObject *o) {
  struct __pyx_obj_7netCDF3_Variable *p = (struct __pyx_obj_7netCDF3_Variable *)o;
  Py_XDECREF(p->_grp);
  Py_XDECREF(p->ndim);
  Py_XDECREF(p->dtype);
  Py_XDECREF(p->maskandscale);
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_7netCDF3_Variable(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7netCDF3_Variable *p = (struct __pyx_obj_7netCDF3_Variable *)o;
  if (p->_grp) {
    e = (*v)(p->_grp, a); if (e) return e;
  }
  if (p->ndim) {
    e = (*v)(p->ndim, a); if (e) return e;
  }
  if (p->dtype) {
    e = (*v)(p->dtype, a); if (e) return e;
  }
  if (p->maskandscale) {
    e = (*v)(p->maskandscale, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7netCDF3_Variable(PyObject *o) {
  struct __pyx_obj_7netCDF3_Variable *p = (struct __pyx_obj_7netCDF3_Variable *)o;
  Py_XDECREF(p->_grp);
  p->_grp = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(p->ndim);
  p->ndim = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(p->dtype);
  p->dtype = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(p->maskandscale);
  p->maskandscale = Py_None; Py_INCREF(Py_None);
  return 0;
}
static PyObject *__pyx_sq_item_7netCDF3_Variable(PyObject *o, Py_ssize_t i) {
  PyObject *r;
  PyObject *x = PyInt_FromSsize_t(i); if(!x) return 0;
  r = o->ob_type->tp_as_mapping->mp_subscript(o, x);
  Py_DECREF(x);
  return r;
}

static int __pyx_mp_ass_subscript_7netCDF3_Variable(PyObject *o, PyObject *i, PyObject *v) {
  if (v) {
    return __pyx_pf_7netCDF3_8Variable___setitem__(o, i, v);
  }
  else {
    PyErr_Format(PyExc_NotImplementedError,
      "Subscript deletion not supported by %s", o->ob_type->tp_name);
    return -1;
  }
}

static PyObject *__pyx_tp_getattro_7netCDF3_Variable(PyObject *o, PyObject *n) {
  PyObject *v = PyObject_GenericGetAttr(o, n);
  if (!v && PyErr_ExceptionMatches(PyExc_AttributeError)) {
    PyErr_Clear();
    v = __pyx_pf_7netCDF3_8Variable___getattr__(o, n);
  }
  return v;
}

static int __pyx_tp_setattro_7netCDF3_Variable(PyObject *o, PyObject *n, PyObject *v) {
  if (v) {
    return __pyx_pf_7netCDF3_8Variable___setattr__(o, n, v);
  }
  else {
    return __pyx_pf_7netCDF3_8Variable___delattr__(o, n);
  }
}

static PyObject *__pyx_getprop_7netCDF3_8Variable_shape(PyObject *o, void *x) {
  return __pyx_pf_7netCDF3_8Variable_5shape___get__(o);
}

static int __pyx_setprop_7netCDF3_8Variable_shape(PyObject *o, PyObject *v, void *x) {
  if (v) {
    return __pyx_pf_7netCDF3_8Variable_5shape___set__(o, v);
  }
  else {
    PyErr_SetString(PyExc_NotImplementedError, "__del__");
    return -1;
  }
}

static PyObject *__pyx_getprop_7netCDF3_8Variable_dimensions(PyObject *o, void *x) {
  return __pyx_pf_7netCDF3_8Variable_10dimensions___get__(o);
}

static int __pyx_setprop_7netCDF3_8Variable_dimensions(PyObject *o, PyObject *v, void *x) {
  if (v) {
    return __pyx_pf_7netCDF3_8Variable_10dimensions___set__(o, v);
  }
  else {
    PyErr_SetString(PyExc_NotImplementedError, "__del__");
    return -1;
  }
}

static struct PyMethodDef __pyx_methods_7netCDF3_Variable[] = {
  {"ncattrs", (PyCFunction)__pyx_pf_7netCDF3_8Variable_ncattrs, METH_NOARGS, __pyx_doc_7netCDF3_8Variable_ncattrs},
  {"__getattr__", (PyCFunction)__pyx_pf_7netCDF3_8Variable___getattr__, METH_O|METH_COEXIST, 0},
  {"__getitem__", (PyCFunction)__pyx_pf_7netCDF3_8Variable___getitem__, METH_O|METH_COEXIST, 0},
  {"assignValue", (PyCFunction)__pyx_pf_7netCDF3_8Variable_assignValue, METH_O, __pyx_doc_7netCDF3_8Variable_assignValue},
  {"getValue", (PyCFunction)__pyx_pf_7netCDF3_8Variable_getValue, METH_NOARGS, __pyx_doc_7netCDF3_8Variable_getValue},
  {"set_auto_maskandscale", (PyCFunction)__pyx_pf_7netCDF3_8Variable_set_auto_maskandscale, METH_O, __pyx_doc_7netCDF3_8Variable_set_auto_maskandscale},
  {"_put", (PyCFunction)__pyx_pf_7netCDF3_8Variable__put, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF3_8Variable__put},
  {"_get", (PyCFunction)__pyx_pf_7netCDF3_8Variable__get, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF3_8Variable__get},
  {0, 0, 0, 0}
};

static struct PyMemberDef __pyx_members_7netCDF3_Variable[] = {
  {"_varid", T_INT, offsetof(struct __pyx_obj_7netCDF3_Variable, _varid), 0, 0},
  {"_grpid", T_INT, offsetof(struct __pyx_obj_7netCDF3_Variable, _grpid), 0, 0},
  {"_nunlimdim", T_INT, offsetof(struct __pyx_obj_7netCDF3_Variable, _nunlimdim), 0, 0},
  {"ndim", T_OBJECT, offsetof(struct __pyx_obj_7netCDF3_Variable, ndim), 0, 0},
  {"dtype", T_OBJECT, offsetof(struct __pyx_obj_7netCDF3_Variable, dtype), 0, 0},
  {"maskandscale", T_OBJECT, offsetof(struct __pyx_obj_7netCDF3_Variable, maskandscale), 0, 0},
  {0, 0, 0, 0, 0}
};

static struct PyGetSetDef __pyx_getsets_7netCDF3_Variable[] = {
  {"shape", __pyx_getprop_7netCDF3_8Variable_shape, __pyx_setprop_7netCDF3_8Variable_shape, __pyx_k1, 0},
  {"dimensions", __pyx_getprop_7netCDF3_8Variable_dimensions, __pyx_setprop_7netCDF3_8Variable_dimensions, __pyx_k2, 0},
  {0, 0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Variable = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Variable = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  __pyx_sq_item_7netCDF3_Variable, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Variable = {
  0, /*mp_length*/
  __pyx_pf_7netCDF3_8Variable___getitem__, /*mp_subscript*/
  __pyx_mp_ass_subscript_7netCDF3_Variable, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Variable = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7netCDF3_Variable = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "netCDF3.Variable", /*tp_name*/
  sizeof(struct __pyx_obj_7netCDF3_Variable), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7netCDF3_Variable, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Variable, /*tp_as_number*/
  &__pyx_tp_as_sequence_Variable, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Variable, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  __pyx_tp_getattro_7netCDF3_Variable, /*tp_getattro*/
  __pyx_tp_setattro_7netCDF3_Variable, /*tp_setattro*/
  &__pyx_tp_as_buffer_Variable, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  "\nVariable(self, dset, name, datatype, dimensions=(), fill_value=None)\n\nA netCDF L{Variable} is used to read and write netCDF data.  They are \nanalagous to numpy array objects.\n\nL{Variable} instances should be created using the\nL{createVariable<Dataset.createVariable>} method of a L{Dataset}\ninstance, not using this class directly.\n\nB{Parameters:}\n\nB{C{dset}}  - Dataset instance.\n\nB{C{name}}  - Name of the variable.\n\nB{C{datatype}} - L{Variable} data type. Can be specified by providing a \nnumpy dtype object, or a string that describes a numpy dtype object. \nSupported values, corresponding to C{str} attribute of numpy dtype \nobjects, include C{\'f4\'} (32-bit floating point), C{\'f8\'} (64-bit floating \npoint), C{\'i4\'} (32-bit signed integer), C{\'i2\'} (16-bit signed integer), \nC{\'i4\'} (8-bit singed integer), C{\'i1\'} (8-bit signed integer),\nor C{\'S1\'} (single-character string).  From \ncompatibility with Scientific.IO.NetCDF, the old Numeric single character \ntypecodes can also be used (C{\'f\'} instead of C{\'f4\'}, C{\'d\'} instead of \nC{\'f8\'}, C{\'h\'} or C{\'s\'} instead of C{\'i2\'}, C{\'b\'} or C{\'B\'} instead of \nC{\'i1\'}, C{\'c\'} instead of C{\'S1\'}, and C{\'i\'} or C{\'l\'} instead of \nC{\'i4\'}).\n\nB{Keywords:}\n\nB{C{dimensions}} - a tuple containing the variable\'s dimension names \n(defined previously with C{createDimension}). Default is an empty tuple \nwhich means the variable is a scalar (and therefore has no dimensions).\n\nB{C{fill_value}} - If specified, the default netCDF C{_FillValue} (the \nvalue that the variable gets filled with before any data is written to it) \nis replaced with this value.\n \nB{Returns:}\n\na L{Variable} instance.  All further operations on the netCDF Variable are \naccomplised via L{Variable} instance methods.\n\nA list of attribute names corresponding to netCDF attributes defined for\nthe variable can be obtained with the C{ncattrs()} method. These\nattributes can be created by assigning to an attribute of the\nL{Variable} instance. A dictionary containing all the netCDF attribute\nname/value pairs is provided by the C{__dict__} attribute of a\nL{Variable} instance.\n\nThe instance variables C{dimensions, dtype, ndim, shape} are read-only\n(and should not be modified by the user).\n\n@ivar dimensions: A tuple containing the names of the dimensions \nassociated with this variable.\n\n@ivar dtype: A numpy dtype object describing the variable\'s data type.\n\n@ivar ndim: The number of variable dimensions.\n\n@ivar shape: a tuple describing the current size of all the variable\'s \ndimensions.", /*tp_doc*/
  __pyx_tp_traverse_7netCDF3_Variable, /*tp_traverse*/
  __pyx_tp_clear_7netCDF3_Variable, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7netCDF3_Variable, /*tp_methods*/
  __pyx_members_7netCDF3_Variable, /*tp_members*/
  __pyx_getsets_7netCDF3_Variable, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_pf_7netCDF3_8Variable___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7netCDF3_Variable, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static struct PyMethodDef __pyx_methods[] = {
  {"stringtochar", (PyCFunction)__pyx_pf_7netCDF3_stringtochar, METH_O, __pyx_doc_7netCDF3_stringtochar},
  {"chartostring", (PyCFunction)__pyx_pf_7netCDF3_chartostring, METH_O, __pyx_doc_7netCDF3_chartostring},
  {"date2num", (PyCFunction)__pyx_pf_7netCDF3_date2num, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF3_date2num},
  {"num2date", (PyCFunction)__pyx_pf_7netCDF3_num2date, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7netCDF3_num2date},
  {"getlibversion", (PyCFunction)__pyx_pf_7netCDF3_getlibversion, METH_NOARGS, __pyx_doc_7netCDF3_getlibversion},
  {"_set_default_format", (PyCFunction)__pyx_pf_7netCDF3__set_default_format, METH_VARARGS|METH_KEYWORDS, 0},
  {0, 0, 0, 0}
};

static void __pyx_init_filenames(void); /*proto*/

PyMODINIT_FUNC initnetCDF3(void); /*proto*/
PyMODINIT_FUNC initnetCDF3(void) {
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  Py_ssize_t __pyx_5;
  PyObject *__pyx_6 = 0;
  /*--- Libary function declarations ---*/
  __pyx_init_filenames();
  /*--- Module creation code ---*/
  __pyx_m = Py_InitModule4("netCDF3", __pyx_methods, __pyx_mdoc, 0, PYTHON_API_VERSION);
  if (!__pyx_m) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;};
  __pyx_b = PyImport_AddModule("__builtin__");
  if (!__pyx_b) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;};
  if (PyObject_SetAttrString(__pyx_m, "__builtins__", __pyx_b) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;};
  /*--- Intern code ---*/
  __pyx_num_0 = PyInt_FromLong(0); if (unlikely(!__pyx_num_0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;};
  __pyx_num_1 = PyInt_FromLong(1); if (unlikely(!__pyx_num_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;};
  __pyx_num_neg_1 = PyInt_FromLong(-1); if (unlikely(!__pyx_num_neg_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;};
  if (__Pyx_InternStrings(__pyx_intern_tab) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;};
  /*--- String init code ---*/
  if (__Pyx_InitStrings(__pyx_string_tab) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;};
  /*--- Builtin init code ---*/
  __pyx_builtin_ImportError = __Pyx_GetName(__pyx_b, __pyx_n_ImportError); if (!__pyx_builtin_ImportError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 309; goto __pyx_L1;}
  __pyx_builtin_range = __Pyx_GetName(__pyx_b, __pyx_n_range); if (!__pyx_builtin_range) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; goto __pyx_L1;}
  __pyx_builtin_RuntimeError = __Pyx_GetName(__pyx_b, __pyx_n_RuntimeError); if (!__pyx_builtin_RuntimeError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 476; goto __pyx_L1;}
  __pyx_builtin_ValueError = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_builtin_ValueError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 511; goto __pyx_L1;}
  __pyx_builtin_KeyError = __Pyx_GetName(__pyx_b, __pyx_n_KeyError); if (!__pyx_builtin_KeyError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; goto __pyx_L1;}
  __pyx_builtin_TypeError = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_builtin_TypeError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L1;}
  __pyx_builtin_AttributeError = __Pyx_GetName(__pyx_b, __pyx_n_AttributeError); if (!__pyx_builtin_AttributeError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 936; goto __pyx_L1;}
  __pyx_builtin_zip = __Pyx_GetName(__pyx_b, __pyx_n_zip); if (!__pyx_builtin_zip) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 961; goto __pyx_L1;}
  __pyx_builtin_IndexError = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_builtin_IndexError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1360; goto __pyx_L1;}
  __pyx_builtin_sum = __Pyx_GetName(__pyx_b, __pyx_n_sum); if (!__pyx_builtin_sum) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1466; goto __pyx_L1;}
  /*--- Global init code ---*/
  /*--- Function export code ---*/
  /*--- Function import code ---*/
  /*--- Type init code ---*/
  __pyx_ptype_7netCDF3_ndarray = __Pyx_ImportType("numpy", "ndarray", sizeof(PyArrayObject)); if (unlikely(!__pyx_ptype_7netCDF3_ndarray)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 407; goto __pyx_L1;}
  __pyx_type_7netCDF3_Dataset.tp_free = _PyObject_GC_Del;
  if (PyType_Ready(&__pyx_type_7netCDF3_Dataset) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 665; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "Dataset", (PyObject *)&__pyx_type_7netCDF3_Dataset) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 665; goto __pyx_L1;}
  __pyx_ptype_7netCDF3_Dataset = &__pyx_type_7netCDF3_Dataset;
  __pyx_type_7netCDF3_Dimension.tp_free = _PyObject_GC_Del;
  if (PyType_Ready(&__pyx_type_7netCDF3_Dimension) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 969; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "Dimension", (PyObject *)&__pyx_type_7netCDF3_Dimension) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 969; goto __pyx_L1;}
  __pyx_ptype_7netCDF3_Dimension = &__pyx_type_7netCDF3_Dimension;
  __pyx_type_7netCDF3_Variable.tp_free = _PyObject_GC_Del;
  if (PyType_Ready(&__pyx_type_7netCDF3_Variable) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1043; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "Variable", (PyObject *)&__pyx_type_7netCDF3_Variable) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1043; goto __pyx_L1;}
  __pyx_ptype_7netCDF3_Variable = &__pyx_type_7netCDF3_Variable;
  /*--- Type import code ---*/
  /*--- Execution code ---*/

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":298
 * 
 * # pure python utilities
 * from netCDF4_utils import _buildStartCountStride             # <<<<<<<<<<<<<< 
 * 
 * __version__ = "0.7.3"
 */
  __pyx_1 = PyList_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 298; goto __pyx_L1;}
  Py_INCREF(__pyx_n__buildStartCountStride);
  PyList_SET_ITEM(__pyx_1, 0, __pyx_n__buildStartCountStride);
  __pyx_2 = __Pyx_Import(__pyx_n_netCDF4_utils, __pyx_1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 298; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_n__buildStartCountStride); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 298; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n__buildStartCountStride, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 298; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":300
 * from netCDF4_utils import _buildStartCountStride
 * 
 * __version__ = "0.7.3"             # <<<<<<<<<<<<<< 
 * 
 * # Initialize numpy
 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n___version__, __pyx_k5p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 300; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":303
 * 
 * # Initialize numpy
 * import os             # <<<<<<<<<<<<<< 
 * import netcdftime
 * import numpy as NP
 */
  __pyx_2 = __Pyx_Import(__pyx_n_os, 0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 303; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_os, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 303; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":304
 * # Initialize numpy
 * import os
 * import netcdftime             # <<<<<<<<<<<<<< 
 * import numpy as NP
 * from numpy import ma
 */
  __pyx_1 = __Pyx_Import(__pyx_n_netcdftime, 0); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 304; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_netcdftime, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 304; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":305
 * import os
 * import netcdftime
 * import numpy as NP             # <<<<<<<<<<<<<< 
 * from numpy import ma
 * from numpy import __version__ as _npversion
 */
  __pyx_2 = __Pyx_Import(__pyx_n_numpy, 0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 305; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_NP, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 305; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":306
 * import netcdftime
 * import numpy as NP
 * from numpy import ma             # <<<<<<<<<<<<<< 
 * from numpy import __version__ as _npversion
 * if _npversion.split('.')[0] < '1':
 */
  __pyx_1 = PyList_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 306; goto __pyx_L1;}
  Py_INCREF(__pyx_n_ma);
  PyList_SET_ITEM(__pyx_1, 0, __pyx_n_ma);
  __pyx_2 = __Pyx_Import(__pyx_n_numpy, __pyx_1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 306; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_n_ma); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 306; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_ma, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 306; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":307
 * import numpy as NP
 * from numpy import ma
 * from numpy import __version__ as _npversion             # <<<<<<<<<<<<<< 
 * if _npversion.split('.')[0] < '1':
 *     raise ImportError('requires numpy version 1.0rc1 or later')
 */
  __pyx_2 = PyList_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 307; goto __pyx_L1;}
  Py_INCREF(__pyx_n___version__);
  PyList_SET_ITEM(__pyx_2, 0, __pyx_n___version__);
  __pyx_1 = __Pyx_Import(__pyx_n_numpy, __pyx_2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 307; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n___version__); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 307; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n__npversion, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 307; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":308
 * from numpy import ma
 * from numpy import __version__ as _npversion
 * if _npversion.split('.')[0] < '1':             # <<<<<<<<<<<<<< 
 *     raise ImportError('requires numpy version 1.0rc1 or later')
 * import_array()
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__npversion); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 308; goto __pyx_L1;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_split); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 308; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":308
 * from numpy import ma
 * from numpy import __version__ as _npversion
 * if _npversion.split('.')[0] < '1':             # <<<<<<<<<<<<<< 
 *     raise ImportError('requires numpy version 1.0rc1 or later')
 * import_array()
 */
  __pyx_1 = PyTuple_New(1); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 308; goto __pyx_L1;}
  Py_INCREF(__pyx_k13p);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k13p);
  __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 308; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":308
 * from numpy import ma
 * from numpy import __version__ as _npversion
 * if _npversion.split('.')[0] < '1':             # <<<<<<<<<<<<<< 
 *     raise ImportError('requires numpy version 1.0rc1 or later')
 * import_array()
 */
  if (PyList_CheckExact(__pyx_3) && 0 <= 0 && 0 < PyList_GET_SIZE(__pyx_3)) {
    __pyx_1 = PyList_GET_ITEM(__pyx_3, 0); Py_INCREF(__pyx_1);
    } else if (PyTuple_CheckExact(__pyx_3) && 0 <= 0 && 0 < PyTuple_GET_SIZE(__pyx_3)) {
    __pyx_1 = PyTuple_GET_ITEM(__pyx_3, 0); Py_INCREF(__pyx_1);
    } else {
    __pyx_2 = PyInt_FromLong(0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 308; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_3, __pyx_2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 308; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":308
 * from numpy import ma
 * from numpy import __version__ as _npversion
 * if _npversion.split('.')[0] < '1':             # <<<<<<<<<<<<<< 
 *     raise ImportError('requires numpy version 1.0rc1 or later')
 * import_array()
 */
  __pyx_3 = PyObject_RichCompare(__pyx_1, __pyx_k14p, Py_LT); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 308; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_4 = __Pyx_PyObject_IsTrue(__pyx_3); if (unlikely(__pyx_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 308; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (__pyx_4) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":309
 * from numpy import __version__ as _npversion
 * if _npversion.split('.')[0] < '1':
 *     raise ImportError('requires numpy version 1.0rc1 or later')             # <<<<<<<<<<<<<< 
 * import_array()
 * include "netCDF3.pxi"
 */
    __pyx_2 = PyTuple_New(1); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 309; goto __pyx_L1;}
    Py_INCREF(__pyx_k15p);
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_k15p);
    __pyx_1 = PyObject_CallObject(__pyx_builtin_ImportError, __pyx_2); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 309; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 309; goto __pyx_L1;}
    goto __pyx_L12;
  }
  __pyx_L12:;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":310
 * if _npversion.split('.')[0] < '1':
 *     raise ImportError('requires numpy version 1.0rc1 or later')
 * import_array()             # <<<<<<<<<<<<<< 
 * include "netCDF3.pxi"
 * 
 */
  import_array();

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":315
 * # numpy data type <--> netCDF 3 data type mapping.
 * 
 * _nptonctype  = {'S1' : NC_CHAR,             # <<<<<<<<<<<<<< 
 *                 'i1' : NC_BYTE,
 *                 'i2' : NC_SHORT,
 */
  __pyx_3 = PyDict_New(); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 315; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":315
 * # numpy data type <--> netCDF 3 data type mapping.
 * 
 * _nptonctype  = {'S1' : NC_CHAR,             # <<<<<<<<<<<<<< 
 *                 'i1' : NC_BYTE,
 *                 'i2' : NC_SHORT,
 */
  __pyx_2 = PyInt_FromLong(NC_CHAR); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 315; goto __pyx_L1;}
  if (PyDict_SetItem(__pyx_3, __pyx_n_S1, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 315; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":316
 * 
 * _nptonctype  = {'S1' : NC_CHAR,
 *                 'i1' : NC_BYTE,             # <<<<<<<<<<<<<< 
 *                 'i2' : NC_SHORT,
 *                 'i4' : NC_INT,   
 */
  __pyx_1 = PyInt_FromLong(NC_BYTE); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 316; goto __pyx_L1;}
  if (PyDict_SetItem(__pyx_3, __pyx_n_i1, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 315; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":317
 * _nptonctype  = {'S1' : NC_CHAR,
 *                 'i1' : NC_BYTE,
 *                 'i2' : NC_SHORT,             # <<<<<<<<<<<<<< 
 *                 'i4' : NC_INT,   
 *                 'f8' : NC_DOUBLE,   
 */
  __pyx_2 = PyInt_FromLong(NC_SHORT); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 317; goto __pyx_L1;}
  if (PyDict_SetItem(__pyx_3, __pyx_n_i2, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 315; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":318
 *                 'i1' : NC_BYTE,
 *                 'i2' : NC_SHORT,
 *                 'i4' : NC_INT,             # <<<<<<<<<<<<<< 
 *                 'f8' : NC_DOUBLE,   
 *                 'f4' : NC_FLOAT}
 */
  __pyx_1 = PyInt_FromLong(NC_INT); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 318; goto __pyx_L1;}
  if (PyDict_SetItem(__pyx_3, __pyx_n_i4, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 315; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":319
 *                 'i2' : NC_SHORT,
 *                 'i4' : NC_INT,   
 *                 'f8' : NC_DOUBLE,             # <<<<<<<<<<<<<< 
 *                 'f4' : NC_FLOAT}
 * 
 */
  __pyx_2 = PyInt_FromLong(NC_DOUBLE); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 319; goto __pyx_L1;}
  if (PyDict_SetItem(__pyx_3, __pyx_n_f8, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 315; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":320
 *                 'i4' : NC_INT,   
 *                 'f8' : NC_DOUBLE,   
 *                 'f4' : NC_FLOAT}             # <<<<<<<<<<<<<< 
 * 
 * _default_fillvals = {#'S1':NC_FILL_CHAR, 
 */
  __pyx_1 = PyInt_FromLong(NC_FLOAT); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 320; goto __pyx_L1;}
  if (PyDict_SetItem(__pyx_3, __pyx_n_f4, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 315; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n__nptonctype, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 315; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":322
 *                 'f4' : NC_FLOAT}
 * 
 * _default_fillvals = {#'S1':NC_FILL_CHAR,             # <<<<<<<<<<<<<< 
 *                      'S1':'\0',
 *                      'i1':NC_FILL_BYTE,
 */
  __pyx_2 = PyDict_New(); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 322; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":323
 * 
 * _default_fillvals = {#'S1':NC_FILL_CHAR, 
 *                      'S1':'\0',             # <<<<<<<<<<<<<< 
 *                      'i1':NC_FILL_BYTE,
 *                      'i2':NC_FILL_SHORT,
 */
  if (PyDict_SetItem(__pyx_2, __pyx_n_S1, __pyx_k23p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 322; goto __pyx_L1;}

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":324
 * _default_fillvals = {#'S1':NC_FILL_CHAR, 
 *                      'S1':'\0',
 *                      'i1':NC_FILL_BYTE,             # <<<<<<<<<<<<<< 
 *                      'i2':NC_FILL_SHORT,
 *                      'i4':NC_FILL_INT,
 */
  __pyx_1 = PyInt_FromLong(NC_FILL_BYTE); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 324; goto __pyx_L1;}
  if (PyDict_SetItem(__pyx_2, __pyx_n_i1, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 322; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":325
 *                      'S1':'\0',
 *                      'i1':NC_FILL_BYTE,
 *                      'i2':NC_FILL_SHORT,             # <<<<<<<<<<<<<< 
 *                      'i4':NC_FILL_INT,
 *                      'f4':NC_FILL_FLOAT,
 */
  __pyx_3 = PyInt_FromLong(NC_FILL_SHORT); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 325; goto __pyx_L1;}
  if (PyDict_SetItem(__pyx_2, __pyx_n_i2, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 322; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":326
 *                      'i1':NC_FILL_BYTE,
 *                      'i2':NC_FILL_SHORT,
 *                      'i4':NC_FILL_INT,             # <<<<<<<<<<<<<< 
 *                      'f4':NC_FILL_FLOAT,
 *                      'f8':NC_FILL_DOUBLE}
 */
  __pyx_1 = PyInt_FromLong(NC_FILL_INT); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 326; goto __pyx_L1;}
  if (PyDict_SetItem(__pyx_2, __pyx_n_i4, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 322; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":327
 *                      'i2':NC_FILL_SHORT,
 *                      'i4':NC_FILL_INT,
 *                      'f4':NC_FILL_FLOAT,             # <<<<<<<<<<<<<< 
 *                      'f8':NC_FILL_DOUBLE}
 * 
 */
  __pyx_3 = PyFloat_FromDouble(NC_FILL_FLOAT); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 327; goto __pyx_L1;}
  if (PyDict_SetItem(__pyx_2, __pyx_n_f4, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 322; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":328
 *                      'i4':NC_FILL_INT,
 *                      'f4':NC_FILL_FLOAT,
 *                      'f8':NC_FILL_DOUBLE}             # <<<<<<<<<<<<<< 
 * 
 * _nctonptype = {}
 */
  __pyx_1 = PyFloat_FromDouble(NC_FILL_DOUBLE); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 328; goto __pyx_L1;}
  if (PyDict_SetItem(__pyx_2, __pyx_n_f8, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 322; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n__default_fillvals, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 322; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":330
 *                      'f8':NC_FILL_DOUBLE}
 * 
 * _nctonptype = {}             # <<<<<<<<<<<<<< 
 * for _key,_value in _nptonctype.iteritems():
 *     _nctonptype[_value] = _key
 */
  __pyx_3 = PyDict_New(); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 330; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n__nctonptype, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 330; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":331
 * 
 * _nctonptype = {}
 * for _key,_value in _nptonctype.iteritems():             # <<<<<<<<<<<<<< 
 *     _nctonptype[_value] = _key
 * _supportedtypes = _nptonctype.keys()
 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__nptonctype); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 331; goto __pyx_L1;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_iteritems); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 331; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_2, 0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 331; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (PyList_CheckExact(__pyx_3)) { __pyx_5 = 0; __pyx_1 = __pyx_3; Py_INCREF(__pyx_1); }
  else { __pyx_1 = PyObject_GetIter(__pyx_3); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 331; goto __pyx_L1;} }
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  for (;;) {

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":331
 * 
 * _nctonptype = {}
 * for _key,_value in _nptonctype.iteritems():             # <<<<<<<<<<<<<< 
 *     _nctonptype[_value] = _key
 * _supportedtypes = _nptonctype.keys()
 */
    if (PyList_CheckExact(__pyx_1)) { if (__pyx_5 >= PyList_GET_SIZE(__pyx_1)) break; __pyx_2 = PyList_GET_ITEM(__pyx_1, __pyx_5++); Py_INCREF(__pyx_2); }
    else {
      __pyx_2 = PyIter_Next(__pyx_1);
      if (!__pyx_2) {
        break;
      }
    }
    if (PyTuple_CheckExact(__pyx_2) && PyTuple_GET_SIZE(__pyx_2) == 2) {
      __pyx_6 = PyTuple_GET_ITEM(__pyx_2, 0);
      Py_INCREF(__pyx_6);

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":331
 * 
 * _nctonptype = {}
 * for _key,_value in _nptonctype.iteritems():             # <<<<<<<<<<<<<< 
 *     _nctonptype[_value] = _key
 * _supportedtypes = _nptonctype.keys()
 */
      if (PyObject_SetAttr(__pyx_m, __pyx_n__key, __pyx_6) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 331; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_6 = PyTuple_GET_ITEM(__pyx_2, 1);
      Py_INCREF(__pyx_6);

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":331
 * 
 * _nctonptype = {}
 * for _key,_value in _nptonctype.iteritems():             # <<<<<<<<<<<<<< 
 *     _nctonptype[_value] = _key
 * _supportedtypes = _nptonctype.keys()
 */
      if (PyObject_SetAttr(__pyx_m, __pyx_n__value, __pyx_6) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 331; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
    }
    else {
      __pyx_3 = PyObject_GetIter(__pyx_2); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 331; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_6 = __Pyx_UnpackItem(__pyx_3); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 331; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":331
 * 
 * _nctonptype = {}
 * for _key,_value in _nptonctype.iteritems():             # <<<<<<<<<<<<<< 
 *     _nctonptype[_value] = _key
 * _supportedtypes = _nptonctype.keys()
 */
      if (PyObject_SetAttr(__pyx_m, __pyx_n__key, __pyx_6) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 331; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_6 = __Pyx_UnpackItem(__pyx_3); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 331; goto __pyx_L1;}

      /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":331
 * 
 * _nctonptype = {}
 * for _key,_value in _nptonctype.iteritems():             # <<<<<<<<<<<<<< 
 *     _nctonptype[_value] = _key
 * _supportedtypes = _nptonctype.keys()
 */
      if (PyObject_SetAttr(__pyx_m, __pyx_n__value, __pyx_6) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 331; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      if (__Pyx_EndUnpack(__pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 331; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":332
 * _nctonptype = {}
 * for _key,_value in _nptonctype.iteritems():
 *     _nctonptype[_value] = _key             # <<<<<<<<<<<<<< 
 * _supportedtypes = _nptonctype.keys()
 * 
 */
    __pyx_6 = __Pyx_GetName(__pyx_m, __pyx_n__key); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 332; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":332
 * _nctonptype = {}
 * for _key,_value in _nptonctype.iteritems():
 *     _nctonptype[_value] = _key             # <<<<<<<<<<<<<< 
 * _supportedtypes = _nptonctype.keys()
 * 
 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n__nctonptype); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 332; goto __pyx_L1;}

    /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":332
 * _nctonptype = {}
 * for _key,_value in _nptonctype.iteritems():
 *     _nctonptype[_value] = _key             # <<<<<<<<<<<<<< 
 * _supportedtypes = _nptonctype.keys()
 * 
 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n__value); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 332; goto __pyx_L1;}
    if (PyObject_SetItem(__pyx_2, __pyx_3, __pyx_6) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 332; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_6); __pyx_6 = 0;
  }
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":333
 * for _key,_value in _nptonctype.iteritems():
 *     _nctonptype[_value] = _key
 * _supportedtypes = _nptonctype.keys()             # <<<<<<<<<<<<<< 
 * 
 * # utility functions (visible from python).
 */
  __pyx_6 = __Pyx_GetName(__pyx_m, __pyx_n__nptonctype); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 333; goto __pyx_L1;}
  __pyx_2 = PyObject_GetAttr(__pyx_6, __pyx_n_keys); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 333; goto __pyx_L1;}
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_2, 0); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 333; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n__supportedtypes, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 333; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":371
 *     return a
 * 
 * def date2num(dates,units,calendar='standard'):             # <<<<<<<<<<<<<< 
 *     """
 * date2num(dates,units,calendar='standard')
 */
  Py_INCREF(__pyx_n_standard);
  __pyx_k30 = __pyx_n_standard;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":409
 *     return cdftime.date2num(dates)
 * 
 * def num2date(times,units,calendar='standard'):             # <<<<<<<<<<<<<< 
 *     """
 * num2date(times,units,calendar='standard')
 */
  Py_INCREF(__pyx_n_standard);
  __pyx_k32 = __pyx_n_standard;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":529
 *             return value_arr
 * 
 * def _set_default_format(object format='NETCDF3_64BIT',object verbose=False):             # <<<<<<<<<<<<<< 
 *     # Private function to set the netCDF file format
 *     if format == 'NETCDF3_64BIT':
 */
  Py_INCREF(__pyx_n_NETCDF3_64BIT);
  __pyx_k34 = __pyx_n_NETCDF3_64BIT;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":529
 *             return value_arr
 * 
 * def _set_default_format(object format='NETCDF3_64BIT',object verbose=False):             # <<<<<<<<<<<<<< 
 *     # Private function to set the netCDF file format
 *     if format == 'NETCDF3_64BIT':
 */
  Py_INCREF(Py_False);
  __pyx_k35 = Py_False;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":662
 * # only exist at the python level (not in the netCDF file).
 * 
 * _private_atts = ['_grpid','_grp','_varid','dimensions','variables','dtype','file_format', 'ndim','maskandscale']             # <<<<<<<<<<<<<< 
 * 
 * 
 */
  __pyx_1 = PyList_New(9); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 662; goto __pyx_L1;}
  Py_INCREF(__pyx_n__grpid);
  PyList_SET_ITEM(__pyx_1, 0, __pyx_n__grpid);
  Py_INCREF(__pyx_n__grp);
  PyList_SET_ITEM(__pyx_1, 1, __pyx_n__grp);
  Py_INCREF(__pyx_n__varid);
  PyList_SET_ITEM(__pyx_1, 2, __pyx_n__varid);
  Py_INCREF(__pyx_n_dimensions);
  PyList_SET_ITEM(__pyx_1, 3, __pyx_n_dimensions);
  Py_INCREF(__pyx_n_variables);
  PyList_SET_ITEM(__pyx_1, 4, __pyx_n_variables);
  Py_INCREF(__pyx_n_dtype);
  PyList_SET_ITEM(__pyx_1, 5, __pyx_n_dtype);
  Py_INCREF(__pyx_n_file_format);
  PyList_SET_ITEM(__pyx_1, 6, __pyx_n_file_format);
  Py_INCREF(__pyx_n_ndim);
  PyList_SET_ITEM(__pyx_1, 7, __pyx_n_ndim);
  Py_INCREF(__pyx_n_maskandscale);
  PyList_SET_ITEM(__pyx_1, 8, __pyx_n_maskandscale);
  if (PyObject_SetAttr(__pyx_m, __pyx_n__private_atts, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 662; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":726
 *     cdef public dimensions, variables, file_format, maskanscale
 * 
 *     def __init__(self, filename, mode='r', clobber=True, format='NETCDF3_64BIT', **kwargs):             # <<<<<<<<<<<<<< 
 *         cdef int grpid, ierr, numgrps, numdims, numvars
 *         cdef char *path
 */
  Py_INCREF(__pyx_n_r);
  __pyx_k46 = __pyx_n_r;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":726
 *     cdef public dimensions, variables, file_format, maskanscale
 * 
 *     def __init__(self, filename, mode='r', clobber=True, format='NETCDF3_64BIT', **kwargs):             # <<<<<<<<<<<<<< 
 *         cdef int grpid, ierr, numgrps, numdims, numvars
 *         cdef char *path
 */
  Py_INCREF(Py_True);
  __pyx_k47 = Py_True;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":726
 *     cdef public dimensions, variables, file_format, maskanscale
 * 
 *     def __init__(self, filename, mode='r', clobber=True, format='NETCDF3_64BIT', **kwargs):             # <<<<<<<<<<<<<< 
 *         cdef int grpid, ierr, numgrps, numdims, numvars
 *         cdef char *path
 */
  Py_INCREF(__pyx_n_NETCDF3_64BIT);
  __pyx_k49 = __pyx_n_NETCDF3_64BIT;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":815
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 *     def createDimension(self, dimname, size=None):             # <<<<<<<<<<<<<< 
 *         """
 * createDimension(self, dimname, size=None)
 */
  Py_INCREF(Py_None);
  __pyx_k50 = Py_None;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":851
 * 
 * 
 *     def createVariable(self, varname, datatype, dimensions=(), fill_value=None):             # <<<<<<<<<<<<<< 
 *         """
 * createVariable(self, varname, datatype, dimensions=(), fill_value=None)
 */
  __pyx_6 = PyTuple_New(0); if (unlikely(!__pyx_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 851; goto __pyx_L1;}
  __pyx_k51 = __pyx_6;
  __pyx_6 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":851
 * 
 * 
 *     def createVariable(self, varname, datatype, dimensions=(), fill_value=None):             # <<<<<<<<<<<<<< 
 *         """
 * createVariable(self, varname, datatype, dimensions=(), fill_value=None)
 */
  Py_INCREF(Py_None);
  __pyx_k52 = Py_None;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1001
 *     cdef public _file_format
 * 
 *     def __init__(self, grp, name, size=None, **kwargs):             # <<<<<<<<<<<<<< 
 *         cdef int ierr
 *         cdef char *dimname
 */
  Py_INCREF(Py_None);
  __pyx_k53 = Py_None;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1111
 *     cdef public ndim, dtype, maskandscale
 * 
 *     def __init__(self, grp, name, datatype, dimensions=(), fill_value=None, **kwargs):             # <<<<<<<<<<<<<< 
 *         cdef int ierr, ndims, ichunkalg, ideflate_level, numdims
 *         cdef char *varname
 */
  __pyx_2 = PyTuple_New(0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1111; goto __pyx_L1;}
  __pyx_k54 = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1111
 *     cdef public ndim, dtype, maskandscale
 * 
 *     def __init__(self, grp, name, datatype, dimensions=(), fill_value=None, **kwargs):             # <<<<<<<<<<<<<< 
 *         cdef int ierr, ndims, ichunkalg, ideflate_level, numdims
 *         cdef char *varname
 */
  Py_INCREF(Py_None);
  __pyx_k55 = Py_None;

  /* "/Users/jsw/python/netcdf4-python/netCDF3.pyx":1475
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 *     def _get(self,start,count,stride):             # <<<<<<<<<<<<<< 
 *         """Private method to retrieve data from a netCDF variable"""
 *         cdef int ierr, ndims
 */
  if (__Pyx_RegisterCleanup()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;};
  return;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("netCDF3");
}

static PyObject* cleanup(PyObject *self, PyObject *unused) {
  /*--- Builtin cleanup code ---*/
  Py_DECREF(__pyx_builtin_ImportError); __pyx_builtin_ImportError = 0;
  Py_DECREF(__pyx_builtin_range); __pyx_builtin_range = 0;
  Py_DECREF(__pyx_builtin_RuntimeError); __pyx_builtin_RuntimeError = 0;
  Py_DECREF(__pyx_builtin_ValueError); __pyx_builtin_ValueError = 0;
  Py_DECREF(__pyx_builtin_KeyError); __pyx_builtin_KeyError = 0;
  Py_DECREF(__pyx_builtin_TypeError); __pyx_builtin_TypeError = 0;
  Py_DECREF(__pyx_builtin_AttributeError); __pyx_builtin_AttributeError = 0;
  Py_DECREF(__pyx_builtin_zip); __pyx_builtin_zip = 0;
  Py_DECREF(__pyx_builtin_IndexError); __pyx_builtin_IndexError = 0;
  Py_DECREF(__pyx_builtin_sum); __pyx_builtin_sum = 0;
  /*--- Intern cleanup code ---*/
  Py_DECREF(__pyx_num_0); __pyx_num_0 = 0;
  Py_DECREF(__pyx_num_1); __pyx_num_1 = 0;
  Py_DECREF(__pyx_num_neg_1); __pyx_num_neg_1 = 0;
  Py_DECREF(__pyx_n___); __pyx_n___ = 0;
  Py_DECREF(__pyx_n_NETCDF3_64BIT); __pyx_n_NETCDF3_64BIT = 0;
  Py_DECREF(__pyx_n_has_key); __pyx_n_has_key = 0;
  Py_DECREF(__pyx_n__private_atts); __pyx_n__private_atts = 0;
  Py_DECREF(__pyx_n___dict__); __pyx_n___dict__ = 0;
  Py_DECREF(__pyx_n_masked_array); __pyx_n_masked_array = 0;
  Py_DECREF(__pyx_n_copy); __pyx_n_copy = 0;
  Py_DECREF(__pyx_n_utime); __pyx_n_utime = 0;
  Py_DECREF(__pyx_n_variables); __pyx_n_variables = 0;
  Py_DECREF(__pyx_n_ncattrs); __pyx_n_ncattrs = 0;
  Py_DECREF(__pyx_n_startswith); __pyx_n_startswith = 0;
  Py_DECREF(__pyx_n___getitem__); __pyx_n___getitem__ = 0;
  Py_DECREF(__pyx_n_format); __pyx_n_format = 0;
  Py_DECREF(__pyx_n_RuntimeError); __pyx_n_RuntimeError = 0;
  Py_DECREF(__pyx_n_maskandscale); __pyx_n_maskandscale = 0;
  Py_DECREF(__pyx_n_ones); __pyx_n_ones = 0;
  Py_DECREF(__pyx_n_tostring); __pyx_n_tostring = 0;
  Py_DECREF(__pyx_n_pop); __pyx_n_pop = 0;
  Py_DECREF(__pyx_n_iteritems); __pyx_n_iteritems = 0;
  Py_DECREF(__pyx_n_NETCDF3_CLASSIC); __pyx_n_NETCDF3_CLASSIC = 0;
  Py_DECREF(__pyx_n__FillValue); __pyx_n__FillValue = 0;
  Py_DECREF(__pyx_n_IndexError); __pyx_n_IndexError = 0;
  Py_DECREF(__pyx_n_shape); __pyx_n_shape = 0;
  Py_DECREF(__pyx_n_item); __pyx_n_item = 0;
  Py_DECREF(__pyx_n__default_fillvals); __pyx_n__default_fillvals = 0;
  Py_DECREF(__pyx_n__enddef); __pyx_n__enddef = 0;
  Py_DECREF(__pyx_n_NETCDF4); __pyx_n_NETCDF4 = 0;
  Py_DECREF(__pyx_n_isunlimited); __pyx_n_isunlimited = 0;
  Py_DECREF(__pyx_n_sync); __pyx_n_sync = 0;
  Py_DECREF(__pyx_n_netcdftime); __pyx_n_netcdftime = 0;
  Py_DECREF(__pyx_n_close); __pyx_n_close = 0;
  Py_DECREF(__pyx_n_calendar); __pyx_n_calendar = 0;
  Py_DECREF(__pyx_n_append); __pyx_n_append = 0;
  Py_DECREF(__pyx_n_assignValue); __pyx_n_assignValue = 0;
  Py_DECREF(__pyx_n___setattr__); __pyx_n___setattr__ = 0;
  Py_DECREF(__pyx_n_dimensions); __pyx_n_dimensions = 0;
  Py_DECREF(__pyx_n_file_format); __pyx_n_file_format = 0;
  Py_DECREF(__pyx_n_createVariable); __pyx_n_createVariable = 0;
  Py_DECREF(__pyx_n___getattr__); __pyx_n___getattr__ = 0;
  Py_DECREF(__pyx_n_add_offset); __pyx_n_add_offset = 0;
  Py_DECREF(__pyx_n_i1); __pyx_n_i1 = 0;
  Py_DECREF(__pyx_n_filled); __pyx_n_filled = 0;
  Py_DECREF(__pyx_n_date2num); __pyx_n_date2num = 0;
  Py_DECREF(__pyx_n_standard); __pyx_n_standard = 0;
  Py_DECREF(__pyx_n_renameDimension); __pyx_n_renameDimension = 0;
  Py_DECREF(__pyx_n_S); __pyx_n_S = 0;
  Py_DECREF(__pyx_n_TypeError); __pyx_n_TypeError = 0;
  Py_DECREF(__pyx_n__get); __pyx_n__get = 0;
  Py_DECREF(__pyx_n__key); __pyx_n__key = 0;
  Py_DECREF(__pyx_n___setitem__); __pyx_n___setitem__ = 0;
  Py_DECREF(__pyx_n___delattr__); __pyx_n___delattr__ = 0;
  Py_DECREF(__pyx_n_range); __pyx_n_range = 0;
  Py_DECREF(__pyx_n_w); __pyx_n_w = 0;
  Py_DECREF(__pyx_n__nptonctype); __pyx_n__nptonctype = 0;
  Py_DECREF(__pyx_n_os); __pyx_n_os = 0;
  Py_DECREF(__pyx_n_ndim); __pyx_n_ndim = 0;
  Py_DECREF(__pyx_n_dtype); __pyx_n_dtype = 0;
  Py_DECREF(__pyx_n_S1); __pyx_n_S1 = 0;
  Py_DECREF(__pyx_n_num2date); __pyx_n_num2date = 0;
  Py_DECREF(__pyx_n_replace); __pyx_n_replace = 0;
  Py_DECREF(__pyx_n__nctonptype); __pyx_n__nctonptype = 0;
  Py_DECREF(__pyx_n_array); __pyx_n_array = 0;
  Py_DECREF(__pyx_n_size); __pyx_n_size = 0;
  Py_DECREF(__pyx_n_zip); __pyx_n_zip = 0;
  Py_DECREF(__pyx_n_f8); __pyx_n_f8 = 0;
  Py_DECREF(__pyx_n_zeros); __pyx_n_zeros = 0;
  Py_DECREF(__pyx_n_NP); __pyx_n_NP = 0;
  Py_DECREF(__pyx_n_numpy); __pyx_n_numpy = 0;
  Py_DECREF(__pyx_n___len__); __pyx_n___len__ = 0;
  Py_DECREF(__pyx_n__varid); __pyx_n__varid = 0;
  Py_DECREF(__pyx_n_scale_factor); __pyx_n_scale_factor = 0;
  Py_DECREF(__pyx_n__value); __pyx_n__value = 0;
  Py_DECREF(__pyx_n__dimid); __pyx_n__dimid = 0;
  Py_DECREF(__pyx_n_squeeze); __pyx_n_squeeze = 0;
  Py_DECREF(__pyx_n__grp); __pyx_n__grp = 0;
  Py_DECREF(__pyx_n_ma); __pyx_n_ma = 0;
  Py_DECREF(__pyx_n__supportedtypes); __pyx_n__supportedtypes = 0;
  Py_DECREF(__pyx_n__grpid); __pyx_n__grpid = 0;
  Py_DECREF(__pyx_n_getValue); __pyx_n_getValue = 0;
  Py_DECREF(__pyx_n_netCDF4_utils); __pyx_n_netCDF4_utils = 0;
  Py_DECREF(__pyx_n_r); __pyx_n_r = 0;
  Py_DECREF(__pyx_n_empty); __pyx_n_empty = 0;
  Py_DECREF(__pyx_n_str); __pyx_n_str = 0;
  Py_DECREF(__pyx_n__set_default_format); __pyx_n__set_default_format = 0;
  Py_DECREF(__pyx_n_f4); __pyx_n_f4 = 0;
  Py_DECREF(__pyx_n_ImportError); __pyx_n_ImportError = 0;
  Py_DECREF(__pyx_n_mask); __pyx_n_mask = 0;
  Py_DECREF(__pyx_n_KeyError); __pyx_n_KeyError = 0;
  Py_DECREF(__pyx_n_char); __pyx_n_char = 0;
  Py_DECREF(__pyx_n__buildStartCountStride); __pyx_n__buildStartCountStride = 0;
  Py_DECREF(__pyx_n_endswith); __pyx_n_endswith = 0;
  Py_DECREF(__pyx_n_set_auto_maskandscale); __pyx_n_set_auto_maskandscale = 0;
  Py_DECREF(__pyx_n_itemsize); __pyx_n_itemsize = 0;
  Py_DECREF(__pyx_n_missing_value); __pyx_n_missing_value = 0;
  Py_DECREF(__pyx_n_id); __pyx_n_id = 0;
  Py_DECREF(__pyx_n___init__); __pyx_n___init__ = 0;
  Py_DECREF(__pyx_n_createDimension); __pyx_n_createDimension = 0;
  Py_DECREF(__pyx_n_astype); __pyx_n_astype = 0;
  Py_DECREF(__pyx_n_any); __pyx_n_any = 0;
  Py_DECREF(__pyx_n__redef); __pyx_n__redef = 0;
  Py_DECREF(__pyx_n_bool); __pyx_n_bool = 0;
  Py_DECREF(__pyx_n_split); __pyx_n_split = 0;
  Py_DECREF(__pyx_n_set_fill_off); __pyx_n_set_fill_off = 0;
  Py_DECREF(__pyx_n___version__); __pyx_n___version__ = 0;
  Py_DECREF(__pyx_n_ValueError); __pyx_n_ValueError = 0;
  Py_DECREF(__pyx_n_i8); __pyx_n_i8 = 0;
  Py_DECREF(__pyx_n_keys); __pyx_n_keys = 0;
  Py_DECREF(__pyx_n_i2); __pyx_n_i2 = 0;
  Py_DECREF(__pyx_n_i4); __pyx_n_i4 = 0;
  Py_DECREF(__pyx_n_NETCDF4_CLASSIC); __pyx_n_NETCDF4_CLASSIC = 0;
  Py_DECREF(__pyx_n_ndarray); __pyx_n_ndarray = 0;
  Py_DECREF(__pyx_n_a); __pyx_n_a = 0;
  Py_DECREF(__pyx_n__put); __pyx_n__put = 0;
  Py_DECREF(__pyx_n_fill_value); __pyx_n_fill_value = 0;
  Py_DECREF(__pyx_n_renameVariable); __pyx_n_renameVariable = 0;
  Py_DECREF(__pyx_n__npversion); __pyx_n__npversion = 0;
  Py_DECREF(__pyx_n_set_fill_on); __pyx_n_set_fill_on = 0;
  Py_DECREF(__pyx_n_AttributeError); __pyx_n_AttributeError = 0;
  Py_DECREF(__pyx_n_sum); __pyx_n_sum = 0;
  Py_INCREF(Py_None); return Py_None;
}

static char *__pyx_filenames[] = {
  "netCDF3.pyx",
  "netCDF3.pxi",
};

/* Runtime support code */

static void __pyx_init_filenames(void) {
  __pyx_f = __pyx_filenames;
}

static int __Pyx_GetStarArgs(
    PyObject **args, 
    PyObject **kwds,
    char *kwd_list[], 
    Py_ssize_t nargs,
    PyObject **args2, 
    PyObject **kwds2,
    char rqd_kwds[])
{
    PyObject *x = 0, *args1 = 0, *kwds1 = 0;
    int i;
    char **p;
    
    if (args2)
        *args2 = 0;
    if (kwds2)
        *kwds2 = 0;
    
    if (args2) {
        args1 = PyTuple_GetSlice(*args, 0, nargs);
        if (!args1)
            goto bad;
        *args2 = PyTuple_GetSlice(*args, nargs, PyTuple_GET_SIZE(*args));
        if (!*args2)
            goto bad;
    }
    else if (PyTuple_GET_SIZE(*args) > nargs) {
        int m = nargs;
        int n = PyTuple_GET_SIZE(*args);
        PyErr_Format(PyExc_TypeError,
            "function takes at most %d positional arguments (%d given)",
                m, n);
        goto bad;
    }
    else {
        args1 = *args;
        Py_INCREF(args1);
    }
    
    if (rqd_kwds && !*kwds)
            for (i = 0, p = kwd_list; *p; i++, p++)
                if (rqd_kwds[i])
                    goto missing_kwarg;
    
    if (kwds2) {
        if (*kwds) {
            kwds1 = PyDict_New();
            if (!kwds1)
                goto bad;
            *kwds2 = PyDict_Copy(*kwds);
            if (!*kwds2)
                goto bad;
            for (i = 0, p = kwd_list; *p; i++, p++) {
                x = PyDict_GetItemString(*kwds, *p);
                if (x) {
                    if (PyDict_SetItemString(kwds1, *p, x) < 0)
                        goto bad;
                    if (PyDict_DelItemString(*kwds2, *p) < 0)
                        goto bad;
                }
                else if (rqd_kwds && rqd_kwds[i])
                    goto missing_kwarg;
            }
        }
        else {
            *kwds2 = PyDict_New();
            if (!*kwds2)
                goto bad;
        }
    }
    else {
        kwds1 = *kwds;
        Py_XINCREF(kwds1);
        if (rqd_kwds && *kwds)
            for (i = 0, p = kwd_list; *p; i++, p++)
                if (rqd_kwds[i] && !PyDict_GetItemString(*kwds, *p))
                        goto missing_kwarg;
    }
    
    *args = args1;
    *kwds = kwds1;
    return 0;
missing_kwarg:
    PyErr_Format(PyExc_TypeError,
        "required keyword argument '%s' is missing", *p);
bad:
    Py_XDECREF(args1);
    Py_XDECREF(kwds1);
    if (args2) {
        Py_XDECREF(*args2);
    }
    if (kwds2) {
        Py_XDECREF(*kwds2);
    }
    return -1;
}

static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed, char *name) {
    if (!type) {
        PyErr_Format(PyExc_SystemError, "Missing type object");
        return 0;
    }
    if ((none_allowed && obj == Py_None) || PyObject_TypeCheck(obj, type))
        return 1;
    PyErr_Format(PyExc_TypeError,
        "Argument '%s' has incorrect type (expected %s, got %s)",
        name, type->tp_name, obj->ob_type->tp_name);
    return 0;
}

static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list) {
    PyObject *__import__ = 0;
    PyObject *empty_list = 0;
    PyObject *module = 0;
    PyObject *global_dict = 0;
    PyObject *empty_dict = 0;
    PyObject *list;
    __import__ = PyObject_GetAttrString(__pyx_b, "__import__");
    if (!__import__)
        goto bad;
    if (from_list)
        list = from_list;
    else {
        empty_list = PyList_New(0);
        if (!empty_list)
            goto bad;
        list = empty_list;
    }
    global_dict = PyModule_GetDict(__pyx_m);
    if (!global_dict)
        goto bad;
    empty_dict = PyDict_New();
    if (!empty_dict)
        goto bad;
    module = PyObject_CallFunction(__import__, "OOOO",
        name, global_dict, empty_dict, list);
bad:
    Py_XDECREF(empty_list);
    Py_XDECREF(__import__);
    Py_XDECREF(empty_dict);
    return module;
}

static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name) {
    PyObject *result;
    result = PyObject_GetAttr(dict, name);
    if (!result)
        PyErr_SetObject(PyExc_NameError, name);
    return result;
}

static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb) {
    Py_XINCREF(type);
    Py_XINCREF(value);
    Py_XINCREF(tb);
    /* First, check the traceback argument, replacing None with NULL. */
    if (tb == Py_None) {
        Py_DECREF(tb);
        tb = 0;
    }
    else if (tb != NULL && !PyTraceBack_Check(tb)) {
        PyErr_SetString(PyExc_TypeError,
            "raise: arg 3 must be a traceback or None");
        goto raise_error;
    }
    /* Next, replace a missing value with None */
    if (value == NULL) {
        value = Py_None;
        Py_INCREF(value);
    }
    #if PY_VERSION_HEX < 0x02050000
    if (!PyClass_Check(type))
    #else
    if (!PyType_Check(type))
    #endif
    {
        /* Raising an instance.  The value should be a dummy. */
        if (value != Py_None) {
            PyErr_SetString(PyExc_TypeError,
                "instance exception may not have a separate value");
            goto raise_error;
        }
        /* Normalize to raise <class>, <instance> */
        Py_DECREF(value);
        value = type;
        #if PY_VERSION_HEX < 0x02050000
            if (PyInstance_Check(type)) {
                type = (PyObject*) ((PyInstanceObject*)type)->in_class;
                Py_INCREF(type);
            }
            else {
                PyErr_SetString(PyExc_TypeError,
                    "raise: exception must be an old-style class or instance");
                goto raise_error;
            }
        #else
            type = (PyObject*) type->ob_type;
            Py_INCREF(type);
            if (!PyType_IsSubtype((PyTypeObject *)type, (PyTypeObject *)PyExc_BaseException)) {
                PyErr_SetString(PyExc_TypeError,
                    "raise: exception class must be a subclass of BaseException");
                goto raise_error;
            }
        #endif
    }
    PyErr_Restore(type, value, tb);
    return;
raise_error:
    Py_XDECREF(value);
    Py_XDECREF(type);
    Py_XDECREF(tb);
    return;
}

static void __Pyx_UnpackError(void) {
    PyErr_SetString(PyExc_ValueError, "unpack sequence of wrong size");
}

static PyObject *__Pyx_UnpackItem(PyObject *iter) {
    PyObject *item;
    if (!(item = PyIter_Next(iter))) {
        if (!PyErr_Occurred())
            __Pyx_UnpackError();
    }
    return item;
}

static int __Pyx_EndUnpack(PyObject *iter) {
    PyObject *item;
    if ((item = PyIter_Next(iter))) {
        Py_DECREF(item);
        __Pyx_UnpackError();
        return -1;
    }
    else if (!PyErr_Occurred())
        return 0;
    else
        return -1;
}

static int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type) {
    if (!type) {
        PyErr_Format(PyExc_SystemError, "Missing type object");
        return 0;
    }
    if (obj == Py_None || PyObject_TypeCheck(obj, type))
        return 1;
    PyErr_Format(PyExc_TypeError, "Cannot convert %s to %s",
        obj->ob_type->tp_name, type->tp_name);
    return 0;
}

static int __Pyx_GetException(PyObject **type, PyObject **value, PyObject **tb) {
    PyObject *tmp_type, *tmp_value, *tmp_tb;
    PyThreadState *tstate = PyThreadState_Get();
    PyErr_Fetch(type, value, tb);
    PyErr_NormalizeException(type, value, tb);
    if (PyErr_Occurred())
        goto bad;
    Py_INCREF(*type);
    Py_INCREF(*value);
    Py_INCREF(*tb);
    tmp_type = tstate->exc_type;
    tmp_value = tstate->exc_value;
    tmp_tb = tstate->exc_traceback;
    tstate->exc_type = *type;
    tstate->exc_value = *value;
    tstate->exc_traceback = *tb;
    /* Make sure tstate is in a consistent state when we XDECREF
    these objects (XDECREF may run arbitrary code). */
    Py_XDECREF(tmp_type);
    Py_XDECREF(tmp_value);
    Py_XDECREF(tmp_tb);
    return 0;
bad:
    Py_XDECREF(*type);
    Py_XDECREF(*value);
    Py_XDECREF(*tb);
    return -1;
}

static PyObject *__Pyx_GetStdout(void) {
    PyObject *f = PySys_GetObject("stdout");
    if (!f) {
        PyErr_SetString(PyExc_RuntimeError, "lost sys.stdout");
    }
    return f;
}

static int __Pyx_PrintItem(PyObject *v) {
    PyObject *f;
    
    if (!(f = __Pyx_GetStdout()))
        return -1;
    if (PyFile_SoftSpace(f, 1)) {
        if (PyFile_WriteString(" ", f) < 0)
            return -1;
    }
    if (PyFile_WriteObject(v, f, Py_PRINT_RAW) < 0)
        return -1;
    if (PyString_Check(v)) {
        char *s = PyString_AsString(v);
        Py_ssize_t len = PyString_Size(v);
        if (len > 0 &&
            isspace(Py_CHARMASK(s[len-1])) &&
            s[len-1] != ' ')
                PyFile_SoftSpace(f, 0);
    }
    return 0;
}

static int __Pyx_PrintNewline(void) {
    PyObject *f;
    
    if (!(f = __Pyx_GetStdout()))
        return -1;
    if (PyFile_WriteString("\n", f) < 0)
        return -1;
    PyFile_SoftSpace(f, 0);
    return 0;
}

static int __Pyx_InternStrings(__Pyx_InternTabEntry *t) {
    while (t->p) {
        *t->p = PyString_InternFromString(t->s);
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t) {
    while (t->p) {
        if (t->is_unicode) {
            *t->p = PyUnicode_DecodeUTF8(t->s, t->n - 1, NULL);
        } else {
            *t->p = PyString_FromStringAndSize(t->s, t->n - 1);
        }
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

#ifndef __PYX_HAVE_RT_ImportType
#define __PYX_HAVE_RT_ImportType
static PyTypeObject *__Pyx_ImportType(char *module_name, char *class_name,
    long size)
{
    PyObject *py_module = 0;
    PyObject *result = 0;
    
    py_module = __Pyx_ImportModule(module_name);
    if (!py_module)
        goto bad;
    result = PyObject_GetAttrString(py_module, class_name);
    if (!result)
        goto bad;
    if (!PyType_Check(result)) {
        PyErr_Format(PyExc_TypeError, 
            "%s.%s is not a type object",
            module_name, class_name);
        goto bad;
    }
    if (((PyTypeObject *)result)->tp_basicsize != size) {
        PyErr_Format(PyExc_ValueError, 
            "%s.%s does not appear to be the correct type object",
            module_name, class_name);
        goto bad;
    }
    return (PyTypeObject *)result;
bad:
    Py_XDECREF(result);
    return 0;
}
#endif

#ifndef __PYX_HAVE_RT_ImportModule
#define __PYX_HAVE_RT_ImportModule
static PyObject *__Pyx_ImportModule(char *name) {
    PyObject *py_name = 0;
    PyObject *py_module = 0;
    
    py_name = PyString_FromString(name);
    if (!py_name)
        goto bad;
    py_module = PyImport_Import(py_name);
    Py_DECREF(py_name);
    return py_module;
bad:
    Py_XDECREF(py_name);
    return 0;
}
#endif

#include "compile.h"
#include "frameobject.h"
#include "traceback.h"

static void __Pyx_AddTraceback(char *funcname) {
    PyObject *py_srcfile = 0;
    PyObject *py_funcname = 0;
    PyObject *py_globals = 0;
    PyObject *empty_tuple = 0;
    PyObject *empty_string = 0;
    PyCodeObject *py_code = 0;
    PyFrameObject *py_frame = 0;
    
    py_srcfile = PyString_FromString(__pyx_filename);
    if (!py_srcfile) goto bad;
    py_funcname = PyString_FromString(funcname);
    if (!py_funcname) goto bad;
    py_globals = PyModule_GetDict(__pyx_m);
    if (!py_globals) goto bad;
    empty_tuple = PyTuple_New(0);
    if (!empty_tuple) goto bad;
    empty_string = PyString_FromString("");
    if (!empty_string) goto bad;
    py_code = PyCode_New(
        0,            /*int argcount,*/
        0,            /*int nlocals,*/
        0,            /*int stacksize,*/
        0,            /*int flags,*/
        empty_string, /*PyObject *code,*/
        empty_tuple,  /*PyObject *consts,*/
        empty_tuple,  /*PyObject *names,*/
        empty_tuple,  /*PyObject *varnames,*/
        empty_tuple,  /*PyObject *freevars,*/
        empty_tuple,  /*PyObject *cellvars,*/
        py_srcfile,   /*PyObject *filename,*/
        py_funcname,  /*PyObject *name,*/
        __pyx_lineno,   /*int firstlineno,*/
        empty_string  /*PyObject *lnotab*/
    );
    if (!py_code) goto bad;
    py_frame = PyFrame_New(
        PyThreadState_Get(), /*PyThreadState *tstate,*/
        py_code,             /*PyCodeObject *code,*/
        py_globals,          /*PyObject *globals,*/
        0                    /*PyObject *locals*/
    );
    if (!py_frame) goto bad;
    py_frame->f_lineno = __pyx_lineno;
    PyTraceBack_Here(py_frame);
bad:
    Py_XDECREF(py_srcfile);
    Py_XDECREF(py_funcname);
    Py_XDECREF(empty_tuple);
    Py_XDECREF(empty_string);
    Py_XDECREF(py_code);
    Py_XDECREF(py_frame);
}

static int __Pyx_RegisterCleanup() {
    /* Don't use Py_AtExit because that has a 32-call limit 
     * and is called after python finalization. 
     */

    PyObject *cleanup_func = 0;
    PyObject *atexit = 0;
    PyObject *reg = 0;
    PyObject *args = 0;
    PyObject *res = 0;
    int ret = -1;
    
    cleanup_func = PyCFunction_New(&cleanup_def, 0);
    args = PyTuple_New(1);
    if (!cleanup_func || !args)
        goto bad;
    PyTuple_SET_ITEM(args, 0, cleanup_func);
    cleanup_func = 0;

    atexit = __Pyx_ImportModule("atexit");
    if (!atexit)
        goto bad;
    reg = PyObject_GetAttrString(atexit, "register");
    if (!reg)
        goto bad;
    res = PyObject_CallObject(reg, args);
    if (!res)
        goto bad;
    ret = 0;
bad:
    Py_XDECREF(cleanup_func);
    Py_XDECREF(atexit);
    Py_XDECREF(reg);
    Py_XDECREF(args);
    Py_XDECREF(res);
    return ret;
}
